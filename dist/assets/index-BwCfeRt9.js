var Kh=Object.defineProperty;var Zh=(e,t,n)=>t in e?Kh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ae=(e,t,n)=>Zh(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Kl(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Me={},Xs=[],xn=()=>{},jd=()=>!1,_i=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Zl=e=>e.startsWith("onUpdate:"),bt=Object.assign,Yl=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Yh=Object.prototype.hasOwnProperty,Ie=(e,t)=>Yh.call(e,t),ye=Array.isArray,er=e=>br(e)==="[object Map]",mr=e=>br(e)==="[object Set]",au=e=>br(e)==="[object Date]",Jh=e=>br(e)==="[object RegExp]",$e=e=>typeof e=="function",Ze=e=>typeof e=="string",Cn=e=>typeof e=="symbol",Ue=e=>e!==null&&typeof e=="object",Hd=e=>(Ue(e)||$e(e))&&$e(e.then)&&$e(e.catch),Vd=Object.prototype.toString,br=e=>Vd.call(e),Qh=e=>br(e).slice(8,-1),Gd=e=>br(e)==="[object Object]",Jl=e=>Ze(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Nr=Kl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Si=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Xh=/-\w/g,Kt=Si(e=>e.replace(Xh,t=>t.slice(1).toUpperCase())),em=/\B([A-Z])/g,os=Si(e=>e.replace(em,"-$1").toLowerCase()),Pi=Si(e=>e.charAt(0).toUpperCase()+e.slice(1)),fa=Si(e=>e?`on${Pi(e)}`:""),ts=(e,t)=>!Object.is(e,t),tr=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},qd=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},ai=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let lu;const Ai=()=>lu||(lu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ei(e){if(ye(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=Ze(s)?rm(s):Ei(s);if(r)for(const o in r)t[o]=r[o]}return t}else if(Ze(e)||Ue(e))return e}const tm=/;(?![^(]*\))/g,nm=/:([^]+)/,sm=/\/\*[^]*?\*\//g;function rm(e){const t={};return e.replace(sm,"").split(tm).forEach(n=>{if(n){const s=n.split(nm);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Ce(e){let t="";if(Ze(e))t=e;else if(ye(e))for(let n=0;n<e.length;n++){const s=Ce(e[n]);s&&(t+=s+" ")}else if(Ue(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const om="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",im=Kl(om);function Kd(e){return!!e||e===""}function am(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=$s(e[s],t[s]);return n}function $s(e,t){if(e===t)return!0;let n=au(e),s=au(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=Cn(e),s=Cn(t),n||s)return e===t;if(n=ye(e),s=ye(t),n||s)return n&&s?am(e,t):!1;if(n=Ue(e),s=Ue(t),n||s){if(!n||!s)return!1;const r=Object.keys(e).length,o=Object.keys(t).length;if(r!==o)return!1;for(const i in e){const a=e.hasOwnProperty(i),l=t.hasOwnProperty(i);if(a&&!l||!a&&l||!$s(e[i],t[i]))return!1}}return String(e)===String(t)}function Ql(e,t){return e.findIndex(n=>$s(n,t))}const Zd=e=>!!(e&&e.__v_isRef===!0),M=e=>Ze(e)?e:e==null?"":ye(e)||Ue(e)&&(e.toString===Vd||!$e(e.toString))?Zd(e)?M(e.value):JSON.stringify(e,Yd,2):String(e),Yd=(e,t)=>Zd(t)?Yd(e,t.value):er(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r],o)=>(n[pa(s,o)+" =>"]=r,n),{})}:mr(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>pa(n))}:Cn(t)?pa(t):Ue(t)&&!ye(t)&&!Gd(t)?String(t):t,pa=(e,t="")=>{var n;return Cn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ft;class Jd{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ft,!t&&ft&&(this.index=(ft.scopes||(ft.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=ft;try{return ft=this,t()}finally{ft=n}}}on(){++this._on===1&&(this.prevScope=ft,ft=this)}off(){this._on>0&&--this._on===0&&(ft=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Qd(e){return new Jd(e)}function Xd(){return ft}function lm(e,t=!1){ft&&ft.cleanups.push(e)}let Fe;const ha=new WeakSet;class ef{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ft&&ft.active&&ft.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ha.has(this)&&(ha.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||nf(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cu(this),sf(this);const t=Fe,n=rn;Fe=this,rn=!0;try{return this.fn()}finally{rf(this),Fe=t,rn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)tc(t);this.deps=this.depsTail=void 0,cu(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ha.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Za(this)&&this.run()}get dirty(){return Za(this)}}let tf=0,Rr,Or;function nf(e,t=!1){if(e.flags|=8,t){e.next=Or,Or=e;return}e.next=Rr,Rr=e}function Xl(){tf++}function ec(){if(--tf>0)return;if(Or){let t=Or;for(Or=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Rr;){let t=Rr;for(Rr=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function sf(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function rf(e){let t,n=e.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),tc(s),cm(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}e.deps=t,e.depsTail=n}function Za(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(of(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function of(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Hr)||(e.globalVersion=Hr,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Za(e))))return;e.flags|=2;const t=e.dep,n=Fe,s=rn;Fe=e,rn=!0;try{sf(e);const r=e.fn(e._value);(t.version===0||ts(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{Fe=n,rn=s,rf(e),e.flags&=-3}}function tc(e,t=!1){const{dep:n,prevSub:s,nextSub:r}=e;if(s&&(s.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)tc(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function cm(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let rn=!0;const af=[];function zn(){af.push(rn),rn=!1}function Wn(){const e=af.pop();rn=e===void 0?!0:e}function cu(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Fe;Fe=void 0;try{t()}finally{Fe=n}}}let Hr=0;class um{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class nc{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Fe||!rn||Fe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Fe)n=this.activeLink=new um(Fe,this),Fe.deps?(n.prevDep=Fe.depsTail,Fe.depsTail.nextDep=n,Fe.depsTail=n):Fe.deps=Fe.depsTail=n,lf(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Fe.depsTail,n.nextDep=void 0,Fe.depsTail.nextDep=n,Fe.depsTail=n,Fe.deps===n&&(Fe.deps=s)}return n}trigger(t){this.version++,Hr++,this.notify(t)}notify(t){Xl();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ec()}}}function lf(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)lf(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const li=new WeakMap,hs=Symbol(""),Ya=Symbol(""),Vr=Symbol("");function pt(e,t,n){if(rn&&Fe){let s=li.get(e);s||li.set(e,s=new Map);let r=s.get(n);r||(s.set(n,r=new nc),r.map=s,r.key=n),r.track()}}function Nn(e,t,n,s,r,o){const i=li.get(e);if(!i){Hr++;return}const a=l=>{l&&l.trigger()};if(Xl(),t==="clear")i.forEach(a);else{const l=ye(e),u=l&&Jl(n);if(l&&n==="length"){const d=Number(s);i.forEach((f,p)=>{(p==="length"||p===Vr||!Cn(p)&&p>=d)&&a(f)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),u&&a(i.get(Vr)),t){case"add":l?u&&a(i.get("length")):(a(i.get(hs)),er(e)&&a(i.get(Ya)));break;case"delete":l||(a(i.get(hs)),er(e)&&a(i.get(Ya)));break;case"set":er(e)&&a(i.get(hs));break}}ec()}function dm(e,t){const n=li.get(e);return n&&n.get(t)}function Ws(e){const t=Ee(e);return t===e?t:(pt(t,"iterate",Vr),Vt(e)?t:t.map(ct))}function Bi(e){return pt(e=Ee(e),"iterate",Vr),e}const fm={__proto__:null,[Symbol.iterator](){return ma(this,Symbol.iterator,ct)},concat(...e){return Ws(this).concat(...e.map(t=>ye(t)?Ws(t):t))},entries(){return ma(this,"entries",e=>(e[1]=ct(e[1]),e))},every(e,t){return Sn(this,"every",e,t,void 0,arguments)},filter(e,t){return Sn(this,"filter",e,t,n=>n.map(ct),arguments)},find(e,t){return Sn(this,"find",e,t,ct,arguments)},findIndex(e,t){return Sn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Sn(this,"findLast",e,t,ct,arguments)},findLastIndex(e,t){return Sn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Sn(this,"forEach",e,t,void 0,arguments)},includes(...e){return ba(this,"includes",e)},indexOf(...e){return ba(this,"indexOf",e)},join(e){return Ws(this).join(e)},lastIndexOf(...e){return ba(this,"lastIndexOf",e)},map(e,t){return Sn(this,"map",e,t,void 0,arguments)},pop(){return _r(this,"pop")},push(...e){return _r(this,"push",e)},reduce(e,...t){return uu(this,"reduce",e,t)},reduceRight(e,...t){return uu(this,"reduceRight",e,t)},shift(){return _r(this,"shift")},some(e,t){return Sn(this,"some",e,t,void 0,arguments)},splice(...e){return _r(this,"splice",e)},toReversed(){return Ws(this).toReversed()},toSorted(e){return Ws(this).toSorted(e)},toSpliced(...e){return Ws(this).toSpliced(...e)},unshift(...e){return _r(this,"unshift",e)},values(){return ma(this,"values",ct)}};function ma(e,t,n){const s=Bi(e),r=s[t]();return s!==e&&!Vt(e)&&(r._next=r.next,r.next=()=>{const o=r._next();return o.value&&(o.value=n(o.value)),o}),r}const pm=Array.prototype;function Sn(e,t,n,s,r,o){const i=Bi(e),a=i!==e&&!Vt(e),l=i[t];if(l!==pm[t]){const f=l.apply(e,o);return a?ct(f):f}let u=n;i!==e&&(a?u=function(f,p){return n.call(this,ct(f),p,e)}:n.length>2&&(u=function(f,p){return n.call(this,f,p,e)}));const d=l.call(i,u,s);return a&&r?r(d):d}function uu(e,t,n,s){const r=Bi(e);let o=n;return r!==e&&(Vt(e)?n.length>3&&(o=function(i,a,l){return n.call(this,i,a,l,e)}):o=function(i,a,l){return n.call(this,i,ct(a),l,e)}),r[t](o,...s)}function ba(e,t,n){const s=Ee(e);pt(s,"iterate",Vr);const r=s[t](...n);return(r===-1||r===!1)&&oc(n[0])?(n[0]=Ee(n[0]),s[t](...n)):r}function _r(e,t,n=[]){zn(),Xl();const s=Ee(e)[t].apply(e,n);return ec(),Wn(),s}const hm=Kl("__proto__,__v_isRef,__isVue"),cf=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Cn));function mm(e){Cn(e)||(e=String(e));const t=Ee(this);return pt(t,"has",e),t.hasOwnProperty(e)}class uf{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return o;if(n==="__v_raw")return s===(r?o?Tm:hf:o?pf:ff).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=ye(t);if(!r){let l;if(i&&(l=fm[n]))return l;if(n==="hasOwnProperty")return mm}const a=Reflect.get(t,n,Ge(t)?t:s);return(Cn(n)?cf.has(n):hm(n))||(r||pt(t,"get",n),o)?a:Ge(a)?i&&Jl(n)?a:a.value:Ue(a)?r?mf(a):wo(a):a}}class df extends uf{constructor(t=!1){super(!1,t)}set(t,n,s,r){let o=t[n];if(!this._isShallow){const l=ss(o);if(!Vt(s)&&!ss(s)&&(o=Ee(o),s=Ee(s)),!ye(t)&&Ge(o)&&!Ge(s))return l||(o.value=s),!0}const i=ye(t)&&Jl(n)?Number(n)<t.length:Ie(t,n),a=Reflect.set(t,n,s,Ge(t)?t:r);return t===Ee(r)&&(i?ts(s,o)&&Nn(t,"set",n,s):Nn(t,"add",n,s)),a}deleteProperty(t,n){const s=Ie(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&s&&Nn(t,"delete",n,void 0),r}has(t,n){const s=Reflect.has(t,n);return(!Cn(n)||!cf.has(n))&&pt(t,"has",n),s}ownKeys(t){return pt(t,"iterate",ye(t)?"length":hs),Reflect.ownKeys(t)}}class bm extends uf{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const gm=new df,ym=new bm,vm=new df(!0);const Ja=e=>e,Wo=e=>Reflect.getPrototypeOf(e);function wm(e,t,n){return function(...s){const r=this.__v_raw,o=Ee(r),i=er(o),a=e==="entries"||e===Symbol.iterator&&i,l=e==="keys"&&i,u=r[e](...s),d=n?Ja:t?ci:ct;return!t&&pt(o,"iterate",l?Ya:hs),{next(){const{value:f,done:p}=u.next();return p?{value:f,done:p}:{value:a?[d(f[0]),d(f[1])]:d(f),done:p}},[Symbol.iterator](){return this}}}}function jo(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function xm(e,t){const n={get(r){const o=this.__v_raw,i=Ee(o),a=Ee(r);e||(ts(r,a)&&pt(i,"get",r),pt(i,"get",a));const{has:l}=Wo(i),u=t?Ja:e?ci:ct;if(l.call(i,r))return u(o.get(r));if(l.call(i,a))return u(o.get(a));o!==i&&o.get(r)},get size(){const r=this.__v_raw;return!e&&pt(Ee(r),"iterate",hs),r.size},has(r){const o=this.__v_raw,i=Ee(o),a=Ee(r);return e||(ts(r,a)&&pt(i,"has",r),pt(i,"has",a)),r===a?o.has(r):o.has(r)||o.has(a)},forEach(r,o){const i=this,a=i.__v_raw,l=Ee(a),u=t?Ja:e?ci:ct;return!e&&pt(l,"iterate",hs),a.forEach((d,f)=>r.call(o,u(d),u(f),i))}};return bt(n,e?{add:jo("add"),set:jo("set"),delete:jo("delete"),clear:jo("clear")}:{add(r){!t&&!Vt(r)&&!ss(r)&&(r=Ee(r));const o=Ee(this);return Wo(o).has.call(o,r)||(o.add(r),Nn(o,"add",r,r)),this},set(r,o){!t&&!Vt(o)&&!ss(o)&&(o=Ee(o));const i=Ee(this),{has:a,get:l}=Wo(i);let u=a.call(i,r);u||(r=Ee(r),u=a.call(i,r));const d=l.call(i,r);return i.set(r,o),u?ts(o,d)&&Nn(i,"set",r,o):Nn(i,"add",r,o),this},delete(r){const o=Ee(this),{has:i,get:a}=Wo(o);let l=i.call(o,r);l||(r=Ee(r),l=i.call(o,r)),a&&a.call(o,r);const u=o.delete(r);return l&&Nn(o,"delete",r,void 0),u},clear(){const r=Ee(this),o=r.size!==0,i=r.clear();return o&&Nn(r,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=wm(r,e,t)}),n}function sc(e,t){const n=xm(e,t);return(s,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(Ie(n,r)&&r in s?n:s,r,o)}const $m={get:sc(!1,!1)},km={get:sc(!1,!0)},Cm={get:sc(!0,!1)};const ff=new WeakMap,pf=new WeakMap,hf=new WeakMap,Tm=new WeakMap;function _m(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Sm(e){return e.__v_skip||!Object.isExtensible(e)?0:_m(Qh(e))}function wo(e){return ss(e)?e:rc(e,!1,gm,$m,ff)}function Pm(e){return rc(e,!1,vm,km,pf)}function mf(e){return rc(e,!0,ym,Cm,hf)}function rc(e,t,n,s,r){if(!Ue(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=Sm(e);if(o===0)return e;const i=r.get(e);if(i)return i;const a=new Proxy(e,o===2?s:n);return r.set(e,a),a}function Ln(e){return ss(e)?Ln(e.__v_raw):!!(e&&e.__v_isReactive)}function ss(e){return!!(e&&e.__v_isReadonly)}function Vt(e){return!!(e&&e.__v_isShallow)}function oc(e){return e?!!e.__v_raw:!1}function Ee(e){const t=e&&e.__v_raw;return t?Ee(t):e}function ic(e){return!Ie(e,"__v_skip")&&Object.isExtensible(e)&&qd(e,"__v_skip",!0),e}const ct=e=>Ue(e)?wo(e):e,ci=e=>Ue(e)?mf(e):e;function Ge(e){return e?e.__v_isRef===!0:!1}function ee(e){return Am(e,!1)}function Am(e,t){return Ge(e)?e:new Em(e,t)}class Em{constructor(t,n){this.dep=new nc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ee(t),this._value=n?t:ct(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||Vt(t)||ss(t);t=s?t:Ee(t),ts(t,n)&&(this._rawValue=t,this._value=s?t:ct(t),this.dep.trigger())}}function Z(e){return Ge(e)?e.value:e}const Bm={get:(e,t,n)=>t==="__v_raw"?e:Z(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return Ge(r)&&!Ge(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function bf(e){return Ln(e)?e:new Proxy(e,Bm)}function Im(e){const t=ye(e)?new Array(e.length):{};for(const n in e)t[n]=gf(e,n);return t}class Nm{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return dm(Ee(this._object),this._key)}}class Rm{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Om(e,t,n){return Ge(e)?e:$e(e)?new Rm(e):Ue(e)&&arguments.length>1?gf(e,t,n):ee(e)}function gf(e,t,n){const s=e[t];return Ge(s)?s:new Nm(e,t,n)}class Mm{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new nc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Hr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Fe!==this)return nf(this,!0),!0}get value(){const t=this.dep.track();return of(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Lm(e,t,n=!1){let s,r;return $e(e)?s=e:(s=e.get,r=e.set),new Mm(s,r,n)}const Ho={},ui=new WeakMap;let cs;function Fm(e,t=!1,n=cs){if(n){let s=ui.get(n);s||ui.set(n,s=[]),s.push(e)}}function Um(e,t,n=Me){const{immediate:s,deep:r,once:o,scheduler:i,augmentJob:a,call:l}=n,u=m=>r?m:Vt(m)||r===!1||r===0?Rn(m,1):Rn(m);let d,f,p,h,g=!1,b=!1;if(Ge(e)?(f=()=>e.value,g=Vt(e)):Ln(e)?(f=()=>u(e),g=!0):ye(e)?(b=!0,g=e.some(m=>Ln(m)||Vt(m)),f=()=>e.map(m=>{if(Ge(m))return m.value;if(Ln(m))return u(m);if($e(m))return l?l(m,2):m()})):$e(e)?t?f=l?()=>l(e,2):e:f=()=>{if(p){zn();try{p()}finally{Wn()}}const m=cs;cs=d;try{return l?l(e,3,[h]):e(h)}finally{cs=m}}:f=xn,t&&r){const m=f,w=r===!0?1/0:r;f=()=>Rn(m(),w)}const v=Xd(),$=()=>{d.stop(),v&&v.active&&Yl(v.effects,d)};if(o&&t){const m=t;t=(...w)=>{m(...w),$()}}let x=b?new Array(e.length).fill(Ho):Ho;const y=m=>{if(!(!(d.flags&1)||!d.dirty&&!m))if(t){const w=d.run();if(r||g||(b?w.some((P,B)=>ts(P,x[B])):ts(w,x))){p&&p();const P=cs;cs=d;try{const B=[w,x===Ho?void 0:b&&x[0]===Ho?[]:x,h];x=w,l?l(t,3,B):t(...B)}finally{cs=P}}}else d.run()};return a&&a(y),d=new ef(f),d.scheduler=i?()=>i(y,!1):y,h=m=>Fm(m,!1,d),p=d.onStop=()=>{const m=ui.get(d);if(m){if(l)l(m,4);else for(const w of m)w();ui.delete(d)}},t?s?y(!0):x=d.run():i?i(y.bind(null,!0),!0):d.run(),$.pause=d.pause.bind(d),$.resume=d.resume.bind(d),$.stop=$,$}function Rn(e,t=1/0,n){if(t<=0||!Ue(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,Ge(e))Rn(e.value,t,n);else if(ye(e))for(let s=0;s<e.length;s++)Rn(e[s],t,n);else if(mr(e)||er(e))e.forEach(s=>{Rn(s,t,n)});else if(Gd(e)){for(const s in e)Rn(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Rn(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function xo(e,t,n,s){try{return s?e(...s):e()}catch(r){Ii(r,t,n)}}function Tn(e,t,n,s){if($e(e)){const r=xo(e,t,n,s);return r&&Hd(r)&&r.catch(o=>{Ii(o,t,n)}),r}if(ye(e)){const r=[];for(let o=0;o<e.length;o++)r.push(Tn(e[o],t,n,s));return r}}function Ii(e,t,n,s=!0){const r=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||Me;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const d=a.ec;if(d){for(let f=0;f<d.length;f++)if(d[f](e,l,u)===!1)return}a=a.parent}if(o){zn(),xo(o,null,10,[e,l,u]),Wn();return}}Dm(e,n,r,s,i)}function Dm(e,t,n,s=!0,r=!1){if(r)throw e;console.error(e)}const wt=[];let gn=-1;const nr=[];let Xn=null,qs=0;const yf=Promise.resolve();let di=null;function $o(e){const t=di||yf;return e?t.then(this?e.bind(this):e):t}function zm(e){let t=gn+1,n=wt.length;for(;t<n;){const s=t+n>>>1,r=wt[s],o=Gr(r);o<e||o===e&&r.flags&2?t=s+1:n=s}return t}function ac(e){if(!(e.flags&1)){const t=Gr(e),n=wt[wt.length-1];!n||!(e.flags&2)&&t>=Gr(n)?wt.push(e):wt.splice(zm(t),0,e),e.flags|=1,vf()}}function vf(){di||(di=yf.then(xf))}function Wm(e){ye(e)?nr.push(...e):Xn&&e.id===-1?Xn.splice(qs+1,0,e):e.flags&1||(nr.push(e),e.flags|=1),vf()}function du(e,t,n=gn+1){for(;n<wt.length;n++){const s=wt[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;wt.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function wf(e){if(nr.length){const t=[...new Set(nr)].sort((n,s)=>Gr(n)-Gr(s));if(nr.length=0,Xn){Xn.push(...t);return}for(Xn=t,qs=0;qs<Xn.length;qs++){const n=Xn[qs];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Xn=null,qs=0}}const Gr=e=>e.id==null?e.flags&2?-1:1/0:e.id;function xf(e){try{for(gn=0;gn<wt.length;gn++){const t=wt[gn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),xo(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;gn<wt.length;gn++){const t=wt[gn];t&&(t.flags&=-2)}gn=-1,wt.length=0,wf(),di=null,(wt.length||nr.length)&&xf()}}let Rt=null,$f=null;function fi(e){const t=Rt;return Rt=e,$f=e&&e.type.__scopeId||null,t}function jm(e,t=Rt,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&xu(-1);const o=fi(t);let i;try{i=e(...r)}finally{fi(o),s._d&&xu(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function ue(e,t){if(Rt===null)return e;const n=Li(Rt),s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,i,a,l=Me]=t[r];o&&($e(o)&&(o={mounted:o,updated:o}),o.deep&&Rn(i),s.push({dir:o,instance:n,value:i,oldValue:void 0,arg:a,modifiers:l}))}return e}function is(e,t,n,s){const r=e.dirs,o=t&&t.dirs;for(let i=0;i<r.length;i++){const a=r[i];o&&(a.oldValue=o[i].value);let l=a.dir[s];l&&(zn(),Tn(l,n,8,[e.el,a,e,t]),Wn())}}const Hm=Symbol("_vte"),Vm=e=>e.__isTeleport,Gm=Symbol("_leaveCb");function Ni(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ni(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ot(e,t){return $e(e)?bt({name:e.name},t,{setup:e}):e}function kf(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const pi=new WeakMap;function Mr(e,t,n,s,r=!1){if(ye(e)){e.forEach((g,b)=>Mr(g,t&&(ye(t)?t[b]:t),n,s,r));return}if(sr(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Mr(e,t,n,s.component.subTree);return}const o=s.shapeFlag&4?Li(s.component):s.el,i=r?null:o,{i:a,r:l}=e,u=t&&t.r,d=a.refs===Me?a.refs={}:a.refs,f=a.setupState,p=Ee(f),h=f===Me?jd:g=>Ie(p,g);if(u!=null&&u!==l){if(fu(t),Ze(u))d[u]=null,h(u)&&(f[u]=null);else if(Ge(u)){u.value=null;const g=t;g.k&&(d[g.k]=null)}}if($e(l))xo(l,a,12,[i,d]);else{const g=Ze(l),b=Ge(l);if(g||b){const v=()=>{if(e.f){const $=g?h(l)?f[l]:d[l]:l.value;if(r)ye($)&&Yl($,o);else if(ye($))$.includes(o)||$.push(o);else if(g)d[l]=[o],h(l)&&(f[l]=d[l]);else{const x=[o];l.value=x,e.k&&(d[e.k]=x)}}else g?(d[l]=i,h(l)&&(f[l]=i)):b&&(l.value=i,e.k&&(d[e.k]=i))};if(i){const $=()=>{v(),pi.delete(e)};$.id=-1,pi.set(e,$),at($,n)}else fu(e),v()}}}function fu(e){const t=pi.get(e);t&&(t.flags|=8,pi.delete(e))}Ai().requestIdleCallback;Ai().cancelIdleCallback;const sr=e=>!!e.type.__asyncLoader,Cf=e=>e.type.__isKeepAlive,qm={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=pc(),s=n.ctx;if(!s.renderer)return()=>{const x=t.default&&t.default();return x&&x.length===1?x[0]:x};const r=new Map,o=new Set;let i=null;const a=n.suspense,{renderer:{p:l,m:u,um:d,o:{createElement:f}}}=s,p=f("div");s.activate=(x,y,m,w,P)=>{const B=x.component;u(x,y,m,0,a),l(B.vnode,x,y,m,B,a,w,x.slotScopeIds,P),at(()=>{B.isDeactivated=!1,B.a&&tr(B.a);const E=x.props&&x.props.onVnodeMounted;E&&Wt(E,B.parent,x)},a)},s.deactivate=x=>{const y=x.component;mi(y.m),mi(y.a),u(x,p,null,1,a),at(()=>{y.da&&tr(y.da);const m=x.props&&x.props.onVnodeUnmounted;m&&Wt(m,y.parent,x),y.isDeactivated=!0},a)};function h(x){ga(x),d(x,n,a,!0)}function g(x){r.forEach((y,m)=>{const w=sl(y.type);w&&!x(w)&&b(m)})}function b(x){const y=r.get(x);y&&(!i||!Ks(y,i))?h(y):i&&ga(i),r.delete(x),o.delete(x)}$t(()=>[e.include,e.exclude],([x,y])=>{x&&g(m=>Er(x,m)),y&&g(m=>!Er(y,m))},{flush:"post",deep:!0});let v=null;const $=()=>{v!=null&&(bi(n.subTree.type)?at(()=>{r.set(v,Vo(n.subTree))},n.subTree.suspense):r.set(v,Vo(n.subTree)))};return gr($),Sf($),Pf(()=>{r.forEach(x=>{const{subTree:y,suspense:m}=n,w=Vo(y);if(x.type===w.type&&x.key===w.key){ga(w);const P=w.component.da;P&&at(P,m);return}h(x)})}),()=>{if(v=null,!t.default)return i=null;const x=t.default(),y=x[0];if(x.length>1)return i=null,x;if(!dc(y)||!(y.shapeFlag&4)&&!(y.shapeFlag&128))return i=null,y;let m=Vo(y);if(m.type===jn)return i=null,m;const w=m.type,P=sl(sr(m)?m.type.__asyncResolved||{}:w),{include:B,exclude:E,max:T}=e;if(B&&(!P||!Er(B,P))||E&&P&&Er(E,P))return m.shapeFlag&=-257,i=m,y;const C=m.key==null?w:m.key,S=r.get(C);return m.el&&(m=ks(m),y.shapeFlag&128&&(y.ssContent=m)),v=C,S?(m.el=S.el,m.component=S.component,m.transition&&Ni(m,m.transition),m.shapeFlag|=512,o.delete(C),o.add(C)):(o.add(C),T&&o.size>parseInt(T,10)&&b(o.values().next().value)),m.shapeFlag|=256,i=m,bi(y.type)?y:m}}},Km=qm;function Er(e,t){return ye(e)?e.some(n=>Er(n,t)):Ze(e)?e.split(",").includes(t):Jh(e)?(e.lastIndex=0,e.test(t)):!1}function Tf(e,t){_f(e,"a",t)}function Zm(e,t){_f(e,"da",t)}function _f(e,t,n=ht){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Ri(t,s,n),n){let r=n.parent;for(;r&&r.parent;)Cf(r.parent.vnode)&&Ym(s,t,n,r),r=r.parent}}function Ym(e,t,n,s){const r=Ri(t,e,s,!0);lc(()=>{Yl(s[t],r)},n)}function ga(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Vo(e){return e.shapeFlag&128?e.ssContent:e}function Ri(e,t,n=ht,s=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...i)=>{zn();const a=ko(n),l=Tn(t,n,e,i);return a(),Wn(),l});return s?r.unshift(o):r.push(o),o}}const qn=e=>(t,n=ht)=>{(!Kr||e==="sp")&&Ri(e,(...s)=>t(...s),n)},Jm=qn("bm"),gr=qn("m"),Qm=qn("bu"),Sf=qn("u"),Pf=qn("bum"),lc=qn("um"),Xm=qn("sp"),eb=qn("rtg"),tb=qn("rtc");function nb(e,t=ht){Ri("ec",e,t)}const sb="components",Af=Symbol.for("v-ndc");function rb(e){return Ze(e)?ob(sb,e,!1)||e:e||Af}function ob(e,t,n=!0,s=!1){const r=Rt||ht;if(r){const o=r.type;{const a=sl(o,!1);if(a&&(a===t||a===Kt(t)||a===Pi(Kt(t))))return o}const i=pu(r[e]||o[e],t)||pu(r.appContext[e],t);return!i&&s?o:i}}function pu(e,t){return e&&(e[t]||e[Kt(t)]||e[Pi(Kt(t))])}function Le(e,t,n,s){let r;const o=n,i=ye(e);if(i||Ze(e)){const a=i&&Ln(e);let l=!1,u=!1;a&&(l=!Vt(e),u=ss(e),e=Bi(e)),r=new Array(e.length);for(let d=0,f=e.length;d<f;d++)r[d]=t(l?u?ci(ct(e[d])):ct(e[d]):e[d],d,void 0,o)}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,o)}else if(Ue(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,o));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const d=a[l];r[l]=t(e[d],d,l,o)}}else r=[];return r}const Qa=e=>e?Zf(e)?Li(e):Qa(e.parent):null,Lr=bt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Qa(e.parent),$root:e=>Qa(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Bf(e),$forceUpdate:e=>e.f||(e.f=()=>{ac(e.update)}),$nextTick:e=>e.n||(e.n=$o.bind(e.proxy)),$watch:e=>Pb.bind(e)}),ya=(e,t)=>e!==Me&&!e.__isScriptSetup&&Ie(e,t),ib={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:o,accessCache:i,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const h=i[t];if(h!==void 0)switch(h){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return o[t]}else{if(ya(s,t))return i[t]=1,s[t];if(r!==Me&&Ie(r,t))return i[t]=2,r[t];if((u=e.propsOptions[0])&&Ie(u,t))return i[t]=3,o[t];if(n!==Me&&Ie(n,t))return i[t]=4,n[t];Xa&&(i[t]=0)}}const d=Lr[t];let f,p;if(d)return t==="$attrs"&&pt(e.attrs,"get",""),d(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==Me&&Ie(n,t))return i[t]=4,n[t];if(p=l.config.globalProperties,Ie(p,t))return p[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:o}=e;return ya(r,t)?(r[t]=n,!0):s!==Me&&Ie(s,t)?(s[t]=n,!0):Ie(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:o,type:i}},a){let l,u;return!!(n[a]||e!==Me&&a[0]!=="$"&&Ie(e,a)||ya(t,a)||(l=o[0])&&Ie(l,a)||Ie(s,a)||Ie(Lr,a)||Ie(r.config.globalProperties,a)||(u=i.__cssModules)&&u[a])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ie(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function hu(e){return ye(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Xa=!0;function ab(e){const t=Bf(e),n=e.proxy,s=e.ctx;Xa=!1,t.beforeCreate&&mu(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:i,watch:a,provide:l,inject:u,created:d,beforeMount:f,mounted:p,beforeUpdate:h,updated:g,activated:b,deactivated:v,beforeDestroy:$,beforeUnmount:x,destroyed:y,unmounted:m,render:w,renderTracked:P,renderTriggered:B,errorCaptured:E,serverPrefetch:T,expose:C,inheritAttrs:S,components:O,directives:U,filters:D}=t;if(u&&lb(u,s,null),i)for(const W in i){const z=i[W];$e(z)&&(s[W]=z.bind(n))}if(r){const W=r.call(n,n);Ue(W)&&(e.data=wo(W))}if(Xa=!0,o)for(const W in o){const z=o[W],Q=$e(z)?z.bind(n,n):$e(z.get)?z.get.bind(n,n):xn,Y=!$e(z)&&$e(z.set)?z.set.bind(n):xn,_=de({get:Q,set:Y});Object.defineProperty(s,W,{enumerable:!0,configurable:!0,get:()=>_.value,set:k=>_.value=k})}if(a)for(const W in a)Ef(a[W],s,n,W);if(l){const W=$e(l)?l.call(n):l;Reflect.ownKeys(W).forEach(z=>{hb(z,W[z])})}d&&mu(d,e,"c");function F(W,z){ye(z)?z.forEach(Q=>W(Q.bind(n))):z&&W(z.bind(n))}if(F(Jm,f),F(gr,p),F(Qm,h),F(Sf,g),F(Tf,b),F(Zm,v),F(nb,E),F(tb,P),F(eb,B),F(Pf,x),F(lc,m),F(Xm,T),ye(C))if(C.length){const W=e.exposed||(e.exposed={});C.forEach(z=>{Object.defineProperty(W,z,{get:()=>n[z],set:Q=>n[z]=Q,enumerable:!0})})}else e.exposed||(e.exposed={});w&&e.render===xn&&(e.render=w),S!=null&&(e.inheritAttrs=S),O&&(e.components=O),U&&(e.directives=U),T&&kf(e)}function lb(e,t,n=xn){ye(e)&&(e=el(e));for(const s in e){const r=e[s];let o;Ue(r)?"default"in r?o=Fr(r.from||s,r.default,!0):o=Fr(r.from||s):o=Fr(r),Ge(o)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):t[s]=o}}function mu(e,t,n){Tn(ye(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function Ef(e,t,n,s){let r=s.includes(".")?Hf(n,s):()=>n[s];if(Ze(e)){const o=t[e];$e(o)&&$t(r,o)}else if($e(e))$t(r,e.bind(n));else if(Ue(e))if(ye(e))e.forEach(o=>Ef(o,t,n,s));else{const o=$e(e.handler)?e.handler.bind(n):t[e.handler];$e(o)&&$t(r,o,e)}}function Bf(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,a=o.get(t);let l;return a?l=a:!r.length&&!n&&!s?l=t:(l={},r.length&&r.forEach(u=>hi(l,u,i,!0)),hi(l,t,i)),Ue(t)&&o.set(t,l),l}function hi(e,t,n,s=!1){const{mixins:r,extends:o}=t;o&&hi(e,o,n,!0),r&&r.forEach(i=>hi(e,i,n,!0));for(const i in t)if(!(s&&i==="expose")){const a=cb[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const cb={data:bu,props:gu,emits:gu,methods:Br,computed:Br,beforeCreate:vt,created:vt,beforeMount:vt,mounted:vt,beforeUpdate:vt,updated:vt,beforeDestroy:vt,beforeUnmount:vt,destroyed:vt,unmounted:vt,activated:vt,deactivated:vt,errorCaptured:vt,serverPrefetch:vt,components:Br,directives:Br,watch:db,provide:bu,inject:ub};function bu(e,t){return t?e?function(){return bt($e(e)?e.call(this,this):e,$e(t)?t.call(this,this):t)}:t:e}function ub(e,t){return Br(el(e),el(t))}function el(e){if(ye(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function vt(e,t){return e?[...new Set([].concat(e,t))]:t}function Br(e,t){return e?bt(Object.create(null),e,t):t}function gu(e,t){return e?ye(e)&&ye(t)?[...new Set([...e,...t])]:bt(Object.create(null),hu(e),hu(t??{})):t}function db(e,t){if(!e)return t;if(!t)return e;const n=bt(Object.create(null),e);for(const s in t)n[s]=vt(e[s],t[s]);return n}function If(){return{app:null,config:{isNativeTag:jd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fb=0;function pb(e,t){return function(s,r=null){$e(s)||(s=bt({},s)),r!=null&&!Ue(r)&&(r=null);const o=If(),i=new WeakSet,a=[];let l=!1;const u=o.app={_uid:fb++,_component:s,_props:r,_container:null,_context:o,_instance:null,version:Zb,get config(){return o.config},set config(d){},use(d,...f){return i.has(d)||(d&&$e(d.install)?(i.add(d),d.install(u,...f)):$e(d)&&(i.add(d),d(u,...f))),u},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),u},component(d,f){return f?(o.components[d]=f,u):o.components[d]},directive(d,f){return f?(o.directives[d]=f,u):o.directives[d]},mount(d,f,p){if(!l){const h=u._ceVNode||tt(s,r);return h.appContext=o,p===!0?p="svg":p===!1&&(p=void 0),e(h,d,p),l=!0,u._container=d,d.__vue_app__=u,Li(h.component)}},onUnmount(d){a.push(d)},unmount(){l&&(Tn(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(d,f){return o.provides[d]=f,u},runWithContext(d){const f=ms;ms=u;try{return d()}finally{ms=f}}};return u}}let ms=null;function hb(e,t){if(ht){let n=ht.provides;const s=ht.parent&&ht.parent.provides;s===n&&(n=ht.provides=Object.create(s)),n[e]=t}}function Fr(e,t,n=!1){const s=pc();if(s||ms){let r=ms?ms._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&$e(t)?t.call(s&&s.proxy):t}}function mb(){return!!(pc()||ms)}const Nf={},Rf=()=>Object.create(Nf),Of=e=>Object.getPrototypeOf(e)===Nf;function bb(e,t,n,s=!1){const r={},o=Rf();e.propsDefaults=Object.create(null),Mf(e,t,r,o);for(const i in e.propsOptions[0])i in r||(r[i]=void 0);n?e.props=s?r:Pm(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function gb(e,t,n,s){const{props:r,attrs:o,vnode:{patchFlag:i}}=e,a=Ee(r),[l]=e.propsOptions;let u=!1;if((s||i>0)&&!(i&16)){if(i&8){const d=e.vnode.dynamicProps;for(let f=0;f<d.length;f++){let p=d[f];if(Oi(e.emitsOptions,p))continue;const h=t[p];if(l)if(Ie(o,p))h!==o[p]&&(o[p]=h,u=!0);else{const g=Kt(p);r[g]=tl(l,a,g,h,e,!1)}else h!==o[p]&&(o[p]=h,u=!0)}}}else{Mf(e,t,r,o)&&(u=!0);let d;for(const f in a)(!t||!Ie(t,f)&&((d=os(f))===f||!Ie(t,d)))&&(l?n&&(n[f]!==void 0||n[d]!==void 0)&&(r[f]=tl(l,a,f,void 0,e,!0)):delete r[f]);if(o!==a)for(const f in o)(!t||!Ie(t,f))&&(delete o[f],u=!0)}u&&Nn(e.attrs,"set","")}function Mf(e,t,n,s){const[r,o]=e.propsOptions;let i=!1,a;if(t)for(let l in t){if(Nr(l))continue;const u=t[l];let d;r&&Ie(r,d=Kt(l))?!o||!o.includes(d)?n[d]=u:(a||(a={}))[d]=u:Oi(e.emitsOptions,l)||(!(l in s)||u!==s[l])&&(s[l]=u,i=!0)}if(o){const l=Ee(n),u=a||Me;for(let d=0;d<o.length;d++){const f=o[d];n[f]=tl(r,l,f,u[f],e,!Ie(u,f))}}return i}function tl(e,t,n,s,r,o){const i=e[n];if(i!=null){const a=Ie(i,"default");if(a&&s===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&$e(l)){const{propsDefaults:u}=r;if(n in u)s=u[n];else{const d=ko(r);s=u[n]=l.call(null,t),d()}}else s=l;r.ce&&r.ce._setProp(n,s)}i[0]&&(o&&!a?s=!1:i[1]&&(s===""||s===os(n))&&(s=!0))}return s}const yb=new WeakMap;function Lf(e,t,n=!1){const s=n?yb:t.propsCache,r=s.get(e);if(r)return r;const o=e.props,i={},a=[];let l=!1;if(!$e(e)){const d=f=>{l=!0;const[p,h]=Lf(f,t,!0);bt(i,p),h&&a.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!o&&!l)return Ue(e)&&s.set(e,Xs),Xs;if(ye(o))for(let d=0;d<o.length;d++){const f=Kt(o[d]);yu(f)&&(i[f]=Me)}else if(o)for(const d in o){const f=Kt(d);if(yu(f)){const p=o[d],h=i[f]=ye(p)||$e(p)?{type:p}:bt({},p),g=h.type;let b=!1,v=!0;if(ye(g))for(let $=0;$<g.length;++$){const x=g[$],y=$e(x)&&x.name;if(y==="Boolean"){b=!0;break}else y==="String"&&(v=!1)}else b=$e(g)&&g.name==="Boolean";h[0]=b,h[1]=v,(b||Ie(h,"default"))&&a.push(f)}}const u=[i,a];return Ue(e)&&s.set(e,u),u}function yu(e){return e[0]!=="$"&&!Nr(e)}const cc=e=>e==="_"||e==="_ctx"||e==="$stable",uc=e=>ye(e)?e.map(yn):[yn(e)],vb=(e,t,n)=>{if(t._n)return t;const s=jm((...r)=>uc(t(...r)),n);return s._c=!1,s},Ff=(e,t,n)=>{const s=e._ctx;for(const r in e){if(cc(r))continue;const o=e[r];if($e(o))t[r]=vb(r,o,s);else if(o!=null){const i=uc(o);t[r]=()=>i}}},Uf=(e,t)=>{const n=uc(t);e.slots.default=()=>n},Df=(e,t,n)=>{for(const s in t)(n||!cc(s))&&(e[s]=t[s])},wb=(e,t,n)=>{const s=e.slots=Rf();if(e.vnode.shapeFlag&32){const r=t._;r?(Df(s,t,n),n&&qd(s,"_",r,!0)):Ff(t,s)}else t&&Uf(e,t)},xb=(e,t,n)=>{const{vnode:s,slots:r}=e;let o=!0,i=Me;if(s.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:Df(r,t,n):(o=!t.$stable,Ff(t,r)),i=t}else t&&(Uf(e,t),i={default:1});if(o)for(const a in r)!cc(a)&&i[a]==null&&delete r[a]},at=Mb;function $b(e){return kb(e)}function kb(e,t){const n=Ai();n.__VUE__=!0;const{insert:s,remove:r,patchProp:o,createElement:i,createText:a,createComment:l,setText:u,setElementText:d,parentNode:f,nextSibling:p,setScopeId:h=xn,insertStaticContent:g}=e,b=(A,N,j,X=null,J=null,te=null,le=void 0,ie=null,oe=!!N.dynamicChildren)=>{if(A===N)return;A&&!Ks(A,N)&&(X=xe(A),k(A,J,te,!0),A=null),N.patchFlag===-2&&(oe=!1,N.dynamicChildren=null);const{type:se,ref:be,shapeFlag:ce}=N;switch(se){case Mi:v(A,N,j,X);break;case jn:$(A,N,j,X);break;case ti:A==null&&x(N,j,X,le);break;case Se:O(A,N,j,X,J,te,le,ie,oe);break;default:ce&1?w(A,N,j,X,J,te,le,ie,oe):ce&6?U(A,N,j,X,J,te,le,ie,oe):(ce&64||ce&128)&&se.process(A,N,j,X,J,te,le,ie,oe,yt)}be!=null&&J?Mr(be,A&&A.ref,te,N||A,!N):be==null&&A&&A.ref!=null&&Mr(A.ref,null,te,A,!0)},v=(A,N,j,X)=>{if(A==null)s(N.el=a(N.children),j,X);else{const J=N.el=A.el;N.children!==A.children&&u(J,N.children)}},$=(A,N,j,X)=>{A==null?s(N.el=l(N.children||""),j,X):N.el=A.el},x=(A,N,j,X)=>{[A.el,A.anchor]=g(A.children,N,j,X,A.el,A.anchor)},y=({el:A,anchor:N},j,X)=>{let J;for(;A&&A!==N;)J=p(A),s(A,j,X),A=J;s(N,j,X)},m=({el:A,anchor:N})=>{let j;for(;A&&A!==N;)j=p(A),r(A),A=j;r(N)},w=(A,N,j,X,J,te,le,ie,oe)=>{N.type==="svg"?le="svg":N.type==="math"&&(le="mathml"),A==null?P(N,j,X,J,te,le,ie,oe):T(A,N,J,te,le,ie,oe)},P=(A,N,j,X,J,te,le,ie)=>{let oe,se;const{props:be,shapeFlag:ce,transition:ge,dirs:ve}=A;if(oe=A.el=i(A.type,te,be&&be.is,be),ce&8?d(oe,A.children):ce&16&&E(A.children,oe,null,X,J,va(A,te),le,ie),ve&&is(A,null,X,"created"),B(oe,A,A.scopeId,le,X),be){for(const Ne in be)Ne!=="value"&&!Nr(Ne)&&o(oe,Ne,null,be[Ne],te,X);"value"in be&&o(oe,"value",null,be.value,te),(se=be.onVnodeBeforeMount)&&Wt(se,X,A)}ve&&is(A,null,X,"beforeMount");const Pe=Cb(J,ge);Pe&&ge.beforeEnter(oe),s(oe,N,j),((se=be&&be.onVnodeMounted)||Pe||ve)&&at(()=>{se&&Wt(se,X,A),Pe&&ge.enter(oe),ve&&is(A,null,X,"mounted")},J)},B=(A,N,j,X,J)=>{if(j&&h(A,j),X)for(let te=0;te<X.length;te++)h(A,X[te]);if(J){let te=J.subTree;if(N===te||bi(te.type)&&(te.ssContent===N||te.ssFallback===N)){const le=J.vnode;B(A,le,le.scopeId,le.slotScopeIds,J.parent)}}},E=(A,N,j,X,J,te,le,ie,oe=0)=>{for(let se=oe;se<A.length;se++){const be=A[se]=ie?es(A[se]):yn(A[se]);b(null,be,N,j,X,J,te,le,ie)}},T=(A,N,j,X,J,te,le)=>{const ie=N.el=A.el;let{patchFlag:oe,dynamicChildren:se,dirs:be}=N;oe|=A.patchFlag&16;const ce=A.props||Me,ge=N.props||Me;let ve;if(j&&as(j,!1),(ve=ge.onVnodeBeforeUpdate)&&Wt(ve,j,N,A),be&&is(N,A,j,"beforeUpdate"),j&&as(j,!0),(ce.innerHTML&&ge.innerHTML==null||ce.textContent&&ge.textContent==null)&&d(ie,""),se?C(A.dynamicChildren,se,ie,j,X,va(N,J),te):le||z(A,N,ie,null,j,X,va(N,J),te,!1),oe>0){if(oe&16)S(ie,ce,ge,j,J);else if(oe&2&&ce.class!==ge.class&&o(ie,"class",null,ge.class,J),oe&4&&o(ie,"style",ce.style,ge.style,J),oe&8){const Pe=N.dynamicProps;for(let Ne=0;Ne<Pe.length;Ne++){const Be=Pe[Ne],ut=ce[Be],dt=ge[Be];(dt!==ut||Be==="value")&&o(ie,Be,ut,dt,J,j)}}oe&1&&A.children!==N.children&&d(ie,N.children)}else!le&&se==null&&S(ie,ce,ge,j,J);((ve=ge.onVnodeUpdated)||be)&&at(()=>{ve&&Wt(ve,j,N,A),be&&is(N,A,j,"updated")},X)},C=(A,N,j,X,J,te,le)=>{for(let ie=0;ie<N.length;ie++){const oe=A[ie],se=N[ie],be=oe.el&&(oe.type===Se||!Ks(oe,se)||oe.shapeFlag&198)?f(oe.el):j;b(oe,se,be,null,X,J,te,le,!0)}},S=(A,N,j,X,J)=>{if(N!==j){if(N!==Me)for(const te in N)!Nr(te)&&!(te in j)&&o(A,te,N[te],null,J,X);for(const te in j){if(Nr(te))continue;const le=j[te],ie=N[te];le!==ie&&te!=="value"&&o(A,te,ie,le,J,X)}"value"in j&&o(A,"value",N.value,j.value,J)}},O=(A,N,j,X,J,te,le,ie,oe)=>{const se=N.el=A?A.el:a(""),be=N.anchor=A?A.anchor:a("");let{patchFlag:ce,dynamicChildren:ge,slotScopeIds:ve}=N;ve&&(ie=ie?ie.concat(ve):ve),A==null?(s(se,j,X),s(be,j,X),E(N.children||[],j,be,J,te,le,ie,oe)):ce>0&&ce&64&&ge&&A.dynamicChildren?(C(A.dynamicChildren,ge,j,J,te,le,ie),(N.key!=null||J&&N===J.subTree)&&zf(A,N,!0)):z(A,N,j,be,J,te,le,ie,oe)},U=(A,N,j,X,J,te,le,ie,oe)=>{N.slotScopeIds=ie,A==null?N.shapeFlag&512?J.ctx.activate(N,j,X,le,oe):D(N,j,X,J,te,le,oe):L(A,N,oe)},D=(A,N,j,X,J,te,le)=>{const ie=A.component=jb(A,X,J);if(Cf(A)&&(ie.ctx.renderer=yt),Hb(ie,!1,le),ie.asyncDep){if(J&&J.registerDep(ie,F,le),!A.el){const oe=ie.subTree=tt(jn);$(null,oe,N,j),A.placeholder=oe.el}}else F(ie,A,N,j,J,te,le)},L=(A,N,j)=>{const X=N.component=A.component;if(Rb(A,N,j))if(X.asyncDep&&!X.asyncResolved){W(X,N,j);return}else X.next=N,X.update();else N.el=A.el,X.vnode=N},F=(A,N,j,X,J,te,le)=>{const ie=()=>{if(A.isMounted){let{next:ce,bu:ge,u:ve,parent:Pe,vnode:Ne}=A;{const It=Wf(A);if(It){ce&&(ce.el=Ne.el,W(A,ce,le)),It.asyncDep.then(()=>{A.isUnmounted||ie()});return}}let Be=ce,ut;as(A,!1),ce?(ce.el=Ne.el,W(A,ce,le)):ce=Ne,ge&&tr(ge),(ut=ce.props&&ce.props.onVnodeBeforeUpdate)&&Wt(ut,Pe,ce,Ne),as(A,!0);const dt=vu(A),Ut=A.subTree;A.subTree=dt,b(Ut,dt,f(Ut.el),xe(Ut),A,J,te),ce.el=dt.el,Be===null&&Ob(A,dt.el),ve&&at(ve,J),(ut=ce.props&&ce.props.onVnodeUpdated)&&at(()=>Wt(ut,Pe,ce,Ne),J)}else{let ce;const{el:ge,props:ve}=N,{bm:Pe,m:Ne,parent:Be,root:ut,type:dt}=A,Ut=sr(N);as(A,!1),Pe&&tr(Pe),!Ut&&(ce=ve&&ve.onVnodeBeforeMount)&&Wt(ce,Be,N),as(A,!0);{ut.ce&&ut.ce._def.shadowRoot!==!1&&ut.ce._injectChildStyle(dt);const It=A.subTree=vu(A);b(null,It,j,X,A,J,te),N.el=It.el}if(Ne&&at(Ne,J),!Ut&&(ce=ve&&ve.onVnodeMounted)){const It=N;at(()=>Wt(ce,Be,It),J)}(N.shapeFlag&256||Be&&sr(Be.vnode)&&Be.vnode.shapeFlag&256)&&A.a&&at(A.a,J),A.isMounted=!0,N=j=X=null}};A.scope.on();const oe=A.effect=new ef(ie);A.scope.off();const se=A.update=oe.run.bind(oe),be=A.job=oe.runIfDirty.bind(oe);be.i=A,be.id=A.uid,oe.scheduler=()=>ac(be),as(A,!0),se()},W=(A,N,j)=>{N.component=A;const X=A.vnode.props;A.vnode=N,A.next=null,gb(A,N.props,X,j),xb(A,N.children,j),zn(),du(A),Wn()},z=(A,N,j,X,J,te,le,ie,oe=!1)=>{const se=A&&A.children,be=A?A.shapeFlag:0,ce=N.children,{patchFlag:ge,shapeFlag:ve}=N;if(ge>0){if(ge&128){Y(se,ce,j,X,J,te,le,ie,oe);return}else if(ge&256){Q(se,ce,j,X,J,te,le,ie,oe);return}}ve&8?(be&16&&fe(se,J,te),ce!==se&&d(j,ce)):be&16?ve&16?Y(se,ce,j,X,J,te,le,ie,oe):fe(se,J,te,!0):(be&8&&d(j,""),ve&16&&E(ce,j,X,J,te,le,ie,oe))},Q=(A,N,j,X,J,te,le,ie,oe)=>{A=A||Xs,N=N||Xs;const se=A.length,be=N.length,ce=Math.min(se,be);let ge;for(ge=0;ge<ce;ge++){const ve=N[ge]=oe?es(N[ge]):yn(N[ge]);b(A[ge],ve,j,null,J,te,le,ie,oe)}se>be?fe(A,J,te,!0,!1,ce):E(N,j,X,J,te,le,ie,oe,ce)},Y=(A,N,j,X,J,te,le,ie,oe)=>{let se=0;const be=N.length;let ce=A.length-1,ge=be-1;for(;se<=ce&&se<=ge;){const ve=A[se],Pe=N[se]=oe?es(N[se]):yn(N[se]);if(Ks(ve,Pe))b(ve,Pe,j,null,J,te,le,ie,oe);else break;se++}for(;se<=ce&&se<=ge;){const ve=A[ce],Pe=N[ge]=oe?es(N[ge]):yn(N[ge]);if(Ks(ve,Pe))b(ve,Pe,j,null,J,te,le,ie,oe);else break;ce--,ge--}if(se>ce){if(se<=ge){const ve=ge+1,Pe=ve<be?N[ve].el:X;for(;se<=ge;)b(null,N[se]=oe?es(N[se]):yn(N[se]),j,Pe,J,te,le,ie,oe),se++}}else if(se>ge)for(;se<=ce;)k(A[se],J,te,!0),se++;else{const ve=se,Pe=se,Ne=new Map;for(se=Pe;se<=ge;se++){const ze=N[se]=oe?es(N[se]):yn(N[se]);ze.key!=null&&Ne.set(ze.key,se)}let Be,ut=0;const dt=ge-Pe+1;let Ut=!1,It=0;const _n=new Array(dt);for(se=0;se<dt;se++)_n[se]=0;for(se=ve;se<=ce;se++){const ze=A[se];if(ut>=dt){k(ze,J,te,!0);continue}let q;if(ze.key!=null)q=Ne.get(ze.key);else for(Be=Pe;Be<=ge;Be++)if(_n[Be-Pe]===0&&Ks(ze,N[Be])){q=Be;break}q===void 0?k(ze,J,te,!0):(_n[q-Pe]=se+1,q>=It?It=q:Ut=!0,b(ze,N[q],j,null,J,te,le,ie,oe),ut++)}const Cr=Ut?Tb(_n):Xs;for(Be=Cr.length-1,se=dt-1;se>=0;se--){const ze=Pe+se,q=N[ze],ne=N[ze+1],ae=ze+1<be?ne.el||ne.placeholder:X;_n[se]===0?b(null,q,j,ae,J,te,le,ie,oe):Ut&&(Be<0||se!==Cr[Be]?_(q,j,ae,2):Be--)}}},_=(A,N,j,X,J=null)=>{const{el:te,type:le,transition:ie,children:oe,shapeFlag:se}=A;if(se&6){_(A.component.subTree,N,j,X);return}if(se&128){A.suspense.move(N,j,X);return}if(se&64){le.move(A,N,j,yt);return}if(le===Se){s(te,N,j);for(let ce=0;ce<oe.length;ce++)_(oe[ce],N,j,X);s(A.anchor,N,j);return}if(le===ti){y(A,N,j);return}if(X!==2&&se&1&&ie)if(X===0)ie.beforeEnter(te),s(te,N,j),at(()=>ie.enter(te),J);else{const{leave:ce,delayLeave:ge,afterLeave:ve}=ie,Pe=()=>{A.ctx.isUnmounted?r(te):s(te,N,j)},Ne=()=>{te._isLeaving&&te[Gm](!0),ce(te,()=>{Pe(),ve&&ve()})};ge?ge(te,Pe,Ne):Ne()}else s(te,N,j)},k=(A,N,j,X=!1,J=!1)=>{const{type:te,props:le,ref:ie,children:oe,dynamicChildren:se,shapeFlag:be,patchFlag:ce,dirs:ge,cacheIndex:ve}=A;if(ce===-2&&(J=!1),ie!=null&&(zn(),Mr(ie,null,j,A,!0),Wn()),ve!=null&&(N.renderCache[ve]=void 0),be&256){N.ctx.deactivate(A);return}const Pe=be&1&&ge,Ne=!sr(A);let Be;if(Ne&&(Be=le&&le.onVnodeBeforeUnmount)&&Wt(Be,N,A),be&6)V(A.component,j,X);else{if(be&128){A.suspense.unmount(j,X);return}Pe&&is(A,null,N,"beforeUnmount"),be&64?A.type.remove(A,N,j,yt,X):se&&!se.hasOnce&&(te!==Se||ce>0&&ce&64)?fe(se,N,j,!1,!0):(te===Se&&ce&384||!J&&be&16)&&fe(oe,N,j),X&&H(A)}(Ne&&(Be=le&&le.onVnodeUnmounted)||Pe)&&at(()=>{Be&&Wt(Be,N,A),Pe&&is(A,null,N,"unmounted")},j)},H=A=>{const{type:N,el:j,anchor:X,transition:J}=A;if(N===Se){he(j,X);return}if(N===ti){m(A);return}const te=()=>{r(j),J&&!J.persisted&&J.afterLeave&&J.afterLeave()};if(A.shapeFlag&1&&J&&!J.persisted){const{leave:le,delayLeave:ie}=J,oe=()=>le(j,te);ie?ie(A.el,te,oe):oe()}else te()},he=(A,N)=>{let j;for(;A!==N;)j=p(A),r(A),A=j;r(N)},V=(A,N,j)=>{const{bum:X,scope:J,job:te,subTree:le,um:ie,m:oe,a:se}=A;mi(oe),mi(se),X&&tr(X),J.stop(),te&&(te.flags|=8,k(le,A,N,j)),ie&&at(ie,N),at(()=>{A.isUnmounted=!0},N)},fe=(A,N,j,X=!1,J=!1,te=0)=>{for(let le=te;le<A.length;le++)k(A[le],N,j,X,J)},xe=A=>{if(A.shapeFlag&6)return xe(A.component.subTree);if(A.shapeFlag&128)return A.suspense.next();const N=p(A.anchor||A.el),j=N&&N[Hm];return j?p(j):N};let Oe=!1;const st=(A,N,j)=>{A==null?N._vnode&&k(N._vnode,null,null,!0):b(N._vnode||null,A,N,null,null,null,j),N._vnode=A,Oe||(Oe=!0,du(),wf(),Oe=!1)},yt={p:b,um:k,m:_,r:H,mt:D,mc:E,pc:z,pbc:C,n:xe,o:e};return{render:st,hydrate:void 0,createApp:pb(st)}}function va({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function as({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Cb(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function zf(e,t,n=!1){const s=e.children,r=t.children;if(ye(s)&&ye(r))for(let o=0;o<s.length;o++){const i=s[o];let a=r[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[o]=es(r[o]),a.el=i.el),!n&&a.patchFlag!==-2&&zf(i,a)),a.type===Mi&&a.patchFlag!==-1&&(a.el=i.el),a.type===jn&&!a.el&&(a.el=i.el)}}function Tb(e){const t=e.slice(),n=[0];let s,r,o,i,a;const l=e.length;for(s=0;s<l;s++){const u=e[s];if(u!==0){if(r=n[n.length-1],e[r]<u){t[s]=r,n.push(s);continue}for(o=0,i=n.length-1;o<i;)a=o+i>>1,e[n[a]]<u?o=a+1:i=a;u<e[n[o]]&&(o>0&&(t[s]=n[o-1]),n[o]=s)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=t[i];return n}function Wf(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Wf(t)}function mi(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const _b=Symbol.for("v-scx"),Sb=()=>Fr(_b);function $t(e,t,n){return jf(e,t,n)}function jf(e,t,n=Me){const{immediate:s,deep:r,flush:o,once:i}=n,a=bt({},n),l=t&&s||!t&&o!=="post";let u;if(Kr){if(o==="sync"){const h=Sb();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=xn,h.resume=xn,h.pause=xn,h}}const d=ht;a.call=(h,g,b)=>Tn(h,d,g,b);let f=!1;o==="post"?a.scheduler=h=>{at(h,d&&d.suspense)}:o!=="sync"&&(f=!0,a.scheduler=(h,g)=>{g?h():ac(h)}),a.augmentJob=h=>{t&&(h.flags|=4),f&&(h.flags|=2,d&&(h.id=d.uid,h.i=d))};const p=Um(e,t,a);return Kr&&(u?u.push(p):l&&p()),p}function Pb(e,t,n){const s=this.proxy,r=Ze(e)?e.includes(".")?Hf(s,e):()=>s[e]:e.bind(s,s);let o;$e(t)?o=t:(o=t.handler,n=t);const i=ko(this),a=jf(r,o.bind(s),n);return i(),a}function Hf(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const Ab=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Kt(t)}Modifiers`]||e[`${os(t)}Modifiers`];function Eb(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Me;let r=n;const o=t.startsWith("update:"),i=o&&Ab(s,t.slice(7));i&&(i.trim&&(r=n.map(d=>Ze(d)?d.trim():d)),i.number&&(r=n.map(ai)));let a,l=s[a=fa(t)]||s[a=fa(Kt(t))];!l&&o&&(l=s[a=fa(os(t))]),l&&Tn(l,e,6,r);const u=s[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Tn(u,e,6,r)}}const Bb=new WeakMap;function Vf(e,t,n=!1){const s=n?Bb:t.emitsCache,r=s.get(e);if(r!==void 0)return r;const o=e.emits;let i={},a=!1;if(!$e(e)){const l=u=>{const d=Vf(u,t,!0);d&&(a=!0,bt(i,d))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(Ue(e)&&s.set(e,null),null):(ye(o)?o.forEach(l=>i[l]=null):bt(i,o),Ue(e)&&s.set(e,i),i)}function Oi(e,t){return!e||!_i(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ie(e,t[0].toLowerCase()+t.slice(1))||Ie(e,os(t))||Ie(e,t))}function vu(e){const{type:t,vnode:n,proxy:s,withProxy:r,propsOptions:[o],slots:i,attrs:a,emit:l,render:u,renderCache:d,props:f,data:p,setupState:h,ctx:g,inheritAttrs:b}=e,v=fi(e);let $,x;try{if(n.shapeFlag&4){const m=r||s,w=m;$=yn(u.call(w,m,d,f,h,p,g)),x=a}else{const m=t;$=yn(m.length>1?m(f,{attrs:a,slots:i,emit:l}):m(f,null)),x=t.props?a:Ib(a)}}catch(m){Ur.length=0,Ii(m,e,1),$=tt(jn)}let y=$;if(x&&b!==!1){const m=Object.keys(x),{shapeFlag:w}=y;m.length&&w&7&&(o&&m.some(Zl)&&(x=Nb(x,o)),y=ks(y,x,!1,!0))}return n.dirs&&(y=ks(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&Ni(y,n.transition),$=y,fi(v),$}const Ib=e=>{let t;for(const n in e)(n==="class"||n==="style"||_i(n))&&((t||(t={}))[n]=e[n]);return t},Nb=(e,t)=>{const n={};for(const s in e)(!Zl(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Rb(e,t,n){const{props:s,children:r,component:o}=e,{props:i,children:a,patchFlag:l}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?wu(s,i,u):!!i;if(l&8){const d=t.dynamicProps;for(let f=0;f<d.length;f++){const p=d[f];if(i[p]!==s[p]&&!Oi(u,p))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===i?!1:s?i?wu(s,i,u):!0:!!i;return!1}function wu(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const o=s[r];if(t[o]!==e[o]&&!Oi(n,o))return!0}return!1}function Ob({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const bi=e=>e.__isSuspense;function Mb(e,t){t&&t.pendingBranch?ye(e)?t.effects.push(...e):t.effects.push(e):Wm(e)}const Se=Symbol.for("v-fgt"),Mi=Symbol.for("v-txt"),jn=Symbol.for("v-cmt"),ti=Symbol.for("v-stc"),Ur=[];let Ot=null;function I(e=!1){Ur.push(Ot=e?null:[])}function Lb(){Ur.pop(),Ot=Ur[Ur.length-1]||null}let qr=1;function xu(e,t=!1){qr+=e,e<0&&Ot&&t&&(Ot.hasOnce=!0)}function Gf(e){return e.dynamicChildren=qr>0?Ot||Xs:null,Lb(),qr>0&&Ot&&Ot.push(e),e}function R(e,t,n,s,r,o){return Gf(c(e,t,n,s,r,o,!0))}function bs(e,t,n,s,r){return Gf(tt(e,t,n,s,r,!0))}function dc(e){return e?e.__v_isVNode===!0:!1}function Ks(e,t){return e.type===t.type&&e.key===t.key}const qf=({key:e})=>e??null,ni=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ze(e)||Ge(e)||$e(e)?{i:Rt,r:e,k:t,f:!!n}:e:null);function c(e,t=null,n=null,s=0,r=null,o=e===Se?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&qf(t),ref:t&&ni(t),scopeId:$f,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Rt};return a?(fc(l,n),o&128&&e.normalize(l)):n&&(l.shapeFlag|=Ze(n)?8:16),qr>0&&!i&&Ot&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Ot.push(l),l}const tt=Fb;function Fb(e,t=null,n=null,s=0,r=null,o=!1){if((!e||e===Af)&&(e=jn),dc(e)){const a=ks(e,t,!0);return n&&fc(a,n),qr>0&&!o&&Ot&&(a.shapeFlag&6?Ot[Ot.indexOf(e)]=a:Ot.push(a)),a.patchFlag=-2,a}if(Kb(e)&&(e=e.__vccOpts),t){t=Ub(t);let{class:a,style:l}=t;a&&!Ze(a)&&(t.class=Ce(a)),Ue(l)&&(oc(l)&&!ye(l)&&(l=bt({},l)),t.style=Ei(l))}const i=Ze(e)?1:bi(e)?128:Vm(e)?64:Ue(e)?4:$e(e)?2:0;return c(e,t,n,s,r,i,o,!0)}function Ub(e){return e?oc(e)||Of(e)?bt({},e):e:null}function ks(e,t,n=!1,s=!1){const{props:r,ref:o,patchFlag:i,children:a,transition:l}=e,u=t?Db(r||{},t):r,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&qf(u),ref:t&&t.ref?n&&o?ye(o)?o.concat(ni(t)):[o,ni(t)]:ni(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Se?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ks(e.ssContent),ssFallback:e.ssFallback&&ks(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&s&&Ni(d,l.clone(d)),d}function K(e=" ",t=0){return tt(Mi,null,e,t)}function Kf(e,t){const n=tt(ti,null,e);return n.staticCount=t,n}function pe(e="",t=!1){return t?(I(),bs(jn,null,e)):tt(jn,null,e)}function yn(e){return e==null||typeof e=="boolean"?tt(jn):ye(e)?tt(Se,null,e.slice()):dc(e)?es(e):tt(Mi,null,String(e))}function es(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ks(e)}function fc(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(ye(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),fc(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!Of(t)?t._ctx=Rt:r===3&&Rt&&(Rt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else $e(t)?(t={default:t,_ctx:Rt},n=32):(t=String(t),s&64?(n=16,t=[K(t)]):n=8);e.children=t,e.shapeFlag|=n}function Db(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=Ce([t.class,s.class]));else if(r==="style")t.style=Ei([t.style,s.style]);else if(_i(r)){const o=t[r],i=s[r];i&&o!==i&&!(ye(o)&&o.includes(i))&&(t[r]=o?[].concat(o,i):i)}else r!==""&&(t[r]=s[r])}return t}function Wt(e,t,n,s=null){Tn(e,t,7,[n,s])}const zb=If();let Wb=0;function jb(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||zb,o={uid:Wb++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Jd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Lf(s,r),emitsOptions:Vf(s,r),emit:null,emitted:null,propsDefaults:Me,inheritAttrs:s.inheritAttrs,ctx:Me,data:Me,props:Me,attrs:Me,slots:Me,refs:Me,setupState:Me,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Eb.bind(null,o),e.ce&&e.ce(o),o}let ht=null;const pc=()=>ht||Rt;let gi,nl;{const e=Ai(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),o=>{r.length>1?r.forEach(i=>i(o)):r[0](o)}};gi=t("__VUE_INSTANCE_SETTERS__",n=>ht=n),nl=t("__VUE_SSR_SETTERS__",n=>Kr=n)}const ko=e=>{const t=ht;return gi(e),e.scope.on(),()=>{e.scope.off(),gi(t)}},$u=()=>{ht&&ht.scope.off(),gi(null)};function Zf(e){return e.vnode.shapeFlag&4}let Kr=!1;function Hb(e,t=!1,n=!1){t&&nl(t);const{props:s,children:r}=e.vnode,o=Zf(e);bb(e,s,o,t),wb(e,r,n||t);const i=o?Vb(e,t):void 0;return t&&nl(!1),i}function Vb(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,ib);const{setup:s}=n;if(s){zn();const r=e.setupContext=s.length>1?qb(e):null,o=ko(e),i=xo(s,e,0,[e.props,r]),a=Hd(i);if(Wn(),o(),(a||e.sp)&&!sr(e)&&kf(e),a){if(i.then($u,$u),t)return i.then(l=>{ku(e,l)}).catch(l=>{Ii(l,e,0)});e.asyncDep=i}else ku(e,i)}else Yf(e)}function ku(e,t,n){$e(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ue(t)&&(e.setupState=bf(t)),Yf(e)}function Yf(e,t,n){const s=e.type;e.render||(e.render=s.render||xn);{const r=ko(e);zn();try{ab(e)}finally{Wn(),r()}}}const Gb={get(e,t){return pt(e,"get",""),e[t]}};function qb(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Gb),slots:e.slots,emit:e.emit,expose:t}}function Li(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(bf(ic(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Lr)return Lr[n](e)},has(t,n){return n in t||n in Lr}})):e.proxy}function sl(e,t=!0){return $e(e)?e.displayName||e.name:e.name||t&&e.__name}function Kb(e){return $e(e)&&"__vccOpts"in e}const de=(e,t)=>Lm(e,t,Kr),Zb="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let rl;const Cu=typeof window<"u"&&window.trustedTypes;if(Cu)try{rl=Cu.createPolicy("vue",{createHTML:e=>e})}catch{}const Jf=rl?e=>rl.createHTML(e):e=>e,Yb="http://www.w3.org/2000/svg",Jb="http://www.w3.org/1998/Math/MathML",Bn=typeof document<"u"?document:null,Tu=Bn&&Bn.createElement("template"),Qb={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?Bn.createElementNS(Yb,e):t==="mathml"?Bn.createElementNS(Jb,e):n?Bn.createElement(e,{is:n}):Bn.createElement(e);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>Bn.createTextNode(e),createComment:e=>Bn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Bn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,o){const i=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{Tu.innerHTML=Jf(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const a=Tu.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Xb=Symbol("_vtc");function e1(e,t,n){const s=e[Xb];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const _u=Symbol("_vod"),t1=Symbol("_vsh"),n1=Symbol(""),s1=/(?:^|;)\s*display\s*:/;function r1(e,t,n){const s=e.style,r=Ze(n);let o=!1;if(n&&!r){if(t)if(Ze(t))for(const i of t.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&si(s,a,"")}else for(const i in t)n[i]==null&&si(s,i,"");for(const i in n)i==="display"&&(o=!0),si(s,i,n[i])}else if(r){if(t!==n){const i=s[n1];i&&(n+=";"+i),s.cssText=n,o=s1.test(n)}}else t&&e.removeAttribute("style");_u in e&&(e[_u]=o?s.display:"",e[t1]&&(s.display="none"))}const Su=/\s*!important$/;function si(e,t,n){if(ye(n))n.forEach(s=>si(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=o1(e,t);Su.test(n)?e.setProperty(os(s),n.replace(Su,""),"important"):e[s]=n}}const Pu=["Webkit","Moz","ms"],wa={};function o1(e,t){const n=wa[t];if(n)return n;let s=Kt(t);if(s!=="filter"&&s in e)return wa[t]=s;s=Pi(s);for(let r=0;r<Pu.length;r++){const o=Pu[r]+s;if(o in e)return wa[t]=o}return t}const Au="http://www.w3.org/1999/xlink";function Eu(e,t,n,s,r,o=im(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Au,t.slice(6,t.length)):e.setAttributeNS(Au,t,n):n==null||o&&!Kd(n)?e.removeAttribute(t):e.setAttribute(t,o?"":Cn(n)?String(n):n)}function Bu(e,t,n,s,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Jf(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=Kd(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(r||t)}function On(e,t,n,s){e.addEventListener(t,n,s)}function i1(e,t,n,s){e.removeEventListener(t,n,s)}const Iu=Symbol("_vei");function a1(e,t,n,s,r=null){const o=e[Iu]||(e[Iu]={}),i=o[t];if(s&&i)i.value=s;else{const[a,l]=l1(t);if(s){const u=o[t]=d1(s,r);On(e,a,u,l)}else i&&(i1(e,a,i,l),o[t]=void 0)}}const Nu=/(?:Once|Passive|Capture)$/;function l1(e){let t;if(Nu.test(e)){t={};let s;for(;s=e.match(Nu);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):os(e.slice(2)),t]}let xa=0;const c1=Promise.resolve(),u1=()=>xa||(c1.then(()=>xa=0),xa=Date.now());function d1(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Tn(f1(s,n.value),t,5,[s])};return n.value=e,n.attached=u1(),n}function f1(e,t){if(ye(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const Ru=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,p1=(e,t,n,s,r,o)=>{const i=r==="svg";t==="class"?e1(e,s,i):t==="style"?r1(e,n,s):_i(t)?Zl(t)||a1(e,t,n,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):h1(e,t,s,i))?(Bu(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Eu(e,t,s,i,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ze(s))?Bu(e,Kt(t),s,o,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Eu(e,t,s,i))};function h1(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ru(t)&&$e(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Ru(t)&&Ze(n)?!1:t in e}const rs=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ye(t)?n=>tr(t,n):t};function m1(e){e.target.composing=!0}function Ou(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Gt=Symbol("_assign"),ke={created(e,{modifiers:{lazy:t,trim:n,number:s}},r){e[Gt]=rs(r);const o=s||r.props&&r.props.type==="number";On(e,t?"change":"input",i=>{if(i.target.composing)return;let a=e.value;n&&(a=a.trim()),o&&(a=ai(a)),e[Gt](a)}),n&&On(e,"change",()=>{e.value=e.value.trim()}),t||(On(e,"compositionstart",m1),On(e,"compositionend",Ou),On(e,"change",Ou))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:r,number:o}},i){if(e[Gt]=rs(i),e.composing)return;const a=(o||e.type==="number")&&!/^0\d/.test(e.value)?ai(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||r&&e.value.trim()===l)||(e.value=l))}},gs={deep:!0,created(e,t,n){e[Gt]=rs(n),On(e,"change",()=>{const s=e._modelValue,r=ar(e),o=e.checked,i=e[Gt];if(ye(s)){const a=Ql(s,r),l=a!==-1;if(o&&!l)i(s.concat(r));else if(!o&&l){const u=[...s];u.splice(a,1),i(u)}}else if(mr(s)){const a=new Set(s);o?a.add(r):a.delete(r),i(a)}else i(Qf(e,o))})},mounted:Mu,beforeUpdate(e,t,n){e[Gt]=rs(n),Mu(e,t,n)}};function Mu(e,{value:t,oldValue:n},s){e._modelValue=t;let r;if(ye(t))r=Ql(t,s.props.value)>-1;else if(mr(t))r=t.has(s.props.value);else{if(t===n)return;r=$s(t,Qf(e,!0))}e.checked!==r&&(e.checked=r)}const Dr={created(e,{value:t},n){e.checked=$s(t,n.props.value),e[Gt]=rs(n),On(e,"change",()=>{e[Gt](ar(e))})},beforeUpdate(e,{value:t,oldValue:n},s){e[Gt]=rs(s),t!==n&&(e.checked=$s(t,s.props.value))}},nt={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const r=mr(t);On(e,"change",()=>{const o=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>n?ai(ar(i)):ar(i));e[Gt](e.multiple?r?new Set(o):o:o[0]),e._assigning=!0,$o(()=>{e._assigning=!1})}),e[Gt]=rs(s)},mounted(e,{value:t}){Lu(e,t)},beforeUpdate(e,t,n){e[Gt]=rs(n)},updated(e,{value:t}){e._assigning||Lu(e,t)}};function Lu(e,t){const n=e.multiple,s=ye(t);if(!(n&&!s&&!mr(t))){for(let r=0,o=e.options.length;r<o;r++){const i=e.options[r],a=ar(i);if(n)if(s){const l=typeof a;l==="string"||l==="number"?i.selected=t.some(u=>String(u)===String(a)):i.selected=Ql(t,a)>-1}else i.selected=t.has(a);else if($s(ar(i),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ar(e){return"_value"in e?e._value:e.value}function Qf(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const b1=["ctrl","shift","alt","meta"],g1={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>b1.some(n=>e[`${n}Key`]&&!t.includes(n))},$n=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(r,...o)=>{for(let i=0;i<t.length;i++){const a=g1[t[i]];if(a&&a(r,t))return}return e(r,...o)})},y1={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},v1=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=r=>{if(!("key"in r))return;const o=os(r.key);if(t.some(i=>i===o||y1[i]===o))return e(r)})},w1=bt({patchProp:p1},Qb);let Fu;function x1(){return Fu||(Fu=$b(w1))}const $1=(...e)=>{const t=x1().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=C1(s);if(!r)return;const o=t._component;!$e(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const i=n(r,!1,k1(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t};function k1(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function C1(e){return Ze(e)?document.querySelector(e):e}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Xf;const Fi=e=>Xf=e,e0=Symbol();function ol(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var zr;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(zr||(zr={}));function T1(){const e=Qd(!0),t=e.run(()=>ee({}));let n=[],s=[];const r=ic({install(o){Fi(r),r._a=o,o.provide(e0,r),o.config.globalProperties.$pinia=r,s.forEach(i=>n.push(i)),s=[]},use(o){return this._a?n.push(o):s.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const t0=()=>{};function Uu(e,t,n,s=t0){e.push(t);const r=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),s())};return!n&&Xd()&&lm(r),r}function js(e,...t){e.slice().forEach(n=>{n(...t)})}const _1=e=>e(),Du=Symbol(),$a=Symbol();function il(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,s)=>e.set(s,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],r=e[n];ol(r)&&ol(s)&&e.hasOwnProperty(n)&&!Ge(s)&&!Ln(s)?e[n]=il(r,s):e[n]=s}return e}const S1=Symbol();function P1(e){return!ol(e)||!e.hasOwnProperty(S1)}const{assign:Qn}=Object;function A1(e){return!!(Ge(e)&&e.effect)}function E1(e,t,n,s){const{state:r,actions:o,getters:i}=t,a=n.state.value[e];let l;function u(){a||(n.state.value[e]=r?r():{});const d=Im(n.state.value[e]);return Qn(d,o,Object.keys(i||{}).reduce((f,p)=>(f[p]=ic(de(()=>{Fi(n);const h=n._s.get(e);return i[p].call(h,h)})),f),{}))}return l=n0(e,u,t,n,s,!0),l}function n0(e,t,n={},s,r,o){let i;const a=Qn({actions:{}},n),l={deep:!0};let u,d,f=[],p=[],h;const g=s.state.value[e];!o&&!g&&(s.state.value[e]={}),ee({});let b;function v(E){let T;u=d=!1,typeof E=="function"?(E(s.state.value[e]),T={type:zr.patchFunction,storeId:e,events:h}):(il(s.state.value[e],E),T={type:zr.patchObject,payload:E,storeId:e,events:h});const C=b=Symbol();$o().then(()=>{b===C&&(u=!0)}),d=!0,js(f,T,s.state.value[e])}const $=o?function(){const{state:T}=n,C=T?T():{};this.$patch(S=>{Qn(S,C)})}:t0;function x(){i.stop(),f=[],p=[],s._s.delete(e)}const y=(E,T="")=>{if(Du in E)return E[$a]=T,E;const C=function(){Fi(s);const S=Array.from(arguments),O=[],U=[];function D(W){O.push(W)}function L(W){U.push(W)}js(p,{args:S,name:C[$a],store:w,after:D,onError:L});let F;try{F=E.apply(this&&this.$id===e?this:w,S)}catch(W){throw js(U,W),W}return F instanceof Promise?F.then(W=>(js(O,W),W)).catch(W=>(js(U,W),Promise.reject(W))):(js(O,F),F)};return C[Du]=!0,C[$a]=T,C},m={_p:s,$id:e,$onAction:Uu.bind(null,p),$patch:v,$reset:$,$subscribe(E,T={}){const C=Uu(f,E,T.detached,()=>S()),S=i.run(()=>$t(()=>s.state.value[e],O=>{(T.flush==="sync"?d:u)&&E({storeId:e,type:zr.direct,events:h},O)},Qn({},l,T)));return C},$dispose:x},w=wo(m);s._s.set(e,w);const B=(s._a&&s._a.runWithContext||_1)(()=>s._e.run(()=>(i=Qd()).run(()=>t({action:y}))));for(const E in B){const T=B[E];if(Ge(T)&&!A1(T)||Ln(T))o||(g&&P1(T)&&(Ge(T)?T.value=g[E]:il(T,g[E])),s.state.value[e][E]=T);else if(typeof T=="function"){const C=y(T,E);B[E]=C,a.actions[E]=T}}return Qn(w,B),Qn(Ee(w),B),Object.defineProperty(w,"$state",{get:()=>s.state.value[e],set:E=>{v(T=>{Qn(T,E)})}}),s._p.forEach(E=>{Qn(w,i.run(()=>E({store:w,app:s._a,pinia:s,options:a})))}),g&&o&&n.hydrate&&n.hydrate(w.$state,g),u=!0,d=!0,w}/*! #__NO_SIDE_EFFECTS__ */function Co(e,t,n){let s,r;const o=typeof t=="function";typeof e=="string"?(s=e,r=o?n:t):(r=e,s=e.id);function i(a,l){const u=mb();return a=a||(u?Fr(e0,null):null),a&&Fi(a),a=Xf,a._s.has(s)||(o?n0(s,t,r,a):E1(s,r,a)),a._s.get(s)}return i.$id=s,i}function mt(e){{const t=Ee(e),n={};for(const s in t){const r=t[s];r.effect?n[s]=de({get:()=>e[s],set(o){e[s]=o}}):(Ge(r)||Ln(r))&&(n[s]=Om(e,s))}return n}}const B1="http://localhost:5177";async function Wr(e,t={}){const n=localStorage.getItem("amm_token"),s=new Headers(t.headers||{});s.has("Content-Type")||s.set("Content-Type","application/json"),n&&s.set("Authorization",`Bearer ${n}`);const r=await fetch(`${B1}${e}`,{...t,headers:s,credentials:"include"}),o=await r.json().catch(()=>({}));if(!r.ok){const i=o.message||o.error||"";throw new Error(i)}return o}const I1=!1,N1="",R1={class:"login-page d-flex align-items-center justify-content-center bg-light"},O1={class:"card shadow-sm login-card"},M1={class:"card-body"},L1={key:0,class:"alert alert-danger py-2 mb-0"},F1=["disabled"],U1=ot({__name:"LoginView",emits:["logged-in"],setup(e,{emit:t}){const n=t,s=ee(""),r=ee(""),o=ee(!1),i=ee(""),a=async()=>{var l,u;o.value=!0,i.value="";try{const d=await Wr("/api/auth/login",{method:"POST",body:JSON.stringify({username:s.value.trim(),password:r.value})}),f=(l=d.data)==null?void 0:l.token;if(!f)throw new Error("");n("logged-in",{user:(u=d.data)==null?void 0:u.user,token:f})}catch(d){i.value=(d==null?void 0:d.message)||""}finally{o.value=!1}};return(l,u)=>(I(),R("div",R1,[c("div",O1,[c("div",M1,[u[4]||(u[4]=c("h1",{class:"h5 mb-3"},"AMM ",-1)),u[5]||(u[5]=c("p",{class:"text-muted small mb-4"},"",-1)),c("form",{onSubmit:$n(a,["prevent"]),class:"d-grid gap-3"},[c("div",null,[u[2]||(u[2]=c("label",{class:"form-label"},"",-1)),ue(c("input",{"onUpdate:modelValue":u[0]||(u[0]=d=>s.value=d),type:"text",class:"form-control",placeholder:"",autocomplete:"username",required:""},null,512),[[ke,s.value]])]),c("div",null,[u[3]||(u[3]=c("label",{class:"form-label"},"",-1)),ue(c("input",{"onUpdate:modelValue":u[1]||(u[1]=d=>r.value=d),type:"password",class:"form-control",placeholder:"",autocomplete:"current-password",required:""},null,512),[[ke,r.value]])]),i.value?(I(),R("div",L1,M(i.value),1)):pe("",!0),c("button",{class:"btn btn-primary",type:"submit",disabled:o.value},M(o.value?"...":""),9,F1)],32)])])]))}}),At=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},D1=At(U1,[["__scopeId","data-v-f863e756"]]),z1={class:"sidebar-header p-3 d-flex justify-content-between align-items-center"},W1={key:0},j1=["title"],H1={class:"nav flex-column gap-1 p-2 flex-grow-1"},V1=["onClick","title"],G1={key:0},q1=ot({__name:"Sidebar",props:{items:{},activeKey:{},collapsed:{type:Boolean}},emits:["select","toggle-collapse"],setup(e){return(t,n)=>(I(),R("div",{class:Ce(["sidebar d-flex flex-column",{"sidebar-collapsed":t.collapsed}])},[c("div",z1,[t.collapsed?pe("",!0):(I(),R("div",W1,[...n[1]||(n[1]=[c("div",{class:"fw-semibold fs-5"},"AMM ",-1),c("div",{class:"text-muted small"},"",-1)])])),c("button",{class:"btn btn-sm btn-light",onClick:n[0]||(n[0]=s=>t.$emit("toggle-collapse")),title:t.collapsed?"":""},[c("i",{class:Ce(["bi",t.collapsed?"bi-chevron-right":"bi-chevron-left"])},null,2)],8,j1)]),c("nav",H1,[(I(!0),R(Se,null,Le(t.items,s=>(I(),R("button",{key:s.key,class:Ce(["btn text-start sidebar-item",s.key===t.activeKey?"btn-primary":"btn-light"]),type:"button",onClick:r=>t.$emit("select",s.key),title:t.collapsed?s.label:""},[c("span",{class:Ce(t.collapsed?"":"me-2")},M(s.icon),3),t.collapsed?pe("",!0):(I(),R("span",G1,M(s.label),1))],10,V1))),128))])],2))}}),K1=At(q1,[["__scopeId","data-v-b7caf48c"]]),Zt=Co("chain",{state:()=>({chains:[{id:97,name:"BSC Testnet",rpc:"https://bsc-testnet.publicnode.com",governanceToken:"BNB",rpcOptions:[{name:"1",url:"https://bsc-testnet.publicnode.com"},{name:"2",url:"https://data-seed-prebsc-1-s1.binance.org:8545"}]},{id:56,name:"BSC Mainnet",rpc:"https://bsc-dataseed.binance.org",governanceToken:"BNB",rpcOptions:[{name:"Binance1",url:"https://bsc-dataseed.binance.org"},{name:"Binance2",url:"https://bsc-dataseed1.binance.org"},{name:"Binance3",url:"https://bsc-dataseed2.binance.org"},{name:"Binance4",url:"https://bsc-dataseed3.binance.org"},{name:"Binance5",url:"https://bsc-dataseed4.binance.org"},{name:"PublicNode",url:"https://bsc.publicnode.com"},{name:"NodeReal",url:"https://bsc-mainnet.nodereal.io/v1/64a9df0874fb4a93b9d0a3849de012d3"},{name:"",url:"https://meme.bsc.blockrazor.xyz"}]},{id:66,name:"OKX Chain",rpc:"https://exchainrpc.okex.org",governanceToken:"OKB",rpcOptions:[{name:"",url:"https://exchainrpc.okex.org"}]}],selectedChainId:56,selectedDex:"pancake-v2",rpcUrl:"https://bsc-dataseed.binance.org",customRpcUrl:""}),getters:{selectedChain:e=>e.chains.find(t=>t.id===e.selectedChainId),currentGovernanceToken:e=>{const t=e.chains.find(n=>n.id===e.selectedChainId);return(t==null?void 0:t.governanceToken)||"BNB"},effectiveRpcUrl:e=>e.customRpcUrl||e.rpcUrl},actions:{setCustomRpc(e){this.customRpcUrl=e,console.log("RPC:",e||"()")},clearCustomRpc(){this.customRpcUrl="",console.log("RPC:",this.rpcUrl)}}}),yi=Co("dex",{state:()=>({dexConfigs:[{id:"pancake-v2-testnet",name:"PancakeSwap V2 Testnet",factoryAddress:"0x6725F303b657a9451d8BA641348b6761A6CC7a17",routerAddress:"0xD99D1c33F9fC3444f8101754aBC46c52416550D1",baseTokens:["0xae13d989daC2f0dEbFf460aC112a837C89BAa7cd"]},{id:"pancake-v2-mainnet",name:"PancakeSwap V2 Mainnet",factoryAddress:"0xcA143Ce0Fe65960E6Aa4D42C8D3cE161c2B6604f",routerAddress:"0x10ED43C718714eb63d5aA57B78B54704E256024E",baseTokens:["0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c"]},{id:"okx-swap",name:"OKX Swap",factoryAddress:"0x0000000000000000000000000000000000000000",routerAddress:"0x0000000000000000000000000000000000000000",baseTokens:["0x8F8526dbfd6E38E3D8307702cA8469Bae6C56C15"]}],chainDexMappings:[{chainId:97,dexId:"pancake-v2-testnet"},{chainId:56,dexId:"pancake-v2-mainnet"},{chainId:66,dexId:"okx-swap"}],selectedDexId:"pancake-v2-mainnet"}),getters:{getDexByChainId:e=>t=>{const n=e.chainDexMappings.find(s=>s.chainId===t);return n?e.dexConfigs.find(s=>s.id===n.dexId):null},currentDex:e=>e.dexConfigs.find(t=>t.id===e.selectedDexId),currentDexId:e=>e.selectedDexId,currentDexName:e=>{const t=e.dexConfigs.find(n=>n.id===e.selectedDexId);return(t==null?void 0:t.name)||""},currentFactoryAddress:e=>{const t=e.dexConfigs.find(n=>n.id===e.selectedDexId);return(t==null?void 0:t.factoryAddress)||""},currentRouterAddress:e=>{const t=e.dexConfigs.find(n=>n.id===e.selectedDexId);return(t==null?void 0:t.routerAddress)||""},currentBaseTokens:e=>{const t=e.dexConfigs.find(n=>n.id===e.selectedDexId);return(t==null?void 0:t.baseTokens)||[]},allDexConfigs:e=>e.dexConfigs},actions:{setDexByChainId(e){const t=this.chainDexMappings.find(n=>n.chainId===e);t&&(this.selectedDexId=t.dexId,console.log(` ${e}  DEX: ${t.dexId}`))},setDex(e){this.selectedDexId=e}}}),Z1="1.1.0";let Et=class al extends Error{constructor(t,n={}){var i;const s=n.cause instanceof al?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,r=n.cause instanceof al&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...r?[`Docs: https://abitype.dev${r}`]:[],...s?[`Details: ${s}`]:[],`Version: abitype@${Z1}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=s,this.docsPath=r,this.metaMessages=n.metaMessages,this.shortMessage=t}};function Kn(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const s0=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,r0=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,o0=/^\(.+?\).*?$/,zu=/^tuple(?<array>(\[(\d*)\])*)$/;function ll(e){let t=e.type;if(zu.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let r=0;r<n;r++){const o=e.components[r];t+=ll(o),r<n-1&&(t+=", ")}const s=Kn(zu,e.type);return t+=`)${(s==null?void 0:s.array)??""}`,ll({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Zs(e){let t="";const n=e.length;for(let s=0;s<n;s++){const r=e[s];t+=ll(r),s!==n-1&&(t+=", ")}return t}function vi(e){var t;return e.type==="function"?`function ${e.name}(${Zs(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${Zs(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Zs(e.inputs)})`:e.type==="error"?`error ${e.name}(${Zs(e.inputs)})`:e.type==="constructor"?`constructor(${Zs(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const i0=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Y1(e){return i0.test(e)}function J1(e){return Kn(i0,e)}const a0=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Q1(e){return a0.test(e)}function X1(e){return Kn(a0,e)}const l0=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function eg(e){return l0.test(e)}function tg(e){return Kn(l0,e)}const c0=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Ui(e){return c0.test(e)}function ng(e){return Kn(c0,e)}const u0=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function sg(e){return u0.test(e)}function rg(e){return Kn(u0,e)}const d0=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function og(e){return d0.test(e)}function ig(e){return Kn(d0,e)}const ag=/^receive\(\) external payable$/;function lg(e){return ag.test(e)}const Wu=new Set(["memory","indexed","storage","calldata"]),cg=new Set(["indexed"]),cl=new Set(["calldata","memory","storage"]);class ug extends Et{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class dg extends Et{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class fg extends Et{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class pg extends Et{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class hg extends Et{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class mg extends Et{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class bg extends Et{constructor({param:t,type:n,modifier:s}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${s}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class gg extends Et{constructor({param:t,type:n,modifier:s}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${s}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${s}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class yg extends Et{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class yr extends Et{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class vg extends Et{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class wg extends Et{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class xg extends Et{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class $g extends Et{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function kg(e,t,n){let s="";if(n)for(const r of Object.entries(n)){if(!r)continue;let o="";for(const i of r[1])o+=`[${i.type}${i.name?`:${i.name}`:""}]`;s+=`(${r[0]}{${o}})`}return t?`${t}:${e}${s}`:e}const ka=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function ul(e,t={}){if(eg(e))return Cg(e,t);if(Q1(e))return Tg(e,t);if(Y1(e))return _g(e,t);if(sg(e))return Sg(e,t);if(og(e))return Pg(e);if(lg(e))return{type:"receive",stateMutability:"payable"};throw new vg({signature:e})}function Cg(e,t={}){const n=tg(e);if(!n)throw new yr({signature:e,type:"function"});const s=Nt(n.parameters),r=[],o=s.length;for(let a=0;a<o;a++)r.push(Hn(s[a],{modifiers:cl,structs:t,type:"function"}));const i=[];if(n.returns){const a=Nt(n.returns),l=a.length;for(let u=0;u<l;u++)i.push(Hn(a[u],{modifiers:cl,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:r,outputs:i}}function Tg(e,t={}){const n=X1(e);if(!n)throw new yr({signature:e,type:"event"});const s=Nt(n.parameters),r=[],o=s.length;for(let i=0;i<o;i++)r.push(Hn(s[i],{modifiers:cg,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:r}}function _g(e,t={}){const n=J1(e);if(!n)throw new yr({signature:e,type:"error"});const s=Nt(n.parameters),r=[],o=s.length;for(let i=0;i<o;i++)r.push(Hn(s[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:r}}function Sg(e,t={}){const n=rg(e);if(!n)throw new yr({signature:e,type:"constructor"});const s=Nt(n.parameters),r=[],o=s.length;for(let i=0;i<o;i++)r.push(Hn(s[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:r}}function Pg(e){const t=ig(e);if(!t)throw new yr({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const Ag=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Eg=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Bg=/^u?int$/;function Hn(e,t){var f,p;const n=kg(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(ka.has(n))return ka.get(n);const s=o0.test(e),r=Kn(s?Eg:Ag,e);if(!r)throw new hg({param:e});if(r.name&&Ng(r.name))throw new mg({param:e,name:r.name});const o=r.name?{name:r.name}:{},i=r.modifier==="indexed"?{indexed:!0}:{},a=(t==null?void 0:t.structs)??{};let l,u={};if(s){l="tuple";const h=Nt(r.type),g=[],b=h.length;for(let v=0;v<b;v++)g.push(Hn(h[v],{structs:a}));u={components:g}}else if(r.type in a)l="tuple",u={components:a[r.type]};else if(Bg.test(r.type))l=`${r.type}256`;else if(r.type==="address payable")l="address";else if(l=r.type,(t==null?void 0:t.type)!=="struct"&&!f0(l))throw new fg({type:l});if(r.modifier){if(!((p=(f=t==null?void 0:t.modifiers)==null?void 0:f.has)!=null&&p.call(f,r.modifier)))throw new bg({param:e,type:t==null?void 0:t.type,modifier:r.modifier});if(cl.has(r.modifier)&&!Rg(l,!!r.array))throw new gg({param:e,type:t==null?void 0:t.type,modifier:r.modifier})}const d={type:`${l}${r.array??""}`,...o,...i,...u};return ka.set(n,d),d}function Nt(e,t=[],n="",s=0){const r=e.trim().length;for(let o=0;o<r;o++){const i=e[o],a=e.slice(o+1);switch(i){case",":return s===0?Nt(a,[...t,n.trim()]):Nt(a,t,`${n}${i}`,s);case"(":return Nt(a,t,`${n}${i}`,s+1);case")":return Nt(a,t,`${n}${i}`,s-1);default:return Nt(a,t,`${n}${i}`,s)}}if(n==="")return t;if(s!==0)throw new $g({current:n,depth:s});return t.push(n.trim()),t}function f0(e){return e==="address"||e==="bool"||e==="function"||e==="string"||s0.test(e)||r0.test(e)}const Ig=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Ng(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||s0.test(e)||r0.test(e)||Ig.test(e)}function Rg(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function hc(e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];if(!Ui(a))continue;const l=ng(a);if(!l)throw new yr({signature:a,type:"struct"});const u=l.properties.split(";"),d=[],f=u.length;for(let p=0;p<f;p++){const g=u[p].trim();if(!g)continue;const b=Hn(g,{type:"struct"});d.push(b)}if(!d.length)throw new wg({signature:a});t[l.name]=d}const s={},r=Object.entries(t),o=r.length;for(let i=0;i<o;i++){const[a,l]=r[i];s[a]=p0(l,t)}return s}const Og=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function p0(e,t,n=new Set){const s=[],r=e.length;for(let o=0;o<r;o++){const i=e[o];if(o0.test(i.type))s.push(i);else{const l=Kn(Og,i.type);if(!(l!=null&&l.type))throw new yg({abiParameter:i});const{array:u,type:d}=l;if(d in t){if(n.has(d))throw new xg({type:d});s.push({...i,type:`tuple${u??""}`,components:p0(t[d]??[],t,new Set([...n,d]))})}else if(f0(d))s.push(i);else throw new dg({type:d})}}return s}function h0(e){const t=hc(e),n=[],s=e.length;for(let r=0;r<s;r++){const o=e[r];Ui(o)||n.push(ul(o,t))}return n}function ju(e){let t;if(typeof e=="string")t=ul(e);else{const n=hc(e),s=e.length;for(let r=0;r<s;r++){const o=e[r];if(!Ui(o)){t=ul(o,n);break}}}if(!t)throw new ug({signature:e});return t}function Hu(e){const t=[];if(typeof e=="string"){const n=Nt(e),s=n.length;for(let r=0;r<s;r++)t.push(Hn(n[r],{modifiers:Wu}))}else{const n=hc(e),s=e.length;for(let r=0;r<s;r++){const o=e[r];if(Ui(o))continue;const i=Nt(o),a=i.length;for(let l=0;l<a;l++)t.push(Hn(i[l],{modifiers:Wu,structs:n}))}}if(t.length===0)throw new pg({params:e});return t}function me(e,t,n){const s=e[t.name];if(typeof s=="function")return s;const r=e[n];return typeof r=="function"?r:o=>t(e,o)}function on(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Gg(e.type);return`${e.name}(${Di(e.inputs,{includeName:t})})`}function Di(e,{includeName:t=!1}={}){return e?e.map(n=>Mg(n,{includeName:t})).join(t?", ":","):""}function Mg(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Di(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function an(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function Ve(e){return an(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const m0="2.37.5";let Sr={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${m0}`},G=class dl extends Error{constructor(t,n={}){var a;const s=(()=>{var l;return n.cause instanceof dl?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),r=n.cause instanceof dl&&n.cause.docsPath||n.docsPath,o=(a=Sr.getDocsUrl)==null?void 0:a.call(Sr,{...n,docsPath:r}),i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...s?[`Details: ${s}`]:[],...Sr.version?[`Version: ${Sr.version}`]:[]].join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=s,this.docsPath=r,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=m0}walk(t){return b0(this,t)}};function b0(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?b0(e.cause,t):t?null:e}class Lg extends G{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class Vu extends G{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class g0 extends G{constructor({data:t,params:n,size:s}){super([`Data size of ${s} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Di(n,{includeName:!0})})`,`Data:   ${t} (${s} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=s}}class To extends G{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class Fg extends G{constructor({expectedLength:t,givenLength:n,type:s}){super([`ABI encoding array length mismatch for type ${s}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class Ug extends G{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Ve(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class y0 extends G{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class Dg extends G{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Gu extends G{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class v0 extends G{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class zg extends G{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class w0 extends G{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class qu extends G{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class lr extends G{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class x0 extends G{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class Wg extends G{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class jg extends G{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${on(t.abiItem)}\`, and`,`\`${n.type}\` in \`${on(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let $0=class extends G{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class Zr extends G{constructor({abiItem:t,data:n,params:s,size:r}){super([`Data size of ${r} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Di(s,{includeName:!0})})`,`Data:   ${n} (${r} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=s,this.size=r}}class zi extends G{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${on(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Hg extends G{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Vg extends G{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let k0=class extends G{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class Gg extends G{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class qg extends G{constructor(t){super(`Type "${t}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}class Kg extends G{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let C0=class extends G{constructor({offset:t,position:n,size:s}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${s}).`,{name:"SliceOffsetOutOfBoundsError"})}},T0=class extends G{constructor({size:t,targetSize:n,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class Ku extends G{constructor({size:t,targetSize:n,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} is expected to be ${n} ${s} long, but is ${t} ${s} long.`,{name:"InvalidBytesLengthError"})}}function Fn(e,{dir:t,size:n=32}={}){return typeof e=="string"?ns(e,{dir:t,size:n}):Zg(e,{dir:t,size:n})}function ns(e,{dir:t,size:n=32}={}){if(n===null)return e;const s=e.replace("0x","");if(s.length>n*2)throw new T0({size:Math.ceil(s.length/2),targetSize:n,type:"hex"});return`0x${s[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function Zg(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new T0({size:e.length,targetSize:n,type:"bytes"});const s=new Uint8Array(n);for(let r=0;r<n;r++){const o=t==="right";s[o?r:n-r-1]=e[o?r:e.length-r-1]}return s}let _0=class extends G{constructor({max:t,min:n,signed:s,size:r,value:o}){super(`Number "${o}" is not in safe ${r?`${r*8}-bit ${s?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},Yg=class extends G{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class Jg extends G{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Qg=class extends G{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function qt(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,s=0;for(let r=0;r<n.length-1&&n[t==="left"?r:n.length-r-1].toString()==="0";r++)s++;return n=t==="left"?n.slice(s):n.slice(0,n.length-s),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function fn(e,{size:t}){if(Ve(e)>t)throw new Qg({givenSize:Ve(e),maxSize:t})}function Mt(e,t={}){const{signed:n}=t;t.size&&fn(e,{size:t.size});const s=BigInt(e);if(!n)return s;const r=(e.length-2)/2,o=(1n<<BigInt(r)*8n-1n)-1n;return s<=o?s:s-BigInt(`0x${"f".padStart(r*2,"f")}`)-1n}function Xg(e,t={}){let n=e;if(t.size&&(fn(n,{size:t.size}),n=qt(n)),qt(n)==="0x00")return!1;if(qt(n)==="0x01")return!0;throw new Jg(n)}function Yt(e,t={}){return Number(Mt(e,t))}const ey=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Jt(e,t={}){return typeof e=="number"||typeof e=="bigint"?re(e,t):typeof e=="string"?Cs(e,t):typeof e=="boolean"?mc(e,t):Xe(e,t)}function mc(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(fn(n,{size:t.size}),Fn(n,{size:t.size})):n}function Xe(e,t={}){let n="";for(let r=0;r<e.length;r++)n+=ey[e[r]];const s=`0x${n}`;return typeof t.size=="number"?(fn(s,{size:t.size}),Fn(s,{dir:"right",size:t.size})):s}function re(e,t={}){const{signed:n,size:s}=t,r=BigInt(e);let o;s?n?o=(1n<<BigInt(s)*8n-1n)-1n:o=2n**(BigInt(s)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&r>o||r<i){const l=typeof e=="bigint"?"n":"";throw new _0({max:o?`${o}${l}`:void 0,min:`${i}${l}`,signed:n,size:s,value:`${e}${l}`})}const a=`0x${(n&&r<0?(1n<<BigInt(s*8))+BigInt(r):r).toString(16)}`;return s?Fn(a,{size:s}):a}const ty=new TextEncoder;function Cs(e,t={}){const n=ty.encode(e);return Xe(n,t)}const ny=new TextEncoder;function vr(e,t={}){return typeof e=="number"||typeof e=="bigint"?ry(e,t):typeof e=="boolean"?sy(e,t):an(e)?ln(e,t):ys(e,t)}function sy(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(fn(n,{size:t.size}),Fn(n,{size:t.size})):n}const Pn={zero:48,nine:57,A:65,F:70,a:97,f:102};function Zu(e){if(e>=Pn.zero&&e<=Pn.nine)return e-Pn.zero;if(e>=Pn.A&&e<=Pn.F)return e-(Pn.A-10);if(e>=Pn.a&&e<=Pn.f)return e-(Pn.a-10)}function ln(e,t={}){let n=e;t.size&&(fn(n,{size:t.size}),n=Fn(n,{dir:"right",size:t.size}));let s=n.slice(2);s.length%2&&(s=`0${s}`);const r=s.length/2,o=new Uint8Array(r);for(let i=0,a=0;i<r;i++){const l=Zu(s.charCodeAt(a++)),u=Zu(s.charCodeAt(a++));if(l===void 0||u===void 0)throw new G(`Invalid byte sequence ("${s[a-2]}${s[a-1]}" in "${s}").`);o[i]=l*16+u}return o}function ry(e,t){const n=re(e,t);return ln(n)}function ys(e,t={}){const n=ny.encode(e);return typeof t.size=="number"?(fn(n,{size:t.size}),Fn(n,{dir:"right",size:t.size})):n}const Go=BigInt(2**32-1),Yu=BigInt(32);function oy(e,t=!1){return t?{h:Number(e&Go),l:Number(e>>Yu&Go)}:{h:Number(e>>Yu&Go)|0,l:Number(e&Go)|0}}function iy(e,t=!1){const n=e.length;let s=new Uint32Array(n),r=new Uint32Array(n);for(let o=0;o<n;o++){const{h:i,l:a}=oy(e[o],t);[s[o],r[o]]=[i,a]}return[s,r]}const ay=(e,t,n)=>e<<n|t>>>32-n,ly=(e,t,n)=>t<<n|e>>>32-n,cy=(e,t,n)=>t<<n-32|e>>>64-n,uy=(e,t,n)=>e<<n-32|t>>>64-n,Hs=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function dy(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Yr(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Ts(e,...t){if(!dy(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function fy(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Yr(e.outputLen),Yr(e.blockLen)}function cr(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function S0(e,t){Ts(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function py(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function ur(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Ca(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function mn(e,t){return e<<32-t|e>>>t}const hy=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function my(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function by(e){for(let t=0;t<e.length;t++)e[t]=my(e[t]);return e}const Ju=hy?e=>e:by;function gy(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Wi(e){return typeof e=="string"&&(e=gy(e)),Ts(e),e}function yy(...e){let t=0;for(let s=0;s<e.length;s++){const r=e[s];Ts(r),t+=r.length}const n=new Uint8Array(t);for(let s=0,r=0;s<e.length;s++){const o=e[s];n.set(o,r),r+=o.length}return n}class bc{}function P0(e){const t=s=>e().update(Wi(s)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function vy(e=32){if(Hs&&typeof Hs.getRandomValues=="function")return Hs.getRandomValues(new Uint8Array(e));if(Hs&&typeof Hs.randomBytes=="function")return Uint8Array.from(Hs.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const wy=BigInt(0),Pr=BigInt(1),xy=BigInt(2),$y=BigInt(7),ky=BigInt(256),Cy=BigInt(113),A0=[],E0=[],B0=[];for(let e=0,t=Pr,n=1,s=0;e<24;e++){[n,s]=[s,(2*n+3*s)%5],A0.push(2*(5*s+n)),E0.push((e+1)*(e+2)/2%64);let r=wy;for(let o=0;o<7;o++)t=(t<<Pr^(t>>$y)*Cy)%ky,t&xy&&(r^=Pr<<(Pr<<BigInt(o))-Pr);B0.push(r)}const I0=iy(B0,!0),Ty=I0[0],_y=I0[1],Qu=(e,t,n)=>n>32?cy(e,t,n):ay(e,t,n),Xu=(e,t,n)=>n>32?uy(e,t,n):ly(e,t,n);function Sy(e,t=24){const n=new Uint32Array(10);for(let s=24-t;s<24;s++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,l=(i+2)%10,u=n[l],d=n[l+1],f=Qu(u,d,1)^n[a],p=Xu(u,d,1)^n[a+1];for(let h=0;h<50;h+=10)e[i+h]^=f,e[i+h+1]^=p}let r=e[2],o=e[3];for(let i=0;i<24;i++){const a=E0[i],l=Qu(r,o,a),u=Xu(r,o,a),d=A0[i];r=e[d],o=e[d+1],e[d]=l,e[d+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=Ty[s],e[1]^=_y[s]}ur(n)}class gc extends bc{constructor(t,n,s,r=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=s,this.enableXOF=r,this.rounds=o,Yr(s),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=py(this.state)}clone(){return this._cloneInto()}keccak(){Ju(this.state32),Sy(this.state32,this.rounds),Ju(this.state32),this.posOut=0,this.pos=0}update(t){cr(this),t=Wi(t),Ts(t);const{blockLen:n,state:s}=this,r=t.length;for(let o=0;o<r;){const i=Math.min(n-this.pos,r-o);for(let a=0;a<i;a++)s[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:s,blockLen:r}=this;t[s]^=n,n&128&&s===r-1&&this.keccak(),t[r-1]^=128,this.keccak()}writeInto(t){cr(this,!1),Ts(t),this.finish();const n=this.state,{blockLen:s}=this;for(let r=0,o=t.length;r<o;){this.posOut>=s&&this.keccak();const i=Math.min(s-this.posOut,o-r);t.set(n.subarray(this.posOut,this.posOut+i),r),this.posOut+=i,r+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Yr(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(S0(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ur(this.state)}_cloneInto(t){const{blockLen:n,suffix:s,outputLen:r,rounds:o,enableXOF:i}=this;return t||(t=new gc(n,s,r,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=s,t.outputLen=r,t.enableXOF=i,t.destroyed=this.destroyed,t}}const Py=(e,t,n)=>P0(()=>new gc(t,e,n)),N0=Py(1,136,256/8);function Ye(e,t){const n=t||"hex",s=N0(an(e,{strict:!1})?vr(e):e);return n==="bytes"?s:Jt(s)}const Ay=e=>Ye(vr(e));function Ey(e){return Ay(e)}function By(e){let t=!0,n="",s=0,r="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&s++,a===")"&&s--,!!t){if(s===0){if(a===" "&&["event","function",""].includes(r))r="";else if(r+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}r+=a,n+=a}}if(!o)throw new G("Unable to normalize signature.");return r}const Iy=e=>{const t=typeof e=="string"?e:vi(e);return By(t)};function R0(e){return Ey(Iy(e))}const ji=R0;let gt=class extends G{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Hi=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const s=this.keys().next().value;s&&this.delete(s)}return this}};const Ta=new Hi(8192);function _o(e,t){if(Ta.has(`${e}.${t}`))return Ta.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),s=Ye(ys(n),"bytes"),r=n.split("");for(let i=0;i<40;i+=2)s[i>>1]>>4>=8&&r[i]&&(r[i]=r[i].toUpperCase()),(s[i>>1]&15)>=8&&r[i+1]&&(r[i+1]=r[i+1].toUpperCase());const o=`0x${r.join("")}`;return Ta.set(`${e}.${t}`,o),o}function We(e,t){if(!et(e,{strict:!1}))throw new gt({address:e});return _o(e,t)}const Ny=/^0x[a-fA-F0-9]{40}$/,_a=new Hi(8192);function et(e,t){const{strict:n=!0}=t??{},s=`${e}.${n}`;if(_a.has(s))return _a.get(s);const r=Ny.test(e)?e.toLowerCase()===e?!0:n?_o(e)===e:!0:!1;return _a.set(s,r),r}function Qt(e){return typeof e[0]=="string"?Xt(e):Ry(e)}function Ry(e){let t=0;for(const r of e)t+=r.length;const n=new Uint8Array(t);let s=0;for(const r of e)n.set(r,s),s+=r.length;return n}function Xt(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function _s(e,t,n,{strict:s}={}){return an(e,{strict:!1})?fl(e,t,n,{strict:s}):L0(e,t,n,{strict:s})}function O0(e,t){if(typeof t=="number"&&t>0&&t>Ve(e)-1)throw new C0({offset:t,position:"start",size:Ve(e)})}function M0(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Ve(e)!==n-t)throw new C0({offset:n,position:"end",size:Ve(e)})}function L0(e,t,n,{strict:s}={}){O0(e,t);const r=e.slice(t,n);return s&&M0(r,t,n),r}function fl(e,t,n,{strict:s}={}){O0(e,t);const r=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&M0(r,t,n),r}const Oy=/^(.*)\[([0-9]*)\]$/,F0=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,yc=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Ms(e,t){if(e.length!==t.length)throw new y0({expectedLength:e.length,givenLength:t.length});const n=My({params:e,values:t}),s=wc(n);return s.length===0?"0x":s}function My({params:e,values:t}){const n=[];for(let s=0;s<e.length;s++)n.push(vc({param:e[s],value:t[s]}));return n}function vc({param:e,value:t}){const n=xc(e.type);if(n){const[s,r]=n;return Fy(t,{length:s,param:{...e,type:r}})}if(e.type==="tuple")return jy(t,{param:e});if(e.type==="address")return Ly(t);if(e.type==="bool")return Dy(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const s=e.type.startsWith("int"),[,,r="256"]=yc.exec(e.type)??[];return zy(t,{signed:s,size:Number(r)})}if(e.type.startsWith("bytes"))return Uy(t,{param:e});if(e.type==="string")return Wy(t);throw new Hg(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function wc(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=Ve(a)}const n=[],s=[];let r=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(re(t+r,{size:32})),s.push(a),r+=Ve(a)):n.push(a)}return Qt([...n,...s])}function Ly(e){if(!et(e))throw new gt({address:e});return{dynamic:!1,encoded:ns(e.toLowerCase())}}function Fy(e,{length:t,param:n}){const s=t===null;if(!Array.isArray(e))throw new k0(e);if(!s&&e.length!==t)throw new Fg({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let r=!1;const o=[];for(let i=0;i<e.length;i++){const a=vc({param:n,value:e[i]});a.dynamic&&(r=!0),o.push(a)}if(s||r){const i=wc(o);if(s){const a=re(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?Qt([a,i]):a}}if(r)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:Qt(o.map(({encoded:i})=>i))}}function Uy(e,{param:t}){const[,n]=t.type.split("bytes"),s=Ve(e);if(!n){let r=e;return s%32!==0&&(r=ns(r,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:Qt([ns(re(s,{size:32})),r])}}if(s!==Number.parseInt(n,10))throw new Ug({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:ns(e,{dir:"right"})}}function Dy(e){if(typeof e!="boolean")throw new G(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:ns(mc(e))}}function zy(e,{signed:t,size:n=256}){if(typeof n=="number"){const s=2n**(BigInt(n)-(t?1n:0n))-1n,r=t?-s-1n:0n;if(e>s||e<r)throw new _0({max:s.toString(),min:r.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:re(e,{size:32,signed:t})}}function Wy(e){const t=Cs(e),n=Math.ceil(Ve(t)/32),s=[];for(let r=0;r<n;r++)s.push(ns(_s(t,r*32,(r+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Qt([ns(re(Ve(t),{size:32})),...s])}}function jy(e,{param:t}){let n=!1;const s=[];for(let r=0;r<t.components.length;r++){const o=t.components[r],i=Array.isArray(e)?r:o.name,a=vc({param:o,value:e[i]});s.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?wc(s):Qt(s.map(({encoded:r})=>r))}}function xc(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const So=e=>_s(R0(e),0,4);function Ls(e){const{abi:t,args:n=[],name:s}=e,r=an(s,{strict:!1}),o=t.filter(a=>r?a.type==="function"?So(a)===s:a.type==="event"?ji(a)===s:!1:"name"in a&&a.name===s);if(o.length===0)return;if(o.length===1)return o[0];let i;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,d)=>{const f="inputs"in a&&a.inputs[d];return f?pl(u,f):!1})){if(i&&"inputs"in i&&i.inputs){const u=U0(a.inputs,i.inputs,n);if(u)throw new jg({abiItem:a,type:u[0]},{abiItem:i,type:u[1]})}i=a}}return i||o[0]}function pl(e,t){const n=typeof e,s=t.type;switch(s){case"address":return et(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return s==="tuple"&&"components"in t?Object.values(t.components).every((r,o)=>pl(Object.values(e)[o],r)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(s)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(s)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(s)?Array.isArray(e)&&e.every(r=>pl(r,{...t,type:s.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function U0(e,t,n){for(const s in e){const r=e[s],o=t[s];if(r.type==="tuple"&&o.type==="tuple"&&"components"in r&&"components"in o)return U0(r.components,o.components,n[s]);const i=[r.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?et(n[s],{strict:!1}):i.includes("address")&&i.includes("bytes")?et(n[s],{strict:!1}):!1)return i}}const ed="/docs/contract/encodeEventTopics";function Po(e){var l;const{abi:t,eventName:n,args:s}=e;let r=t[0];if(n){const u=Ls({abi:t,name:n});if(!u)throw new qu(n,{docsPath:ed});r=u}if(r.type!=="event")throw new qu(void 0,{docsPath:ed});const o=on(r),i=ji(o);let a=[];if(s&&"inputs"in r){const u=(l=r.inputs)==null?void 0:l.filter(f=>"indexed"in f&&f.indexed),d=Array.isArray(s)?s:Object.values(s).length>0?(u==null?void 0:u.map(f=>s[f.name]))??[]:[];d.length>0&&(a=(u==null?void 0:u.map((f,p)=>Array.isArray(d[p])?d[p].map((h,g)=>td({param:f,value:d[p][g]})):typeof d[p]<"u"&&d[p]!==null?td({param:f,value:d[p]}):null))??[])}return[i,...a]}function td({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return Ye(vr(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Kg(e.type);return Ms([e],[t])}function Vi(e,{method:t}){var s,r;const n={};return e.transport.type==="fallback"&&((r=(s=e.transport).onResponse)==null||r.call(s,({method:o,response:i,status:a,transport:l})=>{a==="success"&&t===o&&(n[i]=l.request)})),o=>n[o]||e.request}async function D0(e,t){const{address:n,abi:s,args:r,eventName:o,fromBlock:i,strict:a,toBlock:l}=t,u=Vi(e,{method:"eth_newFilter"}),d=o?Po({abi:s,args:r,eventName:o}):void 0,f=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?re(i):i,toBlock:typeof l=="bigint"?re(l):l,topics:d}]});return{abi:s,args:r,eventName:o,id:f,request:u(f),strict:!!a,type:"event"}}function Je(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const nd="/docs/contract/encodeFunctionData";function Hy(e){const{abi:t,args:n,functionName:s}=e;let r=t[0];if(s){const o=Ls({abi:t,args:n,name:s});if(!o)throw new lr(s,{docsPath:nd});r=o}if(r.type!=="function")throw new lr(void 0,{docsPath:nd});return{abi:[r],functionName:So(on(r))}}function Ct(e){const{args:t}=e,{abi:n,functionName:s}=(()=>{var a;return e.abi.length===1&&((a=e.functionName)!=null&&a.startsWith("0x"))?e:Hy(e)})(),r=n[0],o=s,i="inputs"in r&&r.inputs?Ms(r.inputs,t??[]):void 0;return Xt([o,i??"0x"])}const Vy={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},z0={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Gy={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let sd=class extends G{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},W0=class extends G{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},qy=class extends G{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const Ky={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new qy({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new W0({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new sd({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new sd({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function $c(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Ky);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Zy(e,t={}){typeof t.size<"u"&&fn(e,{size:t.size});const n=Xe(e,t);return Mt(n,t)}function Yy(e,t={}){let n=e;if(typeof t.size<"u"&&(fn(n,{size:t.size}),n=qt(n)),n.length>1||n[0]>1)throw new Yg(n);return!!n[0]}function Un(e,t={}){typeof t.size<"u"&&fn(e,{size:t.size});const n=Xe(e,t);return Yt(n,t)}function Jy(e,t={}){let n=e;return typeof t.size<"u"&&(fn(n,{size:t.size}),n=qt(n,{dir:"right"})),new TextDecoder().decode(n)}function Ao(e,t){const n=typeof t=="string"?ln(t):t,s=$c(n);if(Ve(n)===0&&e.length>0)throw new To;if(Ve(t)&&Ve(t)<32)throw new g0({data:typeof t=="string"?t:Xe(t),params:e,size:Ve(t)});let r=0;const o=[];for(let i=0;i<e.length;++i){const a=e[i];s.setPosition(r);const[l,u]=rr(s,a,{staticPosition:0});r+=u,o.push(l)}return o}function rr(e,t,{staticPosition:n}){const s=xc(t.type);if(s){const[r,o]=s;return Xy(e,{...t,type:o},{length:r,staticPosition:n})}if(t.type==="tuple")return sv(e,t,{staticPosition:n});if(t.type==="address")return Qy(e);if(t.type==="bool")return ev(e);if(t.type.startsWith("bytes"))return tv(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return nv(e,t);if(t.type==="string")return rv(e,{staticPosition:n});throw new Vg(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const rd=32,hl=32;function Qy(e){const t=e.readBytes(32);return[_o(Xe(L0(t,-20))),32]}function Xy(e,t,{length:n,staticPosition:s}){if(!n){const i=Un(e.readBytes(hl)),a=s+i,l=a+rd;e.setPosition(a);const u=Un(e.readBytes(rd)),d=Jr(t);let f=0;const p=[];for(let h=0;h<u;++h){e.setPosition(l+(d?h*32:f));const[g,b]=rr(e,t,{staticPosition:l});f+=b,p.push(g)}return e.setPosition(s+32),[p,32]}if(Jr(t)){const i=Un(e.readBytes(hl)),a=s+i,l=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[d]=rr(e,t,{staticPosition:a});l.push(d)}return e.setPosition(s+32),[l,32]}let r=0;const o=[];for(let i=0;i<n;++i){const[a,l]=rr(e,t,{staticPosition:s+r});r+=l,o.push(a)}return[o,r]}function ev(e){return[Yy(e.readBytes(32),{size:32}),32]}function tv(e,t,{staticPosition:n}){const[s,r]=t.type.split("bytes");if(!r){const i=Un(e.readBytes(32));e.setPosition(n+i);const a=Un(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const l=e.readBytes(a);return e.setPosition(n+32),[Xe(l),32]}return[Xe(e.readBytes(Number.parseInt(r,10),32)),32]}function nv(e,t){const n=t.type.startsWith("int"),s=Number.parseInt(t.type.split("int")[1]||"256",10),r=e.readBytes(32);return[s>48?Zy(r,{signed:n}):Un(r,{signed:n}),32]}function sv(e,t,{staticPosition:n}){const s=t.components.length===0||t.components.some(({name:i})=>!i),r=s?[]:{};let o=0;if(Jr(t)){const i=Un(e.readBytes(hl)),a=n+i;for(let l=0;l<t.components.length;++l){const u=t.components[l];e.setPosition(a+o);const[d,f]=rr(e,u,{staticPosition:a});o+=f,r[s?l:u==null?void 0:u.name]=d}return e.setPosition(n+32),[r,32]}for(let i=0;i<t.components.length;++i){const a=t.components[i],[l,u]=rr(e,a,{staticPosition:n});r[s?i:a==null?void 0:a.name]=l,o+=u}return[r,o]}function rv(e,{staticPosition:t}){const n=Un(e.readBytes(32)),s=t+n;e.setPosition(s);const r=Un(e.readBytes(32));if(r===0)return e.setPosition(t+32),["",32];const o=e.readBytes(r,32),i=Jy(qt(o));return e.setPosition(t+32),[i,32]}function Jr(e){var s;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(s=e.components)==null?void 0:s.some(Jr);const n=xc(e.type);return!!(n&&Jr({...e,type:n[1]}))}function ov(e){const{abi:t,data:n}=e,s=_s(n,0,4);if(s==="0x")throw new To;const o=[...t||[],z0,Gy].find(i=>i.type==="error"&&s===So(on(i)));if(!o)throw new v0(s,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?Ao(o.inputs,_s(n,4)):void 0,errorName:o.name}}const Qe=(e,t,n)=>JSON.stringify(e,(s,r)=>typeof r=="bigint"?r.toString():r,n);function j0({abiItem:e,args:t,includeFunctionName:n=!0,includeName:s=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((r,o)=>`${s&&r.name?`${r.name}: `:""}${typeof t[o]=="object"?Qe(t[o]):t[o]}`).join(", ")})`}const H0={gwei:9,wei:18},iv={ether:-9,wei:9};function we(e,t){let n=e.toString();const s=n.startsWith("-");s&&(n=n.slice(1)),n=n.padStart(t,"0");let[r,o]=[n.slice(0,n.length-t),n.slice(n.length-t)];return o=o.replace(/(0+)$/,""),`${s?"-":""}${r||"0"}${o?`.${o}`:""}`}function Te(e,t="wei"){return we(e,H0[t])}function Pt(e,t="wei"){return we(e,iv[t])}class av extends G{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class lv extends G{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function od(e){return e.reduce((t,{slot:n,value:s})=>`${t}        ${n}: ${s}
`,"")}function cv(e){return e.reduce((t,{address:n,...s})=>{let r=`${t}    ${n}:
`;return s.nonce&&(r+=`      nonce: ${s.nonce}
`),s.balance&&(r+=`      balance: ${s.balance}
`),s.code&&(r+=`      code: ${s.code}
`),s.state&&(r+=`      state:
`,r+=od(s.state)),s.stateDiff&&(r+=`      stateDiff:
`,r+=od(s.stateDiff)),r},`  State Override:
`).slice(0,-1)}function Eo(e){const t=Object.entries(e).map(([s,r])=>r===void 0||r===!1?null:[s,r]).filter(Boolean),n=t.reduce((s,[r])=>Math.max(s,r.length),0);return t.map(([s,r])=>`  ${`${s}:`.padEnd(n+1)}  ${r}`).join(`
`)}class uv extends G{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class dv extends G{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class fv extends G{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Eo(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class pv extends G{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class hv extends G{constructor(t,{account:n,docsPath:s,chain:r,data:o,gas:i,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:d,to:f,value:p}){var g;const h=Eo({chain:r&&`${r==null?void 0:r.name} (id: ${r==null?void 0:r.id})`,from:n==null?void 0:n.address,to:f,value:typeof p<"u"&&`${Te(p)} ${((g=r==null?void 0:r.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${Pt(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Pt(l)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Pt(u)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class V0 extends G{constructor({blockHash:t,blockNumber:n,blockTag:s,hash:r,index:o}){let i="Transaction";s&&o!==void 0&&(i=`Transaction at block time "${s}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),r&&(i=`Transaction with hash "${r}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class G0 extends G{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class mv extends G{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const bv=e=>e,Bo=e=>e;class q0 extends G{constructor(t,{account:n,docsPath:s,chain:r,data:o,gas:i,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:d,to:f,value:p,stateOverride:h}){var v;const g=n?Je(n):void 0;let b=Eo({from:g==null?void 0:g.address,to:f,value:typeof p<"u"&&`${Te(p)} ${((v=r==null?void 0:r.nativeCurrency)==null?void 0:v.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${Pt(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Pt(l)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Pt(u)} gwei`,nonce:d});h&&(b+=`
${cv(h)}`),super(t.shortMessage,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",b].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class K0 extends G{constructor(t,{abi:n,args:s,contractAddress:r,docsPath:o,functionName:i,sender:a}){const l=Ls({abi:n,args:s,name:i}),u=l?j0({abiItem:l,args:s,includeFunctionName:!1,includeName:!1}):void 0,d=l?on(l,{includeName:!0}):void 0,f=Eo({address:r&&bv(r),function:d,args:u&&u!=="()"&&`${[...Array((i==null?void 0:i.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],f&&"Contract Call:",f].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=s,this.cause=t,this.contractAddress=r,this.functionName=i,this.sender=a}}class ml extends G{constructor({abi:t,data:n,functionName:s,message:r}){let o,i,a,l;if(n&&n!=="0x")try{i=ov({abi:t,data:n});const{abiItem:d,errorName:f,args:p}=i;if(f==="Error")l=p[0];else if(f==="Panic"){const[h]=p;l=Vy[h]}else{const h=d?on(d,{includeName:!0}):void 0,g=d&&p?j0({abiItem:d,args:p,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",g&&g!=="()"?`       ${[...Array((f==null?void 0:f.length)??0).keys()].map(()=>" ").join("")}${g}`:""]}}catch(d){o=d}else r&&(l=r);let u;o instanceof v0&&(u=o.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(l&&l!=="execution reverted"||u?[`The contract function "${s}" reverted with the following ${u?"signature":"reason"}:`,l||u].join(`
`):`The contract function "${s}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=l,this.signature=u}}class gv extends G{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class yv extends G{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Gi extends G{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class jr extends G{constructor({body:t,cause:n,details:s,headers:r,status:o,url:i}){super("HTTP request failed.",{cause:n,details:s,metaMessages:[o&&`Status: ${o}`,`URL: ${Bo(i)}`,t&&`Request body: ${Qe(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=r,this.status=o,this.url=i}}class id extends G{constructor({body:t,cause:n,details:s,url:r}){super("WebSocket request failed.",{cause:n,details:s,metaMessages:[`URL: ${Bo(r)}`,t&&`Request body: ${Qe(t)}`].filter(Boolean),name:"WebSocketRequestError"})}}class qi extends G{constructor({body:t,error:n,url:s}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Bo(s)}`,`Request body: ${Qe(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class wi extends G{constructor({url:t}={}){super("The socket has been closed.",{metaMessages:[t&&`URL: ${Bo(t)}`].filter(Boolean),name:"SocketClosedError"})}}class bl extends G{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Bo(n)}`,`Request body: ${Qe(t)}`],name:"TimeoutError"})}}const vv=-1;class Bt extends G{constructor(t,{code:n,docsPath:s,metaMessages:r,name:o,shortMessage:i}){super(i,{cause:t,docsPath:s,metaMessages:r||(t==null?void 0:t.metaMessages),name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||t.name,this.code=t instanceof qi?t.code:n??vv}}class Ft extends Bt{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Qr extends Bt{constructor(t){super(t,{code:Qr.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Qr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Xr extends Bt{constructor(t){super(t,{code:Xr.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Xr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class eo extends Bt{constructor(t,{method:n}={}){super(t,{code:eo.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(eo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class to extends Bt{constructor(t){super(t,{code:to.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(to,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Ss extends Bt{constructor(t){super(t,{code:Ss.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Ss,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Ps extends Bt{constructor(t){super(t,{code:Ps.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Ps,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class no extends Bt{constructor(t){super(t,{code:no.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(no,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class so extends Bt{constructor(t){super(t,{code:so.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(so,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class dr extends Bt{constructor(t){super(t,{code:dr.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(dr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class ds extends Bt{constructor(t,{method:n}={}){super(t,{code:ds.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(ds,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class fr extends Bt{constructor(t){super(t,{code:fr.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(fr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class ro extends Bt{constructor(t){super(t,{code:ro.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(ro,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class vs extends Ft{constructor(t){super(t,{code:vs.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(vs,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class oo extends Ft{constructor(t){super(t,{code:oo.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(oo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class io extends Ft{constructor(t,{method:n}={}){super(t,{code:io.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(io,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class ao extends Ft{constructor(t){super(t,{code:ao.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(ao,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class lo extends Ft{constructor(t){super(t,{code:lo.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(lo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class co extends Ft{constructor(t){super(t,{code:co.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(co,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class pr extends Ft{constructor(t){super(t,{code:pr.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(pr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class uo extends Ft{constructor(t){super(t,{code:uo.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(uo,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class fo extends Ft{constructor(t){super(t,{code:fo.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(fo,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class po extends Ft{constructor(t){super(t,{code:po.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(po,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class ho extends Ft{constructor(t){super(t,{code:ho.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(ho,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class mo extends Ft{constructor(t){super(t,{code:mo.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(mo,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class hr extends Ft{constructor(t){super(t,{code:hr.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(hr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class wv extends Bt{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const xv=3;function As(e,{abi:t,address:n,args:s,docsPath:r,functionName:o,sender:i}){const a=e instanceof Gi?e:e instanceof G?e.walk(g=>"data"in g)||e.walk():{},{code:l,data:u,details:d,message:f,shortMessage:p}=a,h=e instanceof To?new gv({functionName:o}):[xv,Ss.code].includes(l)&&(u||d||f||p)?new ml({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:a instanceof qi?d:p??f}):e;return new K0(h,{abi:t,args:s,contractAddress:n,docsPath:r,functionName:o,sender:i})}function Z0(e){const t=Ye(`0x${e.substring(4)}`).substring(26);return _o(`0x${t}`)}const $v="modulepreload",kv=function(e){return"/"+e},ad={},kc=function(t,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=kv(l),l in ad)return;ad[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":$v,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})};async function Cv({hash:e,signature:t}){const n=an(e)?e:Jt(e),{secp256k1:s}=await kc(async()=>{const{secp256k1:i}=await Promise.resolve().then(()=>a2);return{secp256k1:i}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:d,v:f,yParity:p}=t,h=Number(p??f),g=ld(h);return new s.Signature(Mt(u),Mt(d)).addRecoveryBit(g)}const i=an(t)?t:Jt(t);if(Ve(i)!==65)throw new Error("invalid signature length");const a=Yt(`0x${i.slice(130)}`),l=ld(a);return s.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function ld(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Y0({hash:e,signature:t}){return Z0(await Cv({hash:e,signature:t}))}function Es(e,t="hex"){const n=J0(e),s=$c(new Uint8Array(n.length));return n.encode(s),t==="hex"?Xe(s.bytes):s.bytes}function J0(e){return Array.isArray(e)?Tv(e.map(t=>J0(t))):_v(e)}function Tv(e){const t=e.reduce((r,o)=>r+o.length,0),n=Q0(t);return{length:t<=55?1+t:1+n+t,encode(r){t<=55?r.pushByte(192+t):(r.pushByte(247+n),n===1?r.pushUint8(t):n===2?r.pushUint16(t):n===3?r.pushUint24(t):r.pushUint32(t));for(const{encode:o}of e)o(r)}}}function _v(e){const t=typeof e=="string"?ln(e):e,n=Q0(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(r){t.length===1&&t[0]<128?r.pushBytes(t):t.length<=55?(r.pushByte(128+t.length),r.pushBytes(t)):(r.pushByte(183+n),n===1?r.pushUint8(t.length):n===2?r.pushUint16(t.length):n===3?r.pushUint24(t.length):r.pushUint32(t.length),r.pushBytes(t))}}}function Q0(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new G("Length is too large.")}function X0(e){const{chainId:t,nonce:n,to:s}=e,r=e.contractAddress??e.address,o=Ye(Xt(["0x05",Es([t?re(t):"0x",r,n?re(n):"0x"])]));return s==="bytes"?ln(o):o}async function Cc(e){const{authorization:t,signature:n}=e;return Y0({hash:X0(t),signature:n??t})}class Sv extends G{constructor(t,{account:n,docsPath:s,chain:r,data:o,gas:i,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:d,to:f,value:p}){var g;const h=Eo({from:n==null?void 0:n.address,to:f,value:typeof p<"u"&&`${Te(p)} ${((g=r==null?void 0:r.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${Pt(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Pt(l)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Pt(u)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class fs extends G{constructor({cause:t,message:n}={}){var r;const s=(r=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:r.replace("execution reverted","");super(`Execution reverted ${s?`with reason: ${s}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(fs,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(fs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Bs extends G{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Pt(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(Bs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class gl extends G{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Pt(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(gl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class yl extends G{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(yl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class vl extends G{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(vl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class wl extends G{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(wl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class xl extends G{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(xl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class $l extends G{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty($l,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class kl extends G{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(kl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Cl extends G{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Cl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class bo extends G{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:s}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Pt(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${s?` = ${Pt(s)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(bo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Io extends G{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function Ki(e,t){const n=(e.details||"").toLowerCase(),s=e instanceof G?e.walk(r=>(r==null?void 0:r.code)===fs.code):e;return s instanceof G?new fs({cause:e,message:s.details}):fs.nodeMessage.test(n)?new fs({cause:e,message:e.details}):Bs.nodeMessage.test(n)?new Bs({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):gl.nodeMessage.test(n)?new gl({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):yl.nodeMessage.test(n)?new yl({cause:e,nonce:t==null?void 0:t.nonce}):vl.nodeMessage.test(n)?new vl({cause:e,nonce:t==null?void 0:t.nonce}):wl.nodeMessage.test(n)?new wl({cause:e,nonce:t==null?void 0:t.nonce}):xl.nodeMessage.test(n)?new xl({cause:e}):$l.nodeMessage.test(n)?new $l({cause:e,gas:t==null?void 0:t.gas}):kl.nodeMessage.test(n)?new kl({cause:e,gas:t==null?void 0:t.gas}):Cl.nodeMessage.test(n)?new Cl({cause:e}):bo.nodeMessage.test(n)?new bo({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Io({cause:e})}function Pv(e,{docsPath:t,...n}){const s=(()=>{const r=Ki(e,n);return r instanceof Io?e:r})();return new Sv(s,{docsPath:t,...n})}function Zi(e,{format:t}){if(!t)return{};const n={};function s(o){const i=Object.keys(o);for(const a of i)a in e&&(n[a]=e[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&s(o[a])}const r=t(e||{});return s(r),n}const Av={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function wr(e){const t={};return typeof e.authorizationList<"u"&&(t.authorizationList=Ev(e.authorizationList)),typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(n=>Xe(n)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=re(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=re(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=re(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=re(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=re(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=re(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=Av[e.type]),typeof e.value<"u"&&(t.value=re(e.value)),t}function Ev(e){return e.map(t=>({address:t.address,r:t.r?re(BigInt(t.r)):t.r,s:t.s?re(BigInt(t.s)):t.s,chainId:re(t.chainId),nonce:re(t.nonce),...typeof t.yParity<"u"?{yParity:re(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:re(t.v)}:{}}))}function cd(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:s})=>{if(n.length!==66)throw new Ku({size:n.length,targetSize:66,type:"hex"});if(s.length!==66)throw new Ku({size:s.length,targetSize:66,type:"hex"});return t[n]=s,t},{})}function Bv(e){const{balance:t,nonce:n,state:s,stateDiff:r,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=re(t)),n!==void 0&&(i.nonce=re(n)),s!==void 0&&(i.state=cd(s)),r!==void 0){if(i.state)throw new lv;i.stateDiff=cd(r)}return i}function Tc(e){if(!e)return;const t={};for(const{address:n,...s}of e){if(!et(n,{strict:!1}))throw new gt({address:n});if(t[n])throw new av({address:n});t[n]=Bv(s)}return t}const Yi=2n**256n-1n;function Fs(e){const{account:t,gasPrice:n,maxFeePerGas:s,maxPriorityFeePerGas:r,to:o}=e,i=t?Je(t):void 0;if(i&&!et(i.address))throw new gt({address:i.address});if(o&&!et(o))throw new gt({address:o});if(typeof n<"u"&&(typeof s<"u"||typeof r<"u"))throw new uv;if(s&&s>Yi)throw new Bs({maxFeePerGas:s});if(r&&s&&r>s)throw new bo({maxFeePerGas:s,maxPriorityFeePerGas:r})}class Iv extends G{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class _c extends G{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Nv extends G{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Pt(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class ep extends G{constructor({blockHash:t,blockNumber:n}){let s="Block";t&&(s=`Block at hash "${t}"`),n&&(s=`Block at number "${n}"`),super(`${s} could not be found.`,{name:"BlockNotFoundError"})}}const tp={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function np(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Yt(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Yt(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?tp[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=Rv(e.authorizationList)),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}function Rv(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function sp(e){const t=(e.transactions??[]).map(n=>typeof n=="string"?n:np(n));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function wn(e,{blockHash:t,blockNumber:n,blockTag:s=e.experimental_blockTag??"latest",includeTransactions:r}={}){var u,d,f;const o=r??!1,i=n!==void 0?re(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[i||s,o]},{dedupe:!!i}),!a)throw new ep({blockHash:t,blockNumber:n});return(((f=(d=(u=e.chain)==null?void 0:u.formatters)==null?void 0:d.block)==null?void 0:f.format)||sp)(a)}async function Sc(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Ov(e,t){return rp(e,t)}async function rp(e,t){var o,i;const{block:n,chain:s=e.chain,request:r}=t||{};try{const a=((o=s==null?void 0:s.fees)==null?void 0:o.maxPriorityFeePerGas)??((i=s==null?void 0:s.fees)==null?void 0:i.defaultPriorityFee);if(typeof a=="function"){const u=n||await me(e,wn,"getBlock")({}),d=await a({block:u,client:e,request:r});if(d===null)throw new Error;return d}if(typeof a<"u")return a;const l=await e.request({method:"eth_maxPriorityFeePerGas"});return Mt(l)}catch{const[a,l]=await Promise.all([n?Promise.resolve(n):me(e,wn,"getBlock")({}),me(e,Sc,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new _c;const u=l-a.baseFeePerGas;return u<0n?0n:u}}async function Mv(e,t){return Tl(e,t)}async function Tl(e,t){var p,h;const{block:n,chain:s=e.chain,request:r,type:o="eip1559"}=t||{},i=await(async()=>{var g,b;return typeof((g=s==null?void 0:s.fees)==null?void 0:g.baseFeeMultiplier)=="function"?s.fees.baseFeeMultiplier({block:n,client:e,request:r}):((b=s==null?void 0:s.fees)==null?void 0:b.baseFeeMultiplier)??1.2})();if(i<1)throw new Iv;const l=10**(((p=i.toString().split(".")[1])==null?void 0:p.length)??0),u=g=>g*BigInt(Math.ceil(i*l))/BigInt(l),d=n||await me(e,wn,"getBlock")({});if(typeof((h=s==null?void 0:s.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const g=await s.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:r,type:o});if(g!==null)return g}if(o==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new _c;const g=typeof(r==null?void 0:r.maxPriorityFeePerGas)=="bigint"?r.maxPriorityFeePerGas:await rp(e,{block:d,chain:s,request:r}),b=u(d.baseFeePerGas);return{maxFeePerGas:(r==null?void 0:r.maxFeePerGas)??b+g,maxPriorityFeePerGas:g}}return{gasPrice:(r==null?void 0:r.gasPrice)??u(await me(e,Sc,"getGasPrice")({}))}}async function Pc(e,{address:t,blockTag:n="latest",blockNumber:s}){const r=await e.request({method:"eth_getTransactionCount",params:[t,typeof s=="bigint"?re(s):n]},{dedupe:!!s});return Yt(r)}function Ac(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),s=typeof e.blobs[0]=="string"?e.blobs.map(o=>ln(o)):e.blobs,r=[];for(const o of s)r.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?r:r.map(o=>Xe(o))}function Ec(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),s=typeof e.blobs[0]=="string"?e.blobs.map(i=>ln(i)):e.blobs,r=typeof e.commitments[0]=="string"?e.commitments.map(i=>ln(i)):e.commitments,o=[];for(let i=0;i<s.length;i++){const a=s[i],l=r[i];o.push(Uint8Array.from(t.computeBlobKzgProof(a,l)))}return n==="bytes"?o:o.map(i=>Xe(i))}function Lv(e,t,n,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,s);const r=BigInt(32),o=BigInt(4294967295),i=Number(n>>r&o),a=Number(n&o),l=s?4:0,u=s?0:4;e.setUint32(t+l,i,s),e.setUint32(t+u,a,s)}function Fv(e,t,n){return e&t^~e&n}function Uv(e,t,n){return e&t^e&n^t&n}class Dv extends bc{constructor(t,n,s,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=s,this.isLE=r,this.buffer=new Uint8Array(t),this.view=Ca(this.buffer)}update(t){cr(this),t=Wi(t),Ts(t);const{view:n,buffer:s,blockLen:r}=this,o=t.length;for(let i=0;i<o;){const a=Math.min(r-this.pos,o-i);if(a===r){const l=Ca(t);for(;r<=o-i;i+=r)this.process(l,i);continue}s.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){cr(this),S0(t,this),this.finished=!0;const{buffer:n,view:s,blockLen:r,isLE:o}=this;let{pos:i}=this;n[i++]=128,ur(this.buffer.subarray(i)),this.padOffset>r-i&&(this.process(s,0),i=0);for(let f=i;f<r;f++)n[f]=0;Lv(s,r-8,BigInt(this.length*8),o),this.process(s,0);const a=Ca(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,d[f],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const s=t.slice(0,n);return this.destroy(),s}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:s,length:r,finished:o,destroyed:i,pos:a}=this;return t.destroyed=i,t.finished=o,t.length=r,t.pos=a,r%n&&t.buffer.set(s),t}clone(){return this._cloneInto()}}const Yn=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),zv=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Jn=new Uint32Array(64);class Wv extends Dv{constructor(t=32){super(64,t,8,!1),this.A=Yn[0]|0,this.B=Yn[1]|0,this.C=Yn[2]|0,this.D=Yn[3]|0,this.E=Yn[4]|0,this.F=Yn[5]|0,this.G=Yn[6]|0,this.H=Yn[7]|0}get(){const{A:t,B:n,C:s,D:r,E:o,F:i,G:a,H:l}=this;return[t,n,s,r,o,i,a,l]}set(t,n,s,r,o,i,a,l){this.A=t|0,this.B=n|0,this.C=s|0,this.D=r|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=l|0}process(t,n){for(let f=0;f<16;f++,n+=4)Jn[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const p=Jn[f-15],h=Jn[f-2],g=mn(p,7)^mn(p,18)^p>>>3,b=mn(h,17)^mn(h,19)^h>>>10;Jn[f]=b+Jn[f-7]+g+Jn[f-16]|0}let{A:s,B:r,C:o,D:i,E:a,F:l,G:u,H:d}=this;for(let f=0;f<64;f++){const p=mn(a,6)^mn(a,11)^mn(a,25),h=d+p+Fv(a,l,u)+zv[f]+Jn[f]|0,b=(mn(s,2)^mn(s,13)^mn(s,22))+Uv(s,r,o)|0;d=u,u=l,l=a,a=i+h|0,i=o,o=r,r=s,s=h+b|0}s=s+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,l=l+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(s,r,o,i,a,l,u,d)}roundClean(){ur(Jn)}destroy(){this.set(0,0,0,0,0,0,0,0),ur(this.buffer)}}const op=P0(()=>new Wv),jv=op;function Hv(e,t){return jv(an(e,{strict:!1})?vr(e):e)}function Vv(e){const{commitment:t,version:n=1}=e,s=e.to??(typeof t=="string"?"hex":"bytes"),r=Hv(t);return r.set([n],0),s==="bytes"?r:Xe(r)}function ip(e){const{commitments:t,version:n}=e,s=e.to??(typeof t[0]=="string"?"hex":"bytes"),r=[];for(const o of t)r.push(Vv({commitment:o,to:s,version:n}));return r}const ud=6,ap=32,Bc=4096,lp=ap*Bc,dd=lp*ud-1-1*Bc*ud,cp=1;class Gv extends G{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class up extends G{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class qv extends G{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class Kv extends G{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${cp}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function Zv(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?ln(e.data):e.data,s=Ve(n);if(!s)throw new up;if(s>dd)throw new Gv({maxSize:dd,size:s});const r=[];let o=!0,i=0;for(;o;){const a=$c(new Uint8Array(lp));let l=0;for(;l<Bc;){const u=n.slice(i,i+(ap-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),o=!1;break}l++,i+=31}r.push(a)}return t==="bytes"?r.map(a=>a.bytes):r.map(a=>Xe(a.bytes))}function dp(e){const{data:t,kzg:n,to:s}=e,r=e.blobs??Zv({data:t,to:s}),o=e.commitments??Ac({blobs:r,kzg:n,to:s}),i=e.proofs??Ec({blobs:r,commitments:o,kzg:n,to:s}),a=[];for(let l=0;l<r.length;l++)a.push({blob:r[l],commitment:o[l],proof:i[l]});return a}function fp(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new fv({transaction:e})}async function xr(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Yt(t)}const pp=["blobVersionedHashes","chainId","fees","gas","nonce","type"],fd=new Map;async function Ji(e,t){const{account:n=e.account,blobs:s,chain:r,gas:o,kzg:i,nonce:a,nonceManager:l,parameters:u=pp,type:d}=t,f=n&&Je(n),p={...t,...f?{from:f==null?void 0:f.address}:{}};let h;async function g(){return h||(h=await me(e,wn,"getBlock")({blockTag:"latest"}),h)}let b;async function v(){return b||(r?r.id:typeof t.chainId<"u"?t.chainId:(b=await me(e,xr,"getChainId")({}),b))}if(u.includes("nonce")&&typeof a>"u"&&f)if(l){const $=await v();p.nonce=await l.consume({address:f.address,chainId:$,client:e})}else p.nonce=await me(e,Pc,"getTransactionCount")({address:f.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&s&&i){const $=Ac({blobs:s,kzg:i});if(u.includes("blobVersionedHashes")){const x=ip({commitments:$,to:"hex"});p.blobVersionedHashes=x}if(u.includes("sidecars")){const x=Ec({blobs:s,commitments:$,kzg:i}),y=dp({blobs:s,commitments:$,proofs:x,to:"hex"});p.sidecars=y}}if(u.includes("chainId")&&(p.chainId=await v()),(u.includes("fees")||u.includes("type"))&&typeof d>"u")try{p.type=fp(p)}catch{let $=fd.get(e.uid);if(typeof $>"u"){const x=await g();$=typeof(x==null?void 0:x.baseFeePerGas)=="bigint",fd.set(e.uid,$)}p.type=$?"eip1559":"legacy"}if(u.includes("fees"))if(p.type!=="legacy"&&p.type!=="eip2930"){if(typeof p.maxFeePerGas>"u"||typeof p.maxPriorityFeePerGas>"u"){const $=await g(),{maxFeePerGas:x,maxPriorityFeePerGas:y}=await Tl(e,{block:$,chain:r,request:p});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<y)throw new Nv({maxPriorityFeePerGas:y});p.maxPriorityFeePerGas=y,p.maxFeePerGas=x}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new _c;if(typeof t.gasPrice>"u"){const $=await g(),{gasPrice:x}=await Tl(e,{block:$,chain:r,request:p,type:"legacy"});p.gasPrice=x}}return u.includes("gas")&&typeof o>"u"&&(p.gas=await me(e,Ic,"estimateGas")({...p,account:f&&{address:f.address,type:"json-rpc"}})),Fs(p),delete p.parameters,p}async function hp(e,{address:t,blockNumber:n,blockTag:s=e.experimental_blockTag??"latest"}){const r=typeof n=="bigint"?re(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,r||s]});return BigInt(o)}async function Ic(e,t){var r,o,i;const{account:n=e.account}=t,s=n?Je(n):void 0;try{let D=function(F){const{block:W,request:z,rpcStateOverride:Q}=F;return e.request({method:"eth_estimateGas",params:Q?[z,W??e.experimental_blockTag??"latest",Q]:W?[z,W]:[z]})};const{accessList:a,authorizationList:l,blobs:u,blobVersionedHashes:d,blockNumber:f,blockTag:p,data:h,gas:g,gasPrice:b,maxFeePerBlobGas:v,maxFeePerGas:$,maxPriorityFeePerGas:x,nonce:y,value:m,stateOverride:w,...P}=await Ji(e,{...t,parameters:(s==null?void 0:s.type)==="local"?void 0:["blobVersionedHashes"]}),E=(typeof f=="bigint"?re(f):void 0)||p,T=Tc(w),C=await(async()=>{if(P.to)return P.to;if(l&&l.length>0)return await Cc({authorization:l[0]}).catch(()=>{throw new G("`to` is required. Could not infer from `authorizationList`")})})();Fs(t);const S=(i=(o=(r=e.chain)==null?void 0:r.formatters)==null?void 0:o.transactionRequest)==null?void 0:i.format,U=(S||wr)({...Zi(P,{format:S}),from:s==null?void 0:s.address,accessList:a,authorizationList:l,blobs:u,blobVersionedHashes:d,data:h,gas:g,gasPrice:b,maxFeePerBlobGas:v,maxFeePerGas:$,maxPriorityFeePerGas:x,nonce:y,to:C,value:m});let L=BigInt(await D({block:E,request:U,rpcStateOverride:T}));if(l){const F=await hp(e,{address:U.from}),W=await Promise.all(l.map(async z=>{const{address:Q}=z,Y=await D({block:E,request:{authorizationList:void 0,data:h,from:s==null?void 0:s.address,to:Q,value:re(F)},rpcStateOverride:T}).catch(()=>100000n);return 2n*BigInt(Y)}));L+=W.reduce((z,Q)=>z+Q,0n)}return L}catch(a){throw Pv(a,{...t,account:s,chain:e.chain})}}async function Yv(e,t){const{abi:n,address:s,args:r,functionName:o,dataSuffix:i,...a}=t,l=Ct({abi:n,args:r,functionName:o});try{return await me(e,Ic,"estimateGas")({data:`${l}${i?i.replace("0x",""):""}`,to:s,...a})}catch(u){const d=a.account?Je(a.account):void 0;throw As(u,{abi:n,address:s,args:r,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:d==null?void 0:d.address})}}function No(e,t){if(!et(e,{strict:!1}))throw new gt({address:e});if(!et(t,{strict:!1}))throw new gt({address:t});return e.toLowerCase()===t.toLowerCase()}const pd="/docs/contract/decodeEventLog";function Nc(e){const{abi:t,data:n,strict:s,topics:r}=e,o=s??!0,[i,...a]=r;if(!i)throw new zg({docsPath:pd});const l=t.find(b=>b.type==="event"&&i===ji(on(b)));if(!(l&&"name"in l)||l.type!=="event")throw new w0(i,{docsPath:pd});const{name:u,inputs:d}=l,f=d==null?void 0:d.some(b=>!("name"in b&&b.name)),p=f?[]:{},h=d.map((b,v)=>[b,v]).filter(([b])=>"indexed"in b&&b.indexed);for(let b=0;b<h.length;b++){const[v,$]=h[b],x=a[b];if(!x)throw new zi({abiItem:l,param:v});p[f?$:v.name||$]=Jv({param:v,value:x})}const g=d.filter(b=>!("indexed"in b&&b.indexed));if(g.length>0){if(n&&n!=="0x")try{const b=Ao(g,n);if(b)if(f)for(let v=0;v<d.length;v++)p[v]=p[v]??b.shift();else for(let v=0;v<g.length;v++)p[g[v].name]=b[v]}catch(b){if(o)throw b instanceof g0||b instanceof W0?new Zr({abiItem:l,data:n,params:g,size:Ve(n)}):b}else if(o)throw new Zr({abiItem:l,data:"0x",params:g,size:0})}return{eventName:u,args:Object.values(p).length>0?p:void 0}}function Jv({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Ao([e],t)||[])[0]}function Rc(e){const{abi:t,args:n,logs:s,strict:r=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return s.map(i=>{var a;try{const l=t.find(d=>d.type==="event"&&i.topics[0]===ji(d));if(!l)return null;const u=Nc({...i,abi:[l],strict:r});return o&&!o.includes(u.eventName)||!Qv({args:u.args,inputs:l.inputs,matchArgs:n})?null:{...u,...i}}catch(l){let u,d;if(l instanceof w0)return null;if(l instanceof Zr||l instanceof zi){if(r)return null;u=l.abiItem.name,d=(a=l.abiItem.inputs)==null?void 0:a.some(f=>!("name"in f&&f.name))}return{...i,args:d?[]:{},eventName:u}}}).filter(Boolean)}function Qv(e){const{args:t,inputs:n,matchArgs:s}=e;if(!s)return!0;if(!t)return!1;function r(o,i,a){try{return o.type==="address"?No(i,a):o.type==="string"||o.type==="bytes"?Ye(vr(i))===a:i===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(s)?s.every((o,i)=>{if(o==null)return!0;const a=n[i];return a?(Array.isArray(o)?o:[o]).some(u=>r(a,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof s=="object"&&!Array.isArray(s)?Object.entries(s).every(([o,i])=>{if(i==null)return!0;const a=n.find(u=>u.name===o);return a?(Array.isArray(i)?i:[i]).some(u=>r(a,u,t[o])):!1}):!1}function Vn(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function Oc(e,{address:t,blockHash:n,fromBlock:s,toBlock:r,event:o,events:i,args:a,strict:l}={}){const u=l??!1,d=i??(o?[o]:void 0);let f=[];d&&(f=[d.flatMap(b=>Po({abi:[b],eventName:b.name,args:i?void 0:a}))],o&&(f=f[0]));let p;n?p=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,blockHash:n}]}):p=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,fromBlock:typeof s=="bigint"?re(s):s,toBlock:typeof r=="bigint"?re(r):r}]});const h=p.map(g=>Vn(g));return d?Rc({abi:d,args:a,logs:h,strict:u}):h}async function mp(e,t){const{abi:n,address:s,args:r,blockHash:o,eventName:i,fromBlock:a,toBlock:l,strict:u}=t,d=i?Ls({abi:n,name:i}):void 0,f=d?void 0:n.filter(p=>p.type==="event");return me(e,Oc,"getLogs")({address:s,args:r,blockHash:o,event:d,events:f,fromBlock:a,toBlock:l,strict:u})}const Sa="/docs/contract/decodeFunctionResult";function Us(e){const{abi:t,args:n,functionName:s,data:r}=e;let o=t[0];if(s){const a=Ls({abi:t,args:n,name:s});if(!a)throw new lr(s,{docsPath:Sa});o=a}if(o.type!=="function")throw new lr(void 0,{docsPath:Sa});if(!o.outputs)throw new x0(o.name,{docsPath:Sa});const i=Ao(o.outputs,r);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mc=BigInt(0),_l=BigInt(1);function Ro(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Lc(e){if(!Ro(e))throw new Error("Uint8Array expected")}function go(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function qo(e){const t=e.toString(16);return t.length&1?"0"+t:t}function bp(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Mc:BigInt("0x"+e)}const gp=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Xv=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function yo(e){if(Lc(e),gp)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Xv[e[n]];return t}const An={_0:48,_9:57,A:65,F:70,a:97,f:102};function hd(e){if(e>=An._0&&e<=An._9)return e-An._0;if(e>=An.A&&e<=An.F)return e-(An.A-10);if(e>=An.a&&e<=An.f)return e-(An.a-10)}function xi(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(gp)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const s=new Uint8Array(n);for(let r=0,o=0;r<n;r++,o+=2){const i=hd(e.charCodeAt(o)),a=hd(e.charCodeAt(o+1));if(i===void 0||a===void 0){const l=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}s[r]=i*16+a}return s}function ws(e){return bp(yo(e))}function yp(e){return Lc(e),bp(yo(Uint8Array.from(e).reverse()))}function Oo(e,t){return xi(e.toString(16).padStart(t*2,"0"))}function vp(e,t){return Oo(e,t).reverse()}function jt(e,t,n){let s;if(typeof t=="string")try{s=xi(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(Ro(t))s=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const r=s.length;if(typeof n=="number"&&r!==n)throw new Error(e+" of length "+n+" expected, got "+r);return s}function $i(...e){let t=0;for(let s=0;s<e.length;s++){const r=e[s];Lc(r),t+=r.length}const n=new Uint8Array(t);for(let s=0,r=0;s<e.length;s++){const o=e[s];n.set(o,r),r+=o.length}return n}const Pa=e=>typeof e=="bigint"&&Mc<=e;function Fc(e,t,n){return Pa(e)&&Pa(t)&&Pa(n)&&t<=e&&e<n}function or(e,t,n,s){if(!Fc(t,n,s))throw new Error("expected valid "+e+": "+n+" <= n < "+s+", got "+t)}function ew(e){let t;for(t=0;e>Mc;e>>=_l,t+=1);return t}const Qi=e=>(_l<<BigInt(e))-_l,Aa=e=>new Uint8Array(e),md=e=>Uint8Array.from(e);function tw(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let s=Aa(e),r=Aa(e),o=0;const i=()=>{s.fill(1),r.fill(0),o=0},a=(...f)=>n(r,s,...f),l=(f=Aa(0))=>{r=a(md([0]),f),s=a(),f.length!==0&&(r=a(md([1]),f),s=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<t;){s=a();const h=s.slice();p.push(h),f+=s.length}return $i(...p)};return(f,p)=>{i(),l(f);let h;for(;!(h=p(u()));)l();return i(),h}}const nw={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Ro(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Xi(e,t,n={}){const s=(r,o,i)=>{const a=nw[o];if(typeof a!="function")throw new Error("invalid validator function");const l=e[r];if(!(i&&l===void 0)&&!a(l,e))throw new Error("param "+String(r)+" is invalid. Expected "+o+", got "+l)};for(const[r,o]of Object.entries(t))s(r,o,!1);for(const[r,o]of Object.entries(n))s(r,o,!0);return e}function bd(e){const t=new WeakMap;return(n,...s)=>{const r=t.get(n);if(r!==void 0)return r;const o=e(n,...s);return t.set(n,o),o}}const sw="0.1.1";function rw(){return sw}class _e extends Error{constructor(t,n={}){const s=(()=>{var l;if(n.cause instanceof _e){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),r=n.cause instanceof _e&&n.cause.docsPath||n.docsPath,i=`https://oxlib.sh${r??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...s||r?["",s?`Details: ${s}`:void 0,r?`See: ${i}`:void 0]:[]].filter(l=>typeof l=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${rw()}`}),this.cause=n.cause,this.details=s,this.docs=i,this.docsPath=r,this.shortMessage=t}walk(t){return wp(this,t)}}function wp(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?wp(e.cause,t):t?null:e}function Mo(e,t){if(Ys(e)>t)throw new xw({givenSize:Ys(e),maxSize:t})}const En={zero:48,nine:57,A:65,F:70,a:97,f:102};function gd(e){if(e>=En.zero&&e<=En.nine)return e-En.zero;if(e>=En.A&&e<=En.F)return e-(En.A-10);if(e>=En.a&&e<=En.f)return e-(En.a-10)}function ow(e,t={}){const{dir:n,size:s=32}=t;if(s===0)return e;if(e.length>s)throw new $w({size:e.length,targetSize:s,type:"Bytes"});const r=new Uint8Array(s);for(let o=0;o<s;o++){const i=n==="right";r[i?o:s-o-1]=e[i?o:e.length-o-1]}return r}function xp(e,t={}){const{dir:n="left"}=t;let s=e,r=0;for(let o=0;o<s.length-1&&s[n==="left"?o:s.length-o-1].toString()==="0";o++)r++;return s=n==="left"?s.slice(r):s.slice(0,s.length-r),s}function ea(e,t){if(Lt(e)>t)throw new Pw({givenSize:Lt(e),maxSize:t})}function iw(e,t){if(typeof t=="number"&&t>0&&t>Lt(e)-1)throw new Ep({offset:t,position:"start",size:Lt(e)})}function aw(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Lt(e)!==n-t)throw new Ep({offset:n,position:"end",size:Lt(e)})}function $p(e,t={}){const{dir:n,size:s=32}=t;if(s===0)return e;const r=e.replace("0x","");if(r.length>s*2)throw new Aw({size:Math.ceil(r.length/2),targetSize:s,type:"Hex"});return`0x${r[n==="right"?"padEnd":"padStart"](s*2,"0")}`}const lw="#__bigint";function kp(e,t,n){return JSON.stringify(e,(s,r)=>typeof r=="bigint"?r.toString()+lw:r,n)}const cw=new TextDecoder,uw=new TextEncoder;function dw(e){return e instanceof Uint8Array?e:typeof e=="string"?Cp(e):fw(e)}function fw(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function Cp(e,t={}){const{size:n}=t;let s=e;n&&(ea(e,n),s=Ns(e,n));let r=s.slice(2);r.length%2&&(r=`0${r}`);const o=r.length/2,i=new Uint8Array(o);for(let a=0,l=0;a<o;a++){const u=gd(r.charCodeAt(l++)),d=gd(r.charCodeAt(l++));if(u===void 0||d===void 0)throw new _e(`Invalid byte sequence ("${r[l-2]}${r[l-1]}" in "${r}").`);i[a]=u*16+d}return i}function pw(e,t={}){const{size:n}=t,s=uw.encode(e);return typeof n=="number"?(Mo(s,n),hw(s,n)):s}function hw(e,t){return ow(e,{dir:"right",size:t})}function Ys(e){return e.length}function mw(e,t,n,s={}){const{strict:r}=s;return e.slice(t,n)}function bw(e,t={}){const{size:n}=t;typeof n<"u"&&Mo(e,n);const s=un(e,t);return Sp(s,t)}function gw(e,t={}){const{size:n}=t;let s=e;if(typeof n<"u"&&(Mo(s,n),s=Tp(s)),s.length>1||s[0]>1)throw new ww(s);return!!s[0]}function Dn(e,t={}){const{size:n}=t;typeof n<"u"&&Mo(e,n);const s=un(e,t);return Pp(s,t)}function yw(e,t={}){const{size:n}=t;let s=e;return typeof n<"u"&&(Mo(s,n),s=vw(s)),cw.decode(s)}function Tp(e){return xp(e,{dir:"left"})}function vw(e){return xp(e,{dir:"right"})}class ww extends _e{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let xw=class extends _e{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},$w=class extends _e{constructor({size:t,targetSize:n,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const kw=new TextEncoder,Cw=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Tw(e,t={}){const{strict:n=!1}=t;if(!e)throw new yd(e);if(typeof e!="string")throw new yd(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new vd(e);if(!e.startsWith("0x"))throw new vd(e)}function cn(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function _w(e){return e instanceof Uint8Array?un(e):Array.isArray(e)?un(new Uint8Array(e)):e}function _p(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(ea(n,t.size),Is(n,t.size)):n}function un(e,t={}){let n="";for(let r=0;r<e.length;r++)n+=Cw[e[r]];const s=`0x${n}`;return typeof t.size=="number"?(ea(s,t.size),Ns(s,t.size)):s}function xt(e,t={}){const{signed:n,size:s}=t,r=BigInt(e);let o;s?n?o=(1n<<BigInt(s)*8n-1n)-1n:o=2n**(BigInt(s)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&r>o||r<i){const u=typeof e=="bigint"?"n":"";throw new Ap({max:o?`${o}${u}`:void 0,min:`${i}${u}`,signed:n,size:s,value:`${e}${u}`})}const l=`0x${(n&&r<0?(1n<<BigInt(s*8))+BigInt(r):r).toString(16)}`;return s?Is(l,s):l}function Uc(e,t={}){return un(kw.encode(e),t)}function Is(e,t){return $p(e,{dir:"left",size:t})}function Ns(e,t){return $p(e,{dir:"right",size:t})}function kn(e,t,n,s={}){const{strict:r}=s;iw(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&aw(o,t,n),o}function Lt(e){return Math.ceil((e.length-2)/2)}function Sp(e,t={}){const{signed:n}=t;t.size&&ea(e,t.size);const s=BigInt(e);if(!n)return s;const r=(e.length-2)/2,o=(1n<<BigInt(r)*8n)-1n,i=o>>1n;return s<=i?s:s-o-1n}function Pp(e,t={}){const{signed:n,size:s}=t;return Number(!n&&!s?e:Sp(e,t))}function Sw(e,t={}){const{strict:n=!1}=t;try{return Tw(e,{strict:n}),!0}catch{return!1}}class Ap extends _e{constructor({max:t,min:n,signed:s,size:r,value:o}){super(`Number \`${o}\` is not in safe${r?` ${r*8}-bit`:""}${s?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class yd extends _e{constructor(t){super(`Value \`${typeof t=="object"?kp(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class vd extends _e{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class Pw extends _e{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Ep extends _e{constructor({offset:t,position:n,size:s}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${s}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class Aw extends _e{constructor({size:t,targetSize:n,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function Ew(e){return{address:e.address,amount:xt(e.amount),index:xt(e.index),validatorIndex:xt(e.validatorIndex)}}function Bp(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:xt(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:xt(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:xt(e.gasLimit)},...typeof e.number=="bigint"&&{number:xt(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:xt(e.prevRandao)},...typeof e.time=="bigint"&&{time:xt(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(Ew)}}}const ki=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Sl=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Ip=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],Np=[...Ip,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Bw=[...Ip,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],wd=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],xd=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Rp=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],$d=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Iw="0x82ad56cb",Op="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Nw="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Rw="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Dc="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class Pl extends G{constructor({blockNumber:t,chain:n,contract:s}){super(`Chain "${n.name}" does not support contract "${s.name}".`,{metaMessages:["This could be due to any of the following:",...t&&s.blockCreated&&s.blockCreated>t?[`- The contract "${s.name}" was not deployed until block ${s.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${s.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Ow extends G{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class Mw extends G{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class Mp extends G{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class ta extends G{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const Ea="/docs/contract/encodeDeployData";function na(e){const{abi:t,args:n,bytecode:s}=e;if(!n||n.length===0)return s;const r=t.find(i=>"type"in i&&i.type==="constructor");if(!r)throw new Lg({docsPath:Ea});if(!("inputs"in r))throw new Vu({docsPath:Ea});if(!r.inputs||r.inputs.length===0)throw new Vu({docsPath:Ea});const o=Ms(r.inputs,n);return Xt([s,o])}function $r({blockNumber:e,chain:t,contract:n}){var r;const s=(r=t==null?void 0:t.contracts)==null?void 0:r[n];if(!s)throw new Pl({chain:t,contract:{name:n}});if(e&&s.blockCreated&&s.blockCreated>e)throw new Pl({blockNumber:e,chain:t,contract:{name:n,blockCreated:s.blockCreated}});return s.address}function Lp(e,{docsPath:t,...n}){const s=(()=>{const r=Ki(e,n);return r instanceof Io?e:r})();return new q0(s,{docsPath:t,...n})}function zc(){let e=()=>{},t=()=>{};return{promise:new Promise((s,r)=>{e=s,t=r}),resolve:e,reject:t}}const Ba=new Map;function Wc({fn:e,id:t,shouldSplitBatch:n,wait:s=0,sort:r}){const o=async()=>{const d=l();i();const f=d.map(({args:p})=>p);f.length!==0&&e(f).then(p=>{r&&Array.isArray(p)&&p.sort(r);for(let h=0;h<d.length;h++){const{resolve:g}=d[h];g==null||g([p[h],p])}}).catch(p=>{for(let h=0;h<d.length;h++){const{reject:g}=d[h];g==null||g(p)}})},i=()=>Ba.delete(t),a=()=>l().map(({args:d})=>d),l=()=>Ba.get(t)||[],u=d=>Ba.set(t,[...l(),d]);return{flush:i,async schedule(d){const{promise:f,resolve:p,reject:h}=zc();return(n==null?void 0:n([...a(),d]))&&o(),l().length>0?(u({args:d,resolve:p,reject:h}),f):(u({args:d,resolve:p,reject:h}),setTimeout(o,s),f)}}}async function sa(e,t){var U,D,L,F;const{account:n=e.account,authorizationList:s,batch:r=!!((U=e.batch)!=null&&U.multicall),blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",accessList:a,blobs:l,blockOverrides:u,code:d,data:f,factory:p,factoryData:h,gas:g,gasPrice:b,maxFeePerBlobGas:v,maxFeePerGas:$,maxPriorityFeePerGas:x,nonce:y,to:m,value:w,stateOverride:P,...B}=t,E=n?Je(n):void 0;if(d&&(p||h))throw new G("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(d&&m)throw new G("Cannot provide both `code` & `to` as parameters.");const T=d&&f,C=p&&h&&m&&f,S=T||C,O=T?Fp({code:d,data:f}):C?Uw({data:f,factory:p,factoryData:h,to:m}):f;try{Fs(t);const z=(typeof o=="bigint"?re(o):void 0)||i,Q=u?Bp(u):void 0,Y=Tc(P),_=(F=(L=(D=e.chain)==null?void 0:D.formatters)==null?void 0:L.transactionRequest)==null?void 0:F.format,H=(_||wr)({...Zi(B,{format:_}),from:E==null?void 0:E.address,accessList:a,authorizationList:s,blobs:l,data:O,gas:g,gasPrice:b,maxFeePerBlobGas:v,maxFeePerGas:$,maxPriorityFeePerGas:x,nonce:y,to:S?void 0:m,value:w});if(r&&Lw({request:H})&&!Y&&!Q)try{return await Fw(e,{...H,blockNumber:o,blockTag:i})}catch(fe){if(!(fe instanceof Mp)&&!(fe instanceof Pl))throw fe}const he=(()=>{const fe=[H,z];return Y&&Q?[...fe,Y,Q]:Y?[...fe,Y]:Q?[...fe,{},Q]:fe})(),V=await e.request({method:"eth_call",params:he});return V==="0x"?{data:void 0}:{data:V}}catch(W){const z=Dw(W),{offchainLookup:Q,offchainLookupSignature:Y}=await kc(async()=>{const{offchainLookup:_,offchainLookupSignature:k}=await import("./ccip-D-rbGh3e.js");return{offchainLookup:_,offchainLookupSignature:k}},[]);if(e.ccipRead!==!1&&(z==null?void 0:z.slice(0,10))===Y&&m)return{data:await Q(e,{data:z,to:m})};throw S&&(z==null?void 0:z.slice(0,10))==="0x101bb98d"?new yv({factory:p}):Lp(W,{...t,account:E,chain:e.chain})}}function Lw({request:e}){const{data:t,to:n,...s}=e;return!(!t||t.startsWith(Iw)||!n||Object.values(s).filter(r=>typeof r<"u").length>0)}async function Fw(e,t){var b;const{batchSize:n=1024,deployless:s=!1,wait:r=0}=typeof((b=e.batch)==null?void 0:b.multicall)=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",data:a,to:l}=t,u=(()=>{if(s)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return $r({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Mp})(),f=(typeof o=="bigint"?re(o):void 0)||i,{schedule:p}=Wc({id:`${e.uid}.${f}`,wait:r,shouldSplitBatch(v){return v.reduce((x,{data:y})=>x+(y.length-2),0)>n*2},fn:async v=>{const $=v.map(m=>({allowFailure:!0,callData:m.data,target:m.to})),x=Ct({abi:ki,args:[$],functionName:"aggregate3"}),y=await e.request({method:"eth_call",params:[{...u===null?{data:Fp({code:Dc,data:x})}:{to:u,data:x}},f]});return Us({abi:ki,args:[$],functionName:"aggregate3",data:y||"0x"})}}),[{returnData:h,success:g}]=await p({data:a,to:l});if(!g)throw new Gi({data:h});return h==="0x"?{data:void 0}:{data:h}}function Fp(e){const{code:t,data:n}=e;return na({abi:h0(["constructor(bytes, bytes)"]),bytecode:Op,args:[t,n]})}function Uw(e){const{data:t,factory:n,factoryData:s,to:r}=e;return na({abi:h0(["constructor(address, bytes, address, bytes)"]),bytecode:Nw,args:[r,t,n,s]})}function Dw(e){var n;if(!(e instanceof G))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function dn(e,t){const{abi:n,address:s,args:r,functionName:o,...i}=t,a=Ct({abi:n,args:r,functionName:o});try{const{data:l}=await me(e,sa,"call")({...i,data:a,to:s});return Us({abi:n,args:r,functionName:o,data:l||"0x"})}catch(l){throw As(l,{abi:n,address:s,args:r,docsPath:"/docs/contract/readContract",functionName:o})}}async function zw(e,t){const{abi:n,address:s,args:r,dataSuffix:o,functionName:i,...a}=t,l=a.account?Je(a.account):e.account,u=Ct({abi:n,args:r,functionName:i});try{const{data:d}=await me(e,sa,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:s,...a,account:l}),f=Us({abi:n,args:r,functionName:i,data:d||"0x"}),p=n.filter(h=>"name"in h&&h.name===t.functionName);return{result:f,request:{abi:p,address:s,args:r,dataSuffix:o,functionName:i,...a,account:l}}}catch(d){throw As(d,{abi:n,address:s,args:r,docsPath:"/docs/contract/simulateContract",functionName:i,sender:l==null?void 0:l.address})}}const Ia=new Map,kd=new Map;let Ww=0;function Gn(e,t,n){const s=++Ww,r=()=>Ia.get(e)||[],o=()=>{const d=r();Ia.set(e,d.filter(f=>f.id!==s))},i=()=>{const d=r();if(!d.some(p=>p.id===s))return;const f=kd.get(e);if(d.length===1&&f){const p=f();p instanceof Promise&&p.catch(()=>{})}o()},a=r();if(Ia.set(e,[...a,{id:s,fns:t}]),a&&a.length>0)return i;const l={};for(const d in t)l[d]=(...f)=>{var h,g;const p=r();if(p.length!==0)for(const b of p)(g=(h=b.fns)[d])==null||g.call(h,...f)};const u=n(l);return typeof u=="function"&&kd.set(e,u),i}async function Ci(e){return new Promise(t=>setTimeout(t,e))}function kr(e,{emitOnBegin:t,initialWaitTime:n,interval:s}){let r=!0;const o=()=>r=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const l=await(n==null?void 0:n(a))??s;await Ci(l);const u=async()=>{r&&(await e({unpoll:o}),await Ci(s),u())};u()})(),o}const jw=new Map,Hw=new Map;function Vw(e){const t=(r,o)=>({clear:()=>o.delete(r),get:()=>o.get(r),set:i=>o.set(r,i)}),n=t(e,jw),s=t(e,Hw);return{clear:()=>{n.clear(),s.clear()},promise:n,response:s}}async function Gw(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const s=Vw(t),r=s.response.get();if(r&&n>0&&Date.now()-r.created.getTime()<n)return r.data;let o=s.promise.get();o||(o=e(),s.promise.set(o));try{const i=await o;return s.response.set({created:new Date,data:i}),i}finally{s.promise.clear()}}const qw=e=>`blockNumber.${e}`;async function Lo(e,{cacheTime:t=e.cacheTime}={}){const n=await Gw(()=>e.request({method:"eth_blockNumber"}),{cacheKey:qw(e.uid),cacheTime:t});return BigInt(n)}async function ra(e,{filter:t}){const n="strict"in t&&t.strict,s=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof s[0]=="string")return s;const r=s.map(o=>Vn(o));return!("abi"in t)||!t.abi?r:Rc({abi:t.abi,logs:r,strict:n})}async function oa(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Kw(e,t){const{abi:n,address:s,args:r,batch:o=!0,eventName:i,fromBlock:a,onError:l,onLogs:u,poll:d,pollingInterval:f=e.pollingInterval,strict:p}=t;return(typeof d<"u"?d:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const v=p??!1,$=Qe(["watchContractEvent",s,r,o,e.uid,i,f,v,a]);return Gn($,{onLogs:u,onError:l},x=>{let y;a!==void 0&&(y=a-1n);let m,w=!1;const P=kr(async()=>{var B;if(!w){try{m=await me(e,D0,"createContractEventFilter")({abi:n,address:s,args:r,eventName:i,strict:v,fromBlock:a})}catch{}w=!0;return}try{let E;if(m)E=await me(e,ra,"getFilterChanges")({filter:m});else{const T=await me(e,Lo,"getBlockNumber")({});y&&y<T?E=await me(e,mp,"getContractEvents")({abi:n,address:s,args:r,eventName:i,fromBlock:y+1n,toBlock:T,strict:v}):E=[],y=T}if(E.length===0)return;if(o)x.onLogs(E);else for(const T of E)x.onLogs([T])}catch(E){m&&E instanceof Ps&&(w=!1),(B=x.onError)==null||B.call(x,E)}},{emitOnBegin:!0,interval:f});return async()=>{m&&await me(e,oa,"uninstallFilter")({filter:m}),P()}})})():(()=>{const v=p??!1,$=Qe(["watchContractEvent",s,r,o,e.uid,i,f,v]);let x=!0,y=()=>x=!1;return Gn($,{onLogs:u,onError:l},m=>((async()=>{try{const w=(()=>{if(e.transport.type==="fallback"){const E=e.transport.transports.find(T=>T.config.type==="webSocket"||T.config.type==="ipc");return E?E.value:e.transport}return e.transport})(),P=i?Po({abi:n,eventName:i,args:r}):[],{unsubscribe:B}=await w.subscribe({params:["logs",{address:s,topics:P}],onData(E){var C;if(!x)return;const T=E.result;try{const{eventName:S,args:O}=Nc({abi:n,data:T.data,topics:T.topics,strict:p}),U=Vn(T,{args:O,eventName:S});m.onLogs([U])}catch(S){let O,U;if(S instanceof Zr||S instanceof zi){if(p)return;O=S.abiItem.name,U=(C=S.abiItem.inputs)==null?void 0:C.some(L=>!("name"in L&&L.name))}const D=Vn(T,{args:U?[]:{},eventName:O});m.onLogs([D])}},onError(E){var T;(T=m.onError)==null||T.call(m,E)}});y=B,x||y()}catch(w){l==null||l(w)}})(),()=>y()))})()}class Ds extends G{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class ri extends G{constructor({docsPath:t,metaMessages:n,type:s}){super(`Account type "${s}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function Up({chain:e,currentChainId:t}){if(!e)throw new Mw;if(t!==e.id)throw new Ow({chain:e,currentChainId:t})}function Dp(e,{docsPath:t,...n}){const s=(()=>{const r=Ki(e,n);return r instanceof Io?e:r})();return new hv(s,{docsPath:t,...n})}async function jc(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const Na=new Hi(128);async function ia(e,t){var x,y,m,w;const{account:n=e.account,chain:s=e.chain,accessList:r,authorizationList:o,blobs:i,data:a,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:h,type:g,value:b,...v}=t;if(typeof n>"u")throw new Ds({docsPath:"/docs/actions/wallet/sendTransaction"});const $=n?Je(n):null;try{Fs(t);const P=await(async()=>{if(t.to)return t.to;if(t.to!==null&&o&&o.length>0)return await Cc({authorization:o[0]}).catch(()=>{throw new G("`to` is required. Could not infer from `authorizationList`.")})})();if(($==null?void 0:$.type)==="json-rpc"||$===null){let B;s!==null&&(B=await me(e,xr,"getChainId")({}),Up({currentChainId:B,chain:s}));const E=(m=(y=(x=e.chain)==null?void 0:x.formatters)==null?void 0:y.transactionRequest)==null?void 0:m.format,C=(E||wr)({...Zi(v,{format:E}),accessList:r,authorizationList:o,blobs:i,chainId:B,data:a,from:$==null?void 0:$.address,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:h,to:P,type:g,value:b}),S=Na.get(e.uid),O=S?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:O,params:[C]},{retryCount:0})}catch(U){if(S===!1)throw U;const D=U;if(D.name==="InvalidInputRpcError"||D.name==="InvalidParamsRpcError"||D.name==="MethodNotFoundRpcError"||D.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[C]},{retryCount:0}).then(L=>(Na.set(e.uid,!0),L)).catch(L=>{const F=L;throw F.name==="MethodNotFoundRpcError"||F.name==="MethodNotSupportedRpcError"?(Na.set(e.uid,!1),D):F});throw D}}if(($==null?void 0:$.type)==="local"){const B=await me(e,Ji,"prepareTransactionRequest")({account:$,accessList:r,authorizationList:o,blobs:i,chain:s,data:a,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:h,nonceManager:$.nonceManager,parameters:[...pp,"sidecars"],type:g,value:b,...v,to:P}),E=(w=s==null?void 0:s.serializers)==null?void 0:w.transaction,T=await $.signTransaction(B,{serializer:E});return await me(e,jc,"sendRawTransaction")({serializedTransaction:T})}throw($==null?void 0:$.type)==="smart"?new ri({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new ri({docsPath:"/docs/actions/wallet/sendTransaction",type:$==null?void 0:$.type})}catch(P){throw P instanceof ri?P:Dp(P,{...t,account:$,chain:t.chain||void 0})}}async function Zw(e,t){const{abi:n,account:s=e.account,address:r,args:o,dataSuffix:i,functionName:a,...l}=t;if(typeof s>"u")throw new Ds({docsPath:"/docs/contract/writeContract"});const u=s?Je(s):null,d=Ct({abi:n,args:o,functionName:a});try{return await me(e,ia,"sendTransaction")({data:`${d}${i?i.replace("0x",""):""}`,to:r,account:u,...l})}catch(f){throw As(f,{abi:n,address:r,args:o,docsPath:"/docs/contract/writeContract",functionName:a,sender:u==null?void 0:u.address})}}class Yw extends G{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}function Ti(e,{delay:t=100,retryCount:n=2,shouldRetry:s=()=>!0}={}){return new Promise((r,o)=>{const i=async({count:a=0}={})=>{const l=async({error:u})=>{const d=typeof t=="function"?t({count:a,error:u}):t;d&&await Ci(d),i({count:a+1})};try{const u=await e();r(u)}catch(u){if(a<n&&await s({count:a,error:u}))return l({error:u});o(u)}};i()})}const zp={"0x0":"reverted","0x1":"success"};function Jw(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>Vn(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Yt(e.transactionIndex):null,status:e.status?zp[e.status]:null,type:e.type?tp[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const Wp="0x5792579257925792579257925792579257925792579257925792579257925792",jp=re(0,{size:32});async function Qw(e,t){const{account:n=e.account,capabilities:s,chain:r=e.chain,experimental_fallback:o,experimental_fallbackDelay:i=32,forceAtomic:a=!1,id:l,version:u="2.0.0"}=t,d=n?Je(n):null,f=t.calls.map(p=>{const h=p,g=h.abi?Ct({abi:h.abi,functionName:h.functionName,args:h.args}):h.data;return{data:h.dataSuffix&&g?Qt([g,h.dataSuffix]):g,to:h.to,value:h.value?re(h.value):void 0}});try{const p=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:f,capabilities:s,chainId:re(r.id),from:d==null?void 0:d.address,id:l,version:u}]},{retryCount:0});return typeof p=="string"?{id:p}:p}catch(p){const h=p;if(o&&(h.name==="MethodNotFoundRpcError"||h.name==="MethodNotSupportedRpcError"||h.name==="UnknownRpcError"||h.details.toLowerCase().includes("does not exist / is not available")||h.details.toLowerCase().includes("missing or invalid. request()")||h.details.toLowerCase().includes("did not match any variant of untagged enum")||h.details.toLowerCase().includes("account upgraded to unsupported contract")||h.details.toLowerCase().includes("eip-7702 not supported")||h.details.toLowerCase().includes("unsupported wc_ method")||h.details.toLowerCase().includes("feature toggled misconfigured"))){if(s&&Object.values(s).some(x=>!x.optional)){const x="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new pr(new G(x,{details:x}))}if(a&&f.length>1){const $="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new hr(new G($,{details:$}))}const g=[];for(const $ of f){const x=ia(e,{account:d,chain:r,data:$.data,to:$.to,value:$.value?Mt($.value):void 0});g.push(x),i>0&&await new Promise(y=>setTimeout(y,i))}const b=await Promise.allSettled(g);if(b.every($=>$.status==="rejected"))throw b[0].reason;const v=b.map($=>$.status==="fulfilled"?$.value:jp);return{id:Qt([...v,re(r.id,{size:32}),Wp])}}throw Dp(p,{...t,account:d,chain:t.chain})}}async function Hp(e,t){async function n(d){if(d.endsWith(Wp.slice(2))){const p=qt(fl(d,-64,-32)),h=fl(d,0,-64).slice(2).match(/.{1,64}/g),g=await Promise.all(h.map(v=>jp.slice(2)!==v?e.request({method:"eth_getTransactionReceipt",params:[`0x${v}`]},{dedupe:!0}):void 0)),b=g.some(v=>v===null)?100:g.every(v=>(v==null?void 0:v.status)==="0x1")?200:g.every(v=>(v==null?void 0:v.status)==="0x0")?500:600;return{atomic:!1,chainId:Yt(p),receipts:g.filter(Boolean),status:b,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[d]})}const{atomic:s=!1,chainId:r,receipts:o,version:i="2.0.0",...a}=await n(t.id),[l,u]=(()=>{const d=a.status;return d>=100&&d<200?["pending",d]:d>=200&&d<300?["success",d]:d>=300&&d<700?["failure",d]:d==="CONFIRMED"?["success",200]:d==="PENDING"?["pending",100]:[void 0,d]})();return{...a,atomic:s,chainId:r?Yt(r):void 0,receipts:(o==null?void 0:o.map(d=>({...d,blockNumber:Mt(d.blockNumber),gasUsed:Mt(d.gasUsed),status:zp[d.status]})))??[],statusCode:u,status:l,version:i}}async function Xw(e,t){const{id:n,pollingInterval:s=e.pollingInterval,status:r=({statusCode:b})=>b===200||b>=300,retryCount:o=4,retryDelay:i=({count:b})=>~~(1<<b)*200,timeout:a=6e4,throwOnFailure:l=!1}=t,u=Qe(["waitForCallsStatus",e.uid,n]),{promise:d,resolve:f,reject:p}=zc();let h;const g=Gn(u,{resolve:f,reject:p},b=>{const v=kr(async()=>{const $=x=>{clearTimeout(h),v(),x(),g()};try{const x=await Ti(async()=>{const y=await me(e,Hp,"getCallsStatus")({id:n});if(l&&y.status==="failure")throw new Yw(y);return y},{retryCount:o,delay:i});if(!r(x))return;$(()=>b.resolve(x))}catch(x){$(()=>b.reject(x))}},{interval:s,emitOnBegin:!0});return v});return h=a?setTimeout(()=>{g(),clearTimeout(h),p(new e6({id:n}))},a):void 0,await d}class e6 extends G{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const Al=256;let Ko=Al,Zo;function Vp(e=11){if(!Zo||Ko+e>Al*2){Zo="",Ko=0;for(let t=0;t<Al;t++)Zo+=(256+Math.random()*256|0).toString(16).substring(1)}return Zo.substring(Ko,Ko+++e)}function Gp(e){const{batch:t,chain:n,ccipRead:s,key:r="base",name:o="Base Client",type:i="base"}=e,a=e.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),l=(n==null?void 0:n.blockTime)??12e3,u=Math.min(Math.max(Math.floor(l/2),500),4e3),d=e.pollingInterval??u,f=e.cacheTime??d,p=e.account?Je(e.account):void 0,{config:h,request:g,value:b}=e.transport({chain:n,pollingInterval:d}),v={...h,...b},$={account:p,batch:t,cacheTime:f,ccipRead:s,chain:n,key:r,name:o,pollingInterval:d,request:g,transport:v,type:i,uid:Vp(),...a?{experimental_blockTag:a}:{}};function x(y){return m=>{const w=m(y);for(const B in $)delete w[B];const P={...y,...w};return Object.assign(P,{extend:x(P)})}}return Object.assign($,{extend:x($)})}function Hc(e){var n,s,r,o,i,a;if(!(e instanceof G))return!1;const t=e.walk(l=>l instanceof ml);return t instanceof ml?((n=t.data)==null?void 0:n.errorName)==="HttpError"||((s=t.data)==null?void 0:s.errorName)==="ResolverError"||((r=t.data)==null?void 0:r.errorName)==="ResolverNotContract"||((o=t.data)==null?void 0:o.errorName)==="ResolverNotFound"||((i=t.data)==null?void 0:i.errorName)==="ReverseAddressMismatch"||((a=t.data)==null?void 0:a.errorName)==="UnsupportedResolverProfile":!1}function t6(e){const{abi:t,data:n}=e,s=_s(n,0,4),r=t.find(o=>o.type==="function"&&s===So(on(o)));if(!r)throw new Wg(s,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:r.name,args:"inputs"in r&&r.inputs&&r.inputs.length>0?Ao(r.inputs,_s(n,4)):void 0}}const Ra="/docs/contract/encodeErrorResult";function Cd(e){const{abi:t,errorName:n,args:s}=e;let r=t[0];if(n){const l=Ls({abi:t,args:s,name:n});if(!l)throw new Gu(n,{docsPath:Ra});r=l}if(r.type!=="error")throw new Gu(void 0,{docsPath:Ra});const o=on(r),i=So(o);let a="0x";if(s&&s.length>0){if(!r.inputs)throw new Dg(r.name,{docsPath:Ra});a=Ms(r.inputs,s)}return Xt([i,a])}const Oa="/docs/contract/encodeFunctionResult";function n6(e){const{abi:t,functionName:n,result:s}=e;let r=t[0];if(n){const i=Ls({abi:t,name:n});if(!i)throw new lr(n,{docsPath:Oa});r=i}if(r.type!=="function")throw new lr(void 0,{docsPath:Oa});if(!r.outputs)throw new x0(r.name,{docsPath:Oa});const o=(()=>{if(r.outputs.length===0)return[];if(r.outputs.length===1)return[s];if(Array.isArray(s))return s;throw new k0(s)})();return Ms(r.outputs,o)}const aa="x-batch-gateway:true";async function s6(e){const{data:t,ccipRequest:n}=e,{args:[s]}=t6({abi:Sl,data:t}),r=[],o=[];return await Promise.all(s.map(async(i,a)=>{try{o[a]=i.urls.includes(aa)?await s6({data:i.data,ccipRequest:n}):await n(i),r[a]=!1}catch(l){r[a]=!0,o[a]=r6(l)}})),n6({abi:Sl,functionName:"query",result:[r,o]})}function r6(e){return e.name==="HttpRequestError"&&e.status?Cd({abi:Sl,errorName:"HttpError",args:[e.status,e.shortMessage]}):Cd({abi:[z0],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function qp(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return an(t)?t:null}function El(e){let t=new Uint8Array(32).fill(0);if(!e)return Xe(t);const n=e.split(".");for(let s=n.length-1;s>=0;s-=1){const r=qp(n[s]),o=r?vr(r):Ye(ys(n[s]),"bytes");t=Ye(Qt([t,o]),"bytes")}return Xe(t)}function o6(e){return`[${e.slice(2)}]`}function i6(e){const t=new Uint8Array(32).fill(0);return e?qp(e)||Ye(ys(e)):Xe(t)}function Vc(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(ys(t).byteLength+2);let s=0;const r=t.split(".");for(let o=0;o<r.length;o++){let i=ys(r[o]);i.byteLength>255&&(i=ys(o6(i6(r[o])))),n[s]=i.length,n.set(i,s+1),s+=i.length+1}return n.byteLength!==s+1?n.slice(0,s+1):n}async function a6(e,t){const{blockNumber:n,blockTag:s,coinType:r,name:o,gatewayUrls:i,strict:a}=t,{chain:l}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return $r({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})(),d=l==null?void 0:l.ensTlds;if(d&&!d.some(p=>o.endsWith(p)))return null;const f=r!=null?[El(o),BigInt(r)]:[El(o)];try{const p=Ct({abi:xd,functionName:"addr",args:f}),h={address:u,abi:Np,functionName:"resolveWithGateways",args:[Jt(Vc(o)),p,i??[aa]],blockNumber:n,blockTag:s},b=await me(e,dn,"readContract")(h);if(b[0]==="0x")return null;const v=Us({abi:xd,args:f,functionName:"addr",data:b[0]});return v==="0x"||qt(v)==="0x00"?null:v}catch(p){if(a)throw p;if(Hc(p))return null;throw p}}class l6 extends G{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class Ar extends G{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Gc extends G{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class c6 extends G{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const u6=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,d6=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,f6=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,p6=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function h6(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const s=new Image;s.onload=()=>{n(!0)},s.onerror=()=>{n(!1)},s.src=e})}}function Td(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Kp({uri:e,gatewayUrls:t}){const n=f6.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const s=Td(t==null?void 0:t.ipfs,"https://ipfs.io"),r=Td(t==null?void 0:t.arweave,"https://arweave.net"),o=e.match(u6),{protocol:i,subpath:a,target:l,subtarget:u=""}=(o==null?void 0:o.groups)||{},d=i==="ipns:/"||a==="ipns/",f=i==="ipfs:/"||a==="ipfs/"||d6.test(e);if(e.startsWith("http")&&!d&&!f){let h=e;return t!=null&&t.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((d||f)&&l)return{uri:`${s}/${d?"ipns":"ipfs"}/${l}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&l)return{uri:`${r}/${l}${u||""}`,isOnChain:!1,isEncoded:!1};let p=e.replace(p6,"");if(p.startsWith("<svg")&&(p=`data:image/svg+xml;base64,${btoa(p)}`),p.startsWith("data:")||p.startsWith("{"))return{uri:p,isOnChain:!0,isEncoded:!1};throw new Gc({uri:e})}function Zp(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new l6({data:e});return e.image||e.image_url||e.image_data}async function m6({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(r=>r.json());return await qc({gatewayUrls:e,uri:Zp(n)})}catch{throw new Gc({uri:t})}}async function qc({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:s}=Kp({uri:t,gatewayUrls:e});if(s||await h6(n))return n;throw new Gc({uri:t})}function b6(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,s,r]=t.split("/"),[o,i]=n.split(":"),[a,l]=s.split(":");if(!o||o.toLowerCase()!=="eip155")throw new Ar({reason:"Only EIP-155 supported"});if(!i)throw new Ar({reason:"Chain ID not found"});if(!l)throw new Ar({reason:"Contract address not found"});if(!r)throw new Ar({reason:"Token ID not found"});if(!a)throw new Ar({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i,10),namespace:a.toLowerCase(),contractAddress:l,tokenID:r}}async function g6(e,{nft:t}){if(t.namespace==="erc721")return dn(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return dn(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new c6({namespace:t.namespace})}async function y6(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?v6(e,{gatewayUrls:t,record:n}):qc({uri:n,gatewayUrls:t})}async function v6(e,{gatewayUrls:t,record:n}){const s=b6(n),r=await g6(e,{nft:s}),{uri:o,isOnChain:i,isEncoded:a}=Kp({uri:r,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=a?atob(o.replace("data:application/json;base64,","")):o,d=JSON.parse(u);return qc({uri:Zp(d),gatewayUrls:t})}let l=s.tokenID;return s.namespace==="erc1155"&&(l=l.replace("0x","").padStart(64,"0")),m6({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,l)})}async function Yp(e,t){const{blockNumber:n,blockTag:s,key:r,name:o,gatewayUrls:i,strict:a}=t,{chain:l}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return $r({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})(),d=l==null?void 0:l.ensTlds;if(d&&!d.some(f=>o.endsWith(f)))return null;try{const f={address:u,abi:Np,args:[Jt(Vc(o)),Ct({abi:wd,functionName:"text",args:[El(o),r]}),i??[aa]],functionName:"resolveWithGateways",blockNumber:n,blockTag:s},h=await me(e,dn,"readContract")(f);if(h[0]==="0x")return null;const g=Us({abi:wd,functionName:"text",data:h[0]});return g===""?null:g}catch(f){if(a)throw f;if(Hc(f))return null;throw f}}async function w6(e,{blockNumber:t,blockTag:n,assetGatewayUrls:s,name:r,gatewayUrls:o,strict:i,universalResolverAddress:a}){const l=await me(e,Yp,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:r,universalResolverAddress:a,gatewayUrls:o,strict:i});if(!l)return null;try{return await y6(e,{record:l,gatewayUrls:s})}catch{return null}}async function x6(e,t){const{address:n,blockNumber:s,blockTag:r,coinType:o=60n,gatewayUrls:i,strict:a}=t,{chain:l}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return $r({blockNumber:s,chain:l,contract:"ensUniversalResolver"})})();try{const d={address:u,abi:Bw,args:[n,o,i??[aa]],functionName:"reverseWithGateways",blockNumber:s,blockTag:r},f=me(e,dn,"readContract"),[p]=await f(d);return p||null}catch(d){if(a)throw d;if(Hc(d))return null;throw d}}async function $6(e,t){const{blockNumber:n,blockTag:s,name:r}=t,{chain:o}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return $r({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),a=o==null?void 0:o.ensTlds;if(a&&!a.some(u=>r.endsWith(u)))throw new Error(`${r} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[l]=await me(e,dn,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Jt(Vc(r))],blockNumber:n,blockTag:s});return l}async function Jp(e,t){var v,$,x;const{account:n=e.account,blockNumber:s,blockTag:r="latest",blobs:o,data:i,gas:a,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,to:p,value:h,...g}=t,b=n?Je(n):void 0;try{Fs(t);const m=(typeof s=="bigint"?re(s):void 0)||r,w=(x=($=(v=e.chain)==null?void 0:v.formatters)==null?void 0:$.transactionRequest)==null?void 0:x.format,B=(w||wr)({...Zi(g,{format:w}),from:b==null?void 0:b.address,blobs:o,data:i,gas:a,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,to:p,value:h}),E=await e.request({method:"eth_createAccessList",params:[B,m]});return{accessList:E.accessList,gasUsed:BigInt(E.gasUsed)}}catch(y){throw Lp(y,{...t,account:b,chain:e.chain})}}async function k6(e){const t=Vi(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function Qp(e,{address:t,args:n,event:s,events:r,fromBlock:o,strict:i,toBlock:a}={}){const l=r??(s?[s]:void 0),u=Vi(e,{method:"eth_newFilter"});let d=[];l&&(d=[l.flatMap(h=>Po({abi:[h],eventName:h.name,args:n}))],s&&(d=d[0]));const f=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?re(o):o,toBlock:typeof a=="bigint"?re(a):a,...d.length?{topics:d}:{}}]});return{abi:l,args:n,eventName:s?s.name:void 0,fromBlock:o,id:f,request:u(f),strict:!!i,toBlock:a,type:"event"}}async function Xp(e){const t=Vi(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function C6(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function T6(e,{blockHash:t,blockNumber:n,blockTag:s="latest"}={}){const r=n!==void 0?re(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[r||s]},{dedupe:!!r}),Yt(o)}async function Bl(e,{address:t,blockNumber:n,blockTag:s="latest"}){const r=n!==void 0?re(n):void 0,o=await e.request({method:"eth_getCode",params:[t,r||s]},{dedupe:!!r});if(o!=="0x")return o}class _6 extends G{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function S6(e,t){const{address:n,factory:s,factoryData:r}=t;try{const[o,i,a,l,u,d,f]=await me(e,dn,"readContract")({abi:P6,address:n,functionName:"eip712Domain",factory:s,factoryData:r});return{domain:{name:i,version:a,chainId:Number(l),verifyingContract:u,salt:d},extensions:f,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new _6({address:n}):i}}const P6=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function A6(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(s=>BigInt(s)))}}async function E6(e,{blockCount:t,blockNumber:n,blockTag:s="latest",rewardPercentiles:r}){const o=typeof n=="bigint"?re(n):void 0,i=await e.request({method:"eth_feeHistory",params:[re(t),o||s,r]},{dedupe:!!o});return A6(i)}async function B6(e,{filter:t}){const n=t.strict??!1,r=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>Vn(o));return t.abi?Rc({abi:t.abi,logs:r,strict:n}):r}function _d(e,t){if(e.length!==t.length)throw new y0({expectedLength:e.length,givenLength:t.length});const n=[];for(let s=0;s<e.length;s++){const r=e[s],o=t[s];n.push(eh(r,o))}return Xt(n)}function eh(e,t,n=!1){if(e==="address"){const i=t;if(!et(i))throw new gt({address:i});return Fn(i.toLowerCase(),{size:n?32:null})}if(e==="string")return Cs(t);if(e==="bytes")return t;if(e==="bool")return Fn(mc(t),{size:n?32:1});const s=e.match(yc);if(s){const[i,a,l="256"]=s,u=Number.parseInt(l,10)/8;return re(t,{size:n?32:u,signed:a==="int"})}const r=e.match(F0);if(r){const[i,a]=r;if(Number.parseInt(a,10)!==(t.length-2)/2)throw new $0({expectedSize:Number.parseInt(a,10),givenSize:(t.length-2)/2});return Fn(t,{dir:"right",size:n?32:null})}const o=e.match(Oy);if(o&&Array.isArray(t)){const[i,a]=o,l=[];for(let u=0;u<t.length;u++)l.push(eh(a,t[u],!0));return l.length===0?"0x":Xt(l)}throw new qg(e)}function I6(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:s}=n,r=n.address;if(!et(r))throw new gt({address:r});if(s<0)throw new ta({chainId:s})}Kc(e)}function N6(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new up;for(const n of t){const s=Ve(n),r=Yt(_s(n,0,1));if(s!==32)throw new qv({hash:n,size:s});if(r!==cp)throw new Kv({hash:n,version:r})}}Kc(e)}function Kc(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:s,to:r}=e;if(t<=0)throw new ta({chainId:t});if(r&&!et(r))throw new gt({address:r});if(s&&s>Yi)throw new Bs({maxFeePerGas:s});if(n&&s&&n>s)throw new bo({maxFeePerGas:s,maxPriorityFeePerGas:n})}function R6(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:s,maxFeePerGas:r,to:o}=e;if(t<=0)throw new ta({chainId:t});if(o&&!et(o))throw new gt({address:o});if(n||r)throw new G("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(s&&s>Yi)throw new Bs({maxFeePerGas:s})}function O6(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:s,maxFeePerGas:r,to:o}=e;if(o&&!et(o))throw new gt({address:o});if(typeof t<"u"&&t<=0)throw new ta({chainId:t});if(n||r)throw new G("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(s&&s>Yi)throw new Bs({maxFeePerGas:s})}function la(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:s,storageKeys:r}=e[n];for(let o=0;o<r.length;o++)if(r[o].length-2!==64)throw new pv({storageKey:r[o]});if(!et(s,{strict:!1}))throw new gt({address:s});t.push([s,r])}return t}function M6(e,t){const n=fp(e);return n==="eip1559"?U6(e,t):n==="eip2930"?D6(e,t):n==="eip4844"?F6(e,t):n==="eip7702"?L6(e,t):z6(e,t)}function L6(e,t){const{authorizationList:n,chainId:s,gas:r,nonce:o,to:i,value:a,maxFeePerGas:l,maxPriorityFeePerGas:u,accessList:d,data:f}=e;I6(e);const p=la(d),h=W6(n);return Xt(["0x04",Es([re(s),o?re(o):"0x",u?re(u):"0x",l?re(l):"0x",r?re(r):"0x",i??"0x",a?re(a):"0x",f??"0x",p,h,...Fo(e,t)])])}function F6(e,t){const{chainId:n,gas:s,nonce:r,to:o,value:i,maxFeePerBlobGas:a,maxFeePerGas:l,maxPriorityFeePerGas:u,accessList:d,data:f}=e;N6(e);let p=e.blobVersionedHashes,h=e.sidecars;if(e.blobs&&(typeof p>"u"||typeof h>"u")){const y=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(P=>Xe(P)),m=e.kzg,w=Ac({blobs:y,kzg:m});if(typeof p>"u"&&(p=ip({commitments:w})),typeof h>"u"){const P=Ec({blobs:y,commitments:w,kzg:m});h=dp({blobs:y,commitments:w,proofs:P})}}const g=la(d),b=[re(n),r?re(r):"0x",u?re(u):"0x",l?re(l):"0x",s?re(s):"0x",o??"0x",i?re(i):"0x",f??"0x",g,a?re(a):"0x",p??[],...Fo(e,t)],v=[],$=[],x=[];if(h)for(let y=0;y<h.length;y++){const{blob:m,commitment:w,proof:P}=h[y];v.push(m),$.push(w),x.push(P)}return Xt(["0x03",Es(h?[b,v,$,x]:b)])}function U6(e,t){const{chainId:n,gas:s,nonce:r,to:o,value:i,maxFeePerGas:a,maxPriorityFeePerGas:l,accessList:u,data:d}=e;Kc(e);const f=la(u),p=[re(n),r?re(r):"0x",l?re(l):"0x",a?re(a):"0x",s?re(s):"0x",o??"0x",i?re(i):"0x",d??"0x",f,...Fo(e,t)];return Xt(["0x02",Es(p)])}function D6(e,t){const{chainId:n,gas:s,data:r,nonce:o,to:i,value:a,accessList:l,gasPrice:u}=e;R6(e);const d=la(l),f=[re(n),o?re(o):"0x",u?re(u):"0x",s?re(s):"0x",i??"0x",a?re(a):"0x",r??"0x",d,...Fo(e,t)];return Xt(["0x01",Es(f)])}function z6(e,t){const{chainId:n=0,gas:s,data:r,nonce:o,to:i,value:a,gasPrice:l}=e;O6(e);let u=[o?re(o):"0x",l?re(l):"0x",s?re(s):"0x",i??"0x",a?re(a):"0x",r??"0x"];if(t){const d=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const h=27n+(t.v===27n?0n:1n);if(t.v!==h)throw new dv({v:t.v});return h})(),f=qt(t.r),p=qt(t.s);u=[...u,re(d),f==="0x00"?"0x":f,p==="0x00"?"0x":p]}else n>0&&(u=[...u,re(n),"0x","0x"]);return Es(u)}function Fo(e,t){const n=t??e,{v:s,yParity:r}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof s>"u"&&typeof r>"u")return[];const o=qt(n.r),i=qt(n.s);return[typeof r=="number"?r?re(1):"0x":s===0n?"0x":s===1n?re(1):s===27n?"0x":re(1),o==="0x00"?"0x":o,i==="0x00"?"0x":i]}function W6(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:s,nonce:r,...o}=n,i=n.address;t.push([s?Jt(s):"0x",i,r?Jt(r):"0x",...Fo({},o)])}return t}async function j6({address:e,authorization:t,signature:n}){return No(We(e),await Cc({authorization:t,signature:n}))}const Yo=new Hi(8192);function H6(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(Yo.get(n))return Yo.get(n);const s=e().finally(()=>Yo.delete(n));return Yo.set(n,s),s}function V6(e,t={}){return async(n,s={})=>{var f;const{dedupe:r=!1,methods:o,retryDelay:i=150,retryCount:a=3,uid:l}={...t,...s},{method:u}=n;if((f=o==null?void 0:o.exclude)!=null&&f.includes(u))throw new ds(new Error("method not supported"),{method:u});if(o!=null&&o.include&&!o.include.includes(u))throw new ds(new Error("method not supported"),{method:u});const d=r?Cs(`${l}.${Qe(n)}`):void 0;return H6(()=>Ti(async()=>{try{return await e(n)}catch(p){const h=p;switch(h.code){case Qr.code:throw new Qr(h);case Xr.code:throw new Xr(h);case eo.code:throw new eo(h,{method:n.method});case to.code:throw new to(h);case Ss.code:throw new Ss(h);case Ps.code:throw new Ps(h);case no.code:throw new no(h);case so.code:throw new so(h);case dr.code:throw new dr(h);case ds.code:throw new ds(h,{method:n.method});case fr.code:throw new fr(h);case ro.code:throw new ro(h);case vs.code:throw new vs(h);case oo.code:throw new oo(h);case io.code:throw new io(h);case ao.code:throw new ao(h);case lo.code:throw new lo(h);case co.code:throw new co(h);case pr.code:throw new pr(h);case uo.code:throw new uo(h);case fo.code:throw new fo(h);case po.code:throw new po(h);case ho.code:throw new ho(h);case mo.code:throw new mo(h);case hr.code:throw new hr(h);case 5e3:throw new vs(h);default:throw p instanceof G?p:new wv(h)}}},{delay:({count:p,error:h})=>{var g;if(h&&h instanceof jr){const b=(g=h==null?void 0:h.headers)==null?void 0:g.get("Retry-After");if(b!=null&&b.match(/\d/))return Number.parseInt(b,10)*1e3}return~~(1<<p)*i},retryCount:a,shouldRetry:({error:p})=>G6(p)}),{enabled:r,id:d})}}function G6(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===fr.code||e.code===Ss.code:e instanceof jr&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function Zc(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}function th(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:s}){return new Promise((r,o)=>{(async()=>{let i;try{const a=new AbortController;n>0&&(i=setTimeout(()=>{s?a.abort():o(t)},n)),r(await e({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&o(t),o(a)}finally{clearTimeout(i)}})()})}function q6(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Il=q6();function K6(e,t={}){return{async request(n){var p;const{body:s,fetchFn:r=t.fetchFn??fetch,onRequest:o=t.onRequest,onResponse:i=t.onResponse,timeout:a=t.timeout??1e4}=n,l={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:u,method:d,signal:f}=l;try{const h=await th(async({signal:b})=>{const v={...l,body:Array.isArray(s)?Qe(s.map(m=>({jsonrpc:"2.0",id:m.id??Il.take(),...m}))):Qe({jsonrpc:"2.0",id:s.id??Il.take(),...s}),headers:{"Content-Type":"application/json",...u},method:d||"POST",signal:f||(a>0?b:null)},$=new Request(e,v),x=await(o==null?void 0:o($,v))??{...v,url:e};return await r(x.url??e,x)},{errorInstance:new bl({body:s,url:e}),timeout:a,signal:!0});i&&await i(h);let g;if((p=h.headers.get("Content-Type"))!=null&&p.startsWith("application/json"))g=await h.json();else{g=await h.text();try{g=JSON.parse(g||"{}")}catch(b){if(h.ok)throw b;g={error:g}}}if(!h.ok)throw new jr({body:s,details:Qe(g.error)||h.statusText,headers:h.headers,status:h.status,url:e});return g}catch(h){throw h instanceof jr||h instanceof bl?h:new jr({body:s,cause:h,url:e})}}}}const Ma=new Map;async function Z6(e){const{getSocket:t,keepAlive:n=!0,key:s="socket",reconnect:r=!0,url:o}=e,{interval:i=3e4}=typeof n=="object"?n:{},{attempts:a=5,delay:l=2e3}=typeof r=="object"?r:{},u=JSON.stringify({keepAlive:n,key:s,url:o,reconnect:r});let d=Ma.get(u);if(d)return d;let f=0;const{schedule:p}=Wc({id:u,fn:async()=>{const b=new Map,v=new Map;let $,x,y,m=!1;function w(){if(r&&f<a){if(m)return;m=!0,f++,x==null||x.close(),setTimeout(async()=>{await P().catch(console.error),m=!1},l)}else b.clear(),v.clear()}async function P(){const B=await t({onClose(){var E,T;for(const C of b.values())(E=C.onError)==null||E.call(C,new wi({url:o}));for(const C of v.values())(T=C.onError)==null||T.call(C,new wi({url:o}));w()},onError(E){var T,C;$=E;for(const S of b.values())(T=S.onError)==null||T.call(S,$);for(const S of v.values())(C=S.onError)==null||C.call(S,$);w()},onOpen(){$=void 0,f=0},onResponse(E){const T=E.method==="eth_subscription",C=T?E.params.subscription:E.id,S=T?v:b,O=S.get(C);O&&O.onResponse(E),T||S.delete(C)}});if(x=B,n&&(y&&clearInterval(y),y=setInterval(()=>{var E;return(E=x.ping)==null?void 0:E.call(x)},i)),r&&v.size>0){const E=v.entries();for(const[T,{onResponse:C,body:S,onError:O}]of E)S&&(v.delete(T),d==null||d.request({body:S,onResponse:C,onError:O}))}return B}return await P(),$=void 0,d={close(){y&&clearInterval(y),x.close(),Ma.delete(u)},get socket(){return x},request({body:B,onError:E,onResponse:T}){$&&E&&E($);const C=B.id??Il.take(),S=O=>{var U;typeof O.id=="number"&&C!==O.id||(B.method==="eth_subscribe"&&typeof O.result=="string"&&v.set(O.result,{onResponse:S,onError:E,body:B}),B.method==="eth_unsubscribe"&&v.delete((U=B.params)==null?void 0:U[0]),T(O))};b.set(C,{onResponse:S,onError:E});try{x.request({body:{jsonrpc:"2.0",id:C,...B}})}catch(O){E==null||E(O)}},requestAsync({body:B,timeout:E=1e4}){return th(()=>new Promise((T,C)=>this.request({body:B,onError:C,onResponse:T})),{errorInstance:new bl({body:B,url:o}),timeout:E})},requests:b,subscriptions:v,url:o},Ma.set(u,d),[d]}}),[h,[g]]=await p();return g}async function oi(e,t={}){const{keepAlive:n,reconnect:s}=t;return Z6({async getSocket({onClose:r,onError:o,onOpen:i,onResponse:a}){const l=await kc(()=>import("./native-CJ5et6AR.js"),[]).then(h=>h.WebSocket),u=new l(e);function d(){u.removeEventListener("close",d),u.removeEventListener("message",f),u.removeEventListener("error",o),u.removeEventListener("open",i),r()}function f({data:h}){try{const g=JSON.parse(h);a(g)}catch(g){o(g)}}u.addEventListener("close",d),u.addEventListener("message",f),u.addEventListener("error",o),u.addEventListener("open",i),u.readyState===l.CONNECTING&&await new Promise((h,g)=>{u&&(u.onopen=h,u.onerror=g)});const{close:p}=u;return Object.assign(u,{close(){p.bind(u)(),d()},ping(){try{if(u.readyState===u.CLOSED||u.readyState===u.CLOSING)throw new id({url:u.url,cause:new wi({url:u.url})});const h={jsonrpc:"2.0",method:"net_version",params:[]};u.send(JSON.stringify(h))}catch(h){o(h)}},request({body:h}){if(u.readyState===u.CLOSED||u.readyState===u.CLOSING)throw new id({body:h,url:u.url,cause:new wi({url:u.url})});return u.send(JSON.stringify(h))}})},keepAlive:n,reconnect:s,url:e})}async function Y6(e){const t=await oi(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}const J6=`Ethereum Signed Message:
`;function Q6(e){const t=typeof e=="string"?Cs(e):typeof e.raw=="string"?e.raw:Xe(e.raw),n=Cs(`${J6}${Ve(t)}`);return Qt([n,t])}function Yc(e,t){return Ye(Q6(e),t)}class X6 extends G{constructor({domain:t}){super(`Invalid domain "${Qe(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class e5 extends G{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class t5 extends G{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function n5(e){const{domain:t,message:n,primaryType:s,types:r}=e,o=(l,u)=>{const d={...u};for(const f of l){const{name:p,type:h}=f;h==="address"&&(d[p]=d[p].toLowerCase())}return d},i=r.EIP712Domain?t?o(r.EIP712Domain,t):{}:{},a=(()=>{if(s!=="EIP712Domain")return o(r[s],n)})();return Qe({domain:i,message:a,primaryType:s,types:r})}function nh(e){const{domain:t,message:n,primaryType:s,types:r}=e,o=(i,a)=>{for(const l of i){const{name:u,type:d}=l,f=a[u],p=d.match(yc);if(p&&(typeof f=="number"||typeof f=="bigint")){const[b,v,$]=p;re(f,{signed:v==="int",size:Number.parseInt($,10)/8})}if(d==="address"&&typeof f=="string"&&!et(f))throw new gt({address:f});const h=d.match(F0);if(h){const[b,v]=h;if(v&&Ve(f)!==Number.parseInt(v,10))throw new $0({expectedSize:Number.parseInt(v,10),givenSize:Ve(f)})}const g=r[d];g&&(s5(d),o(g,f))}};if(r.EIP712Domain&&t){if(typeof t!="object")throw new X6({domain:t});o(r.EIP712Domain,t)}if(s!=="EIP712Domain")if(r[s])o(r[s],n);else throw new e5({primaryType:s,types:r})}function sh({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},(typeof(e==null?void 0:e.chainId)=="number"||typeof(e==null?void 0:e.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function s5(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new t5({type:e})}function rh(e){const{domain:t={},message:n,primaryType:s}=e,r={EIP712Domain:sh({domain:t}),...e.types};nh({domain:t,message:n,primaryType:s,types:r});const o=["0x1901"];return t&&o.push(r5({domain:t,types:r})),s!=="EIP712Domain"&&o.push(oh({data:n,primaryType:s,types:r})),Ye(Qt(o))}function r5({domain:e,types:t}){return oh({data:e,primaryType:"EIP712Domain",types:t})}function oh({data:e,primaryType:t,types:n}){const s=ih({data:e,primaryType:t,types:n});return Ye(s)}function ih({data:e,primaryType:t,types:n}){const s=[{type:"bytes32"}],r=[o5({primaryType:t,types:n})];for(const o of n[t]){const[i,a]=lh({types:n,name:o.name,type:o.type,value:e[o.name]});s.push(i),r.push(a)}return Ms(s,r)}function o5({primaryType:e,types:t}){const n=Jt(i5({primaryType:e,types:t}));return Ye(n)}function i5({primaryType:e,types:t}){let n="";const s=ah({primaryType:e,types:t});s.delete(e);const r=[e,...Array.from(s).sort()];for(const o of r)n+=`${o}(${t[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return n}function ah({primaryType:e,types:t},n=new Set){const s=e.match(/^\w*/u),r=s==null?void 0:s[0];if(n.has(r)||t[r]===void 0)return n;n.add(r);for(const o of t[r])ah({primaryType:o.type,types:t},n);return n}function lh({types:e,name:t,type:n,value:s}){if(e[n]!==void 0)return[{type:"bytes32"},Ye(ih({data:s,primaryType:n,types:e}))];if(n==="bytes")return s=`0x${(s.length%2?"0":"")+s.slice(2)}`,[{type:"bytes32"},Ye(s)];if(n==="string")return[{type:"bytes32"},Ye(Jt(s))];if(n.lastIndexOf("]")===n.length-1){const r=n.slice(0,n.lastIndexOf("[")),o=s.map(i=>lh({name:t,type:r,types:e,value:i}));return[{type:"bytes32"},Ye(Ms(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},s]}class a5 extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const s=this.keys().next().value;s&&this.delete(s)}return this}}const l5={checksum:new a5(8192)},La=l5.checksum;function ch(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,s=N0(dw(e));return n==="Bytes"?s:un(s)}const c5=/^0x[a-fA-F0-9]{40}$/;function ca(e,t={}){const{strict:n=!0}=t;if(!c5.test(e))throw new Sd({address:e,cause:new u5});if(n){if(e.toLowerCase()===e)return;if(uh(e)!==e)throw new Sd({address:e,cause:new d5})}}function uh(e){if(La.has(e))return La.get(e);ca(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=ch(pw(t),{as:"Bytes"}),s=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(n[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const r=`0x${s.join("")}`;return La.set(e,r),r}function Nl(e,t={}){const{strict:n=!0}=t??{};try{return ca(e,{strict:n}),!0}catch{return!1}}class Sd extends _e{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class u5 extends _e{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class d5 extends _e{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const f5=/^(.*)\[([0-9]*)\]$/,p5=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,dh=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Pd=2n**256n-1n;function ir(e,t,n){const{checksumAddress:s,staticPosition:r}=n,o=Xc(t.type);if(o){const[i,a]=o;return m5(e,{...t,type:a},{checksumAddress:s,length:i,staticPosition:r})}if(t.type==="tuple")return v5(e,t,{checksumAddress:s,staticPosition:r});if(t.type==="address")return h5(e,{checksum:s});if(t.type==="bool")return b5(e);if(t.type.startsWith("bytes"))return g5(e,t,{staticPosition:r});if(t.type.startsWith("uint")||t.type.startsWith("int"))return y5(e,t);if(t.type==="string")return w5(e,{staticPosition:r});throw new tu(t.type)}const Ad=32,Rl=32;function h5(e,t={}){const{checksum:n=!1}=t,s=e.readBytes(32);return[(o=>n?uh(o):o)(un(mw(s,-20))),32]}function m5(e,t,n){const{checksumAddress:s,length:r,staticPosition:o}=n;if(!r){const l=Dn(e.readBytes(Rl)),u=o+l,d=u+Ad;e.setPosition(u);const f=Dn(e.readBytes(Ad)),p=vo(t);let h=0;const g=[];for(let b=0;b<f;++b){e.setPosition(d+(p?b*32:h));const[v,$]=ir(e,t,{checksumAddress:s,staticPosition:d});h+=$,g.push(v)}return e.setPosition(o+32),[g,32]}if(vo(t)){const l=Dn(e.readBytes(Rl)),u=o+l,d=[];for(let f=0;f<r;++f){e.setPosition(u+f*32);const[p]=ir(e,t,{checksumAddress:s,staticPosition:u});d.push(p)}return e.setPosition(o+32),[d,32]}let i=0;const a=[];for(let l=0;l<r;++l){const[u,d]=ir(e,t,{checksumAddress:s,staticPosition:o+i});i+=d,a.push(u)}return[a,i]}function b5(e){return[gw(e.readBytes(32),{size:32}),32]}function g5(e,t,{staticPosition:n}){const[s,r]=t.type.split("bytes");if(!r){const i=Dn(e.readBytes(32));e.setPosition(n+i);const a=Dn(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const l=e.readBytes(a);return e.setPosition(n+32),[un(l),32]}return[un(e.readBytes(Number.parseInt(r,10),32)),32]}function y5(e,t){const n=t.type.startsWith("int"),s=Number.parseInt(t.type.split("int")[1]||"256",10),r=e.readBytes(32);return[s>48?bw(r,{signed:n}):Dn(r,{signed:n}),32]}function v5(e,t,n){const{checksumAddress:s,staticPosition:r}=n,o=t.components.length===0||t.components.some(({name:l})=>!l),i=o?[]:{};let a=0;if(vo(t)){const l=Dn(e.readBytes(Rl)),u=r+l;for(let d=0;d<t.components.length;++d){const f=t.components[d];e.setPosition(u+a);const[p,h]=ir(e,f,{checksumAddress:s,staticPosition:u});a+=h,i[o?d:f==null?void 0:f.name]=p}return e.setPosition(r+32),[i,32]}for(let l=0;l<t.components.length;++l){const u=t.components[l],[d,f]=ir(e,u,{checksumAddress:s,staticPosition:r});i[o?l:u==null?void 0:u.name]=d,a+=f}return[i,a]}function w5(e,{staticPosition:t}){const n=Dn(e.readBytes(32)),s=t+n;e.setPosition(s);const r=Dn(e.readBytes(32));if(r===0)return e.setPosition(t+32),["",32];const o=e.readBytes(r,32),i=yw(Tp(o));return e.setPosition(t+32),[i,32]}function x5({checksumAddress:e,parameters:t,values:n}){const s=[];for(let r=0;r<t.length;r++)s.push(Jc({checksumAddress:e,parameter:t[r],value:n[r]}));return s}function Jc({checksumAddress:e=!1,parameter:t,value:n}){const s=t,r=Xc(s.type);if(r){const[o,i]=r;return k5(n,{checksumAddress:e,length:o,parameter:{...s,type:i}})}if(s.type==="tuple")return P5(n,{checksumAddress:e,parameter:s});if(s.type==="address")return $5(n,{checksum:e});if(s.type==="bool")return T5(n);if(s.type.startsWith("uint")||s.type.startsWith("int")){const o=s.type.startsWith("int"),[,,i="256"]=dh.exec(s.type)??[];return _5(n,{signed:o,size:Number(i)})}if(s.type.startsWith("bytes"))return C5(n,{type:s.type});if(s.type==="string")return S5(n);throw new tu(s.type)}function Qc(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=Lt(a)}const n=[],s=[];let r=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(xt(t+r,{size:32})),s.push(a),r+=Lt(a)):n.push(a)}return cn(...n,...s)}function $5(e,t){const{checksum:n=!1}=t;return ca(e,{strict:n}),{dynamic:!1,encoded:Is(e.toLowerCase())}}function k5(e,t){const{checksumAddress:n,length:s,parameter:r}=t,o=s===null;if(!Array.isArray(e))throw new L5(e);if(!o&&e.length!==s)throw new M5({expectedLength:s,givenLength:e.length,type:`${r.type}[${s}]`});let i=!1;const a=[];for(let l=0;l<e.length;l++){const u=Jc({checksumAddress:n,parameter:r,value:e[l]});u.dynamic&&(i=!0),a.push(u)}if(o||i){const l=Qc(a);if(o){const u=xt(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?cn(u,l):u}}if(i)return{dynamic:!0,encoded:l}}return{dynamic:!1,encoded:cn(...a.map(({encoded:l})=>l))}}function C5(e,{type:t}){const[,n]=t.split("bytes"),s=Lt(e);if(!n){let r=e;return s%32!==0&&(r=Ns(r,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:cn(Is(xt(s,{size:32})),r)}}if(s!==Number.parseInt(n,10))throw new ph({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Ns(e)}}function T5(e){if(typeof e!="boolean")throw new _e(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Is(_p(e))}}function _5(e,{signed:t,size:n}){if(typeof n=="number"){const s=2n**(BigInt(n)-(t?1n:0n))-1n,r=t?-s-1n:0n;if(e>s||e<r)throw new Ap({max:s.toString(),min:r.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:xt(e,{size:32,signed:t})}}function S5(e){const t=Uc(e),n=Math.ceil(Lt(t)/32),s=[];for(let r=0;r<n;r++)s.push(Ns(kn(t,r*32,(r+1)*32)));return{dynamic:!0,encoded:cn(Ns(xt(Lt(t),{size:32})),...s)}}function P5(e,t){const{checksumAddress:n,parameter:s}=t;let r=!1;const o=[];for(let i=0;i<s.components.length;i++){const a=s.components[i],l=Array.isArray(e)?i:a.name,u=Jc({checksumAddress:n,parameter:a,value:e[l]});o.push(u),u.dynamic&&(r=!0)}return{dynamic:r,encoded:r?Qc(o):cn(...o.map(({encoded:i})=>i))}}function Xc(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function vo(e){var s;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(s=e.components)==null?void 0:s.some(vo);const n=Xc(e.type);return!!(n&&vo({...e,type:n[1]}))}const A5={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new I5({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new B5({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Ed({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Ed({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function E5(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(A5);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class Ed extends _e{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class B5 extends _e{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class I5 extends _e{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function N5(e,t,n={}){const{as:s="Array",checksumAddress:r=!1}=n,o=typeof t=="string"?Cp(t):t,i=E5(o);if(Ys(o)===0&&e.length>0)throw new O5;if(Ys(o)&&Ys(o)<32)throw new R5({data:typeof t=="string"?t:un(t),parameters:e,size:Ys(o)});let a=0;const l=s==="Array"?[]:{};for(let u=0;u<e.length;++u){const d=e[u];i.setPosition(a);const[f,p]=ir(i,d,{checksumAddress:r,staticPosition:0});a+=p,s==="Array"?l.push(f):l[d.name??u]=f}return l}function eu(e,t,n){const{checksumAddress:s=!1}={};if(e.length!==t.length)throw new hh({expectedLength:e.length,givenLength:t.length});const r=x5({checksumAddress:s,parameters:e,values:t}),o=Qc(r);return o.length===0?"0x":o}function Ol(e,t){if(e.length!==t.length)throw new hh({expectedLength:e.length,givenLength:t.length});const n=[];for(let s=0;s<e.length;s++){const r=e[s],o=t[s];n.push(Ol.encode(r,o))}return cn(...n)}(function(e){function t(n,s,r=!1){if(n==="address"){const l=s;return ca(l),Is(l.toLowerCase(),r?32:0)}if(n==="string")return Uc(s);if(n==="bytes")return s;if(n==="bool")return Is(_p(s),r?32:1);const o=n.match(dh);if(o){const[l,u,d="256"]=o,f=Number.parseInt(d,10)/8;return xt(s,{size:r?32:f,signed:u==="int"})}const i=n.match(p5);if(i){const[l,u]=i;if(Number.parseInt(u,10)!==(s.length-2)/2)throw new ph({expectedSize:Number.parseInt(u,10),value:s});return Ns(s,r?32:0)}const a=n.match(f5);if(a&&Array.isArray(s)){const[l,u]=a,d=[];for(let f=0;f<s.length;f++)d.push(t(u,s[f],!0));return d.length===0?"0x":cn(...d)}throw new tu(n)}e.encode=t})(Ol||(Ol={}));function fh(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?Hu(e):e}class R5 extends _e{constructor({data:t,parameters:n,size:s}){super(`Data size of ${s} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Zs(n)})`,`Data:   ${t} (${s} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class O5 extends _e{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class M5 extends _e{constructor({expectedLength:t,givenLength:n,type:s}){super(`Array length mismatch for type \`${s}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class ph extends _e{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Lt(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class hh extends _e{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class L5 extends _e{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class tu extends _e{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class mh extends bc{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,fy(t);const s=Wi(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(s.length>r?t.create().update(s).digest():s);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),ur(o)}update(t){return cr(this),this.iHash.update(t),this}digestInto(t){cr(this),Ts(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:s,finished:r,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=r,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=s._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const bh=(e,t,n)=>new mh(e,t).update(n).digest();bh.create=(e,t)=>new mh(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const St=BigInt(0),kt=BigInt(1),ps=BigInt(2),F5=BigInt(3),gh=BigInt(4),yh=BigInt(5),vh=BigInt(8);function Tt(e,t){const n=e%t;return n>=St?n:t+n}function zt(e,t,n){let s=e;for(;t-- >St;)s*=s,s%=n;return s}function Ml(e,t){if(e===St)throw new Error("invert: expected non-zero number");if(t<=St)throw new Error("invert: expected positive modulus, got "+t);let n=Tt(e,t),s=t,r=St,o=kt;for(;n!==St;){const a=s/n,l=s%n,u=r-o*a;s=n,n=l,r=o,o=u}if(s!==kt)throw new Error("invert: does not exist");return Tt(r,t)}function wh(e,t){const n=(e.ORDER+kt)/gh,s=e.pow(t,n);if(!e.eql(e.sqr(s),t))throw new Error("Cannot find square root");return s}function U5(e,t){const n=(e.ORDER-yh)/vh,s=e.mul(t,ps),r=e.pow(s,n),o=e.mul(t,r),i=e.mul(e.mul(o,ps),r),a=e.mul(o,e.sub(i,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function D5(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-kt,n=0;for(;t%ps===St;)t/=ps,n++;let s=ps;const r=nu(e);for(;Bd(r,s)===1;)if(s++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return wh;let o=r.pow(s,t);const i=(t+kt)/ps;return function(l,u){if(l.is0(u))return u;if(Bd(l,u)!==1)throw new Error("Cannot find square root");let d=n,f=l.mul(l.ONE,o),p=l.pow(u,t),h=l.pow(u,i);for(;!l.eql(p,l.ONE);){if(l.is0(p))return l.ZERO;let g=1,b=l.sqr(p);for(;!l.eql(b,l.ONE);)if(g++,b=l.sqr(b),g===d)throw new Error("Cannot find square root");const v=kt<<BigInt(d-g-1),$=l.pow(f,v);d=g,f=l.sqr($),p=l.mul(p,f),h=l.mul(h,$)}return h}}function z5(e){return e%gh===F5?wh:e%vh===yh?U5:D5(e)}const W5=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function j5(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=W5.reduce((s,r)=>(s[r]="function",s),t);return Xi(e,n)}function H5(e,t,n){if(n<St)throw new Error("invalid exponent, negatives unsupported");if(n===St)return e.ONE;if(n===kt)return t;let s=e.ONE,r=t;for(;n>St;)n&kt&&(s=e.mul(s,r)),r=e.sqr(r),n>>=kt;return s}function xh(e,t,n=!1){const s=new Array(t.length).fill(n?e.ZERO:void 0),r=t.reduce((i,a,l)=>e.is0(a)?i:(s[l]=i,e.mul(i,a)),e.ONE),o=e.inv(r);return t.reduceRight((i,a,l)=>e.is0(a)?i:(s[l]=e.mul(i,s[l]),e.mul(i,a)),o),s}function Bd(e,t){const n=(e.ORDER-kt)/ps,s=e.pow(t,n),r=e.eql(s,e.ONE),o=e.eql(s,e.ZERO),i=e.eql(s,e.neg(e.ONE));if(!r&&!o&&!i)throw new Error("invalid Legendre symbol result");return r?1:o?0:-1}function $h(e,t){t!==void 0&&Yr(t);const n=t!==void 0?t:e.toString(2).length,s=Math.ceil(n/8);return{nBitLength:n,nByteLength:s}}function nu(e,t,n=!1,s={}){if(e<=St)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:r,nByteLength:o}=$h(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i;const a=Object.freeze({ORDER:e,isLE:n,BITS:r,BYTES:o,MASK:Qi(r),ZERO:St,ONE:kt,create:l=>Tt(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return St<=l&&l<e},is0:l=>l===St,isOdd:l=>(l&kt)===kt,neg:l=>Tt(-l,e),eql:(l,u)=>l===u,sqr:l=>Tt(l*l,e),add:(l,u)=>Tt(l+u,e),sub:(l,u)=>Tt(l-u,e),mul:(l,u)=>Tt(l*u,e),pow:(l,u)=>H5(a,l,u),div:(l,u)=>Tt(l*Ml(u,e),e),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>Ml(l,e),sqrt:s.sqrt||(l=>(i||(i=z5(e)),i(a,l))),toBytes:l=>n?vp(l,o):Oo(l,o),fromBytes:l=>{if(l.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+l.length);return n?yp(l):ws(l)},invertBatch:l=>xh(a,l),cmov:(l,u,d)=>d?u:l});return Object.freeze(a)}function kh(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Ch(e){const t=kh(e);return t+Math.ceil(t/2)}function V5(e,t,n=!1){const s=e.length,r=kh(t),o=Ch(t);if(s<16||s<o||s>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+s);const i=n?yp(e):ws(e),a=Tt(i,t-kt)+kt;return n?vp(a,r):Oo(a,r)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Id=BigInt(0),Ll=BigInt(1);function Fa(e,t){const n=t.negate();return e?n:t}function Th(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Ua(e,t){Th(e,t);const n=Math.ceil(t/e)+1,s=2**(e-1),r=2**e,o=Qi(e),i=BigInt(e);return{windows:n,windowSize:s,mask:o,maxNumber:r,shiftBy:i}}function Nd(e,t,n){const{windowSize:s,mask:r,maxNumber:o,shiftBy:i}=n;let a=Number(e&r),l=e>>i;a>s&&(a-=o,l+=Ll);const u=t*s,d=u+Math.abs(a)-1,f=a===0,p=a<0,h=t%2!==0;return{nextN:l,offset:d,isZero:f,isNeg:p,isNegF:h,offsetF:u}}function G5(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,s)=>{if(!(n instanceof t))throw new Error("invalid point at index "+s)})}function q5(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,s)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+s)})}const Da=new WeakMap,_h=new WeakMap;function za(e){return _h.get(e)||1}function K5(e,t){return{constTimeNegate:Fa,hasPrecomputes(n){return za(n)!==1},unsafeLadder(n,s,r=e.ZERO){let o=n;for(;s>Id;)s&Ll&&(r=r.add(o)),o=o.double(),s>>=Ll;return r},precomputeWindow(n,s){const{windows:r,windowSize:o}=Ua(s,t),i=[];let a=n,l=a;for(let u=0;u<r;u++){l=a,i.push(l);for(let d=1;d<o;d++)l=l.add(a),i.push(l);a=l.double()}return i},wNAF(n,s,r){let o=e.ZERO,i=e.BASE;const a=Ua(n,t);for(let l=0;l<a.windows;l++){const{nextN:u,offset:d,isZero:f,isNeg:p,isNegF:h,offsetF:g}=Nd(r,l,a);r=u,f?i=i.add(Fa(h,s[g])):o=o.add(Fa(p,s[d]))}return{p:o,f:i}},wNAFUnsafe(n,s,r,o=e.ZERO){const i=Ua(n,t);for(let a=0;a<i.windows&&r!==Id;a++){const{nextN:l,offset:u,isZero:d,isNeg:f}=Nd(r,a,i);if(r=l,!d){const p=s[u];o=o.add(f?p.negate():p)}}return o},getPrecomputes(n,s,r){let o=Da.get(s);return o||(o=this.precomputeWindow(s,n),n!==1&&Da.set(s,r(o))),o},wNAFCached(n,s,r){const o=za(n);return this.wNAF(o,this.getPrecomputes(o,n,r),s)},wNAFCachedUnsafe(n,s,r,o){const i=za(n);return i===1?this.unsafeLadder(n,s,o):this.wNAFUnsafe(i,this.getPrecomputes(i,n,r),s,o)},setWindowSize(n,s){Th(s,t),_h.set(n,s),Da.delete(n)}}}function Z5(e,t,n,s){G5(n,e),q5(s,t);const r=n.length,o=s.length;if(r!==o)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,a=ew(BigInt(r));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const u=Qi(l),d=new Array(Number(u)+1).fill(i),f=Math.floor((t.BITS-1)/l)*l;let p=i;for(let h=f;h>=0;h-=l){d.fill(i);for(let b=0;b<o;b++){const v=s[b],$=Number(v>>BigInt(h)&u);d[$]=d[$].add(n[b])}let g=i;for(let b=d.length-1,v=i;b>0;b--)v=v.add(d[b]),g=g.add(v);if(p=p.add(g),h!==0)for(let b=0;b<l;b++)p=p.double()}return p}function Sh(e){return j5(e.Fp),Xi(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...$h(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Rd(e){e.lowS!==void 0&&go("lowS",e.lowS),e.prehash!==void 0&&go("prehash",e.prehash)}function Y5(e){const t=Sh(e);Xi(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:s,a:r}=t;if(n){if(!s.eql(r,s.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class J5 extends Error{constructor(t=""){super(t)}}const In={Err:J5,_tlv:{encode:(e,t)=>{const{Err:n}=In;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const s=t.length/2,r=qo(s);if(r.length/2&128)throw new n("tlv.encode: long form length too big");const o=s>127?qo(r.length/2|128):"";return qo(e)+o+r+t},decode(e,t){const{Err:n}=In;let s=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[s++]!==e)throw new n("tlv.decode: wrong tlv");const r=t[s++],o=!!(r&128);let i=0;if(!o)i=r;else{const l=r&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(s,s+l);if(u.length!==l)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of u)i=i<<8|d;if(s+=l,i<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(s,s+i);if(a.length!==i)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(s+i)}}},_int:{encode(e){const{Err:t}=In;if(e<Mn)throw new t("integer: negative integers are not allowed");let n=qo(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=In;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return ws(e)}},toSig(e){const{Err:t,_int:n,_tlv:s}=In,r=jt("signature",e),{v:o,l:i}=s.decode(48,r);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l}=s.decode(2,o),{v:u,l:d}=s.decode(2,l);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=In,s=t.encode(2,n.encode(e.r)),r=t.encode(2,n.encode(e.s)),o=s+r;return t.encode(48,o)}};function Wa(e,t){return yo(Oo(e,t))}const Mn=BigInt(0),rt=BigInt(1);BigInt(2);const ja=BigInt(3),Q5=BigInt(4);function X5(e){const t=Y5(e),{Fp:n}=t,s=nu(t.n,t.nBitLength),r=t.toBytes||((y,m,w)=>{const P=m.toAffine();return $i(Uint8Array.from([4]),n.toBytes(P.x),n.toBytes(P.y))}),o=t.fromBytes||(y=>{const m=y.subarray(1),w=n.fromBytes(m.subarray(0,n.BYTES)),P=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:w,y:P}});function i(y){const{a:m,b:w}=t,P=n.sqr(y),B=n.mul(P,y);return n.add(n.add(B,n.mul(y,m)),w)}function a(y,m){const w=n.sqr(m),P=i(y);return n.eql(w,P)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const l=n.mul(n.pow(t.a,ja),Q5),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(l,u)))throw new Error("bad curve params: a or b");function d(y){return Fc(y,rt,t.n)}function f(y){const{allowedPrivateKeyLengths:m,nByteLength:w,wrapPrivateKey:P,n:B}=t;if(m&&typeof y!="bigint"){if(Ro(y)&&(y=yo(y)),typeof y!="string"||!m.includes(y.length))throw new Error("invalid private key");y=y.padStart(w*2,"0")}let E;try{E=typeof y=="bigint"?y:ws(jt("private key",y,w))}catch{throw new Error("invalid private key, expected hex or "+w+" bytes, got "+typeof y)}return P&&(E=Tt(E,B)),or("private key",E,rt,B),E}function p(y){if(!(y instanceof b))throw new Error("ProjectivePoint expected")}const h=bd((y,m)=>{const{px:w,py:P,pz:B}=y;if(n.eql(B,n.ONE))return{x:w,y:P};const E=y.is0();m==null&&(m=E?n.ONE:n.inv(B));const T=n.mul(w,m),C=n.mul(P,m),S=n.mul(B,m);if(E)return{x:n.ZERO,y:n.ZERO};if(!n.eql(S,n.ONE))throw new Error("invZ was invalid");return{x:T,y:C}}),g=bd(y=>{if(y.is0()){if(t.allowInfinityPoint&&!n.is0(y.py))return;throw new Error("bad point: ZERO")}const{x:m,y:w}=y.toAffine();if(!n.isValid(m)||!n.isValid(w))throw new Error("bad point: x or y not FE");if(!a(m,w))throw new Error("bad point: equation left != right");if(!y.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class b{constructor(m,w,P){if(m==null||!n.isValid(m))throw new Error("x required");if(w==null||!n.isValid(w)||n.is0(w))throw new Error("y required");if(P==null||!n.isValid(P))throw new Error("z required");this.px=m,this.py=w,this.pz=P,Object.freeze(this)}static fromAffine(m){const{x:w,y:P}=m||{};if(!m||!n.isValid(w)||!n.isValid(P))throw new Error("invalid affine point");if(m instanceof b)throw new Error("projective point not allowed");const B=E=>n.eql(E,n.ZERO);return B(w)&&B(P)?b.ZERO:new b(w,P,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const w=xh(n,m.map(P=>P.pz));return m.map((P,B)=>P.toAffine(w[B])).map(b.fromAffine)}static fromHex(m){const w=b.fromAffine(o(jt("pointHex",m)));return w.assertValidity(),w}static fromPrivateKey(m){return b.BASE.multiply(f(m))}static msm(m,w){return Z5(b,s,m,w)}_setWindowSize(m){x.setWindowSize(this,m)}assertValidity(){g(this)}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){p(m);const{px:w,py:P,pz:B}=this,{px:E,py:T,pz:C}=m,S=n.eql(n.mul(w,C),n.mul(E,B)),O=n.eql(n.mul(P,C),n.mul(T,B));return S&&O}negate(){return new b(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b:w}=t,P=n.mul(w,ja),{px:B,py:E,pz:T}=this;let C=n.ZERO,S=n.ZERO,O=n.ZERO,U=n.mul(B,B),D=n.mul(E,E),L=n.mul(T,T),F=n.mul(B,E);return F=n.add(F,F),O=n.mul(B,T),O=n.add(O,O),C=n.mul(m,O),S=n.mul(P,L),S=n.add(C,S),C=n.sub(D,S),S=n.add(D,S),S=n.mul(C,S),C=n.mul(F,C),O=n.mul(P,O),L=n.mul(m,L),F=n.sub(U,L),F=n.mul(m,F),F=n.add(F,O),O=n.add(U,U),U=n.add(O,U),U=n.add(U,L),U=n.mul(U,F),S=n.add(S,U),L=n.mul(E,T),L=n.add(L,L),U=n.mul(L,F),C=n.sub(C,U),O=n.mul(L,D),O=n.add(O,O),O=n.add(O,O),new b(C,S,O)}add(m){p(m);const{px:w,py:P,pz:B}=this,{px:E,py:T,pz:C}=m;let S=n.ZERO,O=n.ZERO,U=n.ZERO;const D=t.a,L=n.mul(t.b,ja);let F=n.mul(w,E),W=n.mul(P,T),z=n.mul(B,C),Q=n.add(w,P),Y=n.add(E,T);Q=n.mul(Q,Y),Y=n.add(F,W),Q=n.sub(Q,Y),Y=n.add(w,B);let _=n.add(E,C);return Y=n.mul(Y,_),_=n.add(F,z),Y=n.sub(Y,_),_=n.add(P,B),S=n.add(T,C),_=n.mul(_,S),S=n.add(W,z),_=n.sub(_,S),U=n.mul(D,Y),S=n.mul(L,z),U=n.add(S,U),S=n.sub(W,U),U=n.add(W,U),O=n.mul(S,U),W=n.add(F,F),W=n.add(W,F),z=n.mul(D,z),Y=n.mul(L,Y),W=n.add(W,z),z=n.sub(F,z),z=n.mul(D,z),Y=n.add(Y,z),F=n.mul(W,Y),O=n.add(O,F),F=n.mul(_,Y),S=n.mul(Q,S),S=n.sub(S,F),F=n.mul(Q,W),U=n.mul(_,U),U=n.add(U,F),new b(S,O,U)}subtract(m){return this.add(m.negate())}is0(){return this.equals(b.ZERO)}wNAF(m){return x.wNAFCached(this,m,b.normalizeZ)}multiplyUnsafe(m){const{endo:w,n:P}=t;or("scalar",m,Mn,P);const B=b.ZERO;if(m===Mn)return B;if(this.is0()||m===rt)return this;if(!w||x.hasPrecomputes(this))return x.wNAFCachedUnsafe(this,m,b.normalizeZ);let{k1neg:E,k1:T,k2neg:C,k2:S}=w.splitScalar(m),O=B,U=B,D=this;for(;T>Mn||S>Mn;)T&rt&&(O=O.add(D)),S&rt&&(U=U.add(D)),D=D.double(),T>>=rt,S>>=rt;return E&&(O=O.negate()),C&&(U=U.negate()),U=new b(n.mul(U.px,w.beta),U.py,U.pz),O.add(U)}multiply(m){const{endo:w,n:P}=t;or("scalar",m,rt,P);let B,E;if(w){const{k1neg:T,k1:C,k2neg:S,k2:O}=w.splitScalar(m);let{p:U,f:D}=this.wNAF(C),{p:L,f:F}=this.wNAF(O);U=x.constTimeNegate(T,U),L=x.constTimeNegate(S,L),L=new b(n.mul(L.px,w.beta),L.py,L.pz),B=U.add(L),E=D.add(F)}else{const{p:T,f:C}=this.wNAF(m);B=T,E=C}return b.normalizeZ([B,E])[0]}multiplyAndAddUnsafe(m,w,P){const B=b.BASE,E=(C,S)=>S===Mn||S===rt||!C.equals(B)?C.multiplyUnsafe(S):C.multiply(S),T=E(this,w).add(E(m,P));return T.is0()?void 0:T}toAffine(m){return h(this,m)}isTorsionFree(){const{h:m,isTorsionFree:w}=t;if(m===rt)return!0;if(w)return w(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:w}=t;return m===rt?this:w?w(b,this):this.multiplyUnsafe(t.h)}toRawBytes(m=!0){return go("isCompressed",m),this.assertValidity(),r(b,this,m)}toHex(m=!0){return go("isCompressed",m),yo(this.toRawBytes(m))}}b.BASE=new b(t.Gx,t.Gy,n.ONE),b.ZERO=new b(n.ZERO,n.ONE,n.ZERO);const{endo:v,nBitLength:$}=t,x=K5(b,v?Math.ceil($/2):$);return{CURVE:t,ProjectivePoint:b,normPrivateKeyToScalar:f,weierstrassEquation:i,isWithinCurveOrder:d}}function e2(e){const t=Sh(e);return Xi(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function t2(e){const t=e2(e),{Fp:n,n:s,nByteLength:r,nBitLength:o}=t,i=n.BYTES+1,a=2*n.BYTES+1;function l(L){return Tt(L,s)}function u(L){return Ml(L,s)}const{ProjectivePoint:d,normPrivateKeyToScalar:f,weierstrassEquation:p,isWithinCurveOrder:h}=X5({...t,toBytes(L,F,W){const z=F.toAffine(),Q=n.toBytes(z.x),Y=$i;return go("isCompressed",W),W?Y(Uint8Array.from([F.hasEvenY()?2:3]),Q):Y(Uint8Array.from([4]),Q,n.toBytes(z.y))},fromBytes(L){const F=L.length,W=L[0],z=L.subarray(1);if(F===i&&(W===2||W===3)){const Q=ws(z);if(!Fc(Q,rt,n.ORDER))throw new Error("Point is not on curve");const Y=p(Q);let _;try{_=n.sqrt(Y)}catch(he){const V=he instanceof Error?": "+he.message:"";throw new Error("Point is not on curve"+V)}const k=(_&rt)===rt;return(W&1)===1!==k&&(_=n.neg(_)),{x:Q,y:_}}else if(F===a&&W===4){const Q=n.fromBytes(z.subarray(0,n.BYTES)),Y=n.fromBytes(z.subarray(n.BYTES,2*n.BYTES));return{x:Q,y:Y}}else{const Q=i,Y=a;throw new Error("invalid Point, expected length of "+Q+", or uncompressed "+Y+", got "+F)}}});function g(L){const F=s>>rt;return L>F}function b(L){return g(L)?l(-L):L}const v=(L,F,W)=>ws(L.slice(F,W));class ${constructor(F,W,z){or("r",F,rt,s),or("s",W,rt,s),this.r=F,this.s=W,z!=null&&(this.recovery=z),Object.freeze(this)}static fromCompact(F){const W=r;return F=jt("compactSignature",F,W*2),new $(v(F,0,W),v(F,W,2*W))}static fromDER(F){const{r:W,s:z}=In.toSig(jt("DER",F));return new $(W,z)}assertValidity(){}addRecoveryBit(F){return new $(this.r,this.s,F)}recoverPublicKey(F){const{r:W,s:z,recovery:Q}=this,Y=B(jt("msgHash",F));if(Q==null||![0,1,2,3].includes(Q))throw new Error("recovery id invalid");const _=Q===2||Q===3?W+t.n:W;if(_>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const k=Q&1?"03":"02",H=d.fromHex(k+Wa(_,n.BYTES)),he=u(_),V=l(-Y*he),fe=l(z*he),xe=d.BASE.multiplyAndAddUnsafe(H,V,fe);if(!xe)throw new Error("point at infinify");return xe.assertValidity(),xe}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new $(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return xi(this.toDERHex())}toDERHex(){return In.hexFromSig(this)}toCompactRawBytes(){return xi(this.toCompactHex())}toCompactHex(){const F=r;return Wa(this.r,F)+Wa(this.s,F)}}const x={isValidPrivateKey(L){try{return f(L),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const L=Ch(t.n);return V5(t.randomBytes(L),t.n)},precompute(L=8,F=d.BASE){return F._setWindowSize(L),F.multiply(BigInt(3)),F}};function y(L,F=!0){return d.fromPrivateKey(L).toRawBytes(F)}function m(L){if(typeof L=="bigint")return!1;if(L instanceof d)return!0;const W=jt("key",L).length,z=n.BYTES,Q=z+1,Y=2*z+1;if(!(t.allowedPrivateKeyLengths||r===Q))return W===Q||W===Y}function w(L,F,W=!0){if(m(L)===!0)throw new Error("first arg must be private key");if(m(F)===!1)throw new Error("second arg must be public key");return d.fromHex(F).multiply(f(L)).toRawBytes(W)}const P=t.bits2int||function(L){if(L.length>8192)throw new Error("input is too large");const F=ws(L),W=L.length*8-o;return W>0?F>>BigInt(W):F},B=t.bits2int_modN||function(L){return l(P(L))},E=Qi(o);function T(L){return or("num < 2^"+o,L,Mn,E),Oo(L,r)}function C(L,F,W=S){if(["recovered","canonical"].some(st=>st in W))throw new Error("sign() legacy options not supported");const{hash:z,randomBytes:Q}=t;let{lowS:Y,prehash:_,extraEntropy:k}=W;Y==null&&(Y=!0),L=jt("msgHash",L),Rd(W),_&&(L=jt("prehashed msgHash",z(L)));const H=B(L),he=f(F),V=[T(he),T(H)];if(k!=null&&k!==!1){const st=k===!0?Q(n.BYTES):k;V.push(jt("extraEntropy",st))}const fe=$i(...V),xe=H;function Oe(st){const yt=P(st);if(!h(yt))return;const zs=u(yt),A=d.BASE.multiply(yt).toAffine(),N=l(A.x);if(N===Mn)return;const j=l(zs*l(xe+N*he));if(j===Mn)return;let X=(A.x===N?0:2)|Number(A.y&rt),J=j;return Y&&g(j)&&(J=b(j),X^=1),new $(N,J,X)}return{seed:fe,k2sig:Oe}}const S={lowS:t.lowS,prehash:!1},O={lowS:t.lowS,prehash:!1};function U(L,F,W=S){const{seed:z,k2sig:Q}=C(L,F,W),Y=t;return tw(Y.hash.outputLen,Y.nByteLength,Y.hmac)(z,Q)}d.BASE._setWindowSize(8);function D(L,F,W,z=O){var X;const Q=L;F=jt("msgHash",F),W=jt("publicKey",W);const{lowS:Y,prehash:_,format:k}=z;if(Rd(z),"strict"in z)throw new Error("options.strict was renamed to lowS");if(k!==void 0&&k!=="compact"&&k!=="der")throw new Error("format must be compact or der");const H=typeof Q=="string"||Ro(Q),he=!H&&!k&&typeof Q=="object"&&Q!==null&&typeof Q.r=="bigint"&&typeof Q.s=="bigint";if(!H&&!he)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let V,fe;try{if(he&&(V=new $(Q.r,Q.s)),H){try{k!=="compact"&&(V=$.fromDER(Q))}catch(J){if(!(J instanceof In.Err))throw J}!V&&k!=="der"&&(V=$.fromCompact(Q))}fe=d.fromHex(W)}catch{return!1}if(!V||Y&&V.hasHighS())return!1;_&&(F=t.hash(F));const{r:xe,s:Oe}=V,st=B(F),yt=u(Oe),zs=l(st*yt),A=l(xe*yt),N=(X=d.BASE.multiplyAndAddUnsafe(fe,zs,A))==null?void 0:X.toAffine();return N?l(N.x)===xe:!1}return{CURVE:t,getPublicKey:y,getSharedSecret:w,sign:U,verify:D,ProjectivePoint:d,Signature:$,utils:x}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function n2(e){return{hash:e,hmac:(t,...n)=>bh(e,t,yy(...n)),randomBytes:vy}}function s2(e,t){const n=s=>t2({...e,...n2(s)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ph=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Od=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),r2=BigInt(0),o2=BigInt(1),Fl=BigInt(2),Md=(e,t)=>(e+t/Fl)/t;function i2(e){const t=Ph,n=BigInt(3),s=BigInt(6),r=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),l=BigInt(88),u=e*e*e%t,d=u*u*e%t,f=zt(d,n,t)*d%t,p=zt(f,n,t)*d%t,h=zt(p,Fl,t)*u%t,g=zt(h,r,t)*h%t,b=zt(g,o,t)*g%t,v=zt(b,a,t)*b%t,$=zt(v,l,t)*v%t,x=zt($,a,t)*b%t,y=zt(x,n,t)*d%t,m=zt(y,i,t)*g%t,w=zt(m,s,t)*u%t,P=zt(w,Fl,t);if(!Ul.eql(Ul.sqr(P),e))throw new Error("Cannot find square root");return P}const Ul=nu(Ph,void 0,void 0,{sqrt:i2}),ua=s2({a:r2,b:BigInt(7),Fp:Ul,n:Od,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Od,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),s=-o2*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),r=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=Md(o*e,t),l=Md(-s*e,t);let u=Tt(e-a*n-l*r,t),d=Tt(-a*s-l*o,t);const f=u>i,p=d>i;if(f&&(u=t-u),p&&(d=t-d),u>i||d>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:p,k2:d}}}},op),a2=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:ua},Symbol.toStringTag,{value:"Module"}));function Ah(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new Ha({signature:e});if(typeof e.s>"u")throw new Ha({signature:e});if(n&&typeof e.yParity>"u")throw new Ha({signature:e});if(e.r<0n||e.r>Pd)throw new h2({value:e.r});if(e.s<0n||e.s>Pd)throw new m2({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new ru({value:e.yParity})}function l2(e){return Eh(un(e))}function Eh(e){if(e.length!==130&&e.length!==132)throw new p2({signature:e});const t=BigInt(kn(e,0,32)),n=BigInt(kn(e,32,64)),s=(()=>{const r=+`0x${e.slice(130)}`;if(!Number.isNaN(r))try{return su(r)}catch{throw new ru({value:r})}})();return typeof s>"u"?{r:t,s:n}:{r:t,s:n,yParity:s}}function c2(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return u2(e)}function u2(e){const t=typeof e=="string"?Eh(e):e instanceof Uint8Array?l2(e):typeof e.r=="string"?f2(e):e.v?d2(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return Ah(t),t}function d2(e){return{r:e.r,s:e.s,yParity:su(e.v)}}function f2(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let s=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof s!="number"&&(s=su(n)),typeof s!="number")throw new ru({value:e.yParity});return s})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function su(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new b2({value:e})}class p2 extends _e{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Lt(_w(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Ha extends _e{constructor({signature:t}){super(`Signature \`${kp(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class h2 extends _e{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class m2 extends _e{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class ru extends _e{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class b2 extends _e{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function g2(e,t={}){return typeof e.chainId=="string"?y2(e):{...e,...t.signature}}function y2(e){const{address:t,chainId:n,nonce:s}=e,r=c2(e);return{address:t,chainId:Number(n),nonce:BigInt(s),...r}}const v2="0x8010801080108010801080108010801080108010801080108010801080108010",w2=fh("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Bh(e){if(typeof e=="string"){if(kn(e,-32)!==v2)throw new k2(e)}else Ah(e.authorization)}function x2(e){Bh(e);const t=Pp(kn(e,-64,-32)),n=kn(e,-t-64,-64),s=kn(e,0,-t-64),[r,o,i]=N5(w2,n);return{authorization:g2({address:r.delegation,chainId:Number(r.chainId),nonce:r.nonce,yParity:r.yParity,r:r.r,s:r.s}),signature:s,...i&&i!=="0x"?{data:i,to:o}:{}}}function $2(e){try{return Bh(e),!0}catch{return!1}}let k2=class extends _e{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};class C2 extends G{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function _t(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new C2({value:e});let[n,s="0"]=e.split(".");const r=n.startsWith("-");if(r&&(n=n.slice(1)),s=s.replace(/(0+)$/,""),t===0)Math.round(+`.${s}`)===1&&(n=`${BigInt(n)+1n}`),s="";else if(s.length>t){const[o,i,a]=[s.slice(0,t-1),s.slice(t-1,t),s.slice(t)],l=Math.round(+`${i}.${a}`);l>9?s=`${BigInt(o)+BigInt(1)}0`.padStart(o.length+1,"0"):s=`${o}${l}`,s.length>t&&(s=s.slice(1),n=`${BigInt(n)+1n}`),s=s.slice(0,t)}else s=s.padEnd(t,"0");return BigInt(`${r?"-":""}${n}${s}`)}function it(e,t="wei"){return _t(e,H0[t])}function T2(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function _2(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Yt(e.nonce):void 0,storageProof:e.storageProof?T2(e.storageProof):void 0}}async function S2(e,{address:t,blockNumber:n,blockTag:s,storageKeys:r}){const o=s??"latest",i=n!==void 0?re(n):void 0,a=await e.request({method:"eth_getProof",params:[t,r,i||o]});return _2(a)}async function P2(e,{address:t,blockNumber:n,blockTag:s="latest",slot:r}){const o=n!==void 0?re(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,r,o||s]})}async function ou(e,{blockHash:t,blockNumber:n,blockTag:s,hash:r,index:o}){var d,f,p;const i=s||"latest",a=n!==void 0?re(n):void 0;let l=null;if(r?l=await e.request({method:"eth_getTransactionByHash",params:[r]},{dedupe:!0}):t?l=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,re(o)]},{dedupe:!0}):l=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||i,re(o)]},{dedupe:!!a}),!l)throw new V0({blockHash:t,blockNumber:n,blockTag:i,hash:r,index:o});return(((p=(f=(d=e.chain)==null?void 0:d.formatters)==null?void 0:f.transaction)==null?void 0:p.format)||np)(l)}async function A2(e,{hash:t,transactionReceipt:n}){const[s,r]=await Promise.all([me(e,Lo,"getBlockNumber")({}),t?me(e,ou,"getTransaction")({hash:t}):void 0]),o=(n==null?void 0:n.blockNumber)||(r==null?void 0:r.blockNumber);return o?s-o+1n:0n}async function ii(e,{hash:t}){var r,o,i;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new G0({hash:t});return(((i=(o=(r=e.chain)==null?void 0:r.formatters)==null?void 0:o.transactionReceipt)==null?void 0:i.format)||Jw)(n)}async function E2(e,t){var x;const{account:n,authorizationList:s,allowFailure:r=!0,blockNumber:o,blockOverrides:i,blockTag:a,stateOverride:l}=t,u=t.contracts,{batchSize:d=t.batchSize??1024,deployless:f=t.deployless??!1}=typeof((x=e.batch)==null?void 0:x.multicall)=="object"?e.batch.multicall:{},p=(()=>{if(t.multicallAddress)return t.multicallAddress;if(f)return null;if(e.chain)return $r({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let g=0,b=0;for(let y=0;y<u.length;y++){const{abi:m,address:w,args:P,functionName:B}=u[y];try{const E=Ct({abi:m,args:P,functionName:B});b+=(E.length-2)/2,d>0&&b>d&&h[g].length>0&&(g++,b=(E.length-2)/2,h[g]=[]),h[g]=[...h[g],{allowFailure:!0,callData:E,target:w}]}catch(E){const T=As(E,{abi:m,address:w,args:P,docsPath:"/docs/contract/multicall",functionName:B,sender:n});if(!r)throw T;h[g]=[...h[g],{allowFailure:!0,callData:"0x",target:w}]}}const v=await Promise.allSettled(h.map(y=>me(e,dn,"readContract")({...p===null?{code:Dc}:{address:p},abi:ki,account:n,args:[y],authorizationList:s,blockNumber:o,blockOverrides:i,blockTag:a,functionName:"aggregate3",stateOverride:l}))),$=[];for(let y=0;y<v.length;y++){const m=v[y];if(m.status==="rejected"){if(!r)throw m.reason;for(let P=0;P<h[y].length;P++)$.push({status:"failure",error:m.reason,result:void 0});continue}const w=m.value;for(let P=0;P<w.length;P++){const{returnData:B,success:E}=w[P],{callData:T}=h[y][P],{abi:C,address:S,functionName:O,args:U}=u[$.length];try{if(T==="0x")throw new To;if(!E)throw new Gi({data:B});const D=Us({abi:C,args:U,data:B,functionName:O});$.push(r?{result:D,status:"success"}:D)}catch(D){const L=As(D,{abi:C,address:S,args:U,docsPath:"/docs/contract/multicall",functionName:O});if(!r)throw L;$.push({error:L,result:void 0,status:"failure"})}}}if($.length!==u.length)throw new G("multicall results mismatch");return $}async function Dl(e,t){const{blockNumber:n,blockTag:s=e.experimental_blockTag??"latest",blocks:r,returnFullTransactions:o,traceTransfers:i,validation:a}=t;try{const l=[];for(const p of r){const h=p.blockOverrides?Bp(p.blockOverrides):void 0,g=p.calls.map(v=>{const $=v,x=$.account?Je($.account):void 0,y=$.abi?Ct($):$.data,m={...$,data:$.dataSuffix?Qt([y||"0x",$.dataSuffix]):y,from:$.from??(x==null?void 0:x.address)};return Fs(m),wr(m)}),b=p.stateOverrides?Tc(p.stateOverrides):void 0;l.push({blockOverrides:h,calls:g,stateOverrides:b})}const d=(typeof n=="bigint"?re(n):void 0)||s;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:l,returnFullTransactions:o,traceTransfers:i,validation:a},d]})).map((p,h)=>({...sp(p),calls:p.calls.map((g,b)=>{var C,S;const{abi:v,args:$,functionName:x,to:y}=r[h].calls[b],m=((C=g.error)==null?void 0:C.data)??g.returnData,w=BigInt(g.gasUsed),P=(S=g.logs)==null?void 0:S.map(O=>Vn(O)),B=g.status==="0x1"?"success":"failure",E=v&&B==="success"&&m!=="0x"?Us({abi:v,data:m,functionName:x}):null,T=(()=>{var U;if(B==="success")return;let O;if(((U=g.error)==null?void 0:U.data)==="0x"?O=new To:g.error&&(O=new Gi(g.error)),!!O)return As(O,{abi:v??[],address:y??"0x",args:$,functionName:x??"<unknown>"})})();return{data:m,gasUsed:w,logs:P,status:B,...B==="success"?{result:E}:{error:T}}})}))}catch(l){const u=l,d=Ki(u,{});throw d instanceof Io?u:d}}function zl(e){let t=!0,n="",s=0,r="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&s++,a===")"&&s--,!!t){if(s===0){if(a===" "&&["event","function","error",""].includes(r))r="";else if(r+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}r+=a,n+=a}}if(!o)throw new _e("Unable to normalize signature.");return r}function Wl(e,t){const n=typeof e,s=t.type;switch(s){case"address":return Nl(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return s==="tuple"&&"components"in t?Object.values(t.components).every((r,o)=>Wl(Object.values(e)[o],r)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(s)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(s)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(s)?Array.isArray(e)&&e.every(r=>Wl(r,{...t,type:s.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Ih(e,t,n){for(const s in e){const r=e[s],o=t[s];if(r.type==="tuple"&&o.type==="tuple"&&"components"in r&&"components"in o)return Ih(r.components,o.components,n[s]);const i=[r.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?Nl(n[s],{strict:!1}):i.includes("address")&&i.includes("bytes")?Nl(n[s],{strict:!1}):!1)return i}}function Nh(e,t={}){const{prepare:n=!0}=t,s=Array.isArray(e)||typeof e=="string"?ju(e):e;return{...s,...n?{hash:Js(s)}:{}}}function B2(e,t,n){const{args:s=[],prepare:r=!0}=n??{},o=Sw(t,{strict:!1}),i=e.filter(u=>o?u.type==="function"||u.type==="error"?Rh(u)===kn(t,0,4):u.type==="event"?Js(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new jl({name:t});if(i.length===1)return{...i[0],...r?{hash:Js(i[0])}:{}};let a;for(const u of i){if(!("inputs"in u))continue;if(!s||s.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...r?{hash:Js(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==s.length)continue;if(s.every((f,p)=>{const h="inputs"in u&&u.inputs[p];return h?Wl(f,h):!1})){if(a&&"inputs"in a&&a.inputs){const f=Ih(u.inputs,a.inputs,s);if(f)throw new N2({abiItem:u,type:f[0]},{abiItem:a,type:f[1]})}a=u}}const l=(()=>{if(a)return a;const[u,...d]=i;return{...u,overloads:d}})();if(!l)throw new jl({name:t});return{...l,...r?{hash:Js(l)}:{}}}function Rh(e){return kn(Js(e),0,4)}function I2(e){const t=typeof e=="string"?e:vi(e);return zl(t)}function Js(e){return typeof e!="string"&&"hash"in e&&e.hash?e.hash:ch(Uc(I2(e)))}class N2 extends _e{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${zl(vi(t.abiItem))}\`, and`,`\`${n.type}\` in \`${zl(vi(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class jl extends _e{constructor({name:t,data:n,type:s="item"}){const r=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${s}${r} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function R2(e,t){var r;const{bytecode:n,args:s}=t;return cn(n,(r=e.inputs)!=null&&r.length&&(s!=null&&s.length)?eu(e.inputs,s):"0x")}function O2(e){return Nh(e)}function M2(e,...t){const{overloads:n}=e,s=n?L2([e,...n],e.name,{args:t[0]}):e,r=F2(s),o=t.length>0?eu(s.inputs,t[0]):void 0;return o?cn(r,o):r}function Vs(e,t={}){return Nh(e,t)}function L2(e,t,n){const s=B2(e,t,n);if(s.type!=="function")throw new jl({name:t,type:"function"});return s}function F2(e){return Rh(e)}const U2="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",bn="0x0000000000000000000000000000000000000000",D2="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function z2(e,t){const{blockNumber:n,blockTag:s,calls:r,stateOverrides:o,traceAssetChanges:i,traceTransfers:a,validation:l}=t,u=t.account?Je(t.account):void 0;if(i&&!u)throw new G("`account` is required when `traceAssetChanges` is true");const d=u?R2(O2("constructor(bytes, bytes)"),{bytecode:Op,args:[D2,M2(Vs("function getBalance(address)"),[u.address])]}):void 0,f=i?await Promise.all(t.calls.map(async z=>{if(!z.data&&!z.abi)return;const{accessList:Q}=await Jp(e,{account:u.address,...z,data:z.abi?Ct(z):z.data});return Q.map(({address:Y,storageKeys:_})=>_.length>0?Y:null)})).then(z=>z.flat().filter(Boolean)):[],p=await Dl(e,{blockNumber:n,blockTag:s,blocks:[...i?[{calls:[{data:d}],stateOverrides:o},{calls:f.map((z,Q)=>({abi:[Vs("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:z,from:bn,nonce:Q})),stateOverrides:[{address:bn,nonce:0}]}]:[],{calls:[...r,{}].map(z=>({...z,from:u==null?void 0:u.address})),stateOverrides:o},...i?[{calls:[{data:d}]},{calls:f.map((z,Q)=>({abi:[Vs("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:z,from:bn,nonce:Q})),stateOverrides:[{address:bn,nonce:0}]},{calls:f.map((z,Q)=>({to:z,abi:[Vs("function decimals() returns (uint256)")],functionName:"decimals",from:bn,nonce:Q})),stateOverrides:[{address:bn,nonce:0}]},{calls:f.map((z,Q)=>({to:z,abi:[Vs("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:bn,nonce:Q})),stateOverrides:[{address:bn,nonce:0}]},{calls:f.map((z,Q)=>({to:z,abi:[Vs("function symbol() returns (string)")],functionName:"symbol",from:bn,nonce:Q})),stateOverrides:[{address:bn,nonce:0}]}]:[]],traceTransfers:a,validation:l}),h=i?p[2]:p[0],[g,b,,v,$,x,y,m]=i?p:[],{calls:w,...P}=h,B=w.slice(0,-1)??[],E=(g==null?void 0:g.calls)??[],T=(b==null?void 0:b.calls)??[],C=[...E,...T].map(z=>z.status==="success"?Mt(z.data):null),S=(v==null?void 0:v.calls)??[],O=($==null?void 0:$.calls)??[],U=[...S,...O].map(z=>z.status==="success"?Mt(z.data):null),D=((x==null?void 0:x.calls)??[]).map(z=>z.status==="success"?z.result:null),L=((m==null?void 0:m.calls)??[]).map(z=>z.status==="success"?z.result:null),F=((y==null?void 0:y.calls)??[]).map(z=>z.status==="success"?z.result:null),W=[];for(const[z,Q]of U.entries()){const Y=C[z];if(typeof Q!="bigint"||typeof Y!="bigint")continue;const _=D[z-1],k=L[z-1],H=F[z-1],he=z===0?{address:U2,decimals:18,symbol:"ETH"}:{address:f[z-1],decimals:H||_?Number(_??1):void 0,symbol:k??void 0};W.some(V=>V.token.address===he.address)||W.push({token:he,value:{pre:Y,post:Q,diff:Q-Y}})}return{assetChanges:W,block:P,results:B}}const Oh="0x6492649264926492649264926492649264926492649264926492649264926492";function W2(e){if(kn(e,-32)!==Oh)throw new V2(e)}function j2(e){const{data:t,signature:n,to:s}=e;return cn(eu(fh("address, bytes, bytes"),[s,t,n]),Oh)}function H2(e){try{return W2(e),!0}catch{return!1}}class V2 extends _e{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function Mh({r:e,s:t,to:n="hex",v:s,yParity:r}){const o=(()=>{if(r===0||r===1)return r;if(s&&(s===27n||s===28n||s>=35n))return s%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new ua.Signature(Mt(e),Mt(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:ln(i)}async function da(e,t){var a,l,u,d,f,p;const{address:n,hash:s,erc6492VerifierAddress:r=t.universalSignatureVerifierAddress??((u=(l=(a=e.chain)==null?void 0:a.contracts)==null?void 0:l.erc6492Verifier)==null?void 0:u.address),multicallAddress:o=t.multicallAddress??((p=(f=(d=e.chain)==null?void 0:d.contracts)==null?void 0:f.multicall3)==null?void 0:p.address)}=t,i=(()=>{const h=t.signature;return an(h)?h:typeof h=="object"&&"r"in h&&"s"in h?Mh(h):Xe(h)})();try{return $2(i)?await G2(e,{...t,multicallAddress:o,signature:i}):await q2(e,{...t,verifierAddress:r,signature:i})}catch(h){try{if(No(We(n),await Y0({hash:s,signature:i})))return!0}catch{}if(h instanceof Rs)return!1;throw h}}async function G2(e,t){var v;const{address:n,blockNumber:s,blockTag:r,hash:o,multicallAddress:i}=t,{authorization:a,data:l,signature:u,to:d}=x2(t.signature);if(await Bl(e,{address:n,blockNumber:s,blockTag:r})===Xt(["0xef0100",a.address]))return await K2(e,{address:n,blockNumber:s,blockTag:r,hash:o,signature:u});const p={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:re(a.r,{size:32}),s:re(a.s,{size:32}),yParity:a.yParity};if(!await j6({address:n,authorization:p}))throw new Rs;const g=await me(e,dn,"readContract")({...i?{address:i}:{code:Dc},authorizationList:[p],abi:ki,blockNumber:s,blockTag:"pending",functionName:"aggregate3",args:[[...l?[{allowFailure:!0,target:d??n,callData:l}]:[],{allowFailure:!0,target:n,callData:Ct({abi:Rp,functionName:"isValidSignature",args:[o,u]})}]]}),b=(v=g[g.length-1])==null?void 0:v.returnData;if(b!=null&&b.startsWith("0x1626ba7e"))return!0;throw new Rs}async function q2(e,t){const{address:n,factory:s,factoryData:r,hash:o,signature:i,verifierAddress:a,...l}=t,u=await(async()=>!s&&!r||H2(i)?i:j2({data:r,signature:i,to:s}))(),d=a?{to:a,data:Ct({abi:$d,functionName:"isValidSig",args:[n,o,u]}),...l}:{data:na({abi:$d,args:[n,o,u],bytecode:Rw}),...l},{data:f}=await me(e,sa,"call")(d).catch(p=>{throw p instanceof q0?new Rs:p});if(Xg(f??"0x0"))return!0;throw new Rs}async function K2(e,t){const{address:n,blockNumber:s,blockTag:r,hash:o,signature:i}=t;if((await me(e,dn,"readContract")({address:n,abi:Rp,args:[o,i],blockNumber:s,blockTag:r,functionName:"isValidSignature"}).catch(l=>{throw l instanceof K0?new Rs:l})).startsWith("0x1626ba7e"))return!0;throw new Rs}class Rs extends Error{}async function Z2(e,{address:t,message:n,factory:s,factoryData:r,signature:o,...i}){const a=Yc(n);return da(e,{address:t,factory:s,factoryData:r,hash:a,signature:o,...i})}async function Y2(e,t){const{address:n,factory:s,factoryData:r,signature:o,message:i,primaryType:a,types:l,domain:u,...d}=t,f=rh({message:i,primaryType:a,types:l,domain:u});return da(e,{address:n,factory:s,factoryData:r,hash:f,signature:o,...d})}function Lh(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:s,onError:r,poll:o,pollingInterval:i=e.pollingInterval}){const a=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let l;return a?(()=>{const f=Qe(["watchBlockNumber",e.uid,t,n,i]);return Gn(f,{onBlockNumber:s,onError:r},p=>kr(async()=>{var h;try{const g=await me(e,Lo,"getBlockNumber")({cacheTime:0});if(l!==void 0){if(g===l)return;if(g-l>1&&n)for(let b=l+1n;b<g;b++)p.onBlockNumber(b,l),l=b}(l===void 0||g>l)&&(p.onBlockNumber(g,l),l=g)}catch(g){(h=p.onError)==null||h.call(p,g)}},{emitOnBegin:t,interval:i}))})():(()=>{const f=Qe(["watchBlockNumber",e.uid,t,n]);return Gn(f,{onBlockNumber:s,onError:r},p=>{let h=!0,g=()=>h=!1;return(async()=>{try{const b=(()=>{if(e.transport.type==="fallback"){const $=e.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return $?$.value:e.transport}return e.transport})(),{unsubscribe:v}=await b.subscribe({params:["newHeads"],onData($){var y;if(!h)return;const x=Mt((y=$.result)==null?void 0:y.number);p.onBlockNumber(x,l),l=x},onError($){var x;(x=p.onError)==null||x.call(p,$)}});g=v,h||g()}catch(b){r==null||r(b)}})(),()=>g()})})()}async function J2(e,t){const{checkReplacement:n=!0,confirmations:s=1,hash:r,onReplaced:o,retryCount:i=6,retryDelay:a=({count:w})=>~~(1<<w)*200,timeout:l=18e4}=t,u=Qe(["waitForTransactionReceipt",e.uid,r]),d=(()=>{var w;return t.pollingInterval?t.pollingInterval:(w=e.chain)!=null&&w.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let f,p,h,g=!1,b,v;const{promise:$,resolve:x,reject:y}=zc(),m=l?setTimeout(()=>{v==null||v(),b==null||b(),y(new mv({hash:r}))},l):void 0;return b=Gn(u,{onReplaced:o,resolve:x,reject:y},async w=>{if(h=await me(e,ii,"getTransactionReceipt")({hash:r}).catch(()=>{}),h&&s<=1){clearTimeout(m),w.resolve(h),b==null||b();return}v=me(e,Lh,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:d,async onBlockNumber(P){const B=T=>{clearTimeout(m),v==null||v(),T(),b==null||b()};let E=P;if(!g)try{if(h){if(s>1&&(!h.blockNumber||E-h.blockNumber+1n<s))return;B(()=>w.resolve(h));return}if(n&&!f&&(g=!0,await Ti(async()=>{f=await me(e,ou,"getTransaction")({hash:r}),f.blockNumber&&(E=f.blockNumber)},{delay:a,retryCount:i}),g=!1),h=await me(e,ii,"getTransactionReceipt")({hash:r}),s>1&&(!h.blockNumber||E-h.blockNumber+1n<s))return;B(()=>w.resolve(h))}catch(T){if(T instanceof V0||T instanceof G0){if(!f){g=!1;return}try{p=f,g=!0;const C=await Ti(()=>me(e,wn,"getBlock")({blockNumber:E,includeTransactions:!0}),{delay:a,retryCount:i,shouldRetry:({error:U})=>U instanceof ep});g=!1;const S=C.transactions.find(({from:U,nonce:D})=>U===p.from&&D===p.nonce);if(!S||(h=await me(e,ii,"getTransactionReceipt")({hash:S.hash}),s>1&&(!h.blockNumber||E-h.blockNumber+1n<s)))return;let O="replaced";S.to===p.to&&S.value===p.value&&S.input===p.input?O="repriced":S.from===S.to&&S.value===0n&&(O="cancelled"),B(()=>{var U;(U=w.onReplaced)==null||U.call(w,{reason:O,replacedTransaction:p,transaction:S,transactionReceipt:h}),w.resolve(h)})}catch(C){B(()=>w.reject(C))}}else B(()=>w.reject(T))}}})}),$}function Q2(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:s=!1,onBlock:r,onError:o,includeTransactions:i,poll:a,pollingInterval:l=e.pollingInterval}){const u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),d=i??!1;let f;return u?(()=>{const g=Qe(["watchBlocks",e.uid,t,n,s,d,l]);return Gn(g,{onBlock:r,onError:o},b=>kr(async()=>{var v;try{const $=await me(e,wn,"getBlock")({blockTag:t,includeTransactions:d});if($.number!==null&&(f==null?void 0:f.number)!=null){if($.number===f.number)return;if($.number-f.number>1&&n)for(let x=(f==null?void 0:f.number)+1n;x<$.number;x++){const y=await me(e,wn,"getBlock")({blockNumber:x,includeTransactions:d});b.onBlock(y,f),f=y}}((f==null?void 0:f.number)==null||t==="pending"&&($==null?void 0:$.number)==null||$.number!==null&&$.number>f.number)&&(b.onBlock($,f),f=$)}catch($){(v=b.onError)==null||v.call(b,$)}},{emitOnBegin:s,interval:l}))})():(()=>{let g=!0,b=!0,v=()=>g=!1;return(async()=>{try{s&&me(e,wn,"getBlock")({blockTag:t,includeTransactions:d}).then(y=>{g&&b&&(r(y,void 0),b=!1)}).catch(o);const $=(()=>{if(e.transport.type==="fallback"){const y=e.transport.transports.find(m=>m.config.type==="webSocket"||m.config.type==="ipc");return y?y.value:e.transport}return e.transport})(),{unsubscribe:x}=await $.subscribe({params:["newHeads"],async onData(y){var w;if(!g)return;const m=await me(e,wn,"getBlock")({blockNumber:(w=y.result)==null?void 0:w.number,includeTransactions:d}).catch(()=>{});g&&(r(m,f),b=!1,f=m)},onError(y){o==null||o(y)}});v=x,g||v()}catch($){o==null||o($)}})(),()=>v()})()}function X2(e,{address:t,args:n,batch:s=!0,event:r,events:o,fromBlock:i,onError:a,onLogs:l,poll:u,pollingInterval:d=e.pollingInterval,strict:f}){const p=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),h=f??!1;return p?(()=>{const v=Qe(["watchEvent",t,n,s,e.uid,r,d,i]);return Gn(v,{onLogs:l,onError:a},$=>{let x;i!==void 0&&(x=i-1n);let y,m=!1;const w=kr(async()=>{var P;if(!m){try{y=await me(e,Qp,"createEventFilter")({address:t,args:n,event:r,events:o,strict:h,fromBlock:i})}catch{}m=!0;return}try{let B;if(y)B=await me(e,ra,"getFilterChanges")({filter:y});else{const E=await me(e,Lo,"getBlockNumber")({});x&&x!==E?B=await me(e,Oc,"getLogs")({address:t,args:n,event:r,events:o,fromBlock:x+1n,toBlock:E}):B=[],x=E}if(B.length===0)return;if(s)$.onLogs(B);else for(const E of B)$.onLogs([E])}catch(B){y&&B instanceof Ps&&(m=!1),(P=$.onError)==null||P.call($,B)}},{emitOnBegin:!0,interval:d});return async()=>{y&&await me(e,oa,"uninstallFilter")({filter:y}),w()}})})():(()=>{let v=!0,$=()=>v=!1;return(async()=>{try{const x=(()=>{if(e.transport.type==="fallback"){const P=e.transport.transports.find(B=>B.config.type==="webSocket"||B.config.type==="ipc");return P?P.value:e.transport}return e.transport})(),y=o??(r?[r]:void 0);let m=[];y&&(m=[y.flatMap(B=>Po({abi:[B],eventName:B.name,args:n}))],r&&(m=m[0]));const{unsubscribe:w}=await x.subscribe({params:["logs",{address:t,topics:m}],onData(P){var E;if(!v)return;const B=P.result;try{const{eventName:T,args:C}=Nc({abi:y??[],data:B.data,topics:B.topics,strict:h}),S=Vn(B,{args:C,eventName:T});l([S])}catch(T){let C,S;if(T instanceof Zr||T instanceof zi){if(f)return;C=T.abiItem.name,S=(E=T.abiItem.inputs)==null?void 0:E.some(U=>!("name"in U&&U.name))}const O=Vn(B,{args:S?[]:{},eventName:C});l([O])}},onError(P){a==null||a(P)}});$=w,v||$()}catch(x){a==null||a(x)}})(),()=>$()})()}function ex(e,{batch:t=!0,onError:n,onTransactions:s,poll:r,pollingInterval:o=e.pollingInterval}){return(typeof r<"u"?r:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=Qe(["watchPendingTransactions",e.uid,t,o]);return Gn(u,{onTransactions:s,onError:n},d=>{let f;const p=kr(async()=>{var h;try{if(!f)try{f=await me(e,Xp,"createPendingTransactionFilter")({});return}catch(b){throw p(),b}const g=await me(e,ra,"getFilterChanges")({filter:f});if(g.length===0)return;if(t)d.onTransactions(g);else for(const b of g)d.onTransactions([b])}catch(g){(h=d.onError)==null||h.call(d,g)}},{emitOnBegin:!0,interval:o});return async()=>{f&&await me(e,oa,"uninstallFilter")({filter:f}),p()}})})():(()=>{let u=!0,d=()=>u=!1;return(async()=>{try{const{unsubscribe:f}=await e.transport.subscribe({params:["newPendingTransactions"],onData(p){if(!u)return;const h=p.result;s([h])},onError(p){n==null||n(p)}});d=f,u||d()}catch(f){n==null||n(f)}})(),()=>d()})()}function tx(e){var f,p,h;const{scheme:t,statement:n,...s}=((f=e.match(nx))==null?void 0:f.groups)??{},{chainId:r,expirationTime:o,issuedAt:i,notBefore:a,requestId:l,...u}=((p=e.match(sx))==null?void 0:p.groups)??{},d=(h=e.split("Resources:")[1])==null?void 0:h.split(`
- `).slice(1);return{...s,...u,...r?{chainId:Number(r)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...l?{requestId:l}:{},...d?{resources:d}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const nx=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,sx=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function rx(e){const{address:t,domain:n,message:s,nonce:r,scheme:o,time:i=new Date}=e;if(n&&s.domain!==n||r&&s.nonce!==r||o&&s.scheme!==o||s.expirationTime&&i>=s.expirationTime||s.notBefore&&i<s.notBefore)return!1;try{if(!s.address||!et(s.address,{strict:!1})||t&&!No(s.address,t))return!1}catch{return!1}return!0}async function ox(e,t){const{address:n,domain:s,message:r,nonce:o,scheme:i,signature:a,time:l=new Date,...u}=t,d=tx(r);if(!d.address||!rx({address:n,domain:s,message:d,nonce:o,scheme:i,time:l}))return!1;const p=Yc(r);return da(e,{address:d.address,hash:p,signature:a,...u})}function ix(e){return{call:t=>sa(e,t),createAccessList:t=>Jp(e,t),createBlockFilter:()=>k6(e),createContractEventFilter:t=>D0(e,t),createEventFilter:t=>Qp(e,t),createPendingTransactionFilter:()=>Xp(e),estimateContractGas:t=>Yv(e,t),estimateGas:t=>Ic(e,t),getBalance:t=>hp(e,t),getBlobBaseFee:()=>C6(e),getBlock:t=>wn(e,t),getBlockNumber:t=>Lo(e,t),getBlockTransactionCount:t=>T6(e,t),getBytecode:t=>Bl(e,t),getChainId:()=>xr(e),getCode:t=>Bl(e,t),getContractEvents:t=>mp(e,t),getEip712Domain:t=>S6(e,t),getEnsAddress:t=>a6(e,t),getEnsAvatar:t=>w6(e,t),getEnsName:t=>x6(e,t),getEnsResolver:t=>$6(e,t),getEnsText:t=>Yp(e,t),getFeeHistory:t=>E6(e,t),estimateFeesPerGas:t=>Mv(e,t),getFilterChanges:t=>ra(e,t),getFilterLogs:t=>B6(e,t),getGasPrice:()=>Sc(e),getLogs:t=>Oc(e,t),getProof:t=>S2(e,t),estimateMaxPriorityFeePerGas:t=>Ov(e,t),getStorageAt:t=>P2(e,t),getTransaction:t=>ou(e,t),getTransactionConfirmations:t=>A2(e,t),getTransactionCount:t=>Pc(e,t),getTransactionReceipt:t=>ii(e,t),multicall:t=>E2(e,t),prepareTransactionRequest:t=>Ji(e,t),readContract:t=>dn(e,t),sendRawTransaction:t=>jc(e,t),simulate:t=>Dl(e,t),simulateBlocks:t=>Dl(e,t),simulateCalls:t=>z2(e,t),simulateContract:t=>zw(e,t),verifyHash:t=>da(e,t),verifyMessage:t=>Z2(e,t),verifySiweMessage:t=>ox(e,t),verifyTypedData:t=>Y2(e,t),uninstallFilter:t=>oa(e,t),waitForTransactionReceipt:t=>J2(e,t),watchBlocks:t=>Q2(e,t),watchBlockNumber:t=>Lh(e,t),watchContractEvent:t=>Kw(e,t),watchEvent:t=>X2(e,t),watchPendingTransactions:t=>ex(e,t)}}function sn(e){const{key:t="public",name:n="Public Client"}=e;return Gp({...e,key:t,name:n,type:"publicClient"}).extend(ix)}async function ax(e,{chain:t}){const{id:n,name:s,nativeCurrency:r,rpcUrls:o,blockExplorers:i}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:re(n),chainName:s,nativeCurrency:r,rpcUrls:o.default.http,blockExplorerUrls:i?Object.values(i).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function lx(e,t){const{abi:n,args:s,bytecode:r,...o}=t,i=na({abi:n,args:s,bytecode:r});return ia(e,{...o,...o.authorizationList?{to:null}:{},data:i})}async function cx(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(s=>_o(s))}async function ux(e,t={}){const{account:n=e.account,chainId:s}=t,r=n?Je(n):void 0,o=s?[r==null?void 0:r.address,[re(s)]]:[r==null?void 0:r.address],i=await e.request({method:"wallet_getCapabilities",params:o}),a={};for(const[l,u]of Object.entries(i)){a[Number(l)]={};for(let[d,f]of Object.entries(u))d==="addSubAccount"&&(d="unstable_addSubAccount"),a[Number(l)][d]=f}return typeof s=="number"?a[s]:a}async function dx(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function Fh(e,t){var l;const{account:n=e.account,chainId:s,nonce:r}=t;if(!n)throw new Ds({docsPath:"/docs/eip7702/prepareAuthorization"});const o=Je(n),i=(()=>{if(t.executor)return t.executor==="self"?t.executor:Je(t.executor)})(),a={address:t.contractAddress??t.address,chainId:s,nonce:r};return typeof a.chainId>"u"&&(a.chainId=((l=e.chain)==null?void 0:l.id)??await me(e,xr,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await me(e,Pc,"getTransactionCount")({address:o.address,blockTag:"pending"}),(i==="self"||i!=null&&i.address&&No(i.address,o.address))&&(a.nonce+=1)),a}async function fx(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>We(n))}async function px(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function hx(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function mx(e,t){const{account:n=e.account}=t;if(!n)throw new Ds({docsPath:"/docs/eip7702/signAuthorization"});const s=Je(n);if(!s.signAuthorization)throw new ri({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:s.type});const r=await Fh(e,t);return s.signAuthorization(r)}async function bx(e,{account:t=e.account,message:n}){if(!t)throw new Ds({docsPath:"/docs/actions/wallet/signMessage"});const s=Je(t);if(s.signMessage)return s.signMessage({message:n});const r=typeof n=="string"?Cs(n):n.raw instanceof Uint8Array?Jt(n.raw):n.raw;return e.request({method:"personal_sign",params:[r,s.address]},{retryCount:0})}async function gx(e,t){var u,d,f,p;const{account:n=e.account,chain:s=e.chain,...r}=t;if(!n)throw new Ds({docsPath:"/docs/actions/wallet/signTransaction"});const o=Je(n);Fs({account:o,...t});const i=await me(e,xr,"getChainId")({});s!==null&&Up({currentChainId:i,chain:s});const a=(s==null?void 0:s.formatters)||((u=e.chain)==null?void 0:u.formatters),l=((d=a==null?void 0:a.transactionRequest)==null?void 0:d.format)||wr;return o.signTransaction?o.signTransaction({...r,chainId:i},{serializer:(p=(f=e.chain)==null?void 0:f.serializers)==null?void 0:p.transaction}):await e.request({method:"eth_signTransaction",params:[{...l(r),chainId:re(i),from:o.address}]},{retryCount:0})}async function yx(e,t){const{account:n=e.account,domain:s,message:r,primaryType:o}=t;if(!n)throw new Ds({docsPath:"/docs/actions/wallet/signTypedData"});const i=Je(n),a={EIP712Domain:sh({domain:s}),...t.types};if(nh({domain:s,message:r,primaryType:o,types:a}),i.signTypedData)return i.signTypedData({domain:s,message:r,primaryType:o,types:a});const l=n5({domain:s,message:r,primaryType:o,types:a});return e.request({method:"eth_signTypedData_v4",params:[i.address,l]},{retryCount:0})}async function vx(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:re(t)}]},{retryCount:0})}async function wx(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}function xx(e){return{addChain:t=>ax(e,t),deployContract:t=>lx(e,t),getAddresses:()=>cx(e),getCallsStatus:t=>Hp(e,t),getCapabilities:t=>ux(e,t),getChainId:()=>xr(e),getPermissions:()=>dx(e),prepareAuthorization:t=>Fh(e,t),prepareTransactionRequest:t=>Ji(e,t),requestAddresses:()=>fx(e),requestPermissions:t=>px(e,t),sendCalls:t=>Qw(e,t),sendRawTransaction:t=>jc(e,t),sendTransaction:t=>ia(e,t),showCallsStatus:t=>hx(e,t),signAuthorization:t=>mx(e,t),signMessage:t=>bx(e,t),signTransaction:t=>gx(e,t),signTypedData:t=>yx(e,t),switchChain:t=>vx(e,t),waitForCallsStatus:t=>Xw(e,t),watchAsset:t=>wx(e,t),writeContract:t=>Zw(e,t)}}function Ht(e){const{key:t="wallet",name:n="Wallet Client",transport:s}=e;return Gp({...e,key:t,name:n,transport:s,type:"walletClient"}).extend(xx)}function iu({key:e,methods:t,name:n,request:s,retryCount:r=3,retryDelay:o=150,timeout:i,type:a},l){const u=Vp();return{config:{key:e,methods:t,name:n,request:s,retryCount:r,retryDelay:o,timeout:i,type:a},request:V6(s,{methods:t,retryCount:r,retryDelay:o,uid:u}),value:l}}function Jo(e,t={}){const{key:n="fallback",name:s="Fallback",rank:r=!1,shouldThrow:o=$x,retryCount:i,retryDelay:a}=t;return({chain:l,pollingInterval:u=4e3,timeout:d,...f})=>{let p=e,h=()=>{};const g=iu({key:n,name:s,async request({method:b,params:v}){let $;const x=async(y=0)=>{const m=p[y]({...f,chain:l,retryCount:0,timeout:d});try{const w=await m.request({method:b,params:v});return h({method:b,params:v,response:w,transport:m,status:"success"}),w}catch(w){if(h({error:w,method:b,params:v,transport:m,status:"error"}),o(w)||y===p.length-1||($??($=p.slice(y+1).some(P=>{const{include:B,exclude:E}=P({chain:l}).config.methods||{};return B?B.includes(b):E?!E.includes(b):!0})),!$))throw w;return x(y+1)}};return x()},retryCount:i,retryDelay:a,type:"fallback"},{onResponse:b=>h=b,transports:p.map(b=>b({chain:l,retryCount:0}))});if(r){const b=typeof r=="object"?r:{};kx({chain:l,interval:b.interval??u,onTransports:v=>p=v,ping:b.ping,sampleCount:b.sampleCount,timeout:b.timeout,transports:p,weights:b.weights})}return g}}function $x(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===dr.code||e.code===vs.code||fs.nodeMessage.test(e.message)||e.code===5e3))}function kx({chain:e,interval:t=4e3,onTransports:n,ping:s,sampleCount:r=10,timeout:o=1e3,transports:i,weights:a={}}){const{stability:l=.7,latency:u=.3}=a,d=[],f=async()=>{const p=await Promise.all(i.map(async b=>{const v=b({chain:e,retryCount:0,timeout:o}),$=Date.now();let x,y;try{await(s?s({transport:v}):v.request({method:"net_listening"})),y=1}catch{y=0}finally{x=Date.now()}return{latency:x-$,success:y}}));d.push(p),d.length>r&&d.shift();const h=Math.max(...d.map(b=>Math.max(...b.map(({latency:v})=>v)))),g=i.map((b,v)=>{const $=d.map(P=>P[v].latency),y=1-$.reduce((P,B)=>P+B,0)/$.length/h,m=d.map(P=>P[v].success),w=m.reduce((P,B)=>P+B,0)/m.length;return w===0?[0,v]:[u*y+l*w,v]}).sort((b,v)=>v[0]-b[0]);n(g.map(([,b])=>i[b])),await Ci(t),f()};f()}class Uh extends G{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function He(e,t={}){const{batch:n,fetchFn:s,fetchOptions:r,key:o="http",methods:i,name:a="HTTP JSON-RPC",onFetchRequest:l,onFetchResponse:u,retryDelay:d,raw:f}=t;return({chain:p,retryCount:h,timeout:g})=>{const{batchSize:b=1e3,wait:v=0}=typeof n=="object"?n:{},$=t.retryCount??h,x=g??t.timeout??1e4,y=e||(p==null?void 0:p.rpcUrls.default.http[0]);if(!y)throw new Uh;const m=K6(y,{fetchFn:s,fetchOptions:r,onRequest:l,onResponse:u,timeout:x});return iu({key:o,methods:i,name:a,async request({method:w,params:P}){const B={method:w,params:P},{schedule:E}=Wc({id:y,wait:v,shouldSplitBatch(O){return O.length>b},fn:O=>m.request({body:O}),sort:(O,U)=>O.id-U.id}),T=async O=>n?E(O):[await m.request({body:O})],[{error:C,result:S}]=await T(B);if(f)return{error:C,result:S};if(C)throw new qi({body:B,error:C,url:y});return S},retryCount:$,retryDelay:d,timeout:x,type:"http"},{fetchOptions:r,url:y})}}function Cx(e,t={}){const{keepAlive:n,key:s="webSocket",methods:r,name:o="WebSocket JSON-RPC",reconnect:i,retryDelay:a}=t;return({chain:l,retryCount:u,timeout:d})=>{var b;const f=t.retryCount??u,p=d??t.timeout??1e4,h=e||((b=l==null?void 0:l.rpcUrls.default.webSocket)==null?void 0:b[0]),g={keepAlive:n,reconnect:i};if(!h)throw new Uh;return iu({key:s,methods:r,name:o,async request({method:v,params:$}){const x={method:v,params:$},y=await oi(h,g),{error:m,result:w}=await y.requestAsync({body:x,timeout:p});if(m)throw new qi({body:x,error:m,url:h});return w},retryCount:f,retryDelay:a,timeout:p,type:"webSocket"},{getSocket(){return Y6(h)},getRpcClient(){return oi(h,g)},async subscribe({params:v,onData:$,onError:x}){const y=await oi(h,g),{result:m}=await new Promise((w,P)=>y.request({body:{method:"eth_subscribe",params:v},onError(B){P(B),x==null||x(B)},onResponse(B){if(B.error){P(B.error),x==null||x(B.error);return}if(typeof B.id=="number"){w(B);return}B.method==="eth_subscription"&&$(B.params)}}));return{subscriptionId:m,async unsubscribe(){return new Promise(w=>y.request({body:{method:"eth_unsubscribe",params:[m]},onResponse:w}))}}}})}}const Qo=[{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address[]",name:"recipients",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],name:"batchTransfer",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address[]",name:"recipients",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],name:"batchTransferNative",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address[]",name:"recipients",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],name:"batchTransferToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"getTokenType",outputs:[{internalType:"uint8",name:"tokenType",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"isERC20Token",outputs:[{internalType:"bool",name:"isERC20",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"account",type:"address"}],name:"getTokenBalance",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];function Tx(e){if(typeof e=="string"){if(!et(e,{strict:!1}))throw new gt({address:e});return{address:e,type:"json-rpc"}}if(!et(e.address,{strict:!1}))throw new gt({address:e.address});return{address:e.address,nonceManager:e.nonceManager,sign:e.sign,signAuthorization:e.signAuthorization,signMessage:e.signMessage,signTransaction:e.signTransaction,signTypedData:e.signTypedData,source:"custom",type:"local"}}let Va=!1;async function Uo({hash:e,privateKey:t,to:n="object"}){const{r:s,s:r,recovery:o}=ua.sign(e.slice(2),t.slice(2),{lowS:!0,extraEntropy:an(Va,{strict:!1})?ln(Va):Va}),i={r:re(s,{size:32}),s:re(r,{size:32}),v:o?28n:27n,yParity:o};return n==="bytes"||n==="hex"?Mh({...i,to:n}):i}async function _x(e){const{chainId:t,nonce:n,privateKey:s,to:r="object"}=e,o=e.contractAddress??e.address,i=await Uo({hash:X0({address:o,chainId:t,nonce:n}),privateKey:s,to:r});return r==="object"?{address:o,chainId:t,nonce:n,...i}:i}async function Sx({message:e,privateKey:t}){return await Uo({hash:Yc(e),privateKey:t,to:"hex"})}async function Px(e){const{privateKey:t,transaction:n,serializer:s=M6}=e,r=n.type==="eip4844"?{...n,sidecars:!1}:n,o=await Uo({hash:Ye(s(r)),privateKey:t});return s(n,o)}async function Ax(e){const{privateKey:t,...n}=e;return await Uo({hash:rh(n),privateKey:t,to:"hex"})}function lt(e,t={}){const{nonceManager:n}=t,s=Jt(ua.getPublicKey(e.slice(2),!1)),r=Z0(s);return{...Tx({address:r,nonceManager:n,async sign({hash:i}){return Uo({hash:i,privateKey:e,to:"hex"})},async signAuthorization(i){return _x({...i,privateKey:e})},async signMessage({message:i}){return Sx({message:i,privateKey:e})},async signTransaction(i,{serializer:a}={}){return Px({privateKey:e,transaction:i,serializer:a})},async signTypedData(i){return Ax({...i,privateKey:e})}}),publicKey:s,source:"privateKey"}}const Os=Zc({id:56,name:"BNB Smart Chain",blockTime:750,nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),xs=Zc({id:97,name:"BNB Smart Chain Testnet",nativeCurrency:{decimals:18,name:"BNB",symbol:"tBNB"},rpcUrls:{default:{http:["https://data-seed-prebsc-1-s1.bnbchain.org:8545"]}},blockExplorers:{default:{name:"BscScan",url:"https://testnet.bscscan.com",apiUrl:"https://api-testnet.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:17422483}},testnet:!0}),Dh=Zc({id:66,name:"OKC",nativeCurrency:{decimals:18,name:"OKT",symbol:"OKT"},rpcUrls:{default:{http:["https://exchainrpc.okex.org"]}},blockExplorers:{default:{name:"oklink",url:"https://www.oklink.com/okc"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:10364792}}}),De=[{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],us=class us{constructor(){Ae(this,"wallets",new Map);this.detectWallets()}static getInstance(){return us.instance||(us.instance=new us),us.instance}detectWallets(){var t,n,s,r;try{(t=window.ethereum)!=null&&t.isMetaMask&&this.wallets.set("metamask",{name:"MetaMask",provider:window.ethereum,isConnected:!1});try{window.okxwallet&&this.wallets.set("okx",{name:"OKX Wallet",provider:window.okxwallet,isConnected:!1})}catch(o){console.warn("OKX:",o)}}catch(o){console.warn(":",o)}if((n=window.ethereum)!=null&&n.isCoinbaseWallet&&this.wallets.set("coinbase",{name:"Coinbase Wallet",provider:window.ethereum,isConnected:!1}),(s=window.ethereum)!=null&&s.isTrust&&this.wallets.set("trust",{name:"Trust Wallet",provider:window.ethereum,isConnected:!1}),(r=window.ethereum)!=null&&r.providers){const o=window.ethereum.providers,i=o.find(d=>d.isMetaMask);i&&!this.wallets.has("metamask")&&this.wallets.set("metamask",{name:"MetaMask",provider:i,isConnected:!1});const a=o.find(d=>d.isOkxWallet);a&&!this.wallets.has("okx")&&this.wallets.set("okx",{name:"OKX Wallet",provider:a,isConnected:!1});const l=o.find(d=>d.isCoinbaseWallet);l&&!this.wallets.has("coinbase")&&this.wallets.set("coinbase",{name:"Coinbase Wallet",provider:l,isConnected:!1});const u=o.find(d=>d.isTrust);u&&!this.wallets.has("trust")&&this.wallets.set("trust",{name:"Trust Wallet",provider:u,isConnected:!1})}}getAvailableWallets(){return Array.from(this.wallets.values())}getWalletById(t){return this.wallets.get(t)}async connectWallet(t){var s,r,o,i;const n=this.wallets.get(t);if(!n)throw new Error(` ${t} `);try{if(!n.provider||typeof n.provider.request!="function")throw new Error(` ${n.name} `);const a=await n.provider.request({method:"eth_accounts"});if(a&&a.length>0)return n.isConnected=!0,{address:a[0],walletType:t};const l=await n.provider.request({method:"eth_requestAccounts"});if(l&&l.length>0)return n.isConnected=!0,{address:l[0],walletType:t};throw new Error("")}catch(a){throw console.error(` ${n.name} :`,a),(s=a.message)!=null&&s.includes("message channel closed")||(r=a.message)!=null&&r.includes("chrome-extension")?new Error(`
1. 
2. 
3. `):a.code===4001?new Error(""):a.code===-32002?new Error(""):(o=a.message)!=null&&o.includes("User rejected")?new Error(""):(i=a.message)!=null&&i.includes("not found")?new Error(` ${n.name} `):new Error(`: ${a.message||""}`)}}async disconnectWallet(t){const n=this.wallets.get(t);n&&(n.isConnected=!1)}isWalletAvailable(t){return this.wallets.has(t)}hasWalletConflict(){return this.wallets.size>1}getWalletConflictInfo(){return Array.from(this.wallets.keys())}};Ae(us,"instance");let Hl=us;const Vl={56:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",97:"0xae13d989daC2f0dEbFf460aC112a837C89BAa7cd"},zh={56:"0x55d398326f99059fF775485246999027B3197955",97:"0x4Be45C88db35383F713ABC1adFA816200e0B8B56",66:"0x382bb369d343125bfb2117af9c149795c6c65c50"},Ex={56:"0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d",97:"0x64544969ed7EBf5f083679233325356EbE738930"},Bx={56:18,97:18,66:18},Ld={56:"0x0000000000000000000000000000000000000000",97:"0xa859587fb766a44198dc7f4eb92ea9a056f842fa",66:"0x0000000000000000000000000000000000000000"},Ix=/^(0x)?[0-9a-fA-F]{64}$/;function Qs(e){const t=(e==null?void 0:e.message)||(e==null?void 0:e.toString())||"",n=t.toLowerCase();if(n.includes("insufficient funds")||n.includes("insufficient balance"))return"Gas";if(n.includes("exceeds balance")||n.includes("transfer amount exceeds balance"))return"";if(n.includes("erc20: transfer amount"))return"";if(n.includes("gas too low")||n.includes("intrinsic gas too low"))return"Gas";if(n.includes("out of gas"))return"Gas";if(n.includes("nonce too low")||n.includes("nonce has already been used")||n.includes("nonce provided"))return"Nonce";if(n.includes("replacement transaction underpriced"))return"NonceGas";if(n.includes("timeout")||n.includes("timed out"))return"";if(n.includes("network")||n.includes("connection"))return"RPC";if(n.includes("rejected")||n.includes("denied"))return"";if(n.includes("reverted")||n.includes("execution reverted")){const o=t.match(/reason="([^"]+)"/);return o?`: ${o[1]}`:""}if(n.includes("insufficient_output_amount")||n.includes("slippage"))return"";if(n.includes("allowance")||n.includes("erc20: insufficient allowance"))return"";if(n.includes("invalid address"))return"";if(n.includes("returned no data")||n.includes("not a contract")||n.includes("contractfunctionzerodataerror"))return"";const s=t.replace(/^Error:\s*/i,""),r=80;return s.length>r?s.substring(0,r)+"...":s}function Nx(e){const t=e.trim();return!t||!Ix.test(t)?null:`0x${(t.startsWith("0x")?t.slice(2):t).toLowerCase()}`}function Ga(e){return{...e,walletType:e.walletType??"normal",remark:e.remark??"",createdAt:e.createdAt??new Date().toISOString()}}function Fd(e){return zh[e]||null}async function ls(e,t){try{const n=await e.readContract({address:t,abi:De,functionName:"decimals",args:[]});return Number(n)}catch(n){return console.warn("Failed to fetch token decimals, fallback to 18:",n),18}}async function Ud(e,t,n,s){var r,o,i,a;try{const l=await t.getBalance({address:e.address});e.nativeBalance=Te(l)}catch(l){console.error(`Failed to fetch native balance for ${e.address}:`,l),e.nativeBalance="Error"}if(!n){e.tokenBalance="-";return}try{const l=await t.getBytecode({address:n});if(!l||l==="0x"){console.warn(`USDT contract not found at ${n} on chain ${(r=t.chain)==null?void 0:r.id}`),e.tokenBalance="-";return}const u=await t.readContract({address:n,abi:De,functionName:"balanceOf",args:[e.address]});e.tokenBalance=we(u,s)}catch(l){(o=l==null?void 0:l.message)!=null&&o.includes("returned no data")||(i=l==null?void 0:l.message)!=null&&i.includes("not a contract")||(a=l==null?void 0:l.message)!=null&&a.includes("ContractFunctionZeroDataError")?(console.warn(`Failed to fetch USDT balance for ${e.address}: Contract may not exist or function unavailable`),e.tokenBalance="-"):(console.error(`Failed to fetch USDT balance for ${e.address}:`,l),e.tokenBalance="-")}}const pn=Co("wallet",{state:()=>({connectedAddress:"",connectedWalletType:"",localWallets:[],walletDetector:Hl.getInstance(),currentChainId:97,selectedWalletAddresses:[],walletBatches:[],targetToken:null,poolQueryState:{currentPrice:null,marketCap:null,priceDisplay:"",isUpdating:!1,lastUpdateTime:"",isRoutedPrice:!1,quoteTokenSymbol:"",selectedQuoteToken:"",tokenAddress:"",tokenSymbol:"",tokenName:"",tokenDecimals:18}}),getters:{selectedWallets(){return this.localWallets.filter(e=>this.selectedWalletAddresses.includes(e.address))},selectedCount(){return this.selectedWalletAddresses.length},isAllSelected(){return this.localWallets.length>0&&this.selectedWalletAddresses.length===this.localWallets.length},hasSelection(){return this.selectedWalletAddresses.length>0}},actions:{async init(){const e=localStorage.getItem("local-wallets");if(!e)return;try{const n=JSON.parse(e);Array.isArray(n)&&(this.localWallets=n.map(s=>Ga(s)),this.persist())}catch(n){console.error("Failed to parse local wallets:",n)}const t=localStorage.getItem("wallet-batches");if(t)try{this.walletBatches=JSON.parse(t)}catch(n){console.error("Failed to parse wallet batches:",n)}},persist(){localStorage.setItem("local-wallets",JSON.stringify(this.localWallets))},persistBatches(){localStorage.setItem("wallet-batches",JSON.stringify(this.walletBatches))},async generateWalletBatch(e,t,n="normal"){const s=`batch_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,r=[];for(let i=0;i<e;i++){const a=crypto.getRandomValues(new Uint8Array(32)),l=`0x${Array.from(a).map(d=>d.toString(16).padStart(2,"0")).join("")}`,u=lt(l);r.push({address:u.address,privateKey:l})}const o={id:s,remark:t||` ${new Date().toLocaleString()}`,createdAt:new Date().toISOString(),wallets:r,walletType:n};return this.walletBatches.push(o),this.persistBatches(),this.exportBatchToFile(o),o},async createBatchFromPrivateKeys(e,t,n="normal"){const s=`batch_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,r=[],o=/^(0x)?[0-9a-fA-F]{64}$/;for(const a of e)if(o.test(a))try{const l=a.startsWith("0x")?a:`0x${a}`,u=lt(l);r.some(f=>f.address.toLowerCase()===u.address.toLowerCase())||r.push({address:u.address,privateKey:l})}catch{console.warn(":",a.slice(0,10)+"...")}if(r.length===0)throw new Error("");const i={id:s,remark:t||` ${new Date().toLocaleString()}`,createdAt:new Date().toISOString(),wallets:r,walletType:n};return this.walletBatches.push(i),this.persistBatches(),i},exportBatchToFile(e){const t=new Date().toISOString().replace(/[:.]/g,"-"),n=`,,
`,s=e.wallets.map((l,u)=>`${u+1},"${l.address}","${l.privateKey}"`),r=n+s.join(`
`),o=new Blob([r],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(o),a=document.createElement("a");a.href=i,a.download=`wallet-batch-${e.remark.replace(/[^a-zA-Z0-9\u4e00-\u9fa5]/g,"_")}-${t}.csv`,document.body.appendChild(a),a.click(),document.body.removeChild(a),setTimeout(()=>URL.revokeObjectURL(i),1e3)},updateBatchRemark(e,t){const n=this.walletBatches.find(s=>s.id===e);n&&(n.remark=t,this.persistBatches())},deleteBatch(e){this.walletBatches=this.walletBatches.filter(t=>t.id!==e),this.persistBatches()},getBatchAddresses(e){const t=this.walletBatches.find(n=>n.id===e);return t?t.wallets.map(n=>n.address):[]},getBatchPrivateKeys(e){const t=this.walletBatches.find(n=>n.id===e);return t?t.wallets.map(n=>n.privateKey):[]},async refreshBatchBalances(e){var a;const t=this.walletBatches.find(l=>l.id===e);if(!t)return;const n=this.getPublicClient(),s=((a=this.targetToken)==null?void 0:a.decimals)||18;console.log(`: ${t.wallets.length} `);const r=await Promise.all(t.wallets.map(async l=>{try{const u=await n.getBalance({address:l.address});let d=BigInt(0);return this.targetToken&&(d=await n.readContract({address:this.targetToken.address,abi:De,functionName:"balanceOf",args:[l.address]})),{native:u,token:d}}catch(u){return console.error(`Failed to fetch balance for ${l.address}:`,u),{native:BigInt(0),token:BigInt(0)}}})),o=r.reduce((l,u)=>l+u.native,BigInt(0)),i=r.reduce((l,u)=>l+u.token,BigInt(0));return t.totalNativeBalance=Te(o),t.totalTokenBalance=this.targetToken?we(i,s):void 0,this.persistBatches(),console.log(`: ${t.totalNativeBalance} BNB`),{totalNativeBalance:t.totalNativeBalance,totalTokenBalance:t.totalTokenBalance}},importWalletsFromBatch(e,t="normal"){const n=this.walletBatches.find(i=>i.id===e);if(!n)return{added:0,duplicates:0};const s=new Set(this.localWallets.map(i=>i.address.toLowerCase()));let r=0,o=0;for(const i of n.wallets){if(s.has(i.address.toLowerCase())){o++;continue}this.localWallets.push({address:i.address,encrypted:i.privateKey,walletType:t,remark:n.remark,createdAt:n.createdAt}),s.add(i.address.toLowerCase()),r++}return r>0&&this.persist(),{added:r,duplicates:o}},getBatchPrivateKeyMap(e){const t=this.walletBatches.find(s=>s.id===e);if(!t)return{};const n={};for(const s of t.wallets)n[s.address.toLowerCase()]=s.privateKey;return n},getBatchWalletType(e){const t=this.walletBatches.find(n=>n.id===e);return(t==null?void 0:t.walletType)||null},getWalletTypeByAddress(e){const t=this.localWallets.find(n=>n.address.toLowerCase()===e.toLowerCase());if(t!=null&&t.walletType)return t.walletType;for(const n of this.walletBatches)if(n.wallets.find(r=>r.address.toLowerCase()===e.toLowerCase()))return n.walletType;return null},selectWallet(e){this.selectedWalletAddresses.includes(e)||this.selectedWalletAddresses.push(e)},deselectWallet(e){const t=this.selectedWalletAddresses.indexOf(e);t>-1&&this.selectedWalletAddresses.splice(t,1)},toggleWalletSelection(e){this.selectedWalletAddresses.includes(e)?this.deselectWallet(e):this.selectWallet(e)},selectAll(){this.selectedWalletAddresses=this.localWallets.map(e=>e.address)},deselectAll(){this.selectedWalletAddresses=[]},invertSelection(){const e=new Set(this.selectedWalletAddresses);this.selectedWalletAddresses=this.localWallets.filter(t=>!e.has(t.address)).map(t=>t.address)},selectRange(e,t){e<1&&(e=1),t>this.localWallets.length&&(t=this.localWallets.length),e>t&&([e,t]=[t,e]);const n=this.localWallets.slice(e-1,t).map(r=>r.address),s=new Set(this.selectedWalletAddresses);for(const r of n)s.add(r);this.selectedWalletAddresses=Array.from(s)},selectRangeOnly(e,t){e<1&&(e=1),t>this.localWallets.length&&(t=this.localWallets.length),e>t&&([e,t]=[t,e]),this.selectedWalletAddresses=this.localWallets.slice(e-1,t).map(n=>n.address)},removeSelectedWallets(){this.localWallets=this.localWallets.filter(e=>!this.selectedWalletAddresses.includes(e.address)),this.selectedWalletAddresses=[],this.persist()},setTargetToken(e){this.targetToken=e},clearTargetToken(){this.targetToken=null,this.clearPoolQueryState()},updatePoolQueryState(e){Object.assign(this.poolQueryState,e)},clearPoolQueryState(){this.poolQueryState={currentPrice:null,marketCap:null,priceDisplay:"",isUpdating:!1,lastUpdateTime:"",isRoutedPrice:!1,quoteTokenSymbol:"",selectedQuoteToken:"",tokenAddress:"",tokenSymbol:"",tokenName:"",tokenDecimals:18}},async refreshTargetTokenBalance(){if(!this.targetToken)return;const e=this.getPublicClient(),t=this.targetToken.address,n=this.targetToken.decimals;for(const s of this.localWallets)try{const r=await e.readContract({address:t,abi:De,functionName:"balanceOf",args:[s.address]});s.tokenBalance=we(r,n)}catch(r){console.error(`Failed to fetch target token balance for ${s.address}:`,r),s.tokenBalance="-"}this.persist()},async connectWallet(e){try{if(!this.walletDetector.isWalletAvailable(e)){alert(` ${e==="metamask"?"MetaMask":"OKX Wallet"} `);return}const t=await this.walletDetector.connectWallet(e);this.connectedAddress=t.address,this.connectedWalletType=t.walletType,console.log(":",t)}catch(t){console.error(":",t),alert(t.message||"")}},async connectInjected(){await this.connectWallet("metamask")},async disconnectWallet(){this.connectedWalletType&&await this.walletDetector.disconnectWallet(this.connectedWalletType),this.connectedAddress="",this.connectedWalletType="",console.log("")},async generateLocalWallets(e,t){const n=(t==null?void 0:t.walletType)||"normal",s=(t==null?void 0:t.remark)||"";for(let r=0;r<e;r++){const o=crypto.getRandomValues(new Uint8Array(32)),i=`0x${Array.from(o).map(u=>u.toString(16).padStart(2,"0")).join("")}`,a=lt(i);lt(i).address.toLowerCase()!==a.address.toLowerCase()&&console.error(""),this.localWallets.push({address:a.address,encrypted:i,walletType:n,remark:s,createdAt:new Date().toISOString()})}this.persist()},importWalletsFromPrivateKeys(e,t){const n=(t.remark||"").trim(),s=new Set(this.localWallets.map(d=>d.address.toLowerCase())),r=new Set,o=new Date().toISOString();let i=0,a=0,l=0;const u=[];for(const d of e){const f=Nx(d);if(!f){l+=1;continue}let p;try{p=lt(f)}catch(b){console.error("Invalid private key skipped:",b),l+=1;continue}const h=p.address,g=h.toLowerCase();if(s.has(g)||r.has(g)){a+=1;continue}u.push({address:h,encrypted:f,walletType:t.walletType,remark:n,createdAt:o}),r.add(g),s.add(g),i+=1}return u.length>0&&(this.localWallets.push(...u),this.persist()),{added:i,duplicates:a,invalid:l}},updateWalletRemark(e,t){const n=this.localWallets.find(s=>s.address===e);n&&(n.remark=t.trim(),this.persist())},updateSelectedWalletsRemark(e){const t=e.trim();for(const n of this.selectedWalletAddresses){const s=this.localWallets.find(r=>r.address===n);s&&(s.remark=t)}this.persist()},removeLocalWallet(e){this.localWallets=this.localWallets.filter(t=>t.address!==e),this.persist()},clearLocalWallets(){this.localWallets=[],this.persist()},async fixWalletData(){console.log("===  ===");const e=[];for(let t=0;t<this.localWallets.length;t++){const n=this.localWallets[t];if(console.log(`
 ${t+1}: ${n.address}`),n.encrypted)try{const s=lt(n.encrypted);console.log(`  : ${s.address}`),s.address.toLowerCase()!==n.address.toLowerCase()?(console.warn(" "),e.push({address:s.address,encrypted:n.encrypted,nativeBalance:n.nativeBalance,tokenBalance:n.tokenBalance,walletType:n.walletType,remark:n.remark,createdAt:n.createdAt})):(console.log(" "),e.push(Ga(n)))}catch(s){console.error(`  ${t+1}:`,s)}else console.warn(`  ${t+1} `)}this.localWallets=e.map(t=>Ga(t)),this.persist(),console.log(`
 ${e.length} `)},async exportPrivateKeys(){if(this.localWallets.length===0){alert("");return}try{console.log(` ${this.localWallets.length} ...`);const e=`,,,
`,t=this.localWallets.map((a,l)=>`${l+1},"${a.address}","${a.encrypted||""}","${a.remark||""}"`),n=e+t.join(`
`),s=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(s),o=new Date().toISOString().replace(/[:.]/g,"-"),i=document.createElement("a");i.href=r,i.download=`wallets-private-keys-${o}.csv`,document.body.appendChild(i),i.click(),document.body.removeChild(i),setTimeout(()=>{URL.revokeObjectURL(r)},1e3),alert(` ${this.localWallets.length} 

 `)}catch(e){throw console.error(":",e),new Error("")}},getClient(e){return Ht({chain:xs,transport:Jo([He(e??"https://bsc-testnet.publicnode.com")])})},getChainConfig(){switch(this.getCurrentChainId()){case 56:return Os;case 97:return xs;case 66:return Dh;default:return xs}},getCurrentChainId(){return this.currentChainId||97},setCurrentChainId(e){this.currentChainId=e,console.log("ID:",e)},getPublicClient(e){const t=this.getChainConfig(),n=Zt(),s=e||n.effectiveRpcUrl||t.rpcUrls.default.http[0];return console.log("RPC:",s),sn({chain:t,transport:Jo([He(s)])})},getWalletClient(){if(!this.connectedAddress)return null;const e=this.getChainConfig(),t=window.ethereum;if(!t)throw new Error("provider");return Ht({chain:e,transport:Jo([He(e.rpcUrls.default.http[0])]),account:this.connectedAddress,...t&&{transport:Jo([He(e.rpcUrls.default.http[0])])}})},async refreshAllBalances(){const e=this.getPublicClient(),t=Fd(this.currentChainId),n=t?await ls(e,t):18,s=this.localWallets,r=50,o=Math.ceil(s.length/r);console.log(`: ${s.length} , ${o} `);for(let i=0;i<o;i++){const a=i*r,l=Math.min(a+r,s.length),u=s.slice(a,l);await Promise.all(u.map(d=>Ud(d,e,t,n).catch(f=>console.error(` ${d.address}:`,f)))),console.log(` ${l}/${s.length} `)}this.persist(),console.log("")},async refreshWalletBalance(e){const t=this.localWallets.find(o=>o.address===e);if(!t)return;const n=this.getPublicClient(),s=Fd(this.currentChainId),r=s?await ls(n,s):18;await Ud(t,n,s,r),this.persist()},async refreshTokenBalance(e){const t=this.getPublicClient(),n=await ls(t,e),s=this.localWallets,r=50,o=Math.ceil(s.length/r);console.log(`: ${s.length} , ${o} `);for(let i=0;i<o;i++){const a=i*r,l=Math.min(a+r,s.length),u=s.slice(a,l);await Promise.all(u.map(async d=>{try{const f=await t.readContract({address:e,abi:De,functionName:"balanceOf",args:[d.address]});d.tokenBalance=we(f,n)}catch(f){console.error(`Failed to fetch token balance for ${d.address}:`,f),d.tokenBalance="Error"}})),console.log(` ${l}/${s.length} `)}this.persist(),console.log("")},async batchTransferNativeWithContract(e){if(console.log(` ${e} `),!this.connectedAddress)throw new Error("");if(this.localWallets.length===0)throw new Error("");try{const t=window.ethereum;if(!t)throw new Error("provider");const n=Ld[this.currentChainId];if(!n||n==="0x0000000000000000000000000000000000000000")throw new Error("");const r=this.getChainConfig().nativeCurrency.symbol,o=this.localWallets.map(m=>m.address),i=this.localWallets.map(()=>it(e.toString())),a=it((e*this.localWallets.length).toString());console.log(`: ${n}`),console.log(`: ${o.length}`),console.log(`: ${Te(a)} ${r}`),console.log(`: ${Te(i[0])} ${r}`);const l=91e3,u=4e4,d=l+o.length*u,p=d*1/1e9;if(console.log("Gas:"),console.log(`- Gas: ${l}`),console.log(`- Gas: ${u}`),console.log(`- Gas: ${d}`),console.log(`- Gas: ${p.toFixed(6)} BNB`),!confirm(`

: ${n}
: ${this.localWallets.length} 
: ${e} ${r}
: ${e*this.localWallets.length} ${r}
Gas: ~${p.toFixed(6)} BNB

`))throw new Error("");let g;try{console.log("Gas..."),g=await t.request({method:"eth_estimateGas",params:[{from:this.connectedAddress,to:n,value:`0x${a.toString(16)}`,data:this.encodeBatchTransferData("0x0000000000000000000000000000000000000000",o,i)}]}),console.log("Gas:",g),g="0x"+(BigInt(g)*BigInt(150)/BigInt(100)).toString(16),console.log("Gas:",g)}catch(m){console.warn("Gas:",m),g="0x"+(91e3+o.length*4e4).toString(16)}let b;try{b=await t.request({method:"eth_gasPrice"}),console.log("Gas:",b)}catch(m){console.warn("Gas:",m),b="0x3b9aca00"}const v=2e5;parseInt(g,16)<v&&(g="0x"+v.toString(16),console.log(`Gas: ${g}`)),console.log(`Gas: ${g} (${parseInt(g,16)})`);const x=await t.request({method:"eth_sendTransaction",params:[{from:this.connectedAddress,to:n,value:`0x${a.toString(16)}`,data:this.encodeBatchTransferData("0x0000000000000000000000000000000000000000",o,i),gas:g,gasPrice:b}]});console.log(":",x);const y=this.localWallets.map(m=>({wallet:m.address,hash:x,success:!0}));return console.log(":",y),y}catch(t){throw console.error(":",t),new Error(`: ${t.message||""}`)}},encodeBatchTransferData(e,t,n){try{return Ct({abi:Qo,functionName:"batchTransfer",args:[e,t,n]})}catch(s){console.error("ABI:",s);const r="0xa9059cbb",o=this.encodeSmartBatchTransferParams(e,t,n);return r+o.slice(2)}},encodeBatchTransferNativeData(e,t){try{return Ct({abi:Qo,functionName:"batchTransferNative",args:[e,t]})}catch(n){console.error("ABI:",n);const s="0xa9059cbb",r=this.encodeBatchTransferParams(e,t);return s+r.slice(2)}},keccak256(e){return{"batchTransfer(address,address[],uint256[])":"a9059cbb","batchTransferNative(address[],uint256[])":"a9059cbb","batchTransferToken(address,address[],uint256[])":"a9059cbb","getTokenType(address)":"a9059cbb","isERC20Token(address)":"a9059cbb","getTokenBalance(address,address)":"a9059cbb","getBalance()":"a9059cbb"}[e]||"a9059cbb"},encodeSmartBatchTransferParams(e,t,n){let s="0x";s+=e.slice(2).padStart(64,"0");const r=96;s+=r.toString(16).padStart(64,"0");const o=r+32+t.length*32;s+=o.toString(16).padStart(64,"0"),s+=t.length.toString(16).padStart(64,"0");for(const i of t)s+=i.slice(2).padStart(64,"0");s+=n.length.toString(16).padStart(64,"0");for(const i of n)s+=i.toString(16).padStart(64,"0");return s},encodeBatchTransferParams(e,t){let n="0x";n+=e.length.toString(16).padStart(64,"0");for(const s of e)n+=s.slice(2).padStart(64,"0");for(const s of t)n+=s.toString(16).padStart(64,"0");return n},async batchTransferNative(e){var i,a,l;if(console.log(` ${e} `),!this.connectedAddress)throw new Error("");if(this.localWallets.length===0)throw new Error("");const t=window.ethereum;if(!t)throw new Error("provider");let n=!1;try{console.log("...");const u=await this.batchTransferNativeWithContract(e);return console.log(""),console.log(":",u),n=!0,u}catch(u){console.log(":",u),console.log(":",u),n=!1}if(n){console.log("");return}const s=this.getPublicClient(),r=it((e*this.localWallets.length).toString()),o=await s.getBalance({address:this.connectedAddress});if(console.log(`: ${Te(o)} BNB`),console.log(`: ${Te(r)} BNB`),o<r)throw new Error(`: ${Te(o)} BNB: ${Te(r)} BNB`);try{console.log("...");const d=this.getChainConfig().nativeCurrency.symbol;if(!confirm(`

: ${this.localWallets.length} 
: ${e} ${d}
: ${e*this.localWallets.length} ${d}


 ${this.localWallets.length} `))throw new Error("");const p=[];try{console.log("...");const h=this.localWallets.map(v=>({from:this.connectedAddress,to:v.address,value:`0x${it(e.toString()).toString(16)}`,gas:"0x5208"})),g=await t.request({method:"eth_sendBatchTransaction",params:h});return console.log(":",g),this.localWallets.map(v=>({wallet:v.address,hash:g,success:!0}))}catch{if(console.log(""),console.log(""),!confirm(`


 
  ${this.localWallets.length} 
  2 

`))throw new Error("");for(let b=0;b<this.localWallets.length;b++){const v=this.localWallets[b];try{console.log(` ${b+1}/${this.localWallets.length}: ${v.address}`);const $=await t.request({method:"eth_sendTransaction",params:[{from:this.connectedAddress,to:v.address,value:`0x${it(e.toString()).toString(16)}`,gas:"0x5208"}]});console.log(`: ${$}`),p.push({wallet:v.address,hash:$,success:!0}),b<this.localWallets.length-1&&(console.log(" 2 ..."),await new Promise(x=>setTimeout(x,2e3)))}catch($){console.error(` ${v.address} :`,$);let x="";$.code===4001?x="":$.code===-32002?x="":(i=$.message)!=null&&i.includes("insufficient funds")?x="":(a=$.message)!=null&&a.includes("gas")?x="Gas":(l=$.message)!=null&&l.includes("network")?x="":$.message&&(x=$.message),p.push({wallet:v.address,error:x,success:!1})}}}return console.log(""),p}catch(u){throw console.error(":",u),new Error(`: ${u.message||""}`)}},async batchTransferNativeFallback(e){var s,r,o;console.log("");const t=window.ethereum,n=[];for(let i=0;i<this.localWallets.length;i++){const a=this.localWallets[i];try{console.log(` ${i+1}/${this.localWallets.length}: ${a.address}`);const l=await t.request({method:"eth_sendTransaction",params:[{from:this.connectedAddress,to:a.address,value:`0x${it(e.toString()).toString(16)}`,gas:"0x5208"}]});console.log(`: ${l}`),n.push({wallet:a.address,hash:l,success:!0}),i<this.localWallets.length-1&&await new Promise(u=>setTimeout(u,1e3))}catch(l){console.error(` ${a.address} :`,l);let u="";l.code===4001?u="":l.code===-32002?u="":(s=l.message)!=null&&s.includes("insufficient funds")?u="":(r=l.message)!=null&&r.includes("gas")?u="Gas":(o=l.message)!=null&&o.includes("network")?u="":l.message&&(u=l.message),n.push({wallet:a.address,error:u,success:!1})}}return n},async batchTransferToken(e,t){if(console.log(`ERC20 ${t} `),!this.connectedAddress)throw new Error("");if(this.localWallets.length===0)throw new Error("");const n=window.ethereum;if(!n)throw new Error("provider");const s=[];for(let r=0;r<this.localWallets.length;r++){const o=this.localWallets[r];try{console.log(` ${r+1}/${this.localWallets.length}: ${o.address}`);const i=await n.request({method:"eth_sendTransaction",params:[{from:this.connectedAddress,to:e,data:this.encodeTransferData(o.address,t),gas:"0x7530"}]});console.log(`: ${i}`),s.push({wallet:o.address,hash:i,success:!0}),r<this.localWallets.length-1&&await new Promise(a=>setTimeout(a,2e3))}catch(i){console.error(` ${o.address} :`,i),s.push({wallet:o.address,error:i.message||String(i),success:!1})}}return console.log(":",s),s},encodeTransferData(e,t){const n="0xa9059cbb",s=e.slice(2).padStart(64,"0"),r=it(t.toString()).toString(16).padStart(64,"0");return n+s+r},getUsdtContractAddress(){return USDT_CONTRACTS[this.currentChainId]||null},getUsdtDecimals(){return Bx[this.currentChainId]||18},async distributeFromSource(e,t,n,s="native"){console.log(`: ${s}: ${t.length} `);const r=this.localWallets.find(y=>y.address===e);if(!r)throw new Error("");if(!r.encrypted)throw new Error("");if(t.length===0)throw new Error("");const o=[],i=[];for(const y of t)!y||!/^0x[0-9a-fA-F]{40}$/.test(y.trim())?o.push(y):i.push(y.trim());if(i.length===0)throw new Error("");const a=this.getChainConfig(),l=this.getPublicClient(),u=a.nativeCurrency.symbol;let d=u,f=18,p=null;if(s==="usdt"){if(p=this.getUsdtContractAddress(),!p)throw new Error(" USDT ");d="USDT";try{f=await ls(l,p),console.log(`USDT : ${f}`)}catch(y){console.warn(" USDT  18:",y),f=this.getUsdtDecimals()}}const h=n*i.length;if(!confirm(`

: ${e.slice(0,10)}...${e.slice(-8)}
: ${i.length} ${o.length>0?` ${o.length} `:""}
: ${s==="usdt"?"USDT":u}
: ${n} ${d}
: ${h} ${d}

`))throw new Error("");const b=[],v=await l.getGasPrice(),$=lt(r.encrypted),x=Ht({account:$,chain:a,transport:He(a.rpcUrls.default.http[0])});for(let y=0;y<i.length;y++){const m=i[y];try{console.log(` ${y+1}/${i.length}: ${e} -> ${m}`);let w;if(s==="usdt"&&p){const P=_t(n.toString(),f),B=await l.readContract({address:p,abi:De,functionName:"balanceOf",args:[e]}),E=we(B,f),T=we(P,f);if(console.log(`: ${e}`),console.log(`USDT : ${p}`),console.log(`USDT : ${f}`),console.log(` USDT : ${B.toString()}`),console.log(` USDT : ${E}`),console.log(`: ${P.toString()}`),console.log(`: ${T}`),B<P)throw new Error(`USDT : ${E}, : ${T}`);const C=await l.getBalance({address:e}),S=v*BigInt(65e3);if(console.log(` ${u} : ${Te(C)},  Gas : ${Te(S)}`),C<S)throw new Error(`${u}  Gas : ${Te(C)}, : ${Te(S)}`);w=await x.writeContract({address:p,abi:De,functionName:"transfer",args:[m,P],gas:BigInt(65e3),gasPrice:v})}else w=await x.sendTransaction({to:m,value:it(n.toString()),gas:BigInt(21e3),gasPrice:v});console.log(`: ${w}`),b.push({source:e,target:m,hash:w,amount:n.toString(),tokenType:s,success:!0}),y<i.length-1&&await new Promise(P=>setTimeout(P,1500))}catch(w){console.error(` ${m} :`,w),b.push({source:e,target:m,error:w.message||String(w),tokenType:s,success:!1})}}return console.log(":",b),b},async batchTransferToSelected(e){if(console.log(` ${e} `),!this.connectedAddress)throw new Error("");const t=this.selectedWallets;if(t.length===0)throw new Error("");const n=window.ethereum;if(!n)throw new Error("provider");const r=this.getChainConfig().nativeCurrency.symbol;if(it((e*t.length).toString()),!confirm(`

: ${t.length} 
: ${e} ${r}
: ${e*t.length} ${r}

`))throw new Error("");const i=[];for(let a=0;a<t.length;a++){const l=t[a];try{console.log(` ${a+1}/${t.length}: ${l.address}`);const u=await n.request({method:"eth_sendTransaction",params:[{from:this.connectedAddress,to:l.address,value:`0x${it(e.toString()).toString(16)}`,gas:"0x5208"}]});console.log(`: ${u}`),i.push({wallet:l.address,hash:u,success:!0}),a<t.length-1&&await new Promise(d=>setTimeout(d,1500))}catch(u){console.error(` ${l.address} :`,u),i.push({wallet:l.address,error:u.message||String(u),success:!1})}}return console.log(":",i),i},async collectFromSelected(e,t,n="native"){console.log(` ${e} ${t} ${n}`);const s=this.selectedWallets;if(s.length===0)throw new Error("");if(!e||!e.startsWith("0x")||e.length!==42)throw new Error("");const r=this.getChainConfig(),o=r.nativeCurrency.symbol,i=this.getPublicClient();let a=o,l=18,u=null;if(n==="usdt"){const g=this.getUsdtContractAddress();if(!g)throw new Error(" USDT ");u=g,l=await ls(i,u),a="USDT"}const d=t*s.length;if(!confirm(`

: ${s.length} 
: ${e}
: ${t} ${a}
: ${d} ${a}

`))throw new Error("");const p=[],h=await i.getGasPrice();for(let g=0;g<s.length;g++){const b=s[g];try{if(console.log(` ${g+1}/${s.length}: ${b.address}`),!b.encrypted){console.warn(` ${b.address} `),p.push({wallet:b.address,error:"",success:!1});continue}const v=lt(b.encrypted),$=Ht({account:v,chain:r,transport:He(r.rpcUrls.default.http[0])});let x,y;if(n==="usdt"&&u){y=_t(t.toString(),l);const m=await i.readContract({address:u,abi:De,functionName:"balanceOf",args:[b.address]});if(console.log(` ${b.address} USDT : ${we(m,l)}`),m<y){console.warn(` ${b.address} USDT `),p.push({wallet:b.address,error:`USDT : ${we(m,l)}`,success:!1});continue}const w=await i.getBalance({address:b.address}),P=h*BigInt(65e3);if(w<P){console.warn(` ${b.address} ${o}  Gas`),p.push({wallet:b.address,error:`${o}  Gas`,success:!1});continue}x=await $.writeContract({address:u,abi:De,functionName:"transfer",args:[e,y],gas:BigInt(65e3),gasPrice:h})}else{y=it(t.toString());const m=BigInt(21e3),w=h*m,P=await i.getBalance({address:b.address});if(console.log(` ${b.address} ${o} : ${Te(P)}, Gas: ${Te(w)}`),P<y+w){console.warn(` ${b.address} ${o} `),p.push({wallet:b.address,error:`${o} : ${Te(P)}: ${Te(y+w)}`,success:!1});continue}x=await $.sendTransaction({to:e,value:y,gas:m,gasPrice:h})}console.log(`: ${x}`),p.push({wallet:b.address,hash:x,amount:t.toString(),tokenType:n,success:!0}),g<s.length-1&&await new Promise(m=>setTimeout(m,1500))}catch(v){console.error(` ${b.address} :`,v),p.push({wallet:b.address,error:v.message||String(v),success:!1})}}return console.log(":",p),p},async manyToManyTransfer(e,t,n="sequential",s,r="native"){console.log(`: ${e.length} : ${r}`);let o;if(s&&s.length>0?o=this.localWallets.filter(m=>s.includes(m.address)):o=this.selectedWallets,o.length===0)throw new Error("");if(e.length===0)throw new Error("");const i=[],a=[];for(const m of e)!m||!/^0x[0-9a-fA-F]{40}$/.test(m.trim())?i.push(m):a.push(m.trim());if(a.length===0)throw new Error("0x4240");i.length>0&&console.warn(` ${i.length} `);const l=o.filter(m=>m.encrypted);if(l.length===0)throw new Error("");l.length<o.length&&console.warn(`${o.length-l.length} `),o=l;const u=this.getChainConfig(),d=u.nativeCurrency.symbol,f=this.getPublicClient();let p=d,h=18,g=null;if(r==="usdt"){const m=this.getUsdtContractAddress();if(!m)throw new Error(" USDT ");g=m,h=await ls(f,g),p="USDT"}const b=t*a.length;if(!confirm(`

: ${o.length} 
: ${a.length} ${i.length>0?` ${i.length} `:""}
: ${p}
: ${t} ${p}
: ${b} ${p}
: ${n==="sequential"?"":""}

`))throw new Error("");const $=[],x=await f.getGasPrice();let y=[];if(n==="sequential"){let m=0;for(const w of a)y.push({source:o[m%o.length],target:w,amount:r==="usdt"?_t(t.toString(),h):it(t.toString())}),m++}else for(const m of a){const w=o[Math.floor(Math.random()*o.length)];y.push({source:w,target:m,amount:r==="usdt"?_t(t.toString(),h):it(t.toString())})}for(let m=0;m<y.length;m++){const w=y[m];try{if(console.log(` ${m+1}/${y.length}: ${w.source.address} -> ${w.target}`),!w.source.encrypted){console.warn(` ${w.source.address} `),$.push({source:w.source.address,target:w.target,error:"",tokenType:r,success:!1});continue}const P=lt(w.source.encrypted),B=Ht({account:P,chain:u,transport:He(u.rpcUrls.default.http[0])});let E;if(r==="usdt"&&g){const T=await f.readContract({address:g,abi:De,functionName:"balanceOf",args:[w.source.address]});if(T<w.amount){console.warn(` ${w.source.address} USDT `),$.push({source:w.source.address,target:w.target,error:`USDT : ${we(T,h)}`,tokenType:r,success:!1});continue}const C=await f.getBalance({address:w.source.address}),S=x*BigInt(65e3);if(C<S){console.warn(` ${w.source.address} ${d}  Gas`),$.push({source:w.source.address,target:w.target,error:`${d}  Gas`,tokenType:r,success:!1});continue}E=await B.writeContract({address:g,abi:De,functionName:"transfer",args:[w.target,w.amount],gas:BigInt(65e3),gasPrice:x})}else{const T=BigInt(21e3),C=x*T,S=await f.getBalance({address:w.source.address});if(S<w.amount+C){console.warn(` ${w.source.address} ${d} `),$.push({source:w.source.address,target:w.target,error:`${d} : ${Te(S)}: ${Te(w.amount+C)}`,tokenType:r,success:!1});continue}E=await B.sendTransaction({to:w.target,value:w.amount,gas:T,gasPrice:x})}console.log(`: ${E}`),$.push({source:w.source.address,target:w.target,hash:E,amount:r==="usdt"?we(w.amount,h):Te(w.amount),tokenType:r,success:!0}),m<y.length-1&&await new Promise(T=>setTimeout(T,1500))}catch(P){console.error(`: ${w.source.address} -> ${w.target}`,P),$.push({source:w.source.address,target:w.target,error:Qs(P),tokenType:r,success:!1})}}return console.log(":",$),$},async collectToken(e,t){console.log(`ERC20 ${t}`);const n=this.selectedWallets.length>0?this.selectedWallets:this.localWallets;if(n.length===0)throw new Error("");if(!t||!t.startsWith("0x")||t.length!==42)throw new Error("");const s=this.getChainConfig(),r=this.getPublicClient(),o=await ls(r,e);if(!confirm(` ERC20 

: ${e}
: ${n.length} 
: ${t}

`))throw new Error("");const a=[],l=await r.getGasPrice();for(let u=0;u<n.length;u++){const d=n[u];try{if(console.log(` ${u+1}/${n.length}: ${d.address}`),!d.encrypted){console.warn(` ${d.address} `),a.push({wallet:d.address,error:"",success:!1});continue}const f=await r.readContract({address:e,abi:De,functionName:"balanceOf",args:[d.address]});if(f<=BigInt(0)){console.warn(` ${d.address}  0`),a.push({wallet:d.address,error:" 0",success:!1});continue}console.log(`: ${we(f,o)}`);const p=lt(d.encrypted),g=await Ht({account:p,chain:s,transport:He(s.rpcUrls.default.http[0])}).writeContract({address:e,abi:De,functionName:"transfer",args:[t,f],gasPrice:l});console.log(`: ${g}`),a.push({wallet:d.address,hash:g,amount:we(f,o),success:!0}),u<n.length-1&&await new Promise(b=>setTimeout(b,1500))}catch(f){console.error(` ${d.address} :`,f),a.push({wallet:d.address,error:f.message||String(f),success:!1})}}return console.log(":",a),a},async batchTransferByAddresses(e,t,n,s,r,o){console.log(`: ${r}: ${s}: ${o==null?void 0:o.transferAllBalance}`);const i=[],a=this.getChainConfig(),l=this.getPublicClient(),u=await l.getGasPrice();let d=[];if(r==="oneToMany"){if(e.length!==1)throw new Error("1");const f=e[0];for(const p of t)d.push({sourceAddr:f,targetAddr:p})}else if(r==="manyToOne"){if(t.length!==1)throw new Error("1");const f=t[0];for(const p of e)d.push({sourceAddr:p,targetAddr:f})}else if(r==="manyToMany"){if(e.length!==t.length)throw new Error("");for(let f=0;f<e.length;f++)d.push({sourceAddr:e[f],targetAddr:t[f]})}for(let f=0;f<d.length;f++){const{sourceAddr:p,targetAddr:h}=d[f];try{let g;if(o!=null&&o.privateKeyMap&&o.privateKeyMap[p.toLowerCase()])g=o.privateKeyMap[p.toLowerCase()];else{const m=this.localWallets.find(w=>w.address.toLowerCase()===p.toLowerCase());g=m==null?void 0:m.encrypted}if(!g){i.push({source:p,target:h,error:"",success:!1});continue}console.log(` ${f+1}/${d.length}: ${p} -> ${h}`);const b=lt(g),v=Ht({account:b,chain:a,transport:He(a.rpcUrls.default.http[0])});let $,x=n;if(s==="token"&&this.targetToken){const m=this.targetToken.address,w=this.targetToken.decimals;if(o!=null&&o.transferAllBalance){const P=await l.readContract({address:m,abi:De,functionName:"balanceOf",args:[p]});if(x=Number(we(P,w)),x<=0){i.push({source:p,target:h,error:"0",success:!1});continue}$=await v.writeContract({address:m,abi:De,functionName:"transfer",args:[h,P],gas:BigInt(65e3),gasPrice:u})}else{const P=await l.readContract({address:m,abi:De,functionName:"balanceOf",args:[p]}),B=_t(n.toString(),w);if(P<B){i.push({source:p,target:h,error:`: ${we(P,w)}, : ${n}`,success:!1});continue}$=await v.writeContract({address:m,abi:De,functionName:"transfer",args:[h,B],gas:BigInt(65e3),gasPrice:u})}}else if(o!=null&&o.transferAllBalance){const m=await l.getBalance({address:p}),w=BigInt(21e3),P=u*w,B=m-P;if(B<=BigInt(0)){i.push({source:p,target:h,error:` gas : ${Te(m)} BNBGas: ${Te(P)} BNB`,success:!1});continue}x=Number(Te(B)),console.log(`: ${Te(m)} BNB, Gas: ${Te(P)} BNB, : ${x} BNB`),$=await v.sendTransaction({to:h,value:B,gas:w,gasPrice:u})}else{const m=await l.getBalance({address:p}),w=BigInt(21e3),P=u*w,B=it(n.toString());if(m<B+P){i.push({source:p,target:h,error:`: ${Te(m)} BNB: ${Te(B+P)} BNB`,success:!1});continue}$=await v.sendTransaction({to:h,value:B,gas:w,gasPrice:u})}console.log(`: ${$}`),(await l.waitForTransactionReceipt({hash:$,timeout:6e4})).status==="success"?(console.log(`: ${$}, : ${x}`),i.push({source:p,target:h,hash:$,success:!0,amount:x})):(console.error(`(): ${$}`),i.push({source:p,target:h,hash:$,error:"",success:!1})),f<d.length-1&&await new Promise(m=>setTimeout(m,1500))}catch(g){console.error(`: ${p} -> ${h}`,g),i.push({source:p,target:h,error:Qs(g),success:!1})}}return console.log(":",i),i},async testContractConnection(){try{const e=Ld[this.currentChainId];if(!e||e==="0x0000000000000000000000000000000000000000")throw new Error("");console.log(`: ${e}`);const t=this.getPublicClient(),n=await t.readContract({address:e,abi:Qo,functionName:"getBalance",args:[]});console.log(":",Te(n));const s=await t.readContract({address:e,abi:Qo,functionName:"getTokenType",args:["0x0000000000000000000000000000000000000000"]});return console.log(":",s),{success:!0,contractAddress:e,balance:Te(n),tokenType:Number(s),message:""}}catch(e){return console.error(":",e),{success:!1,error:e.message||"",message:""}}}}}),Gs=[{inputs:[{internalType:"address",name:"tokenA",type:"address"},{internalType:"address",name:"tokenB",type:"address"}],name:"getPair",outputs:[{internalType:"address",name:"pair",type:"address"}],stateMutability:"view",type:"function"}],vn=[{inputs:[],name:"getReserves",outputs:[{internalType:"uint112",name:"_reserve0",type:"uint112"},{internalType:"uint112",name:"_reserve1",type:"uint112"},{internalType:"uint32",name:"_blockTimestampLast",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"token0",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token1",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],nn=[{type:"function",name:"getAmountsOut",stateMutability:"view",inputs:[{name:"amountIn",type:"uint256"},{name:"path",type:"address[]"}],outputs:[{name:"amounts",type:"uint256[]"}]},{type:"function",name:"getAmountsIn",stateMutability:"view",inputs:[{name:"amountOut",type:"uint256"},{name:"path",type:"address[]"}],outputs:[{name:"amounts",type:"uint256[]"}]},{type:"function",name:"WETH",stateMutability:"view",inputs:[],outputs:[{name:"",type:"address"}]},{type:"function",name:"swapExactETHForTokens",stateMutability:"payable",inputs:[{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],outputs:[{name:"amounts",type:"uint256[]"}]},{type:"function",name:"swapExactETHForTokensSupportingFeeOnTransferTokens",stateMutability:"payable",inputs:[{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],outputs:[]},{type:"function",name:"swapExactTokensForETH",stateMutability:"nonpayable",inputs:[{name:"amountIn",type:"uint256"},{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],outputs:[{name:"amounts",type:"uint256[]"}]},{type:"function",name:"swapExactTokensForETHSupportingFeeOnTransferTokens",stateMutability:"nonpayable",inputs:[{name:"amountIn",type:"uint256"},{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],outputs:[]},{type:"function",name:"swapExactTokensForTokens",stateMutability:"nonpayable",inputs:[{name:"amountIn",type:"uint256"},{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],outputs:[{name:"amounts",type:"uint256[]"}]},{type:"function",name:"swapExactTokensForTokensSupportingFeeOnTransferTokens",stateMutability:"nonpayable",inputs:[{name:"amountIn",type:"uint256"},{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],outputs:[]}];class Ir{constructor(t,n,s,r,o){Ae(this,"client");Ae(this,"factoryAddress");Ae(this,"routerAddress");Ae(this,"baseTokens");Ae(this,"chainId");this.client=sn({transport:He(t)}),this.factoryAddress=We(n),this.routerAddress=r?We(r):"",this.baseTokens=s.map(i=>We(i)),this.chainId=o||56}async findTokenPair(t,n){if(console.log(` ${t} ...`),n&&this.routerAddress){console.log(" Router ...");const s=await this.getPriceViaRouter(t,n);if(s)return s;console.log("Router ...")}if(n)try{console.log(` ${n} ...`);const s=We(t),r=We(n);let o=await this.client.readContract({address:this.factoryAddress,abi:Gs,functionName:"getPair",args:[s,r]}).catch(()=>null);if((!o||o==="0x0000000000000000000000000000000000000000")&&(o=await this.client.readContract({address:this.factoryAddress,abi:Gs,functionName:"getPair",args:[r,s]}).catch(()=>null)),o&&o!=="0x0000000000000000000000000000000000000000"){console.log(`: ${o}`);const a=await this.getPairInfo(o,t,n);if(a)return a}console.log("...");const i=await this.findRoutedPrice(t,n);if(i)return i}catch(s){console.warn(` ${n} :`,s)}for(const s of this.baseTokens)try{console.log(` ${s} ...`);const r=We(t),o=We(s),i=await this.client.readContract({address:this.factoryAddress,abi:Gs,functionName:"getPair",args:[r,o]});if(i&&i!=="0x0000000000000000000000000000000000000000"){console.log(`: ${i}`);const a=await this.getPairInfo(i,t,s);if(a)return a}}catch(r){console.warn(` ${s} :`,r);continue}return console.log(""),null}async findRoutedPrice(t,n){const s=We(t),r=We(n);for(const o of this.baseTokens){const i=We(o);if(i.toLowerCase()!==r.toLowerCase())try{console.log(`: Token -> ${i} -> ${r}`);const a=await this.client.readContract({address:this.factoryAddress,abi:Gs,functionName:"getPair",args:[s,i]}).catch(()=>null);if(!a||a==="0x0000000000000000000000000000000000000000")continue;const l=await this.client.readContract({address:this.factoryAddress,abi:Gs,functionName:"getPair",args:[i,r]}).catch(()=>null);if(!l||l==="0x0000000000000000000000000000000000000000")continue;console.log(`: ${a} -> ${l}`);const u=await this.getPairInfo(a,t,o),d=await this.getPairInfo(l,o,n);if(u&&d){const f=u.price*d.price;return console.log(`: ${u.price} (Token/${o.slice(0,6)})  ${d.price} (${o.slice(0,6)}/${n.slice(0,6)}) = ${f}`),{pairAddress:a,token0:u.token0,token1:u.token1,reserve0:u.reserve0,reserve1:u.reserve1,price:f,baseToken:r,isRouted:!0,routePath:[s,i,r],intermediatePrice:d.price}}}catch(a){console.warn(` ${o} :`,a);continue}}return console.log(""),null}async getPairInfo(t,n,s){try{const r=await this.client.readContract({address:t,abi:vn,functionName:"getReserves"}),o=await this.client.readContract({address:t,abi:vn,functionName:"token0"}),i=await this.client.readContract({address:t,abi:vn,functionName:"token1"}),a=We(n),l=We(s),u=await this.getTokenDecimals(a),d=await this.getTokenDecimals(l),f=We(o),p=We(i);let h=0;return f.toLowerCase()===a.toLowerCase()?h=Number(we(r[1],d))/Number(we(r[0],u)):h=Number(we(r[0],d))/Number(we(r[1],u)),{pairAddress:t,token0:f,token1:p,reserve0:r[0],reserve1:r[1],price:h,baseToken:l}}catch(r){return console.error(":",r),null}}async getTokenDecimals(t){try{const n=await this.client.readContract({address:t,abi:De,functionName:"decimals"});return Number(n)}catch(n){return console.warn(` ${t} 18:`,n),18}}async getPriceViaRouter(t,n){if(!this.routerAddress)return console.log(" Router  Router "),null;const s=We(t),r=We(n),o=Vl[this.chainId];if(!o)return console.log(` chainId ${this.chainId}  WBNB `),null;const i=We(o);try{const a=await this.getTokenDecimals(s),l=await this.getTokenDecimals(r),u=_t("1",a),d=[[s,i,r],[s,r]];let f=0,p=null,h=!1;for(const g of d)try{console.log(`: ${g.map(x=>x.slice(0,10)).join(" -> ")}`);const b=await this.client.readContract({address:this.routerAddress,abi:nn,functionName:"getAmountsOut",args:[u,g]}),v=b[b.length-1],$=Number(we(v,l));console.log(`: ${$}`),$>f&&(f=$,p=g,h=g.length>2)}catch{console.log(`: ${g.map(v=>v.slice(0,10)).join(" -> ")}`);continue}if(p&&f>0){console.log(`: ${p.map(y=>y.slice(0,10)).join(" -> ")}, : ${f}`);let g=BigInt(0),b=BigInt(0),v=this.routerAddress,$=s,x=r;try{const y=await this.client.readContract({address:this.factoryAddress,abi:Gs,functionName:"getPair",args:[s,r]}).catch(()=>null);if(y&&y!=="0x0000000000000000000000000000000000000000"){v=y;const m=await this.client.readContract({address:y,abi:vn,functionName:"getReserves"}).catch(()=>null);if(m){const w=await this.client.readContract({address:y,abi:vn,functionName:"token0"}).catch(()=>null);w&&($=w,x=w.toLowerCase()===s.toLowerCase()?r:s,g=m[0],b=m[1],console.log(`: reserve0=${g}, reserve1=${b}`))}}}catch{console.log("")}return{pairAddress:v,token0:$,token1:x,reserve0:g,reserve1:b,price:f,baseToken:r,isRouted:h,routePath:h?p:void 0}}}catch(a){console.error("Router :",a)}return null}calculateSwapAmount(t,n,s){const{reserve0:r,reserve1:o,token0:i,token1:a}=t;if(s){const l=Number(o)/Number(r),u=n/l,d=Number(o)*(u-1);return BigInt(Math.floor(d))}else{const u=Number(o)/Number(r)/n,d=Number(r)*(u-1);return BigInt(Math.floor(d))}}}const Rx={class:"row g-3"},Ox={class:"col-12 col-md-4"},Mx=["value"],Lx={class:"col-12 col-md-4"},Fx={class:"form-label small d-flex justify-content-between align-items-center"},Ux={key:0,class:"input-group input-group-sm"},Dx=["disabled"],zx=["value"],Wx={class:"col-12 col-md-4"},jx=["value"],Hx={class:"col-12 col-md-6"},Vx=["value"],Gx={class:"col-12 col-md-6"},qx={class:"col-12"},Kx={class:"d-flex gap-2 flex-wrap"},Zx=["disabled"],Yx={key:0,class:"col-12"},Jx={class:"card border-success"},Qx={class:"card-body py-2"},Xx={class:"d-flex justify-content-between align-items-center"},e8={class:"small text-muted"},t8={class:"h5 mb-0 text-success font-monospace"},n8={key:0,class:"mt-1"},s8={class:"text-primary fw-bold"},r8={class:"mt-1"},o8={class:"text-muted"},i8={key:0,class:"badge bg-info ms-2"},a8={class:"d-flex gap-2"},l8=["disabled"],c8={key:1,class:"col-12"},u8={class:"alert alert-success py-2 mb-0 small d-flex justify-content-between align-items-center"},d8={class:"ms-2 text-muted"},f8={key:2,class:"col-12"},p8={class:"alert alert-warning alert-dismissible fade show py-2 mb-0 small",role:"alert"},Wh=ot({__name:"LiquidityPoolQuery",setup(e){const t=Zt(),n=yi(),s=pn(),{chains:r,rpcUrl:o}=mt(t),{localWallets:i,targetToken:a,poolQueryState:l}=mt(s),{currentDex:u,currentDexName:d,currentFactoryAddress:f,currentRouterAddress:p,currentBaseTokens:h,selectedDexId:g,allDexConfigs:b}=mt(n),v=ee(t.selectedChainId),$=ee(o.value),x=ee(g.value),y=de({get:()=>l.value.currentPrice,set:q=>s.updatePoolQueryState({currentPrice:q})}),m=de({get:()=>l.value.marketCap,set:q=>s.updatePoolQueryState({marketCap:q})}),w=de({get:()=>l.value.priceDisplay,set:q=>s.updatePoolQueryState({priceDisplay:q})}),P=de({get:()=>l.value.isUpdating,set:q=>s.updatePoolQueryState({isUpdating:q})}),B=de({get:()=>l.value.lastUpdateTime,set:q=>s.updatePoolQueryState({lastUpdateTime:q})}),E=de({get:()=>l.value.isRoutedPrice,set:q=>s.updatePoolQueryState({isRoutedPrice:q})}),T=de({get:()=>l.value.quoteTokenSymbol,set:q=>s.updatePoolQueryState({quoteTokenSymbol:q})}),C=de({get:()=>l.value.selectedQuoteToken,set:q=>s.updatePoolQueryState({selectedQuoteToken:q})}),S=de({get:()=>l.value.tokenAddress,set:q=>s.updatePoolQueryState({tokenAddress:q})}),O=de({get:()=>l.value.tokenSymbol,set:q=>s.updatePoolQueryState({tokenSymbol:q})}),U=de({get:()=>l.value.tokenName,set:q=>s.updatePoolQueryState({tokenName:q})}),D=de({get:()=>l.value.tokenDecimals,set:q=>s.updatePoolQueryState({tokenDecimals:q})}),L=ee(!1),F=ee(""),W=ee([]),z=ee(null),Q=ee(!1),Y=ee(""),_=ee(!1),k=ee(null),H=de(()=>{const q=r.value.find(ne=>ne.id===v.value);return(q==null?void 0:q.rpcOptions)||[]});function he(q){try{return new URL(q).hostname}catch{return q}}function V(q){return q===0?"0":q>=1?q.toFixed(8).replace(/\.?0+$/,""):q.toFixed(30).replace(/(\.\d*?[1-9])0+$/,"$1").replace(/\.0+$/,"")}function fe(q){return q>=1e3?q.toFixed(2):q>=1?q.toFixed(4):q.toFixed(6)}function xe(){ze(),y.value=null,m.value=null}const Oe=[{name:"PancakeSwap V2",factory:"0xcA143Ce32Fe78f1f7019d7d551a6402fC5350c73",initCodeHash:"0x00fb7f630766e6a796048ea87d01acd3068e8ff67d078148a3fa3f4a84f69bd5"},{name:"PancakeSwap V2 (alt)",factory:"0xcA143Ce0Fe65960E6Aa4D42C8D3cE161c2B6604f",initCodeHash:"0x00fb7f630766e6a796048ea87d01acd3068e8ff67d078148a3fa3f4a84f69bd5"},{name:"BiSwap",factory:"0x858E3312ed3A876947EA49d572A7C42DE08af7EE",initCodeHash:"0xfea293c909d87cd4153593f077b76bb7e94340200f4ee84211ae8e4f9bd7ffdf"},{name:"ApeSwap",factory:"0x0841BD0B734E4F5853f0dD8d7Ea041c241fb0Da6",initCodeHash:"0xf4ccce374816856d11f00e4069e7cada164065686fbef53c6167a63ec2fd8c5b"},{name:"BabySwap",factory:"0x86407bEa2078ea5f5EB5A52B2caA963bC1F889Da",initCodeHash:"0x48c8bec5512d397a5d512fbb7d83d515e7b6d91e9838730e97ab59429f581697"},{name:"MDEX",factory:"0x3CD1C46068dAEa5Ebb0d3f55F6915B10648062B8",initCodeHash:"0x0d994d996174b05cfc7bed897dc1b20b4c458fc8d64fe98bc78b3c64a6b4d093"}];function st(q,ne,ae,Re){const je=We(q),qe=We(ne),Ke=We(ae),[en,tn]=qe.toLowerCase()<Ke.toLowerCase()?[qe,Ke]:[Ke,qe],Dt=Ye(_d(["address","address"],[en,tn])),Zn=Ye(_d(["bytes1","address","bytes32","bytes32"],["0xff",je,Dt,Re]));return We("0x"+Zn.slice(-40))}async function yt(q,ne,ae){for(const Re of Oe){const je=st(Re.factory,ne,ae,Re.initCodeHash);try{const qe=await q.readContract({address:je,abi:vn,functionName:"getReserves"});if(qe&&(qe[0]>0n||qe[1]>0n))return console.log(` [${Re.name}]: ${je}`),{pairAddress:je,dexName:Re.name}}catch{}}return console.log(" DEX "),null}function zs(){if(!S.value||!O.value){alert("");return}s.setTargetToken({address:S.value,symbol:O.value,name:U.value||O.value,decimals:D.value}),alert(` ${O.value} `)}function A(){s.clearTargetToken()}const N=de(()=>{var q,ne,ae;return((ne=(q=s.targetToken)==null?void 0:q.address)==null?void 0:ne.toLowerCase())===((ae=S.value)==null?void 0:ae.toLowerCase())}),j=new Map,X=ee(0),J={"0x8516fc284aeeaa0374e66037bd2309349ff728ea":{name:"BUSD Token",symbol:"BUSD"},"0x4be45c88db35383f713abc1adfa816200e0b8b56":{name:"Tether USD",symbol:"USDT"}},te=de(()=>{const q=v.value,ne=n.chainDexMappings.find(ae=>ae.chainId===q);if(ne){const ae=b.value.find(Re=>Re.id===ne.dexId);return ae?[ae]:[]}return b.value}),le=de(()=>(X.value,(h.value||[]).map(ne=>{const ae=j.get(ne.toLowerCase());return ae?{address:ne,display:`${ae.symbol} (${ae.name})`}:{address:ne,display:`${se(ne)} (...)`}}))),ie=de(()=>C.value&&S.value&&!L.value);function oe(){return v.value===97?xs:v.value===56?Os:v.value===66?Dh:Os}function se(q){return q?`${q.slice(0,6)}...${q.slice(-4)}`:""}async function be(q,ne){const ae=q.toLowerCase();if(j.has(ae))return j.get(ae);try{const[Re,je]=await Promise.allSettled([ne.readContract({address:q,abi:De,functionName:"name"}),ne.readContract({address:q,abi:De,functionName:"symbol"})]),qe=Re.status==="fulfilled"?Re.value:"",Ke=je.status==="fulfilled"?je.value:"";if(!qe&&!Ke){const Dt={name:"Unknown Token",symbol:se(q).toUpperCase()};return j.set(ae,Dt),X.value++,Dt}let en={name:qe||"Unknown Token",symbol:Ke||se(q).toUpperCase()};const tn=J[ae];return tn&&(en={name:tn.name,symbol:tn.symbol}),j.set(ae,en),X.value++,en}catch{const je={name:"Unknown Token",symbol:se(q).toUpperCase()};return j.set(ae,je),X.value++,je}}async function ce(){const q=h.value||[];if(q.length===0)return;const ne=r.value.find(Re=>Re.id===v.value);if(!ne)return;const ae=sn({chain:oe(),transport:He(ne.rpc)});await Promise.allSettled(q.map(Re=>{const je=Re.toLowerCase();return j.has(je)?Promise.resolve(j.get(je)):be(Re,ae)})),X.value++}async function ge(){ze(),t.selectedChainId=v.value,s.setCurrentChainId(v.value);const q=r.value.find(ne=>ne.id===v.value);q&&(q.rpcOptions&&q.rpcOptions.length>0?($.value=q.rpcOptions[0].url,t.rpcUrl=q.rpcOptions[0].url):($.value=q.rpc,t.rpcUrl=q.rpc)),n.setDexByChainId(v.value),x.value=g.value,S.value="",y.value=null,m.value=null,F.value="",j.clear(),X.value++,await ce(),h.value&&h.value.length>0?C.value=h.value[0]:C.value=""}function ve(){t.rpcUrl=$.value,k.value=null,console.log("RPC:",$.value)}function Pe(){Y.value&&(t.rpcUrl=Y.value,$.value=Y.value,k.value=null,console.log("RPC:",Y.value))}async function Ne(){var q;if(Y.value){_.value=!0,k.value=null;try{const ae=await sn({transport:He(Y.value)}).getBlockNumber();k.value={success:!0,message:`: ${ae}`},t.rpcUrl=Y.value,$.value=Y.value}catch(ne){k.value={success:!1,message:`: ${((q=ne.message)==null?void 0:q.slice(0,50))||""}`}}finally{_.value=!1}}}async function Be(){ze(),n.setDex(x.value),y.value=null,m.value=null,F.value="",await ce(),h.value&&h.value.length>0?C.value=h.value[0]:C.value=""}function ut(){ze(),y.value=null,m.value=null,F.value=""}function dt(){ze(),y.value=null,m.value=null,F.value=""}async function Ut(){if(ie.value){ze(),L.value=!0,F.value="";try{const q=r.value.find(Ke=>Ke.id===v.value);if(!q)throw new Error("");const ne=sn({chain:oe(),transport:He($.value||q.rpc)}),ae=await be(S.value,ne),Re=await be(C.value,ne);ae?(O.value=ae.symbol,U.value=ae.name):(O.value="TOKEN",U.value="Unknown Token");try{const Ke=await ne.readContract({address:S.value,abi:De,functionName:"decimals"});D.value=Number(Ke)}catch{D.value=18}Re?T.value=Re.symbol:T.value="QUOTE";const je=new Ir($.value||q.rpc,f.value,h.value,p.value,v.value),qe=await je.findTokenPair(S.value,C.value);if(!qe)throw new Error("");qe.isRouted&&qe.routePath?(E.value=!0,W.value=qe.routePath):(E.value=!1,W.value=[]);try{let Ke=BigInt(0),en=qe.token0.toLowerCase();if(qe.reserve0===BigInt(0)&&qe.reserve1===BigInt(0)){console.log("pairInfo  0...");const hn=await yt(ne,S.value,C.value);if(hn){console.log(":",hn.pairAddress,":",hn.dexName);const Tr=await ne.readContract({address:hn.pairAddress,abi:vn,functionName:"getReserves"});console.log("reserve0:",Tr[0].toString()),console.log("reserve1:",Tr[1].toString());const zo=await ne.readContract({address:hn.pairAddress,abi:vn,functionName:"token0"});console.log("token0:",zo),en=zo.toLowerCase();const qh=C.value.toLowerCase();en===qh?(Ke=Tr[0],console.log("quoteReserve = reserve0:",Ke.toString())):(Ke=Tr[1],console.log("quoteReserve = reserve1:",Ke.toString()))}else console.log("")}else{const hn=C.value.toLowerCase();en===hn?Ke=qe.reserve0:Ke=qe.reserve1}const Dt=10n**BigInt(18),Zn=Number(Ke)/Number(Dt);m.value=Zn,console.log(" BNB :",Zn,T.value)}catch(Ke){console.error(":",Ke),m.value=null}It(qe.price),_n(je,S.value)}catch(q){F.value=q.message||"",y.value=null,w.value=""}finally{L.value=!1}}}function It(q){y.value=q,w.value=`${T.value}/${O.value}`,B.value=new Date().toLocaleTimeString()}function _n(q,ne){ze(),P.value=!0,F.value="",Cr(q,ne),z.value=window.setInterval(async()=>{const ae=r.value.find(je=>je.id===v.value);if(!ae){ze();return}const Re=new Ir($.value||ae.rpc,f.value,h.value,p.value,v.value);await Cr(Re,ne)},3e3)}async function Cr(q,ne){try{const ae=await q.findTokenPair(ne,C.value);if(!ae){F.value="...";return}ae.isRouted&&ae.routePath?(E.value=!0,W.value=ae.routePath):(E.value=!1,W.value=[]);try{let Re=BigInt(0),je=ae.token0.toLowerCase();if(ae.reserve0===BigInt(0)&&ae.reserve1===BigInt(0)){const tn=r.value.find(Dt=>Dt.id===v.value);if(tn){const Dt=sn({chain:oe(),transport:He($.value||tn.rpc)}),Zn=await yt(Dt,ne,C.value);if(Zn){const hn=await Dt.readContract({address:Zn.pairAddress,abi:vn,functionName:"getReserves"});je=(await Dt.readContract({address:Zn.pairAddress,abi:vn,functionName:"token0"})).toLowerCase();const zo=C.value.toLowerCase();je===zo?Re=hn[0]:Re=hn[1]}}}else{const tn=C.value.toLowerCase();je===tn?Re=ae.reserve0:Re=ae.reserve1}const Ke=10n**BigInt(18),en=Number(Re)/Number(Ke);m.value=en}catch{}It(ae.price),F.value=""}catch(ae){F.value=`: ${ae.message||""}`}}function ze(){z.value!==null&&(clearInterval(z.value),z.value=null),P.value=!1}return $t([v,x,C,()=>S.value],()=>{ze()}),lc(()=>{ze()}),gr(async()=>{if(v.value=t.selectedChainId,$.value=o.value,x.value=g.value,s.setCurrentChainId(t.selectedChainId),await new Promise(q=>setTimeout(q,100)),await ce(),!C.value&&h.value&&h.value.length>0&&(C.value=h.value[0]),y.value!==null&&S.value&&!P.value){const q=r.value.find(ne=>ne.id===v.value);if(q){const ne=new Ir($.value||q.rpc,f.value,h.value,p.value,v.value);_n(ne,S.value)}}}),Tf(async()=>{if(y.value!==null&&S.value&&!P.value){const q=r.value.find(ne=>ne.id===v.value);if(q){const ne=new Ir($.value||q.rpc,f.value,h.value,p.value,v.value);_n(ne,S.value)}}}),$t(h,async(q,ne)=>{q&&q.length>0&&q!==ne&&await ce()},{immediate:!1}),$t(x,async()=>{await new Promise(q=>setTimeout(q,100)),await ce()}),(q,ne)=>(I(),R("div",null,[ne[21]||(ne[21]=c("div",{class:"d-flex justify-content-between align-items-center mb-3"},[c("h2",{class:"h6 mb-0"},"")],-1)),c("div",Rx,[c("div",Ox,[ne[8]||(ne[8]=c("label",{class:"form-label small"},"",-1)),ue(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":ne[0]||(ne[0]=ae=>v.value=ae),onChange:ge},[(I(!0),R(Se,null,Le(Z(r),ae=>(I(),R("option",{key:ae.id,value:ae.id},M(ae.name),9,Mx))),128))],544),[[nt,v.value]])]),c("div",Lx,[c("label",Fx,[ne[9]||(ne[9]=c("span",null,"RPC",-1)),c("button",{class:"btn btn-link btn-sm p-0 text-decoration-none",onClick:ne[1]||(ne[1]=ae=>Q.value=!Q.value)},M(Q.value?"":""),1)]),Q.value?(I(),R("div",Ux,[ue(c("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":ne[2]||(ne[2]=ae=>Y.value=ae),placeholder:"https://...",onChange:Pe},null,544),[[ke,Y.value]]),c("button",{class:"btn btn-outline-secondary",type:"button",onClick:Ne,disabled:!Y.value||_.value},[c("i",{class:Ce(["bi me-1",_.value?"bi-hourglass-split":"bi-lightning"])},null,2),K(" "+M(_.value?"":""),1)],8,Dx)])):ue((I(),R("select",{key:1,class:"form-select form-select-sm","onUpdate:modelValue":ne[3]||(ne[3]=ae=>$.value=ae),onChange:ve},[(I(!0),R(Se,null,Le(H.value,ae=>(I(),R("option",{key:ae.url,value:ae.url},M(ae.name)+" ("+M(he(ae.url))+") ",9,zx))),128))],544)),[[nt,$.value]]),k.value?(I(),R("div",{key:2,class:Ce(["small mt-1",k.value.success?"text-success":"text-danger"])},M(k.value.message),3)):pe("",!0)]),c("div",Wx,[ne[10]||(ne[10]=c("label",{class:"form-label small"},"",-1)),ue(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":ne[4]||(ne[4]=ae=>x.value=ae),onChange:Be},[(I(!0),R(Se,null,Le(te.value,ae=>(I(),R("option",{key:ae.id,value:ae.id},M(ae.name),9,jx))),128))],544),[[nt,x.value]])]),c("div",Hx,[ne[12]||(ne[12]=c("label",{class:"form-label small"},"",-1)),ue(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":ne[5]||(ne[5]=ae=>C.value=ae),onChange:ut},[ne[11]||(ne[11]=c("option",{value:""},"",-1)),(I(!0),R(Se,null,Le(le.value,ae=>(I(),R("option",{key:ae.address,value:ae.address},M(ae.display),9,Vx))),128))],544),[[nt,C.value]])]),c("div",Gx,[ne[13]||(ne[13]=c("label",{class:"form-label small"},"",-1)),ue(c("input",{class:"form-control form-control-sm","onUpdate:modelValue":ne[6]||(ne[6]=ae=>S.value=ae),placeholder:"0x...",onInput:dt},null,544),[[ke,S.value]])]),c("div",qx,[c("div",Kx,[c("button",{class:"btn btn-primary btn-sm",onClick:Ut,disabled:!ie.value||L.value},[ne[14]||(ne[14]=c("i",{class:"bi bi-search me-1"},null,-1)),K(" "+M(L.value?"...":""),1)],8,Zx)])]),y.value!==null?(I(),R("div",Yx,[c("div",Jx,[c("div",Qx,[c("div",Xx,[c("div",null,[c("div",e8," ("+M(w.value)+")",1),c("div",t8,M(y.value!==null?V(y.value):"-"),1),m.value!==null?(I(),R("div",n8,[ne[15]||(ne[15]=c("span",{class:"small text-muted"},": ",-1)),c("span",s8,M(fe(m.value))+" "+M(T.value),1)])):pe("",!0),c("div",r8,[c("small",o8,M(B.value),1),E.value?(I(),R("span",i8,"")):pe("",!0)])]),c("div",a8,[P.value?(I(),R("button",{key:0,class:"btn btn-outline-danger btn-sm",onClick:xe},[...ne[16]||(ne[16]=[c("i",{class:"bi bi-stop-circle me-1"},null,-1),K(" ",-1)])])):pe("",!0),c("button",{class:Ce(["btn btn-sm",N.value?"btn-success":"btn-outline-primary"]),onClick:zs,disabled:!O.value},[c("i",{class:Ce(["bi me-1",N.value?"bi-check-circle":"bi-crosshair"])},null,2),K(" "+M(N.value?"":""),1)],10,l8)])])])])])):pe("",!0),Z(a)?(I(),R("div",c8,[c("div",u8,[c("span",null,[ne[17]||(ne[17]=c("i",{class:"bi bi-crosshair me-1"},null,-1)),ne[18]||(ne[18]=K(" : ",-1)),c("strong",null,M(Z(a).symbol),1),K(" ("+M(Z(a).name)+") ",1),c("code",d8,M(se(Z(a).address)),1)]),c("button",{class:"btn btn-outline-danger btn-sm",onClick:A},[...ne[19]||(ne[19]=[c("i",{class:"bi bi-x-lg me-1"},null,-1),K(" ",-1)])])])])):pe("",!0),F.value?(I(),R("div",f8,[c("div",p8,[ne[20]||(ne[20]=c("i",{class:"bi bi-exclamation-triangle me-1"},null,-1)),K(" "+M(F.value)+" ",1),c("button",{type:"button",class:"btn-close",style:{padding:"0.5rem"},onClick:ne[7]||(ne[7]=ae=>F.value=""),"aria-label":"Close"})])])):pe("",!0)])]))}}),h8={class:"d-flex justify-content-between align-items-center"},m8={class:"text-muted small"},b8={class:"row g-2 mt-2"},g8={class:"col-12 col-md-4"},y8={class:"col-6 col-md-2"},v8={class:"col-6 col-md-3"},w8={class:"col-12 col-md-3 d-grid"},x8=["disabled"],$8={class:"row g-2 mt-2"},k8={class:"col-12"},C8={class:"form-check form-check-inline"},T8={key:0,class:"alert alert-info small mt-2"},_8={key:1,class:"small text-muted mt-1"},S8=ot({__name:"WalletImportPanel",setup(e){const t=pn(),n=Zt(),s=ee(null),r=ee("normal"),o=ee(""),i=ee(!0),a=ee(null),l=ee(!1),u=de(()=>{const g=n.chains.find(b=>b.id===n.selectedChainId);return g?`${g.name} (${g.governanceToken})`:""});function d(g){var v;const b=g.target;s.value=((v=b.files)==null?void 0:v[0])??null,a.value=null}function f(g){const b=g.split(/\r?\n/).map(x=>x.trim()).filter(Boolean),v=[],$=/^(0x)?[0-9a-fA-F]{64}$/;for(const x of b){const y=x.split(",").map(m=>m.trim().replace(/^["']|["']$/g,""));for(const m of y)m.toLowerCase().includes("private")||m.toLowerCase().includes("key")||m.toLowerCase().includes("address")||m.toLowerCase()==="id"||m.toLowerCase()==="index"||$.test(m)&&v.push(m)}return v}function p(g){const b=g.split(/\r?\n/).map($=>$.trim()).filter(Boolean),v=/^(0x)?[0-9a-fA-F]{64}$/;return b.filter($=>v.test($))}async function h(){if(!s.value){alert("");return}const g=await s.value.text(),b=s.value.name.toLowerCase();let v;if(b.endsWith(".csv")?v=f(g):v=p(g),v.length===0){alert("");return}if(a.value=t.importWalletsFromPrivateKeys(v,{walletType:r.value,remark:o.value}),i.value&&a.value.added>0)try{await t.createBatchFromPrivateKeys(v,o.value||"",r.value)}catch($){console.error(":",$)}if(a.value.added>0){l.value=!0;try{await t.refreshAllBalances()}finally{l.value=!1}}}return(g,b)=>(I(),R("div",null,[c("div",h8,[b[3]||(b[3]=c("h2",{class:"h6 mb-0"},"",-1)),c("span",m8,""+M(u.value),1)]),c("div",b8,[c("div",g8,[c("input",{class:"form-control form-control-sm",type:"file",accept:".txt,.csv",onChange:d},null,32)]),c("div",y8,[ue(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":b[0]||(b[0]=v=>r.value=v)},[...b[4]||(b[4]=[c("option",{value:"main"},"",-1),c("option",{value:"normal"},"",-1)])],512),[[nt,r.value]])]),c("div",v8,[ue(c("input",{class:"form-control form-control-sm","onUpdate:modelValue":b[1]||(b[1]=v=>o.value=v),placeholder:""},null,512),[[ke,o.value]])]),c("div",w8,[c("button",{class:"btn btn-primary btn-sm",onClick:h,disabled:!s.value||l.value},M(l.value?"...":""),9,x8)])]),c("div",$8,[c("div",k8,[c("div",C8,[ue(c("input",{type:"checkbox",class:"form-check-input",id:"createBatchCheck","onUpdate:modelValue":b[2]||(b[2]=v=>i.value=v)},null,512),[[gs,i.value]]),b[5]||(b[5]=c("label",{class:"form-check-label small",for:"createBatchCheck"},"  ",-1))])])]),b[6]||(b[6]=c("div",{class:"small text-muted mt-2"},"  .txt  .csv 64CSV ",-1)),a.value?(I(),R("div",T8,"  "+M(a.value.added)+" "+M(a.value.duplicates)+M(a.value.invalid!==void 0?` ${a.value.invalid}`:"")+" ",1)):pe("",!0),l.value?(I(),R("div",_8,"...")):pe("",!0)]))}}),P8={class:"wallet-batch-panel"},A8={class:"mb-3"},E8={class:"d-flex justify-content-between align-items-center mb-2"},B8={class:"badge bg-secondary"},I8={class:"row g-2 align-items-end"},N8={class:"col-auto"},R8={class:"col-auto"},O8={class:"col"},M8={class:"col-auto d-flex gap-1"},L8=["disabled"],F8={key:0},U8={key:1},D8={key:0,class:"batch-list"},z8={class:"card-body py-2 px-3"},W8={class:"d-flex justify-content-between align-items-center mb-2"},j8={class:"batch-info"},H8={class:"fw-bold"},V8={class:"badge bg-info ms-1"},G8={class:"text-muted small ms-2"},q8={key:0},K8={key:0,class:"badge bg-warning text-dark me-1"},Z8={key:1,class:"badge bg-success"},Y8={class:"d-flex flex-wrap gap-1"},J8=["onClick"],Q8=["onClick"],X8=["onClick"],e$=["onClick","disabled"],t$={key:0},n$={key:1,class:"bi bi-wallet2 me-1"},s$=["onClick"],r$=["onClick"],o$={key:0,class:"mt-2 pt-2 border-top"},i$={class:"d-flex justify-content-between align-items-center mb-2"},a$=["onClick"],l$={class:"wallet-list-scroll"},c$={class:"table table-sm table-striped mb-0"},u$={class:"text-muted"},d$={class:"font-monospace small"},f$={key:1,class:"text-center text-muted py-3"},p$={class:"modal-dialog modal-lg"},h$={class:"modal-content"},m$={class:"modal-header bg-warning"},b$={class:"modal-title"},g$={class:"modal-body"},y$={class:"table-responsive",style:{"max-height":"400px","overflow-y":"auto"}},v$={class:"table table-sm table-striped"},w$={class:"text-muted"},x$={class:"font-monospace small"},$$={class:"font-monospace small text-danger"},k$={class:"modal-footer"},C$={key:3,class:"modal-backdrop show"},T$={class:"modal-dialog modal-lg"},_$={class:"modal-content"},S$={class:"modal-header bg-success text-white"},P$={class:"modal-body"},A$={class:"mb-3"},E$=["value"],B$={class:"mb-3"},I$={key:0},N$={class:"border rounded p-2",style:{"max-height":"300px","overflow-y":"auto"}},R$=["id","value"],O$=["for"],M$={class:"font-monospace small"},L$={class:"badge bg-secondary"},F$={class:"text-muted small mt-2"},U$={key:1,class:"alert alert-warning small mb-0"},D$={key:2,class:"alert alert-info small mb-0"},z$={class:"modal-footer"},W$=["disabled"],j$={key:0},H$={key:1},V$={key:5,class:"modal-backdrop show"},G$=ot({__name:"WalletBatchPanel",setup(e){const t=pn(),n=Zt(),{walletBatches:s,targetToken:r}=mt(t),{currentGovernanceToken:o}=mt(n),i=ee(void 0),a=ee(""),l=ee("normal"),u=ee(!1),d=ee(null),f=ee(null),p=ee(!1),h=ee(null),g=ee(!1),b=ee(""),v=ee("normal"),$=ee([]),x=ee(!1),y=de(()=>{if(!b.value)return[];const _=s.value.find(k=>k.id===b.value);return(_==null?void 0:_.wallets)||[]});async function m(){if(!i.value||i.value<1){alert("");return}u.value=!0;try{await t.generateWalletBatch(i.value,a.value,l.value),alert(` ${i.value} ${l.value==="main"?"":""}`),a.value=""}catch(_){alert(_.message||"")}finally{u.value=!1}}function w(_){d.value=d.value===_?null:_}function P(_){const k=prompt("",_.remark);k!==null&&k!==_.remark&&t.updateBatchRemark(_.id,k)}function B(_){h.value=_,p.value=!0}async function E(_){var k;f.value=_.id;try{const H=await t.refreshBatchBalances(_.id);if(H){const he=L(H.totalNativeBalance),V=H.totalTokenBalance?L(H.totalTokenBalance):null;alert(`

${o.value} : ${he}${V?`
${((k=r.value)==null?void 0:k.symbol)||""} : ${V}`:""}

: ${_.wallets.length} `)}}catch(H){alert(H.message||"")}finally{f.value=null}}function T(_){t.exportBatchToFile(_)}function C(_){confirm(` "${_.remark}" 

`)&&t.deleteBatch(_.id)}function S(_){const k=_.wallets.map(H=>H.address).join(`
`);navigator.clipboard.writeText(k).then(()=>{alert("")})}function O(){if(!h.value)return;const _=h.value.wallets.map(k=>k.privateKey).join(`
`);navigator.clipboard.writeText(_).then(()=>{alert("")})}function U(_){return new Date(_).toLocaleString()}function D(_){return`${_.slice(0,10)}...${_.slice(-8)}`}function L(_){if(!_)return"0";const k=parseFloat(_);return isNaN(k)?"0":k>=1e3?k.toFixed(2):k>=1?k.toFixed(4):k>=1e-4?k.toFixed(6):k.toExponential(2)}function F(){g.value=!0,b.value="",$.value=[],v.value="normal"}function W(){$.value=y.value.map(_=>_.address)}function z(){$.value=y.value.map(_=>_.address)}function Q(){$.value=[]}async function Y(){if($.value.length===0){alert("");return}const _=s.value.find(k=>k.id===b.value);if(!_){alert("");return}x.value=!0;try{const H=_.wallets.filter(V=>$.value.includes(V.address)).map(V=>V.privateKey),he=t.importWalletsFromPrivateKeys(H,{walletType:v.value,remark:_.remark});he.added>0?(await t.refreshAllBalances(),alert(` ${he.added} ${he.duplicates>0?`${he.duplicates} `:""}`)):he.duplicates>0&&alert(`${he.duplicates} `),g.value=!1}catch(k){alert(k.message||"")}finally{x.value=!1}}return(_,k)=>{var H,he;return I(),R("div",P8,[c("div",A8,[c("div",E8,[k[12]||(k[12]=c("h6",{class:"mb-0"},[c("i",{class:"bi bi-collection me-1"}),K("")],-1)),c("span",B8,M(Z(s).length)+" ",1)]),c("div",I8,[c("div",N8,[k[13]||(k[13]=c("label",{class:"form-label small mb-1"},"",-1)),ue(c("input",{type:"number",class:"form-control form-control-sm","onUpdate:modelValue":k[0]||(k[0]=V=>i.value=V),min:"1",max:"1000",placeholder:"",style:{width:"80px"}},null,512),[[ke,i.value,void 0,{number:!0}]])]),c("div",R8,[k[15]||(k[15]=c("label",{class:"form-label small mb-1"},"",-1)),ue(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":k[1]||(k[1]=V=>l.value=V)},[...k[14]||(k[14]=[c("option",{value:"main"},"",-1),c("option",{value:"normal"},"",-1)])],512),[[nt,l.value]])]),c("div",O8,[k[16]||(k[16]=c("label",{class:"form-label small mb-1"},"",-1)),ue(c("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":k[2]||(k[2]=V=>a.value=V),placeholder:""},null,512),[[ke,a.value]])]),c("div",M8,[c("button",{class:"btn btn-primary btn-sm",onClick:m,disabled:u.value||!i.value||i.value<1},[u.value?(I(),R("span",F8,[...k[17]||(k[17]=[c("span",{class:"spinner-border spinner-border-sm me-1"},null,-1),K("... ",-1)])])):(I(),R("span",U8,[...k[18]||(k[18]=[c("i",{class:"bi bi-plus-circle me-1"},null,-1),K(" ",-1)])]))],8,L8),c("button",{class:"btn btn-outline-success btn-sm",onClick:F},[...k[19]||(k[19]=[c("i",{class:"bi bi-box-arrow-in-down me-1"},null,-1),K(" ",-1)])])])]),k[20]||(k[20]=c("div",{class:"form-text small text-muted mt-1"},"  ",-1))]),Z(s).length>0?(I(),R("div",D8,[(I(!0),R(Se,null,Le(Z(s),V=>(I(),R("div",{key:V.id,class:Ce(["card mb-2 batch-card",{"border-primary":d.value===V.id}])},[c("div",z8,[c("div",W8,[c("div",j8,[c("span",H8,M(V.remark),1),c("span",{class:Ce(["badge ms-2",V.walletType==="main"?"bg-danger":"bg-secondary"])},M(V.walletType==="main"?"":""),3),c("span",V8,M(V.wallets.length)+" ",1),c("span",G8,M(U(V.createdAt)),1)]),V.totalNativeBalance||V.totalTokenBalance?(I(),R("div",q8,[V.totalNativeBalance?(I(),R("span",K8,M(L(V.totalNativeBalance))+" "+M(Z(o)),1)):pe("",!0),V.totalTokenBalance&&Z(r)?(I(),R("span",Z8,M(L(V.totalTokenBalance))+" "+M(Z(r).symbol),1)):pe("",!0)])):pe("",!0)]),c("div",Y8,[c("button",{class:"btn btn-outline-secondary btn-sm",onClick:fe=>P(V),title:""},[...k[21]||(k[21]=[c("i",{class:"bi bi-pencil me-1"},null,-1),K(" ",-1)])],8,J8),c("button",{class:"btn btn-outline-info btn-sm",onClick:fe=>w(V.id),title:""},[...k[22]||(k[22]=[c("i",{class:"bi bi-eye me-1"},null,-1),K(" ",-1)])],8,Q8),c("button",{class:"btn btn-outline-warning btn-sm",onClick:fe=>B(V),title:""},[...k[23]||(k[23]=[c("i",{class:"bi bi-key me-1"},null,-1),K(" ",-1)])],8,X8),c("button",{class:"btn btn-outline-primary btn-sm",onClick:fe=>E(V),disabled:f.value===V.id,title:""},[f.value===V.id?(I(),R("span",t$,[...k[24]||(k[24]=[c("span",{class:"spinner-border spinner-border-sm me-1"},null,-1)])])):(I(),R("i",n$)),k[25]||(k[25]=K(" ",-1))],8,e$),c("button",{class:"btn btn-outline-success btn-sm",onClick:fe=>T(V),title:""},[...k[26]||(k[26]=[c("i",{class:"bi bi-download me-1"},null,-1),K(" ",-1)])],8,s$),c("button",{class:"btn btn-outline-danger btn-sm",onClick:fe=>C(V),title:""},[...k[27]||(k[27]=[c("i",{class:"bi bi-trash me-1"},null,-1),K(" ",-1)])],8,r$)]),d.value===V.id?(I(),R("div",o$,[c("div",i$,[k[29]||(k[29]=c("span",{class:"small text-muted"},"",-1)),c("button",{class:"btn btn-outline-primary btn-sm",onClick:fe=>S(V)},[...k[28]||(k[28]=[c("i",{class:"bi bi-clipboard me-1"},null,-1),K(" ",-1)])],8,a$)]),c("div",l$,[c("table",c$,[k[30]||(k[30]=c("thead",{class:"table-light"},[c("tr",null,[c("th",{style:{width:"40px"}},"#"),c("th",null,"")])],-1)),c("tbody",null,[(I(!0),R(Se,null,Le(V.wallets,(fe,xe)=>(I(),R("tr",{key:fe.address},[c("td",u$,M(xe+1),1),c("td",d$,M(fe.address),1)]))),128))])])])])):pe("",!0)])],2))),128))])):(I(),R("div",f$,[...k[31]||(k[31]=[c("i",{class:"bi bi-inbox fs-4"},null,-1),c("p",{class:"mb-0 mt-1 small"},"",-1)])])),p.value?(I(),R("div",{key:2,class:"modal show d-block",tabindex:"-1",onClick:k[5]||(k[5]=$n(V=>p.value=!1,["self"]))},[c("div",p$,[c("div",h$,[c("div",m$,[c("h5",b$,[k[32]||(k[32]=c("i",{class:"bi bi-exclamation-triangle me-2"},null,-1)),K(" - "+M((H=h.value)==null?void 0:H.remark),1)]),c("button",{type:"button",class:"btn-close",onClick:k[3]||(k[3]=V=>p.value=!1)})]),c("div",g$,[k[34]||(k[34]=c("div",{class:"alert alert-danger small"},[c("i",{class:"bi bi-shield-exclamation me-1"}),c("strong",null,""),K(" ")],-1)),c("div",y$,[c("table",v$,[k[33]||(k[33]=c("thead",{class:"table-light sticky-top"},[c("tr",null,[c("th",{style:{width:"40px"}},"#"),c("th",null,""),c("th",null,"")])],-1)),c("tbody",null,[(I(!0),R(Se,null,Le((he=h.value)==null?void 0:he.wallets,(V,fe)=>(I(),R("tr",{key:V.address},[c("td",w$,M(fe+1),1),c("td",x$,M(D(V.address)),1),c("td",$$,M(V.privateKey),1)]))),128))])])])]),c("div",k$,[c("button",{class:"btn btn-outline-primary btn-sm",onClick:O},[...k[35]||(k[35]=[c("i",{class:"bi bi-clipboard me-1"},null,-1),K(" ",-1)])]),c("button",{type:"button",class:"btn btn-secondary btn-sm",onClick:k[4]||(k[4]=V=>p.value=!1)},"")])])])])):pe("",!0),p.value?(I(),R("div",C$)):pe("",!0),g.value?(I(),R("div",{key:4,class:"modal show d-block",tabindex:"-1",onClick:k[11]||(k[11]=$n(V=>g.value=!1,["self"]))},[c("div",T$,[c("div",_$,[c("div",S$,[k[36]||(k[36]=c("h5",{class:"modal-title"},[c("i",{class:"bi bi-box-arrow-in-down me-2"}),K("")],-1)),c("button",{type:"button",class:"btn-close btn-close-white",onClick:k[6]||(k[6]=V=>g.value=!1)})]),c("div",P$,[c("div",A$,[k[38]||(k[38]=c("label",{class:"form-label"},"",-1)),ue(c("select",{class:"form-select","onUpdate:modelValue":k[7]||(k[7]=V=>b.value=V),onChange:W},[k[37]||(k[37]=c("option",{value:""},"--  --",-1)),(I(!0),R(Se,null,Le(Z(s),V=>(I(),R("option",{key:V.id,value:V.id},M(V.remark)+" ("+M(V.wallets.length)+" ) ",9,E$))),128))],544),[[nt,b.value]])]),c("div",B$,[k[40]||(k[40]=c("label",{class:"form-label"},"",-1)),ue(c("select",{class:"form-select","onUpdate:modelValue":k[8]||(k[8]=V=>v.value=V)},[...k[39]||(k[39]=[c("option",{value:"normal"},"",-1),c("option",{value:"main"},"",-1)])],512),[[nt,v.value]])]),y.value.length>0?(I(),R("div",I$,[c("div",{class:"d-flex justify-content-between align-items-center mb-2"},[k[43]||(k[43]=c("span",{class:"small fw-bold"},"",-1)),c("div",null,[c("button",{class:"btn btn-outline-primary btn-sm me-1",onClick:z},[...k[41]||(k[41]=[c("i",{class:"bi bi-check-all me-1"},null,-1),K(" ",-1)])]),c("button",{class:"btn btn-outline-secondary btn-sm",onClick:Q},[...k[42]||(k[42]=[c("i",{class:"bi bi-x-lg me-1"},null,-1),K(" ",-1)])])])]),c("div",N$,[(I(!0),R(Se,null,Le(y.value,(V,fe)=>(I(),R("div",{key:V.address,class:Ce(["form-check py-1 border-bottom",{"border-bottom-0":fe===y.value.length-1}])},[ue(c("input",{type:"checkbox",class:"form-check-input",id:"wallet-"+fe,value:V.address,"onUpdate:modelValue":k[9]||(k[9]=xe=>$.value=xe)},null,8,R$),[[gs,$.value]]),c("label",{class:"form-check-label w-100 d-flex justify-content-between",for:"wallet-"+fe},[c("span",M$,M(V.address),1),c("span",L$,M(fe+1),1)],8,O$)],2))),128))]),c("div",F$,[k[44]||(k[44]=K("  ",-1)),c("strong",null,M($.value.length),1),K(" / "+M(y.value.length)+"  ",1)])])):b.value?(I(),R("div",U$,[...k[45]||(k[45]=[c("i",{class:"bi bi-exclamation-triangle me-1"},null,-1),K(" ",-1)])])):(I(),R("div",D$,[...k[46]||(k[46]=[c("i",{class:"bi bi-info-circle me-1"},null,-1),K(" ",-1)])]))]),c("div",z$,[c("button",{type:"button",class:"btn btn-secondary",onClick:k[10]||(k[10]=V=>g.value=!1)},""),c("button",{type:"button",class:"btn btn-success",onClick:Y,disabled:$.value.length===0||x.value},[x.value?(I(),R("span",j$,[...k[47]||(k[47]=[c("span",{class:"spinner-border spinner-border-sm me-1"},null,-1),K("... ",-1)])])):(I(),R("span",H$,[k[48]||(k[48]=c("i",{class:"bi bi-check-lg me-1"},null,-1)),K(" ("+M($.value.length)+" ) ",1)]))],8,W$)])])])])):pe("",!0),g.value?(I(),R("div",V$)):pe("",!0)])}}}),q$=At(G$,[["__scopeId","data-v-ce54910a"]]),K$={class:"wallet-table-container"},Z$={class:"d-flex justify-content-between align-items-center mb-2 flex-wrap gap-2"},Y$={class:"d-flex align-items-center gap-2"},J$={key:0,class:"badge bg-primary"},Q$={key:1,class:"badge bg-warning text-dark"},X$={key:2,class:"badge bg-success"},e3={class:"d-flex gap-2 flex-wrap"},t3=["disabled"],n3={class:"input-group input-group-sm",style:{width:"auto"}},s3=["disabled"],r3={class:"d-flex justify-content-between align-items-center mb-2 flex-wrap gap-2"},o3={class:"d-flex gap-2 flex-wrap"},i3=["disabled"],a3=["disabled"],l3=["disabled"],c3=["disabled"],u3={class:"d-flex gap-2 flex-wrap"},d3=["disabled"],f3={class:"modal fade",id:"importBatchModal",tabindex:"-1","aria-hidden":"true"},p3={class:"modal-dialog"},h3={class:"modal-content"},m3={class:"modal-body"},b3={class:"mb-3"},g3=["value"],y3={class:"mb-3"},v3={key:0,class:"alert alert-warning small mb-0"},w3={class:"modal-footer"},x3=["disabled"],$3={key:0},k3={key:1},C3={class:"table-responsive"},T3={class:"table table-sm align-middle table-hover"},_3={class:"table-light"},S3={style:{width:"40px"}},P3=["checked","indeterminate"],A3=["checked","onChange"],E3={class:"small text-muted"},B3={class:"text-break",style:{"min-width":"220px"}},I3=["title"],N3={class:"text-break small",style:{"min-width":"140px"}},R3=["title"],O3={key:0},M3={key:1,class:"text-muted"},L3={key:0},F3={key:1,class:"text-muted"},U3={key:0,class:"text-center text-muted py-4"},D3=ot({__name:"WalletTable",setup(e){const t=pn(),n=Zt(),{localWallets:s,selectedWalletAddresses:r,selectedCount:o,isAllSelected:i,targetToken:a,walletBatches:l}=mt(t),{currentGovernanceToken:u}=mt(n),d=ee(!1),f=ee(""),p=ee(""),h=ee("normal"),g=ee(!1);let b=null;const v=de(()=>{const U=s.value.filter(F=>r.value.includes(F.address));let D=0,L=0;for(const F of U)F.nativeBalance&&F.nativeBalance!=="-"&&F.nativeBalance!=="Error"&&(D+=parseFloat(F.nativeBalance)||0),F.tokenBalance&&F.tokenBalance!=="-"&&F.tokenBalance!=="Error"&&(L+=parseFloat(F.tokenBalance)||0);return{totalNative:D.toFixed(6),totalToken:L.toFixed(6)}});function $(U){return r.value.includes(U)}function x(U){t.toggleWalletSelection(U)}function y(){i.value?t.deselectAll():t.selectAll()}function m(){t.invertSelection()}function w(){if(!f.value)return;const U=f.value.match(/^(\d+)\s*[-~]\s*(\d+)$/);if(U){const D=parseInt(U[1]),L=parseInt(U[2]);t.selectRangeOnly(D,L),f.value=""}else alert(' "1-20"  "1~20" ')}function P(){var z;if(o.value===0)return;const U=t.selectedWallets,D=((z=U[0])==null?void 0:z.remark)||"",F=U.every(Q=>Q.remark===D)?D:"",W=prompt(` ${o.value} 

`,F);W!==null&&(t.updateSelectedWalletsRemark(W),alert(` ${o.value} `))}function B(){o.value!==0&&confirm(` ${o.value} `)&&t.removeSelectedWallets()}async function E(){if(!d.value){d.value=!0;try{await t.refreshAllBalances(),a.value&&await t.refreshTargetTokenBalance()}finally{d.value=!1}}}function T(){confirm("")&&t.clearLocalWallets()}function C(){const U=document.getElementById("importBatchModal");if(U){if(!b){const D=window.bootstrap;b=new D.Modal(U)}p.value="",h.value="normal",b.show()}}async function S(){if(!p.value){alert("");return}g.value=!0;try{const U=t.importWalletsFromBatch(p.value,h.value);U.added>0?(await t.refreshAllBalances(),b&&b.hide(),alert(` ${U.added} ${U.duplicates>0?`${U.duplicates} `:""}`)):U.duplicates>0&&alert(`${U.duplicates} `)}catch(U){alert(U.message||"")}finally{g.value=!1}}async function O(){if(!s.value||s.value.length===0){alert("");return}try{await t.exportPrivateKeys()}catch(U){alert(": "+U.message)}}return(U,D)=>(I(),R("div",K$,[c("div",Z$,[c("div",Y$,[D[3]||(D[3]=c("h6",{class:"mb-0"},"",-1)),Z(o)>0?(I(),R("span",J$,"  "+M(Z(o))+" / "+M(Z(s).length),1)):pe("",!0),Z(o)>0?(I(),R("span",Q$,M(v.value.totalNative)+" "+M(Z(u)),1)):pe("",!0),Z(o)>0&&Z(a)?(I(),R("span",X$,M(v.value.totalToken)+" "+M(Z(a).symbol),1)):pe("",!0)]),c("div",e3,[c("button",{class:"btn btn-outline-secondary btn-sm",onClick:y},[c("i",{class:Ce(["bi",Z(i)?"bi-check-square":"bi-square"])},null,2),K(" "+M(Z(i)?"":""),1)]),c("button",{class:"btn btn-outline-secondary btn-sm",onClick:m,disabled:Z(s).length===0},[...D[4]||(D[4]=[c("i",{class:"bi bi-arrow-repeat"},null,-1),K("  ",-1)])],8,t3),c("div",n3,[ue(c("input",{type:"text",class:"form-control",placeholder:" : 1-20","onUpdate:modelValue":D[0]||(D[0]=L=>f.value=L),style:{width:"90px"},onKeyup:v1(w,["enter"])},null,544),[[ke,f.value]]),c("button",{class:"btn btn-outline-secondary",onClick:w,disabled:!f.value},"  ",8,s3)])])]),c("div",r3,[c("div",o3,[c("button",{class:"btn btn-outline-secondary btn-sm",onClick:C,disabled:Z(l).length===0},[...D[5]||(D[5]=[c("i",{class:"bi bi-box-arrow-in-down me-1"},null,-1),K(" ",-1)])],8,i3),c("button",{class:"btn btn-outline-primary btn-sm",onClick:E,disabled:d.value},[D[6]||(D[6]=c("i",{class:"bi bi-arrow-clockwise me-1"},null,-1)),K(M(d.value?"":""),1)],8,a3),c("button",{class:"btn btn-outline-secondary btn-sm",onClick:P,disabled:Z(o)===0},[D[7]||(D[7]=c("i",{class:"bi bi-pencil me-1"},null,-1)),K(" ("+M(Z(o))+") ",1)],8,l3),c("button",{class:"btn btn-outline-danger btn-sm",onClick:B,disabled:Z(o)===0},[D[8]||(D[8]=c("i",{class:"bi bi-trash me-1"},null,-1)),K(" ("+M(Z(o))+") ",1)],8,c3),c("button",{class:"btn btn-outline-danger btn-sm",onClick:T},[...D[9]||(D[9]=[c("i",{class:"bi bi-trash-fill me-1"},null,-1),K(" ",-1)])])]),c("div",u3,[c("button",{class:"btn btn-outline-info btn-sm",onClick:O,disabled:!Z(s)||Z(s).length===0},[...D[10]||(D[10]=[c("i",{class:"bi bi-download me-1"},null,-1),K(" ",-1)])],8,d3)])]),c("div",f3,[c("div",p3,[c("div",h3,[D[18]||(D[18]=c("div",{class:"modal-header"},[c("h5",{class:"modal-title"},[c("i",{class:"bi bi-box-arrow-in-down me-2"}),K("")]),c("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),c("div",m3,[c("div",b3,[D[12]||(D[12]=c("label",{class:"form-label"},"",-1)),ue(c("select",{class:"form-select","onUpdate:modelValue":D[1]||(D[1]=L=>p.value=L)},[D[11]||(D[11]=c("option",{value:""},"--  --",-1)),(I(!0),R(Se,null,Le(Z(l),L=>(I(),R("option",{key:L.id,value:L.id},M(L.remark)+" ("+M(L.wallets.length)+" ) ",9,g3))),128))],512),[[nt,p.value]])]),c("div",y3,[D[14]||(D[14]=c("label",{class:"form-label"},"",-1)),ue(c("select",{class:"form-select","onUpdate:modelValue":D[2]||(D[2]=L=>h.value=L)},[...D[13]||(D[13]=[c("option",{value:"normal"},"",-1),c("option",{value:"main"},"",-1)])],512),[[nt,h.value]])]),Z(l).length===0?(I(),R("div",v3,[...D[15]||(D[15]=[c("i",{class:"bi bi-exclamation-triangle me-1"},null,-1),K(' "" ',-1)])])):pe("",!0)]),c("div",w3,[D[17]||(D[17]=c("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"",-1)),c("button",{type:"button",class:"btn btn-primary",onClick:S,disabled:!p.value||g.value},[g.value?(I(),R("span",$3,[...D[16]||(D[16]=[c("span",{class:"spinner-border spinner-border-sm me-1"},null,-1),K("... ",-1)])])):(I(),R("span",k3,""))],8,x3)])])])]),c("div",C3,[c("table",T3,[c("thead",_3,[c("tr",null,[c("th",S3,[c("input",{type:"checkbox",class:"form-check-input",checked:Z(i)&&Z(s).length>0,indeterminate:Z(o)>0&&!Z(i),onChange:y},null,40,P3)]),D[19]||(D[19]=c("th",{style:{width:"50px"}},"#",-1)),D[20]||(D[20]=c("th",null,"",-1)),D[21]||(D[21]=c("th",null,"",-1)),D[22]||(D[22]=c("th",null,"",-1)),D[23]||(D[23]=c("th",null,"",-1)),D[24]||(D[24]=c("th",null,"",-1)),c("th",null,M(Z(u))+" ",1),c("th",null,M(Z(a)?Z(a).symbol:"")+" ",1)])]),c("tbody",null,[(I(!0),R(Se,null,Le(Z(s),(L,F)=>(I(),R("tr",{key:L.address,class:Ce({"table-primary":$(L.address)})},[c("td",null,[c("input",{type:"checkbox",class:"form-check-input",checked:$(L.address),onChange:W=>x(L.address)},null,40,A3)]),c("td",null,M(F+1),1),c("td",null,[c("span",{class:Ce(["badge",L.walletType==="main"?"bg-primary":"bg-secondary"])},M(L.walletType==="main"?"":""),3)]),c("td",null,[c("span",null,M(L.remark||"-"),1)]),c("td",E3,M(L.createdAt?new Date(L.createdAt).toLocaleString():"-"),1),c("td",B3,[c("span",{class:"font-monospace",title:L.address},M(L.address),9,I3)]),c("td",N3,[c("span",{class:"font-monospace text-muted",title:L.encrypted},M(L.encrypted?L.encrypted.slice(0,14)+"...":"-"),9,R3)]),c("td",null,[L.nativeBalance!==void 0?(I(),R("span",O3,M(L.nativeBalance),1)):(I(),R("span",M3,"-"))]),c("td",null,[Z(a)&&L.tokenBalance!==void 0?(I(),R("span",L3,M(L.tokenBalance),1)):(I(),R("span",F3,"-"))])],2))),128))])]),Z(s).length===0?(I(),R("div",U3,[...D[25]||(D[25]=[c("i",{class:"bi bi-wallet2 fs-1"},null,-1),c("p",{class:"mt-2"},"",-1)])])):pe("",!0)])]))}}),z3=At(D3,[["__scopeId","data-v-b59a17db"]]);function W3(e){switch(e){case 97:return xs;case 56:return Os;default:return Os}}const Dd=new Map;async function j3(e,t){const n=t.toLowerCase(),s=await e.getTransactionCount({address:t,blockTag:"pending"}),r=Dd.get(n)||0,o=Math.max(s,r);return Dd.set(n,o+1),o}class H3{constructor(t,n,s){Ae(this,"chainId");Ae(this,"rpcUrl");Ae(this,"routerAddress");Ae(this,"publicClient");Ae(this,"chainConfig");this.chainId=t,this.rpcUrl=n,this.routerAddress=s,this.chainConfig=W3(t),this.publicClient=sn({chain:this.chainConfig,transport:He(n)})}getWBNBAddress(){return Vl[this.chainId]||Vl[56]}getUSDTAddress(){return zh[this.chainId]||null}getUSDCAddress(){return Ex[this.chainId]||null}getSpendTokenAddress(t){return t==="USDT"?this.getUSDTAddress():t==="USDC"?this.getUSDCAddress():null}async getLatestNonce(t){try{return await j3(this.publicClient,t)}catch(n){return console.warn(" nonce :",n),0}}async checkAndApprove(t,n,s,r,o){try{const i=await this.publicClient.readContract({address:n,abi:De,functionName:"allowance",args:[s,r]});if(console.log(`: ${Te(i)}, : ${Te(o)}`),i<o){console.log("...");const a=await this.getLatestNonce(s),l=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),u=await t.writeContract({address:n,abi:De,functionName:"approve",args:[r,l],nonce:a});console.log(`: ${u}, nonce: ${a}`),await this.publicClient.waitForTransactionReceipt({hash:u}),console.log("")}return!0}catch(i){throw console.error(":",i),new Error(`: ${i.message}`)}}async getTokenDecimals(t){try{return await this.publicClient.readContract({address:t,abi:De,functionName:"decimals"})}catch{return 18}}async getTokenBalance(t,n){return await this.publicClient.readContract({address:t,abi:De,functionName:"balanceOf",args:[n]})}async getNativeBalance(t){return await this.publicClient.getBalance({address:t})}calculateMinAmountOut(t,n){const s=BigInt(Math.floor((100-n)*100));return t*s/BigInt(1e4)}async buyWithNative(t){try{const{privateKey:n,walletAddress:s,tokenAddress:r,amount:o,slippage:i,gasPrice:a,gasLimit:l,deadline:u=1200,balancePercent:d=100}=t,f=lt(n),p=Ht({account:f,chain:this.chainConfig,transport:He(this.rpcUrl)}),g=[this.getWBNBAddress(),r],b=BigInt(Math.floor(Date.now()/1e3)+u),v=await this.getTokenDecimals(r),$=await this.getNativeBalance(s);let x;if(d<100){const C=it("0.005"),S=$>C?$-C:BigInt(0);x=S*BigInt(d)/BigInt(100),console.log(` ${d}% : ${Te(S)} BNB, : ${Te(x)} BNB`)}else{const C=o.toFixed(18).replace(/\.?0+$/,"");x=it(C),console.log(` ${C} BNB  ${r}`)}if($<x)throw new Error(`BNB: ${Te($)}, : ${Te(x)}`);if(x===BigInt(0))throw new Error("0");const y=await this.publicClient.readContract({address:this.routerAddress,abi:nn,functionName:"getAmountsOut",args:[x,g]}),m=y[y.length-1],w=this.calculateMinAmountOut(m,i);console.log(`: ${we(m,v)}, : ${we(w,v)}`);const P={address:this.routerAddress,abi:nn,functionName:"swapExactETHForTokensSupportingFeeOnTransferTokens",args:[w,g,s,b],value:x},B=await this.getLatestNonce(s);a&&(P.gasPrice=_t(a.toString(),9)),l&&(P.gas=BigInt(l)),P.nonce=B;const E=await p.writeContract(P);return console.log(`: ${E}`),(await this.publicClient.waitForTransactionReceipt({hash:E})).status==="success"?{success:!0,txHash:E,amountIn:o.toString(),amountOut:we(m,v)}:{success:!1,txHash:E,error:""}}catch(n){return console.error(":",n),{success:!1,error:Qs(n)}}}async buyWithToken(t){try{const{privateKey:n,walletAddress:s,tokenAddress:r,spendToken:o,amount:i,slippage:a,gasPrice:l,gasLimit:u,deadline:d=1200,balancePercent:f=100}=t,p=this.getSpendTokenAddress(o);if(!p)return{success:!1,error:`: ${o}`};const h=lt(n),g=Ht({account:h,chain:this.chainConfig,transport:He(this.rpcUrl)}),b=await this.getTokenDecimals(p),v=await this.getTokenDecimals(r),$=BigInt(Math.floor(Date.now()/1e3)+d),x=await this.getTokenBalance(p,s);let y;if(f<100)y=x*BigInt(f)/BigInt(100),console.log(` ${f}% : ${we(x,b)} ${o}, : ${we(y,b)} ${o}`);else{const O=i.toFixed(18).replace(/\.?0+$/,"");y=_t(O,b),console.log(` ${O} ${o}  ${r}`)}if(x<y)return{success:!1,error:`${o} : ${we(x,b)}, : ${we(y,b)}`};if(y===BigInt(0))return{success:!1,error:"0"};const m=[p,r];await this.checkAndApprove(g,p,s,this.routerAddress,y);const w=await this.publicClient.readContract({address:this.routerAddress,abi:nn,functionName:"getAmountsOut",args:[y,m]}),P=w[w.length-1],B=this.calculateMinAmountOut(P,a);console.log(`: ${we(P,v)}, : ${we(B,v)}`);const E={address:this.routerAddress,abi:nn,functionName:"swapExactTokensForTokensSupportingFeeOnTransferTokens",args:[y,B,m,s,$]},T=await this.getLatestNonce(s);l&&(E.gasPrice=_t(l.toString(),9)),u&&(E.gas=BigInt(u)),E.nonce=T;const C=await g.writeContract(E);return console.log(`: ${C}, nonce: ${T}`),(await this.publicClient.waitForTransactionReceipt({hash:C})).status==="success"?{success:!0,txHash:C,amountIn:i.toString(),amountOut:we(P,v)}:{success:!1,txHash:C,error:""}}catch(n){return console.error(":",n),{success:!1,error:Qs(n)}}}async sellForToken(t){try{const{privateKey:n,walletAddress:s,tokenAddress:r,spendToken:o,amount:i,amountType:a,slippage:l,gasPrice:u,gasLimit:d,deadline:f=1200,balancePercent:p=100}=t,h=this.getSpendTokenAddress(o);if(!h)return{success:!1,error:`: ${o}`};const g=lt(n),b=Ht({account:g,chain:this.chainConfig,transport:He(this.rpcUrl)}),v=await this.getTokenDecimals(r),$=await this.getTokenBalance(r,s);let x;if(p>0&&p<=100)x=$*BigInt(p)/BigInt(100),console.log(` ${p}% : ${we($,v)}, : ${we(x,v)}`);else{const U=i.toFixed(18).replace(/\.?0+$/,"");x=_t(U,v),console.log(` ${r}  ${o}: ${U}`)}if($<x)return{success:!1,error:`: ${we($,v)}, : ${we(x,v)}`};if(x===BigInt(0))return{success:!1,error:"0"};const y=BigInt(Math.floor(Date.now()/1e3)+f),m=[r,h];await this.checkAndApprove(b,r,s,this.routerAddress,x);const w=await this.getTokenDecimals(h),P=await this.publicClient.readContract({address:this.routerAddress,abi:nn,functionName:"getAmountsOut",args:[x,m]}),B=P[P.length-1],E=this.calculateMinAmountOut(B,l);console.log(`: ${we(B,w)} ${o}, : ${we(E,w)} ${o}`);const T={address:this.routerAddress,abi:nn,functionName:"swapExactTokensForTokensSupportingFeeOnTransferTokens",args:[x,E,m,s,y]},C=await this.getLatestNonce(s);u&&(T.gasPrice=_t(u.toString(),9)),d&&(T.gas=BigInt(d)),T.nonce=C;const S=await b.writeContract(T);return console.log(`: ${S}, nonce: ${C}`),(await this.publicClient.waitForTransactionReceipt({hash:S})).status==="success"?{success:!0,txHash:S,amountIn:we(x,v),amountOut:we(B,w)}:{success:!1,txHash:S,error:""}}catch(n){return console.error(":",n),{success:!1,error:Qs(n)}}}async sellForNative(t){try{const{privateKey:n,walletAddress:s,tokenAddress:r,amount:o,slippage:i,gasPrice:a,gasLimit:l,deadline:u=1200,balancePercent:d,targetBnbAmount:f}=t,p=lt(n),h=Ht({account:p,chain:this.chainConfig,transport:He(this.rpcUrl)}),g=this.getWBNBAddress(),b=[r,g],v=BigInt(Math.floor(Date.now()/1e3)+u),$=await this.getTokenDecimals(r),x=await this.getTokenBalance(r,s);let y;if(d&&d>0&&d<=100)y=x*BigInt(d)/BigInt(100),console.log(` ${d}% : ${we(x,$)}, : ${we(y,$)}`);else if(f&&f>0){const S=f.toFixed(18).replace(/\.?0+$/,""),O=it(S);try{y=(await this.publicClient.readContract({address:this.routerAddress,abi:nn,functionName:"getAmountsIn",args:[O,b]}))[0],console.log(` ${S} BNB: ${we(y,$)} Token`)}catch{console.log("getAmountsIn ");const D=await this.publicClient.readContract({address:this.routerAddress,abi:nn,functionName:"getAmountsOut",args:[x,b]}),L=D[D.length-1],F=Number(O)/Number(L);y=BigInt(Math.floor(Number(x)*Math.min(F*1.05,1))),console.log(` ${we(y,$)} Token`)}y>x&&(console.log(""),y=x)}else{const S=o.toFixed(18).replace(/\.?0+$/,"");y=_t(S,$),console.log(` ${r}: ${S}`)}if(x<y)throw new Error(`: ${we(x,$)}, : ${we(y,$)}`);if(y===BigInt(0))throw new Error("0");console.log(`: ${we(y,$)}`),await this.checkAndApprove(h,r,s,this.routerAddress,y);const m=await this.publicClient.readContract({address:this.routerAddress,abi:nn,functionName:"getAmountsOut",args:[y,b]}),w=m[m.length-1],P=this.calculateMinAmountOut(w,i);console.log(`: ${Te(w)} BNB, : ${Te(P)} BNB`);const B={address:this.routerAddress,abi:nn,functionName:"swapExactTokensForETHSupportingFeeOnTransferTokens",args:[y,P,b,s,v]},E=await this.getLatestNonce(s);a&&(B.gasPrice=_t(a.toString(),9)),l&&(B.gas=BigInt(l)),B.nonce=E;const T=await h.writeContract(B);return console.log(`: ${T}, nonce: ${E}`),(await this.publicClient.waitForTransactionReceipt({hash:T})).status==="success"?{success:!0,txHash:T,amountIn:we(y,$),amountOut:Te(w)}:{success:!1,txHash:T,error:""}}catch(n){return console.error(":",n),{success:!1,error:Qs(n)}}}async executeTrade(t){const{mode:n,spendToken:s}=t;return n==="pump"?s==="BNB"||s==="tBNB"?this.buyWithNative(t):s==="USDT"||s==="USDC"?this.buyWithToken(t):{success:!1,error:`: ${s}`}:s==="BNB"||s==="tBNB"?this.sellForNative(t):s==="USDT"||s==="USDC"?this.sellForToken(t):{success:!1,error:`: ${s}`}}}function jh(e,t,n){return new H3(e,t,n)}const V3={class:"card mb-3 border-warning"},G3={class:"card-header bg-warning text-dark d-flex justify-content-between align-items-center"},q3={class:"card-body"},K3={class:"d-flex align-items-center"},Z3={key:0},Y3={class:"text-muted"},J3={key:1},Q3={class:"mb-3"},X3={class:"btn-group w-100",role:"group"},ek={key:0,class:"mb-3"},tk={class:"input-group"},nk={key:1,class:"mb-3"},sk={class:"row g-2"},rk={class:"col"},ok={class:"input-group"},ik={class:"col"},ak={class:"input-group"},lk={class:"mb-3"},ck={class:"row g-2"},uk={class:"col"},dk={class:"input-group input-group-sm"},fk={class:"col"},pk={class:"input-group input-group-sm"},hk={class:"form-text"},mk={class:"alert alert-info mb-3"},bk={class:"d-flex justify-content-between align-items-center"},gk=["disabled"],yk={class:"d-grid gap-2"},vk=["disabled"],wk={key:0},xk={key:1},$k={key:2,class:"mt-3"},kk={class:"d-flex justify-content-between align-items-center mb-2"},Ck={class:"small mb-0"},Tk={class:"badge bg-secondary ms-1"},_k={class:"badge bg-success ms-1"},Sk={key:0,class:"badge bg-danger ms-1"},Pk={class:"results-list border rounded",style:{"max-height":"200px","overflow-y":"auto"}},Ak={class:"table table-sm table-striped mb-0"},Ek={class:"small text-muted"},Bk={class:"small"},Ik={class:"text-primary"},Nk={class:"small"},Rk={class:"badge bg-info"},Ok={class:"small"},Mk=["href"],Lk=["title"],Fk={key:2,class:"text-muted"},Uk=ot({__name:"BatchSellPanel",emits:["close"],setup(e,{emit:t}){const n=pn(),s=yi(),r=Zt(),{targetToken:o,selectedCount:i,selectedWalletAddresses:a}=mt(n),l=ee("fixed"),u=ee(100),d=ee(10),f=ee(100),p=ee(!1),h=ee(!1),g=ee([]),b=ee(10),v=ee(500);de(()=>{if(i.value===0)return"0";const T=(Math.ceil(i.value/b.value)-1)*v.value,C=Math.ceil(T/1e3);if(C<60)return`${C}`;const S=Math.floor(C/60),O=C%60;return`${S}${O}`});const $=de(()=>!o.value||i.value===0?!1:l.value==="fixed"?u.value>0&&u.value<=100:d.value>0&&f.value>0&&d.value<f.value&&f.value<=100);async function x(){if(o.value){h.value=!0;try{await n.refreshTargetTokenBalance()}finally{h.value=!1}}}function y(E){const T=n.localWallets.find(C=>C.address.toLowerCase()===E.toLowerCase());return(T==null?void 0:T.encrypted)||null}async function m(){if(!$.value)return;const E=s.currentRouterAddress;if(!E||E==="0x0000000000000000000000000000000000000000"){alert("DEXRouter");return}p.value=!0,g.value=[];try{const T=a.value,C=o.value.address,S=r.selectedChainId,O=r.effectiveRpcUrl,U=jh(S,O,E),D=[];for(let W=0;W<T.length;W+=b.value)D.push(T.slice(W,W+b.value));console.log(` ${T.length}  ${D.length}  ${b.value} `);for(let W=0;W<D.length;W++){const z=D[W];console.log(` ${W+1}/${D.length}  ${z.length} `);const Q=z.map(async(_,k)=>{await new Promise(V=>setTimeout(V,k*50));let H;l.value==="fixed"?H=u.value:H=Math.random()*(f.value-d.value)+d.value;const he=y(_);if(!he)return{wallet:_,percent:H,success:!1,error:""};try{console.log(` ${_.slice(0,10)}...  ${H.toFixed(1)}%`);const V=await U.executeTrade({chainId:S,rpcUrl:O,routerAddress:E,privateKey:he,walletAddress:_,tokenAddress:C,spendToken:r.currentGovernanceToken,amount:0,amountType:"quantity",mode:"dump",slippage:30,balancePercent:H});return V.success?(console.log(` ${_.slice(0,10)}... : ${V.txHash}`),{wallet:_,percent:H,success:!0,hash:V.txHash,amountIn:V.amountIn,amountOut:V.amountOut,error:null}):(console.error(` ${_.slice(0,10)}... :`,V.error),{wallet:_,percent:H,success:!1,error:V.error||""})}catch(V){return console.error(` ${_.slice(0,10)}... :`,V),{wallet:_,percent:H,success:!1,error:V.message||""}}}),Y=await Promise.all(Q);g.value.push(...Y),W<D.length-1&&v.value>0&&(console.log(` ${v.value}ms ...`),await new Promise(_=>setTimeout(_,v.value)))}const L=g.value.filter(W=>W.success).length,F=g.value.filter(W=>!W.success).length;alert(F===0?` ${L} `:` ${L}  ${F} `),await n.refreshTargetTokenBalance()}catch(T){console.error(":",T),alert(`: ${T.message||""}`)}finally{p.value=!1}}function w(E){return E?`${E.slice(0,6)}...${E.slice(-4)}`:"-"}function P(E){const T=n.currentChainId;return({56:"https://bscscan.com/tx/",97:"https://testnet.bscscan.com/tx/",66:"https://www.oklink.com/okc/tx/"}[T]||"https://bscscan.com/tx/")+E}function B(E){return E?E.length>25?E.slice(0,25)+"...":E:""}return(E,T)=>(I(),R("div",V3,[c("div",G3,[T[9]||(T[9]=c("span",null,[c("i",{class:"bi bi-cart-dash me-1"}),K("")],-1)),c("button",{type:"button",class:"btn-close",onClick:T[0]||(T[0]=C=>E.$emit("close"))})]),c("div",q3,[c("div",{class:Ce(["alert mb-3",Z(o)?"alert-success":"alert-warning"])},[c("div",K3,[c("i",{class:Ce(["bi me-2",Z(o)?"bi-check-circle-fill":"bi-exclamation-triangle-fill"])},null,2),Z(o)?(I(),R("div",Z3,[T[10]||(T[10]=c("strong",null,"",-1)),K(M(Z(o).symbol)+" ("+M(Z(o).name)+") ",1),T[11]||(T[11]=c("br",null,null,-1)),c("small",Y3,M(Z(o).address),1)])):(I(),R("div",J3,[...T[12]||(T[12]=[c("strong",null,"",-1),c("br",null,null,-1),c("small",null,"",-1)])]))])],2),c("div",Q3,[T[15]||(T[15]=c("label",{class:"form-label"},"",-1)),c("div",X3,[ue(c("input",{type:"radio",class:"btn-check",name:"sellMode",id:"sellModeFixed",value:"fixed","onUpdate:modelValue":T[1]||(T[1]=C=>l.value=C)},null,512),[[Dr,l.value]]),T[13]||(T[13]=c("label",{class:"btn btn-outline-primary",for:"sellModeFixed"},[c("i",{class:"bi bi-percent me-1"}),K(" ")],-1)),ue(c("input",{type:"radio",class:"btn-check",name:"sellMode",id:"sellModeRange",value:"range","onUpdate:modelValue":T[2]||(T[2]=C=>l.value=C)},null,512),[[Dr,l.value]]),T[14]||(T[14]=c("label",{class:"btn btn-outline-primary",for:"sellModeRange"},[c("i",{class:"bi bi-shuffle me-1"}),K(" ")],-1))])]),l.value==="fixed"?(I(),R("div",ek,[T[17]||(T[17]=c("label",{class:"form-label"},"",-1)),c("div",tk,[ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":T[3]||(T[3]=C=>u.value=C),min:"1",max:"100",placeholder:"50"},null,512),[[ke,u.value,void 0,{number:!0}]]),T[16]||(T[16]=c("span",{class:"input-group-text"},"%",-1))]),T[18]||(T[18]=c("div",{class:"form-text"},"",-1))])):pe("",!0),l.value==="range"?(I(),R("div",nk,[T[22]||(T[22]=c("label",{class:"form-label"},"",-1)),c("div",sk,[c("div",rk,[c("div",ok,[ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":T[4]||(T[4]=C=>d.value=C),min:"1",max:"99",placeholder:"10"},null,512),[[ke,d.value,void 0,{number:!0}]]),T[19]||(T[19]=c("span",{class:"input-group-text"},"%",-1))])]),T[21]||(T[21]=c("div",{class:"col-auto d-flex align-items-center"},[c("span",{class:"text-muted"},"~")],-1)),c("div",ik,[c("div",ak,[ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":T[5]||(T[5]=C=>f.value=C),min:"2",max:"100",placeholder:"100"},null,512),[[ke,f.value,void 0,{number:!0}]]),T[20]||(T[20]=c("span",{class:"input-group-text"},"%",-1))])])]),T[23]||(T[23]=c("div",{class:"form-text"},"",-1))])):pe("",!0),c("div",lk,[T[28]||(T[28]=c("label",{class:"form-label"},"",-1)),c("div",ck,[c("div",uk,[c("div",dk,[T[24]||(T[24]=c("span",{class:"input-group-text"},"",-1)),ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":T[6]||(T[6]=C=>b.value=C),min:"1",max:"50",placeholder:"5"},null,512),[[ke,b.value,void 0,{number:!0}]])])]),c("div",fk,[c("div",pk,[T[25]||(T[25]=c("span",{class:"input-group-text"},"",-1)),ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":T[7]||(T[7]=C=>v.value=C),min:"0",max:"10000",step:"100",placeholder:"500"},null,512),[[ke,v.value,void 0,{number:!0}]]),T[26]||(T[26]=c("span",{class:"input-group-text"},"ms",-1))])])]),c("div",hk,[K("  "+M(b.value)+"  "+M(v.value)+"ms ",1),T[27]||(T[27]=c("br",null,null,-1))])]),c("div",mk,[c("div",bk,[c("span",null,[T[29]||(T[29]=c("i",{class:"bi bi-wallet2 me-1"},null,-1)),T[30]||(T[30]=K(" ",-1)),c("strong",null,M(Z(i)),1),T[31]||(T[31]=K("  ",-1))]),c("button",{class:"btn btn-sm btn-outline-info",onClick:x,disabled:!Z(o)||h.value},[c("i",{class:Ce(["bi bi-arrow-clockwise me-1",{spin:h.value}])},null,2),K(" "+M(h.value?"":""),1)],8,gk)])]),c("div",yk,[c("button",{class:"btn btn-warning btn-lg",onClick:m,disabled:!$.value||p.value},[p.value?(I(),R("span",wk,[...T[32]||(T[32]=[c("span",{class:"spinner-border spinner-border-sm me-1",role:"status"},null,-1),K(" ... ",-1)])])):(I(),R("span",xk,[...T[33]||(T[33]=[c("i",{class:"bi bi-cart-dash me-1"},null,-1),K("  ",-1)])]))],8,vk)]),g.value.length>0?(I(),R("div",$k,[c("div",kk,[c("h6",Ck,[T[34]||(T[34]=c("i",{class:"bi bi-list-check me-1"},null,-1)),T[35]||(T[35]=K(" ",-1)),c("span",Tk,M(g.value.length),1),c("span",_k,M(g.value.filter(C=>C.success).length)+" ",1),g.value.filter(C=>!C.success).length>0?(I(),R("span",Sk,M(g.value.filter(C=>!C.success).length)+"  ",1)):pe("",!0)]),c("button",{class:"btn btn-outline-secondary btn-sm",onClick:T[8]||(T[8]=C=>g.value=[])},[...T[36]||(T[36]=[c("i",{class:"bi bi-x-lg"},null,-1),K("  ",-1)])])]),c("div",Pk,[c("table",Ak,[T[39]||(T[39]=c("thead",{class:"table-light sticky-top"},[c("tr",null,[c("th",null,"#"),c("th",null,""),c("th",null,""),c("th",null,""),c("th",null,"")])],-1)),c("tbody",null,[(I(!0),R(Se,null,Le(g.value,(C,S)=>{var O;return I(),R("tr",{key:S,class:Ce(C.success?"":"table-danger")},[c("td",Ek,M(S+1),1),c("td",null,[c("i",{class:Ce(["bi",C.success?"bi-check-circle-fill text-success":"bi-x-circle-fill text-danger"])},null,2)]),c("td",Bk,[c("code",Ik,M(w(C.wallet)),1)]),c("td",Nk,[c("span",Rk,M((O=C.percent)==null?void 0:O.toFixed(1))+"%",1)]),c("td",Ok,[C.hash?(I(),R("a",{key:0,href:P(C.hash),target:"_blank",class:"text-decoration-none"},[T[37]||(T[37]=c("i",{class:"bi bi-box-arrow-up-right me-1"},null,-1)),K(M(w(C.hash)),1)],8,Mk)):C.error?(I(),R("span",{key:1,class:"text-danger",title:C.error},[T[38]||(T[38]=c("i",{class:"bi bi-exclamation-triangle me-1"},null,-1)),K(M(B(C.error)),1)],8,Lk)):(I(),R("span",Fk,"-"))])],2)}),128))])])])])):pe("",!0)])]))}}),Dk=At(Uk,[["__scopeId","data-v-8b205665"]]),zk={class:"container-fluid py-3"},Wk={class:"row g-3"},jk={class:"col-12"},Hk={class:"card shadow-sm"},Vk={class:"card-body"},Gk={class:"col-12"},qk={class:"card shadow-sm"},Kk={class:"card-body"},Zk={class:"col-12"},Yk={class:"card shadow-sm"},Jk={class:"card-body"},Qk={class:"col-12"},Xk={class:"card shadow-sm"},e4={class:"card-body"},t4={class:"d-flex justify-content-between align-items-center"},n4={class:"col-12"},s4={class:"card shadow-sm"},r4={class:"card-body wallet-table-wrapper"},o4=ot({name:"WalletManagePanel",__name:"WalletManagePanel",setup(e){const t=ee(!1);return(n,s)=>(I(),R("div",zk,[s[5]||(s[5]=c("h1",{class:"h4 mb-3"},"",-1)),c("div",Wk,[c("div",jk,[c("div",Hk,[c("div",Vk,[tt(Wh)])])]),c("div",Gk,[c("div",qk,[c("div",Kk,[s[2]||(s[2]=c("h2",{class:"h6"},"",-1)),tt(S8)])])]),c("div",Zk,[c("div",Yk,[c("div",Jk,[tt(q$)])])]),c("div",Qk,[c("div",Xk,[c("div",e4,[c("div",t4,[s[4]||(s[4]=c("h2",{class:"h6 mb-0"},"",-1)),c("button",{class:"btn btn-outline-warning btn-sm",onClick:s[0]||(s[0]=r=>t.value=!t.value)},[s[3]||(s[3]=c("i",{class:"bi bi-cart-dash me-1"},null,-1)),K(" "+M(t.value?"":""),1)])]),t.value?(I(),bs(Dk,{key:0,class:"mt-3",onClose:s[1]||(s[1]=r=>t.value=!1)})):pe("",!0)])])]),c("div",n4,[c("div",s4,[c("div",r4,[tt(z3)])])])])]))}}),zd=At(o4,[["__scopeId","data-v-b2f244bb"]]),i4={class:"batch-transfer-panel p-4"},a4={class:"d-flex justify-content-between align-items-center mb-4"},l4={class:"d-flex align-items-center gap-2"},c4={class:"badge bg-secondary"},u4={key:0,class:"badge bg-success"},d4={class:"card mb-4"},f4={class:"card-body"},p4={class:"btn-group w-100",role:"group"},h4={class:"alert alert-info small mt-3 mb-0"},m4={key:0},b4={key:1},g4={key:2},y4={class:"row g-4 mb-4"},v4={class:"col-12 col-lg-6"},w4={class:"card h-100"},x4={class:"card-header bg-light d-flex justify-content-between align-items-center"},$4={class:"fw-bold"},k4={class:"badge bg-primary ms-2"},C4={class:"d-flex gap-2"},T4={class:"btn btn-outline-primary btn-sm"},_4={class:"card-body"},S4={key:0,class:"mb-3"},P4=["value"],A4={key:1,class:"invalid-feedback"},E4={class:"col-12 col-lg-6"},B4={class:"card h-100"},I4={class:"card-header bg-light d-flex justify-content-between align-items-center"},N4={class:"fw-bold"},R4={class:"badge bg-info ms-2"},O4={class:"d-flex gap-2"},M4={class:"btn btn-outline-primary btn-sm"},L4={class:"card-body"},F4={key:0,class:"mb-3"},U4=["value"],D4={key:1,class:"invalid-feedback"},z4={class:"card mb-4"},W4={class:"card-body"},j4={class:"row g-3 align-items-end"},H4={class:"col-12 col-md-3"},V4={class:"input-group"},G4=["disabled"],q4={class:"input-group-text"},K4={class:"col-12 col-md-3"},Z4={value:"native"},Y4=["disabled"],J4={key:0,class:"col-12 col-md-3"},Q4={class:"form-check mt-4"},X4={class:"col-12 col-md-3"},e9=["disabled"],t9={key:0},n9={key:1},s9={key:0,class:"card"},r9={class:"card-header bg-light d-flex justify-content-between align-items-center"},o9={class:"fw-bold"},i9={class:"badge bg-secondary ms-2"},a9={class:"badge bg-success ms-1"},l9={key:0,class:"badge bg-danger ms-1"},c9={class:"card-body p-0"},u9={class:"table-responsive",style:{"max-height":"400px","overflow-y":"auto"}},d9={class:"table table-sm table-striped mb-0"},f9={class:"text-muted"},p9={class:"text-primary"},h9={class:"text-info"},m9={key:0,class:"text-success fw-bold"},b9={key:1,class:"text-muted"},g9=["href"],y9=["title"],v9={key:2,class:"text-muted"},w9=ot({__name:"BatchTransferPanel",setup(e){const t=/^(0x)?[0-9a-fA-F]{64}$/,n=pn(),s=Zt(),{targetToken:r,walletBatches:o}=mt(n),{currentGovernanceToken:i}=mt(s),a=ee(!1),l=ee([]),u=ee("oneToMany"),d=ee(""),f=ee(""),p=ee(.01),h=ee("native"),g=ee(!1),b=ee(""),v=ee("");$t(u,_=>{_==="manyToMany"||_==="manyToOne"?g.value=!0:g.value=!1}),$t(b,_=>{if(_){const k=o.value.find(H=>H.id===_);k&&(d.value=k.wallets.map(H=>H.address).join(`
`))}}),$t(v,_=>{if(_){const k=o.value.find(H=>H.id===_);k&&(f.value=k.wallets.map(H=>H.address).join(`
`))}});const $=de(()=>{const _={};if(b.value){const k=o.value.find(H=>H.id===b.value);if(k)for(const H of k.wallets)_[H.address.toLowerCase()]=H.privateKey}return _});function x(_){return _.trim()?_.split(/[\n,;]/).map(k=>k.trim()).filter(k=>k.length>0):[]}function y(_){const k=[],H={};if(!_.trim())return{addresses:k,privateKeyMap:H};const he=_.split(/[\n,;]/).map(V=>V.trim()).filter(Boolean);for(const V of he)if(t.test(V))try{const fe=V.startsWith("0x")?V:`0x${V}`,xe=lt(fe);k.push(xe.address),H[xe.address.toLowerCase()]=fe}catch{console.warn(":",V.slice(0,10)+"...")}else/^0x[0-9a-fA-F]{40}$/.test(V)&&k.push(V);return{addresses:k,privateKeyMap:H}}async function m(_){var he;const k=_.target,H=(he=k.files)==null?void 0:he[0];if(H){try{const fe=(await H.text()).split(/\r?\n/).map(xe=>xe.trim()).filter(Boolean);d.value.trim()?d.value+=`
`+fe.join(`
`):d.value=fe.join(`
`)}catch{alert("")}k.value=""}}async function w(_){var he;const k=_.target,H=(he=k.files)==null?void 0:he[0];if(H){try{const fe=(await H.text()).split(/\r?\n/).map(xe=>xe.trim()).filter(Boolean);f.value.trim()?f.value+=`
`+fe.join(`
`):f.value=fe.join(`
`)}catch{alert("")}k.value=""}}const P=de(()=>u.value==="manyToMany"||u.value==="manyToOne"?y(d.value).addresses:x(d.value)),B=de(()=>x(f.value)),E=de(()=>u.value==="manyToMany"||u.value==="manyToOne"?y(d.value).privateKeyMap:{}),T=de(()=>P.value.length),C=de(()=>B.value.length),S=de(()=>{const _=P.value;if(_.length===0)return"";if(u.value==="manyToMany"||u.value==="manyToOne"){const he=d.value.split(/[\n,;]/).map(fe=>fe.trim()).filter(Boolean);for(const fe of he){const xe=/^0x[0-9a-fA-F]{40}$/.test(fe),Oe=t.test(fe);if(!xe&&!Oe)return""}const V=_.filter(fe=>{if($.value[fe.toLowerCase()]||E.value[fe.toLowerCase()])return!0;const xe=n.localWallets.find(Oe=>Oe.address.toLowerCase()===fe.toLowerCase());return xe==null?void 0:xe.encrypted});return V.length<_.length?`${_.length-V.length} `:""}const k=_.filter(he=>!L(he));if(k.length>0)return`${k.length} `;const H=_.filter(he=>{if($.value[he.toLowerCase()])return!0;const V=n.localWallets.find(fe=>fe.address.toLowerCase()===he.toLowerCase());return V==null?void 0:V.encrypted});return H.length<_.length?`${_.length-H.length} `:u.value==="oneToMany"&&_.length>1?"":""}),O=de(()=>{const _=B.value;if(_.length===0)return"";const k=_.filter(H=>!L(H));return k.length>0?`${k.length} `:u.value==="manyToOne"&&_.length>1?"":u.value==="manyToMany"&&T.value!==_.length?`: ${T.value}, : ${_.length}`:""}),U=de(()=>!(T.value===0||C.value===0||!g.value&&(!p.value||p.value<=0)||S.value||O.value||h.value==="token"&&!r.value));async function D(){var k,H;if(!U.value)return;const _=W();if(_){alert(_);return}a.value=!0,l.value=[];try{const he={...$.value,...E.value},V=await n.batchTransferByAddresses(P.value,B.value,g.value?0:p.value,h.value,u.value,{privateKeyMap:he,transferAllBalance:g.value});l.value=V;const fe=V.filter(Oe=>Oe.success).length,xe=V.filter(Oe=>!Oe.success).length;if(xe===0)alert(` ${fe} `);else if(fe===0){const Oe=((k=V.find(st=>st.error))==null?void 0:k.error)||"";alert(` ${xe} 

: ${Oe}`)}else{const Oe=((H=V.find(st=>st.error))==null?void 0:H.error)||"";alert(`

: ${fe} 
: ${xe} 

: ${Oe}`)}}catch(he){alert(he.message||"")}finally{a.value=!1}}function L(_){if(!_)return!1;const k=_.trim();return/^0x[0-9a-fA-F]{40}$/.test(k)}function F(_){return n.getWalletTypeByAddress(_)==="main"}function W(){if(u.value==="oneToMany"){const _=P.value[0];if(_&&!F(_))return""}else if(u.value==="manyToOne"){const _=B.value[0];if(_&&!F(_))return""}return null}function z(_){return _?`${_.slice(0,6)}...${_.slice(-4)}`:""}function Q(_){const k=n.currentChainId;return({56:"https://bscscan.com/tx/",97:"https://testnet.bscscan.com/tx/",66:"https://www.oklink.com/okc/tx/"}[k]||"https://bscscan.com/tx/")+_}function Y(_){return _?_.length>30?_.slice(0,30)+"...":_:""}return(_,k)=>(I(),R("div",i4,[c("div",a4,[k[13]||(k[13]=c("div",null,[c("h5",{class:"mb-1"},[c("i",{class:"bi bi-send me-2"}),K("")]),c("small",{class:"text-muted"},"")],-1)),c("div",l4,[c("span",c4,M(Z(i)),1),Z(r)?(I(),R("span",u4,": "+M(Z(r).symbol),1)):pe("",!0)])]),c("div",d4,[k[18]||(k[18]=c("div",{class:"card-header bg-light"},[c("span",{class:"fw-bold"},[c("i",{class:"bi bi-diagram-3 me-2"}),K("")])],-1)),c("div",f4,[c("div",p4,[ue(c("input",{type:"radio",class:"btn-check",name:"transferMode",id:"modeOneToMany",value:"oneToMany","onUpdate:modelValue":k[0]||(k[0]=H=>u.value=H)},null,512),[[Dr,u.value]]),k[14]||(k[14]=c("label",{class:"btn btn-outline-primary",for:"modeOneToMany"},[c("i",{class:"bi bi-arrow-down-circle me-1"}),K(" ")],-1)),ue(c("input",{type:"radio",class:"btn-check",name:"transferMode",id:"modeManyToOne",value:"manyToOne","onUpdate:modelValue":k[1]||(k[1]=H=>u.value=H)},null,512),[[Dr,u.value]]),k[15]||(k[15]=c("label",{class:"btn btn-outline-primary",for:"modeManyToOne"},[c("i",{class:"bi bi-arrow-up-circle me-1"}),K(" ")],-1)),ue(c("input",{type:"radio",class:"btn-check",name:"transferMode",id:"modeManyToMany",value:"manyToMany","onUpdate:modelValue":k[2]||(k[2]=H=>u.value=H)},null,512),[[Dr,u.value]]),k[16]||(k[16]=c("label",{class:"btn btn-outline-primary",for:"modeManyToMany"},[c("i",{class:"bi bi-arrow-left-right me-1"}),K(" ")],-1))]),c("div",h4,[k[17]||(k[17]=c("i",{class:"bi bi-info-circle me-1"},null,-1)),u.value==="oneToMany"?(I(),R("span",m4,"1")):u.value==="manyToOne"?(I(),R("span",b4,"")):(I(),R("span",g4,""))])])]),c("div",y4,[c("div",v4,[c("div",w4,[c("div",x4,[c("span",$4,[k[19]||(k[19]=c("i",{class:"bi bi-wallet2 me-2"},null,-1)),k[20]||(k[20]=K(" ",-1)),c("span",k4,M(T.value)+" ",1)]),c("div",C4,[c("label",T4,[k[21]||(k[21]=c("i",{class:"bi bi-file-earmark-arrow-up me-1"},null,-1)),k[22]||(k[22]=K("TXT ",-1)),c("input",{type:"file",accept:".txt",class:"d-none",onChange:m},null,32)]),c("button",{class:"btn btn-outline-danger btn-sm",onClick:k[3]||(k[3]=H=>{d.value="",b.value=""})},[...k[23]||(k[23]=[c("i",{class:"bi bi-trash"},null,-1)])])])]),c("div",_4,[Z(o).length>0?(I(),R("div",S4,[k[25]||(k[25]=c("label",{class:"form-label small text-muted"},"",-1)),ue(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":k[4]||(k[4]=H=>b.value=H)},[k[24]||(k[24]=c("option",{value:""},"--  --",-1)),(I(!0),R(Se,null,Le(Z(o),H=>(I(),R("option",{key:H.id,value:H.id},M(H.remark)+" ("+M(H.wallets.length)+" ) ",9,P4))),128))],512),[[nt,b.value]])])):pe("",!0),ue(c("textarea",{class:Ce(["form-control",{"is-invalid":S.value}]),"onUpdate:modelValue":k[5]||(k[5]=H=>d.value=H),rows:"10",placeholder:`
0x1234...
0x5678...`},null,2),[[ke,d.value]]),S.value?(I(),R("div",A4,M(S.value),1)):pe("",!0)])])]),c("div",E4,[c("div",B4,[c("div",I4,[c("span",N4,[k[26]||(k[26]=c("i",{class:"bi bi-wallet-fill me-2"},null,-1)),k[27]||(k[27]=K(" ",-1)),c("span",R4,M(C.value)+" ",1)]),c("div",O4,[c("label",M4,[k[28]||(k[28]=c("i",{class:"bi bi-file-earmark-arrow-up me-1"},null,-1)),k[29]||(k[29]=K("TXT ",-1)),c("input",{type:"file",accept:".txt",class:"d-none",onChange:w},null,32)]),c("button",{class:"btn btn-outline-danger btn-sm",onClick:k[6]||(k[6]=H=>{f.value="",v.value=""})},[...k[30]||(k[30]=[c("i",{class:"bi bi-trash"},null,-1)])])])]),c("div",L4,[Z(o).length>0?(I(),R("div",F4,[k[32]||(k[32]=c("label",{class:"form-label small text-muted"},"",-1)),ue(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":k[7]||(k[7]=H=>v.value=H)},[k[31]||(k[31]=c("option",{value:""},"--  --",-1)),(I(!0),R(Se,null,Le(Z(o),H=>(I(),R("option",{key:H.id,value:H.id},M(H.remark)+" ("+M(H.wallets.length)+" ) ",9,U4))),128))],512),[[nt,v.value]])])):pe("",!0),ue(c("textarea",{class:Ce(["form-control",{"is-invalid":O.value}]),"onUpdate:modelValue":k[8]||(k[8]=H=>f.value=H),rows:"10",placeholder:`
0xabcd...
0xefgh...`},null,2),[[ke,f.value]]),O.value?(I(),R("div",D4,M(O.value),1)):pe("",!0)])])])]),c("div",z4,[k[38]||(k[38]=c("div",{class:"card-header bg-light"},[c("span",{class:"fw-bold"},[c("i",{class:"bi bi-gear me-2"}),K("")])],-1)),c("div",W4,[c("div",j4,[c("div",H4,[k[33]||(k[33]=c("label",{class:"form-label"},"",-1)),c("div",V4,[ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":k[9]||(k[9]=H=>p.value=H),placeholder:"0.01",step:"0.001",min:"0",disabled:g.value},null,8,G4),[[ke,p.value,void 0,{number:!0}]]),c("span",q4,M(h.value==="token"&&Z(r)?Z(r).symbol:Z(i)),1)])]),c("div",K4,[k[34]||(k[34]=c("label",{class:"form-label"},"",-1)),ue(c("select",{class:"form-select","onUpdate:modelValue":k[10]||(k[10]=H=>h.value=H)},[c("option",Z4,M(Z(i)),1),c("option",{value:"token",disabled:!Z(r)},M(Z(r)?Z(r).symbol:""),9,Y4)],512),[[nt,h.value]])]),u.value==="manyToMany"||u.value==="manyToOne"?(I(),R("div",J4,[c("div",Q4,[ue(c("input",{type:"checkbox",class:"form-check-input",id:"transferAllBalance","onUpdate:modelValue":k[11]||(k[11]=H=>g.value=H)},null,512),[[gs,g.value]]),k[35]||(k[35]=c("label",{class:"form-check-label",for:"transferAllBalance"},[K("  "),c("small",{class:"text-muted d-block"},"(gas)")],-1))])])):pe("",!0),c("div",X4,[c("button",{class:"btn btn-primary w-100",onClick:D,disabled:!U.value||a.value},[a.value?(I(),R("span",t9,[...k[36]||(k[36]=[c("span",{class:"spinner-border spinner-border-sm me-1"},null,-1),K("... ",-1)])])):(I(),R("span",n9,[k[37]||(k[37]=c("i",{class:"bi bi-send me-1"},null,-1)),K(" ("+M(T.value)+"  "+M(C.value)+") ",1)]))],8,e9)])])])]),l.value.length>0?(I(),R("div",s9,[c("div",r9,[c("span",o9,[k[39]||(k[39]=c("i",{class:"bi bi-list-check me-2"},null,-1)),k[40]||(k[40]=K(" ",-1)),c("span",i9,M(l.value.length),1),c("span",a9,M(l.value.filter(H=>H.success).length)+" ",1),l.value.filter(H=>!H.success).length>0?(I(),R("span",l9,M(l.value.filter(H=>!H.success).length)+"  ",1)):pe("",!0)]),c("button",{class:"btn btn-outline-secondary btn-sm",onClick:k[12]||(k[12]=H=>l.value=[])},[...k[41]||(k[41]=[c("i",{class:"bi bi-x-lg me-1"},null,-1),K(" ",-1)])])]),c("div",c9,[c("div",u9,[c("table",d9,[k[45]||(k[45]=c("thead",{class:"table-light sticky-top"},[c("tr",null,[c("th",{style:{width:"50px"}},"#"),c("th",{style:{width:"60px"}},""),c("th",null,"From"),c("th",{style:{width:"40px"}}),c("th",null,"To"),c("th",null,""),c("th",null,"")])],-1)),c("tbody",null,[(I(!0),R(Se,null,Le(l.value,(H,he)=>(I(),R("tr",{key:he,class:Ce(H.success?"":"table-danger")},[c("td",f9,M(he+1),1),c("td",null,[c("i",{class:Ce(["bi",H.success?"bi-check-circle-fill text-success":"bi-x-circle-fill text-danger"])},null,2)]),c("td",null,[c("code",p9,M(z(H.source||"-")),1)]),k[44]||(k[44]=c("td",{class:"text-center"},[c("i",{class:"bi bi-arrow-right text-muted"})],-1)),c("td",null,[c("code",h9,M(z(H.target||"-")),1)]),c("td",null,[H.amount!==void 0?(I(),R("span",m9,M(p.value)+" "+M(h.value==="token"&&Z(r)?Z(r).symbol:Z(i)),1)):(I(),R("span",b9,"-"))]),c("td",null,[H.hash?(I(),R("a",{key:0,href:Q(H.hash),target:"_blank",class:"text-decoration-none"},[k[42]||(k[42]=c("i",{class:"bi bi-box-arrow-up-right me-1"},null,-1)),K(M(z(H.hash)),1)],8,g9)):H.error?(I(),R("span",{key:1,class:"text-danger",title:H.error},[k[43]||(k[43]=c("i",{class:"bi bi-exclamation-triangle me-1"},null,-1)),K(M(Y(H.error)),1)],8,y9)):(I(),R("span",v9,"-"))])],2))),128))])])])])])):pe("",!0)]))}}),x9=At(w9,[["__scopeId","data-v-6fa2f028"]]),Do=Co("task",()=>{const e=ee([]),t=ee(null),n=de(()=>e.value.filter(C=>C.status==="running")),s=de(()=>e.value.filter(C=>C.status==="paused")),r=de(()=>e.value.length),o=de(()=>t.value&&e.value.find(C=>C.id===t.value)||null);function i(){return`task_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function a(){return`log_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function l(C,S,O,U,D){const L=e.value.find(F=>F.id===C);L&&(L.logs.push({id:a(),timestamp:Date.now(),type:S,message:O,walletAddress:U,txHash:D}),L.logs.length>500&&(L.logs=L.logs.slice(-500)))}function u(C,S,O,U){const D={id:i(),name:C,status:"stopped",mode:S,config:O,walletAddresses:U,logs:[],stats:{executedCount:0,spentAmount:0,elapsedTime:0},currentWalletIndex:0};return e.value.push(D),t.value||(t.value=D.id),l(D.id,"info",` "${C}" : ${S==="pump"?"":""}: ${U.length}`),D}function d(C,S,O){const{stopType:U,stopValue:D}=C.config,{executedCount:L,spentAmount:F,startTime:W,elapsedTime:z}=C.stats;switch(U){case"count":return L>=D;case"amount":return F>=D;case"time":return z>=D;case"price":return S===void 0?!1:C.mode==="pump"?S>=D:S<=D;case"marketcap":return O===void 0?!1:C.mode==="pump"?O>=D:O<=D;default:return!1}}function f(C,S){const O=C.localWallets.find(U=>U.address.toLowerCase()===S.toLowerCase());if(O!=null&&O.encrypted)return O.encrypted;for(const U of C.walletBatches){const D=U.wallets.find(L=>L.address.toLowerCase()===S.toLowerCase());if(D!=null&&D.privateKey)return D.privateKey}return null}async function p(C,S){const O=pn(),U=Zt(),D=yi(),L=f(O,S);if(!L)return l(C.id,"error",` ${S.slice(0,10)}... `,S),!1;try{const F=U.selectedChainId,W=U.effectiveRpcUrl,z=D.currentRouterAddress;if(!z||z==="0x0000000000000000000000000000000000000000")return l(C.id,"error","DEXRouter",S),!1;const Q=C.config.amountMin||0,Y=C.config.amountMax||Q,_=Q+Math.random()*(Y-Q),k=Number(_.toFixed(18)),H=Oe=>Oe===0?"0":Oe.toFixed(18).replace(/\.?0+$/,"");l(C.id,"info",`${C.mode==="pump"?"":""}...`,S),l(C.id,"info",`: ${H(k)} BNB (: ${H(Q)}~${H(Y)})`,S);const he=jh(F,W,z),V=C.mode==="dump"&&C.config.sellAll,fe={chainId:F,rpcUrl:W,routerAddress:z,privateKey:L,walletAddress:S,tokenAddress:C.config.tokenContract,spendToken:"BNB",amount:k,amountType:"amount",mode:C.mode,slippage:30,gasPrice:C.config.gasPrice,gasLimit:C.config.gasLimit,balancePercent:V?100:void 0,targetBnbAmount:C.mode==="dump"&&!V?k:void 0},xe=await he.executeTrade(fe);if(xe.success){C.stats.executedCount++,C.stats.spentAmount+=k;const Oe=C.mode==="pump"?"":"",st=xe.amountOut?`${Oe}: ${xe.amountIn}, : ${xe.amountOut}`:`${Oe}: ${k} BNB`;return l(C.id,"success",st,S,xe.txHash),!0}else return l(C.id,"error",`: ${xe.error}`,S,xe.txHash),!1}catch(F){return l(C.id,"error",`: ${F.message}`,S),!1}}async function h(C){try{const S=Zt(),O=yi(),U=S.selectedChainId,D=S.effectiveRpcUrl,L=O.currentFactoryAddress,F=O.currentBaseTokens;if(!L||!F||F.length===0)return;const W=F[0];if(!W)return;const Q=await new Ir(D,L,F).findTokenPair(C.config.tokenContract,W);if(!Q)return;const _=sn({chain:U===97?xs:Os,transport:He(D)}),H=Q.token0.toLowerCase()===W.toLowerCase()?Q.reserve0:Q.reserve1;return Number(Te(H))}catch(S){console.error(":",S);return}}async function g(C){if(C.status!=="running")return;if(C.config.stopType==="marketcap"){const W=await h(C);if(W!==void 0){const z=C.mode==="pump"?"(>=)":"(<=)";if(l(C.id,"info",`: ${W.toFixed(4)} BNB, : ${C.config.stopValue} BNB [${z}]`),d(C,void 0,W)){x(C.id,"");return}}}const S=C.walletAddresses,O=C.config.threadCount||1;if(S.length===0){l(C.id,"warning","");return}const U=[];for(let W=0;W<O;W++){const z=(C.currentWalletIndex+W)%S.length;U.push(S[z])}C.currentWalletIndex=(C.currentWalletIndex+O)%S.length,(C.currentWalletIndex<O||C.currentWalletIndex===0)&&C.stats.executedCount>0&&l(C.id,"info","---  ---"),l(C.id,"info",` ${U.length}  (: ${O})`);const L=U.map((W,z)=>{const Q=z*100;return new Promise(Y=>{setTimeout(async()=>{await p(C,W),Y()},Q)})});await Promise.allSettled(L);const F=await h(C);d(C,void 0,F)&&x(C.id,"")}function b(C){const S=e.value.find(D=>D.id===C);if(!S)return!1;if(S.walletAddresses.length===0)return l(S.id,"error",""),!1;S.status="running",S.stats.startTime=Date.now(),S.currentWalletIndex=0;const O=S.config.threadCount||1;l(S.id,"info",`: ${S.config.interval}: ${O}: ${S.walletAddresses.length}`),g(S);const U=S.config.interval*1e3;return S.intervalId=window.setInterval(()=>{S.status==="running"&&(S.stats.startTime&&(S.stats.elapsedTime=Math.floor((Date.now()-S.stats.startTime)/1e3)),g(S))},U),!0}function v(C){const S=e.value.find(O=>O.id===C);return!S||S.status!=="running"?!1:(S.status="paused",S.intervalId&&(clearInterval(S.intervalId),S.intervalId=void 0),l(S.id,"warning",""),!0)}function $(C){const S=e.value.find(O=>O.id===C);return!S||S.status!=="paused"?!1:b(C)}function x(C,S){const O=e.value.find(U=>U.id===C);return O?(O.status="stopped",O.intervalId&&(clearInterval(O.intervalId),O.intervalId=void 0),l(O.id,"info",`${S?`: ${S}`:""}`),!0):!1}function y(C){const S=e.value.findIndex(U=>U.id===C);return S===-1?!1:(e.value[S].status==="running"&&x(C),e.value.splice(S,1),t.value===C&&(t.value=e.value.length>0?e.value[0].id:null),!0)}function m(C,S){const O=e.value.find(U=>U.id===C);return O?O.status==="running"?(console.error(""),!1):(S.name!==void 0&&(O.name=S.name),S.config&&(O.config={...O.config,...S.config}),S.walletAddresses!==void 0&&(O.walletAddresses=S.walletAddresses),l(C,"info",""),!0):!1}function w(C){t.value=C}function P(C){const S=e.value.find(O=>O.id===C);S&&(S.logs=[],l(S.id,"info",""))}function B(){e.value.forEach(C=>{C.intervalId&&clearInterval(C.intervalId)}),e.value=[],t.value=null}function E(C){const{stopType:S,stopValue:O}=C.config;switch(S){case"count":return` ${O} `;case"amount":return` ${O} BNB`;case"time":return` ${O} `;case"price":return` ${O}`;case"marketcap":return` ${O} BNB`;default:return""}}function T(C){const{stopType:S,stopValue:O}=C.config,{executedCount:U,spentAmount:D,elapsedTime:L}=C.stats;switch(S){case"count":return Math.min(U/O*100,100);case"amount":return Math.min(D/O*100,100);case"time":return Math.min(L/O*100,100);case"price":return 0;case"marketcap":return 0;default:return 0}}return{tasks:e,activeLogTaskId:t,runningTasks:n,pausedTasks:s,taskCount:r,activeLogTask:o,createTask:u,startTask:b,pauseTask:v,resumeTask:$,stopTask:x,deleteTask:y,updateTask:m,setActiveLogTask:w,clearTaskLogs:P,clearAllTasks:B,addLog:l,getStopConditionText:E,getTaskProgress:T,checkStopCondition:d}}),$9={class:"d-flex justify-content-between align-items-center mb-2"},k9={class:"d-flex align-items-center gap-2"},C9=["checked"],T9={class:"small"},_9={class:"small text-muted mb-2"},S9={class:"d-flex flex-wrap gap-2"},P9={class:"mt-1"},A9={class:"me-2"},E9={key:0,class:"progress mb-2",style:{height:"4px"}},B9={class:"d-flex justify-content-between small text-muted mb-2"},I9={class:"d-flex gap-2 flex-wrap align-items-center"},N9={class:"d-flex gap-1"},R9={class:"d-flex gap-2"},O9=ot({__name:"TaskCard",props:{task:{},selected:{type:Boolean}},emits:["toggle-select","edit"],setup(e,{emit:t}){const n=e,s=t,r=Do(),{activeLogTaskId:o}=mt(r),i=de(()=>o.value===n.task.id),a=de(()=>{switch(n.task.status){case"running":return"border-success bg-success bg-opacity-10";case"paused":return"border-warning bg-warning bg-opacity-10";case"stopped":return"border-secondary";default:return""}}),l=de(()=>{switch(n.task.status){case"running":return"bg-success";case"paused":return"bg-warning";case"stopped":return"bg-secondary";default:return"bg-secondary"}}),u=de(()=>{switch(n.task.status){case"running":return"bi-play-circle-fill";case"paused":return"bi-pause-circle-fill";case"stopped":return"bi-stop-circle-fill";default:return"bi-circle"}}),d=de(()=>{switch(n.task.status){case"running":return"";case"paused":return"";case"stopped":return"";default:return""}}),f=de(()=>n.task.mode==="pump"?"bg-success":"bg-danger"),p=de(()=>r.getStopConditionText(n.task)),h=de(()=>r.getTaskProgress(n.task));function g(w){if(w<60)return`${w}s`;if(w<3600)return`${Math.floor(w/60)}m ${w%60}s`;const P=Math.floor(w/3600),B=Math.floor(w%3600/60);return`${P}h ${B}m`}function b(){n.task.status==="paused"?r.resumeTask(n.task.id):r.startTask(n.task.id)}function v(){r.pauseTask(n.task.id)}function $(){confirm(` "${n.task.name}" `)&&r.stopTask(n.task.id)}function x(){confirm(` "${n.task.name}" 

`)&&r.deleteTask(n.task.id)}function y(){r.setActiveLogTask(n.task.id)}function m(){s("edit",n.task)}return(w,P)=>(I(),R("div",{class:Ce(["task-card border rounded p-2 mb-2",[a.value,{"border-info border-2":w.selected}]])},[c("div",$9,[c("div",k9,[c("input",{type:"checkbox",class:"form-check-input",checked:w.selected,onChange:P[0]||(P[0]=B=>w.$emit("toggle-select"))},null,40,C9),c("span",{class:Ce(["badge",f.value])},M(w.task.mode==="pump"?"":""),3),c("strong",T9,M(w.task.name),1)]),c("span",{class:Ce(["badge",l.value])},[c("i",{class:Ce(["bi me-1",u.value])},null,2),K(" "+M(d.value),1)],2)]),c("div",_9,[c("div",S9,[c("span",null,[P[1]||(P[1]=c("i",{class:"bi bi-wallet2 me-1"},null,-1)),K(M(w.task.walletAddresses.length)+" ",1)]),c("span",null,[P[2]||(P[2]=c("i",{class:"bi bi-layers me-1"},null,-1)),K(M(w.task.config.threadCount||1)+" ",1)]),c("span",null,[P[3]||(P[3]=c("i",{class:"bi bi-clock me-1"},null,-1)),K(M(w.task.config.interval)+"s",1)])]),c("div",P9,[c("span",A9,[P[4]||(P[4]=c("i",{class:"bi bi-stop-circle me-1"},null,-1)),K(M(p.value),1)])])]),w.task.config.stopType!=="price"?(I(),R("div",E9,[c("div",{class:Ce(["progress-bar",w.task.status==="running"?"progress-bar-striped progress-bar-animated":""]),style:Ei({width:h.value+"%"})},null,6)])):pe("",!0),c("div",B9,[c("span",null,": "+M(w.task.stats.executedCount)+" ",1),c("span",null,": "+M(w.task.stats.spentAmount.toFixed(4))+" BNB",1),c("span",null,": "+M(g(w.task.stats.elapsedTime)),1)]),c("div",I9,[c("div",N9,[w.task.status==="stopped"||w.task.status==="paused"?(I(),R("button",{key:0,class:"btn btn-success btn-sm",onClick:b},[P[5]||(P[5]=c("i",{class:"bi bi-play-fill me-1"},null,-1)),K(" "+M(w.task.status==="paused"?"":""),1)])):pe("",!0),w.task.status==="running"?(I(),R("button",{key:1,class:"btn btn-warning btn-sm",onClick:v},[...P[6]||(P[6]=[c("i",{class:"bi bi-pause-fill me-1"},null,-1),K(" ",-1)])])):pe("",!0),w.task.status==="running"||w.task.status==="paused"?(I(),R("button",{key:2,class:"btn btn-danger btn-sm",onClick:$,title:""},[...P[7]||(P[7]=[c("i",{class:"bi bi-stop-fill me-1"},null,-1),K(" ",-1)])])):pe("",!0)]),P[11]||(P[11]=c("div",{class:"flex-grow-1"},null,-1)),c("div",R9,[c("button",{class:Ce(["btn btn-outline-secondary btn-sm",{active:i.value}]),onClick:y,title:""},[...P[8]||(P[8]=[c("i",{class:"bi bi-journal-text me-1"},null,-1),K(" ",-1)])],2),w.task.status==="paused"||w.task.status==="stopped"?(I(),R("button",{key:0,class:"btn btn-outline-primary btn-sm",onClick:m,title:""},[...P[9]||(P[9]=[c("i",{class:"bi bi-pencil me-1"},null,-1),K(" ",-1)])])):pe("",!0),w.task.status==="stopped"?(I(),R("button",{key:1,class:"btn btn-outline-danger btn-sm",onClick:x,title:""},[...P[10]||(P[10]=[c("i",{class:"bi bi-trash me-1"},null,-1),K(" ",-1)])])):pe("",!0)])])],2))}}),M9=At(O9,[["__scopeId","data-v-10ca16b4"]]),L9={class:"task-config-form"},F9={class:"row g-2 mb-3"},U9={class:"col-6"},D9={class:"col-6"},z9={class:"mb-3"},W9={class:"form-label small"},j9={key:0,class:"badge bg-success ms-1"},H9=["value","disabled","placeholder"],V9={key:0,class:"form-text small text-success"},G9={key:1,class:"form-text small text-warning"},q9={class:"mb-3"},K9={class:"form-label small"},Z9={class:"text-muted"},Y9={class:"row g-2"},J9={class:"col-6"},Q9={class:"input-group input-group-sm"},X9=["disabled"],eC={class:"col-6"},tC={class:"input-group input-group-sm"},nC=["disabled"],sC={class:"form-text small"},rC={key:0,class:"mb-3"},oC={class:"form-check"},iC={class:"row g-2 mb-3"},aC={class:"col-5"},lC={class:"col-7"},cC={class:"form-label small"},uC={class:"input-group input-group-sm"},dC=["placeholder"],fC={class:"input-group-text"},pC={class:"row g-2 mb-3"},hC={class:"col-6"},mC={class:"input-group input-group-sm"},bC={class:"col-6"},gC={class:"input-group input-group-sm"},yC={class:"form-text small mb-3"},vC={class:"row g-2 mb-3"},wC={class:"col-6"},xC={class:"input-group input-group-sm"},$C={class:"col-6"},kC={class:"mb-3"},CC={class:"form-label small"},TC={class:"badge bg-primary ms-1"},_C={class:"mb-2"},SC={class:"form-check form-check-inline"},PC={class:"form-check-label small",for:"useLocalWallets"},AC={class:"form-check form-check-inline"},EC={key:0,class:"mb-2"},BC=["value"],IC={key:1,class:"alert alert-warning small py-2 mb-0"},NC={key:2,class:"small text-muted"},RC={key:0,class:"mb-1"},OC={key:0},MC={key:1},LC={key:0},FC={class:"d-grid"},UC=["disabled"],DC=ot({__name:"TaskConfigForm",setup(e){const t=Do(),n=pn(),s=Zt(),{currentGovernanceToken:r}=mt(s),{selectedWalletAddresses:o,selectedCount:i,targetToken:a,walletBatches:l}=mt(n),u=ee(""),d=ee("pump"),f=ee(""),p=ee(.01),h=ee(.05),g=ee("count"),b=ee(10),v=ee(5),$=ee(1),x=ee(void 0),y=ee(void 0),m=ee(!0),w=ee(!0),P=ee(!1),B=ee([]);$t(a,Y=>{Y&&(f.value=Y.address)},{immediate:!0}),$t(()=>t.taskCount,Y=>{u.value||(u.value=`${Y+1}`)},{immediate:!0});const E=de(()=>o.value.slice(0,3)),T=de(()=>l.value.filter(Y=>B.value.includes(Y.id))),C=de(()=>T.value.slice(0,2)),S=de(()=>T.value.reduce((Y,_)=>Y+_.wallets.length,0)),O=de(()=>{let Y=0;return w.value&&(Y+=i.value),P.value&&(Y+=S.value),Y}),U=de(()=>{const Y=new Set;return w.value&&o.value.forEach(_=>Y.add(_.toLowerCase())),P.value&&T.value.forEach(_=>{_.wallets.forEach(k=>Y.add(k.address.toLowerCase()))}),Array.from(Y)}),D=de(()=>{const Y=d.value==="dump"&&m.value||p.value>=0&&h.value>=p.value;return u.value&&f.value&&Y&&b.value>0&&v.value>0&&O.value>0}),L=de(()=>{switch(g.value){case"count":return"";case"amount":return"";case"time":return"";case"price":return"";case"marketcap":return"";default:return""}}),F=de(()=>{switch(g.value){case"count":return"10";case"amount":return"1";case"time":return"60";case"price":return"0.001";case"marketcap":return"100";default:return""}}),W=de(()=>{switch(g.value){case"count":return"";case"amount":return r.value;case"time":return"";case"price":return r.value;case"marketcap":return r.value;default:return""}});function z(Y){return Y?`${Y.slice(0,6)}...${Y.slice(-4)}`:""}function Q(){if(!D.value)return;const Y={tokenContract:f.value,targetPrice:g.value==="price"?b.value:0,targetMarketCap:g.value==="marketcap"?b.value:void 0,amountMin:p.value,amountMax:h.value,stopType:g.value,stopValue:b.value,interval:v.value,threadCount:$.value,gasPrice:x.value,gasLimit:y.value,sellAll:m.value},_=t.createTask(u.value,d.value,Y,[...U.value]);u.value=`${t.taskCount+1}`,B.value=[],alert(` "${_.name}" 

: ${U.value.length}
""`)}return(Y,_)=>(I(),R("div",L9,[_[43]||(_[43]=c("h6",{class:"fw-semibold mb-3"},[c("i",{class:"bi bi-plus-circle me-1"}),K(" ")],-1)),c("form",{onSubmit:$n(Q,["prevent"])},[c("div",F9,[c("div",U9,[_[15]||(_[15]=c("label",{class:"form-label small"},"",-1)),ue(c("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":_[0]||(_[0]=k=>u.value=k),placeholder:"1"},null,512),[[ke,u.value]])]),c("div",D9,[_[17]||(_[17]=c("label",{class:"form-label small"},"",-1)),ue(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":_[1]||(_[1]=k=>d.value=k)},[..._[16]||(_[16]=[c("option",{value:"pump"},"",-1),c("option",{value:"dump"},"",-1)])],512),[[nt,d.value]])])]),c("div",z9,[c("label",W9,[_[18]||(_[18]=K("  ",-1)),Z(a)?(I(),R("span",j9,"")):pe("",!0)]),c("input",{type:"text",class:"form-control form-control-sm",value:f.value,onInput:_[2]||(_[2]=k=>f.value=k.target.value),disabled:!!Z(a),placeholder:Z(a)?"":""},null,40,H9),Z(a)?(I(),R("div",V9,[_[19]||(_[19]=c("i",{class:"bi bi-check-circle me-1"},null,-1)),K(M(Z(a).symbol)+" ("+M(Z(a).name)+") ",1)])):(I(),R("div",G9,[..._[20]||(_[20]=[c("i",{class:"bi bi-exclamation-triangle me-1"},null,-1),K(" ",-1)])]))]),c("div",q9,[c("label",K9,[K(M(d.value==="pump"?"":"")+" ",1),c("span",Z9,"("+M(Z(r))+")",1)]),c("div",Y9,[c("div",J9,[c("div",Q9,[_[21]||(_[21]=c("span",{class:"input-group-text"},"",-1)),ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":_[3]||(_[3]=k=>p.value=k),step:"any",placeholder:"0.01",disabled:d.value==="dump"&&m.value},null,8,X9),[[ke,p.value,void 0,{number:!0}]])])]),c("div",eC,[c("div",tC,[_[22]||(_[22]=c("span",{class:"input-group-text"},"",-1)),ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":_[4]||(_[4]=k=>h.value=k),step:"any",placeholder:"0.05",disabled:d.value==="dump"&&m.value},null,8,nC),[[ke,h.value,void 0,{number:!0}]])])])]),c("div",sC,[_[23]||(_[23]=c("i",{class:"bi bi-info-circle me-1"},null,-1)),K(" "+M(d.value==="pump"?` ${p.value||0} ~ ${h.value||0} ${Z(r)} `:` ${p.value||0} ~ ${h.value||0} ${Z(r)} `),1)])]),d.value==="dump"?(I(),R("div",rC,[c("div",oC,[ue(c("input",{class:"form-check-input",type:"checkbox",id:"sellAllCheck","onUpdate:modelValue":_[5]||(_[5]=k=>m.value=k)},null,512),[[gs,m.value]]),_[24]||(_[24]=c("label",{class:"form-check-label small",for:"sellAllCheck"},[c("i",{class:"bi bi-lightning-charge me-1"}),K(" ")],-1))]),_[25]||(_[25]=c("div",{class:"form-text small text-muted"}," 100% ",-1))])):pe("",!0),c("div",iC,[c("div",aC,[_[27]||(_[27]=c("label",{class:"form-label small"},"",-1)),ue(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":_[6]||(_[6]=k=>g.value=k)},[..._[26]||(_[26]=[Kf('<option value="count" data-v-9ec38970></option><option value="amount" data-v-9ec38970></option><option value="time" data-v-9ec38970>()</option><option value="price" data-v-9ec38970></option><option value="marketcap" data-v-9ec38970></option>',5)])],512),[[nt,g.value]])]),c("div",lC,[c("label",cC,M(L.value),1),c("div",uC,[ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":_[7]||(_[7]=k=>b.value=k),placeholder:F.value,step:"any"},null,8,dC),[[ke,b.value,void 0,{number:!0}]]),c("span",fC,M(W.value),1)])])]),c("div",pC,[c("div",hC,[_[29]||(_[29]=c("label",{class:"form-label small"},"",-1)),c("div",mC,[ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":_[8]||(_[8]=k=>v.value=k),min:"1",placeholder:"5"},null,512),[[ke,v.value,void 0,{number:!0}]]),_[28]||(_[28]=c("span",{class:"input-group-text"},"",-1))])]),c("div",bC,[_[31]||(_[31]=c("label",{class:"form-label small"},"",-1)),c("div",gC,[ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":_[9]||(_[9]=k=>$.value=k),min:"1",placeholder:"1"},null,512),[[ke,$.value,void 0,{number:!0}]]),_[30]||(_[30]=c("span",{class:"input-group-text"},"",-1))])])]),c("div",yC,[_[32]||(_[32]=c("i",{class:"bi bi-info-circle me-1"},null,-1)),K("  "+M(v.value||5)+"  "+M($.value||1)+"  ",1)]),c("div",vC,[c("div",wC,[_[34]||(_[34]=c("label",{class:"form-label small"},"Gas Price ()",-1)),c("div",xC,[ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":_[10]||(_[10]=k=>x.value=k),placeholder:""},null,512),[[ke,x.value,void 0,{number:!0}]]),_[33]||(_[33]=c("span",{class:"input-group-text"},"Gwei",-1))])]),c("div",$C,[_[35]||(_[35]=c("label",{class:"form-label small"},"Gas Limit ()",-1)),ue(c("input",{type:"number",class:"form-control form-control-sm","onUpdate:modelValue":_[11]||(_[11]=k=>y.value=k),placeholder:""},null,512),[[ke,y.value,void 0,{number:!0}]])])]),c("div",kC,[c("label",CC,[_[36]||(_[36]=K("  ",-1)),c("span",TC,M(O.value)+" ",1)]),c("div",_C,[c("div",SC,[ue(c("input",{class:"form-check-input",type:"checkbox",id:"useLocalWallets","onUpdate:modelValue":_[12]||(_[12]=k=>w.value=k)},null,512),[[gs,w.value]]),c("label",PC,"  ("+M(Z(i))+") ",1)]),c("div",AC,[ue(c("input",{class:"form-check-input",type:"checkbox",id:"useBatchWallets","onUpdate:modelValue":_[13]||(_[13]=k=>P.value=k)},null,512),[[gs,P.value]]),_[37]||(_[37]=c("label",{class:"form-check-label small",for:"useBatchWallets"},"  ",-1))])]),P.value?(I(),R("div",EC,[ue(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":_[14]||(_[14]=k=>B.value=k),multiple:"",style:{height:"80px"}},[(I(!0),R(Se,null,Le(Z(l),k=>(I(),R("option",{key:k.id,value:k.id},M(k.remark)+" ("+M(k.wallets.length)+" - "+M(k.walletType==="main"?"":"")+") ",9,BC))),128))],512),[[nt,B.value]]),_[38]||(_[38]=c("div",{class:"form-text small"},"Ctrl",-1))])):pe("",!0),O.value===0?(I(),R("div",IC,[..._[39]||(_[39]=[c("i",{class:"bi bi-exclamation-triangle me-1"},null,-1),K("  ",-1)])])):(I(),R("div",NC,[w.value&&Z(i)>0?(I(),R("div",RC,[_[40]||(_[40]=c("span",{class:"badge bg-secondary me-1"},"",-1)),(I(!0),R(Se,null,Le(E.value,(k,H)=>(I(),R("span",{key:k,class:"me-1"},M(z(k)),1))),128)),Z(i)>3?(I(),R("span",OC,"...  "+M(Z(i))+" ",1)):pe("",!0)])):pe("",!0),P.value&&S.value>0?(I(),R("div",MC,[_[41]||(_[41]=c("span",{class:"badge bg-info me-1"},"",-1)),(I(!0),R(Se,null,Le(C.value,k=>(I(),R("span",{key:k.id,class:"me-1"},M(k.remark)+"("+M(k.wallets.length)+") ",1))),128)),B.value.length>2?(I(),R("span",LC,"...  "+M(S.value)+" ",1)):pe("",!0)])):pe("",!0)]))]),c("div",FC,[c("button",{type:"submit",class:"btn btn-primary btn-sm",disabled:!D.value},[..._[42]||(_[42]=[c("i",{class:"bi bi-plus-lg me-1"},null,-1),K(" ",-1)])],8,UC)])],32)]))}}),zC=At(DC,[["__scopeId","data-v-9ec38970"]]),WC={class:"modal fade show d-block",tabindex:"-1"},jC={class:"modal-dialog modal-lg modal-dialog-scrollable"},HC={class:"modal-content"},VC={class:"modal-body"},GC={class:"mb-3"},qC={class:"row"},KC={class:"col-12 mb-3"},ZC={class:"row"},YC={class:"col-md-6 mb-3"},JC={class:"col-md-6 mb-3"},QC={class:"row"},XC={class:"col-md-6 mb-3"},eT={class:"col-md-6 mb-3"},tT={class:"row"},nT={class:"col-md-6 mb-3"},sT={class:"col-md-6 mb-3"},rT={class:"row"},oT={class:"col-md-6 mb-3"},iT={class:"col-md-6 mb-3"},aT={key:0,class:"mb-3"},lT={class:"form-check"},cT={class:"mb-3"},uT={class:"form-label"},dT={class:"badge bg-secondary ms-1"},fT=ot({__name:"TaskEditModal",props:{task:{}},emits:["close"],setup(e,{emit:t}){const n=e,s=t,r=Do(),o=ee({name:"",tokenContract:"",amountMin:.01,amountMax:.05,stopType:"count",stopValue:10,interval:5,threadCount:1,gasPrice:void 0,gasLimit:void 0,sellAll:!0,walletAddressesText:""}),i=de(()=>o.value.walletAddressesText.split(`
`).map(d=>d.trim()).filter(d=>/^0x[0-9a-fA-F]{40}$/.test(d)).length);gr(()=>{const u=n.task;o.value={name:u.name,tokenContract:u.config.tokenContract,amountMin:u.config.amountMin,amountMax:u.config.amountMax,stopType:u.config.stopType,stopValue:u.config.stopValue,interval:u.config.interval,threadCount:u.config.threadCount||1,gasPrice:u.config.gasPrice,gasLimit:u.config.gasLimit,sellAll:u.config.sellAll??!0,walletAddressesText:u.walletAddresses.join(`
`)}});function a(){s("close")}function l(){const u=o.value.walletAddressesText.split(`
`).map(p=>p.trim()).filter(p=>/^0x[0-9a-fA-F]{40}$/.test(p)),d={name:o.value.name,config:{tokenContract:o.value.tokenContract,amountMin:o.value.amountMin,amountMax:o.value.amountMax,stopType:o.value.stopType,stopValue:o.value.stopValue,interval:o.value.interval,threadCount:o.value.threadCount,gasPrice:o.value.gasPrice||void 0,gasLimit:o.value.gasLimit||void 0,sellAll:o.value.sellAll},walletAddresses:u};r.updateTask(n.task.id,d)?(alert(""),s("close")):alert("")}return(u,d)=>(I(),R(Se,null,[c("div",{class:"modal-backdrop fade show",onClick:$n(a,["self"])}),c("div",WC,[c("div",jC,[c("div",HC,[c("div",{class:"modal-header"},[d[12]||(d[12]=c("h5",{class:"modal-title"},[c("i",{class:"bi bi-pencil-square me-2"}),K(" ")],-1)),c("button",{type:"button",class:"btn-close",onClick:a})]),c("div",VC,[c("form",{onSubmit:$n(l,["prevent"])},[c("div",GC,[d[13]||(d[13]=c("label",{class:"form-label"},"",-1)),ue(c("input",{type:"text",class:"form-control","onUpdate:modelValue":d[0]||(d[0]=f=>o.value.name=f),placeholder:""},null,512),[[ke,o.value.name]])]),c("div",qC,[c("div",KC,[d[14]||(d[14]=c("label",{class:"form-label"},"",-1)),ue(c("input",{type:"text",class:"form-control font-monospace","onUpdate:modelValue":d[1]||(d[1]=f=>o.value.tokenContract=f),placeholder:"0x..."},null,512),[[ke,o.value.tokenContract]])])]),c("div",ZC,[c("div",YC,[d[15]||(d[15]=c("label",{class:"form-label"}," (BNB)",-1)),ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":d[2]||(d[2]=f=>o.value.amountMin=f),min:"0",step:"any"},null,512),[[ke,o.value.amountMin,void 0,{number:!0}]])]),c("div",JC,[d[16]||(d[16]=c("label",{class:"form-label"}," (BNB)",-1)),ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":d[3]||(d[3]=f=>o.value.amountMax=f),min:"0",step:"any"},null,512),[[ke,o.value.amountMax,void 0,{number:!0}]])])]),c("div",QC,[c("div",XC,[d[18]||(d[18]=c("label",{class:"form-label"},"",-1)),ue(c("select",{class:"form-select","onUpdate:modelValue":d[4]||(d[4]=f=>o.value.stopType=f)},[...d[17]||(d[17]=[Kf('<option value="count" data-v-f3357255></option><option value="amount" data-v-f3357255></option><option value="time" data-v-f3357255>()</option><option value="price" data-v-f3357255></option><option value="marketcap" data-v-f3357255>(BNB)</option>',5)])],512),[[nt,o.value.stopType]])]),c("div",eT,[d[19]||(d[19]=c("label",{class:"form-label"},"",-1)),ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":d[5]||(d[5]=f=>o.value.stopValue=f),min:"0",step:"any"},null,512),[[ke,o.value.stopValue,void 0,{number:!0}]])])]),c("div",tT,[c("div",nT,[d[20]||(d[20]=c("label",{class:"form-label"},"()",-1)),ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":d[6]||(d[6]=f=>o.value.interval=f),min:"1",step:"1"},null,512),[[ke,o.value.interval,void 0,{number:!0}]])]),c("div",sT,[d[21]||(d[21]=c("label",{class:"form-label"},"",-1)),ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":d[7]||(d[7]=f=>o.value.threadCount=f),min:"1",step:"1"},null,512),[[ke,o.value.threadCount,void 0,{number:!0}]]),d[22]||(d[22]=c("div",{class:"form-text"},"",-1))])]),c("div",rT,[c("div",oT,[d[23]||(d[23]=c("label",{class:"form-label"},"Gas Price (Gwei)",-1)),ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":d[8]||(d[8]=f=>o.value.gasPrice=f),min:"0",step:"0.1",placeholder:""},null,512),[[ke,o.value.gasPrice,void 0,{number:!0}]])]),c("div",iT,[d[24]||(d[24]=c("label",{class:"form-label"},"Gas Limit",-1)),ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":d[9]||(d[9]=f=>o.value.gasLimit=f),min:"21000",step:"1000",placeholder:""},null,512),[[ke,o.value.gasLimit,void 0,{number:!0}]])])]),n.task.mode==="dump"?(I(),R("div",aT,[c("div",lT,[ue(c("input",{class:"form-check-input",type:"checkbox",id:"editSellAllCheck","onUpdate:modelValue":d[10]||(d[10]=f=>o.value.sellAll=f)},null,512),[[gs,o.value.sellAll]]),d[25]||(d[25]=c("label",{class:"form-check-label",for:"editSellAllCheck"},[c("i",{class:"bi bi-lightning-charge me-1"}),K(" ")],-1))]),d[26]||(d[26]=c("div",{class:"form-text"},"100%",-1))])):pe("",!0),c("div",cT,[c("label",uT,[d[27]||(d[27]=K("  ",-1)),c("span",dT,M(i.value)+" ",1)]),ue(c("textarea",{class:"form-control font-monospace","onUpdate:modelValue":d[11]||(d[11]=f=>o.value.walletAddressesText=f),rows:"5",placeholder:`
0x1234...
0x5678...`},null,512),[[ke,o.value.walletAddressesText]]),d[28]||(d[28]=c("div",{class:"form-text"},"",-1))])],32)]),c("div",{class:"modal-footer"},[c("button",{type:"button",class:"btn btn-secondary",onClick:a},"  "),c("button",{type:"button",class:"btn btn-primary",onClick:l},[...d[29]||(d[29]=[c("i",{class:"bi bi-check-lg me-1"},null,-1),K(" ",-1)])])])])])])],64))}}),pT=At(fT,[["__scopeId","data-v-f3357255"]]),hT={class:"task-list"},mT={class:"row g-3"},bT={class:"col-lg-4"},gT={class:"sticky-top",style:{top:"1rem"}},yT={class:"col-lg-8"},vT={key:0},wT={class:"d-flex justify-content-between align-items-center mb-2"},xT={class:"fw-semibold mb-0"},$T={class:"badge bg-primary ms-1"},kT={key:0,class:"badge bg-success ms-1"},CT={key:1,class:"badge bg-info ms-1"},TT={class:"d-flex justify-content-between align-items-center mb-2 flex-wrap gap-2"},_T={class:"d-flex gap-2"},ST=["disabled"],PT={class:"d-flex gap-2"},AT=["disabled"],ET=["disabled"],BT={class:"task-cards-container"},IT={key:1,class:"text-center text-muted py-5"},NT=ot({__name:"TaskList",setup(e){const t=Do(),{tasks:n,runningTasks:s}=mt(t),r=ee([]),o=ee(null),i=de(()=>s.value.length),a=de(()=>n.value.filter(x=>x.status==="stopped")),l=de(()=>n.value.length>0&&r.value.length===n.value.length),u=de(()=>n.value.filter(x=>r.value.includes(x.id)&&(x.status==="stopped"||x.status==="paused")).length),d=de(()=>n.value.filter(x=>r.value.includes(x.id)&&(x.status==="running"||x.status==="paused")).length);function f(x){const y=r.value.indexOf(x);y>-1?r.value.splice(y,1):r.value.push(x)}function p(){l.value?r.value=[]:r.value=n.value.map(x=>x.id)}function h(){r.value=a.value.map(x=>x.id)}function g(){const x=n.value.filter(y=>r.value.includes(y.id)&&(y.status==="stopped"||y.status==="paused"));if(x.length!==0&&confirm(` ${x.length} `))for(const y of x)y.status==="paused"?t.resumeTask(y.id):t.startTask(y.id)}function b(){const x=n.value.filter(y=>r.value.includes(y.id)&&(y.status==="running"||y.status==="paused"));if(x.length!==0&&confirm(` ${x.length} `))for(const y of x)t.stopTask(y.id)}function v(x){o.value=x}function $(){o.value=null}return(x,y)=>(I(),R("div",hT,[c("div",mT,[c("div",bT,[c("div",gT,[tt(zC)])]),c("div",yT,[Z(n).length>0?(I(),R("div",vT,[c("div",wT,[c("h6",xT,[y[0]||(y[0]=c("i",{class:"bi bi-list-task me-1"},null,-1)),y[1]||(y[1]=K(" ",-1)),c("span",$T,M(Z(n).length),1),i.value>0?(I(),R("span",kT,M(i.value)+" ",1)):pe("",!0),r.value.length>0?(I(),R("span",CT," "+M(r.value.length),1)):pe("",!0)])]),c("div",TT,[c("div",_T,[c("button",{class:"btn btn-outline-secondary btn-sm",onClick:p},[c("i",{class:Ce(["bi",l.value?"bi-check-square":"bi-square"])},null,2),K(" "+M(l.value?"":""),1)]),c("button",{class:"btn btn-outline-secondary btn-sm",onClick:h,disabled:a.value.length===0},[...y[2]||(y[2]=[c("i",{class:"bi bi-stop-circle me-1"},null,-1),K(" ",-1)])],8,ST)]),c("div",PT,[c("button",{class:"btn btn-success btn-sm",onClick:g,disabled:u.value===0},[y[3]||(y[3]=c("i",{class:"bi bi-play-fill me-1"},null,-1)),K(" ("+M(u.value)+") ",1)],8,AT),c("button",{class:"btn btn-danger btn-sm",onClick:b,disabled:d.value===0},[y[4]||(y[4]=c("i",{class:"bi bi-stop-fill me-1"},null,-1)),K(" ("+M(d.value)+") ",1)],8,ET)])]),c("div",BT,[(I(!0),R(Se,null,Le(Z(n),m=>(I(),bs(M9,{key:m.id,task:m,selected:r.value.includes(m.id),onToggleSelect:w=>f(m.id),onEdit:v},null,8,["task","selected","onToggleSelect"]))),128))])])):(I(),R("div",IT,[...y[5]||(y[5]=[c("i",{class:"bi bi-inbox fs-1 d-block mb-2"},null,-1),c("p",{class:"mb-0"},"",-1)])]))])]),o.value?(I(),bs(pT,{key:0,task:o.value,onClose:$},null,8,["task"])):pe("",!0)]))}}),RT=At(NT,[["__scopeId","data-v-26af25ab"]]),OT={class:"task-log-panel"},MT={class:"d-flex justify-content-between align-items-center mb-2"},LT={key:0,class:"btn-group btn-group-sm"},FT=["onClick","title"],UT={key:0,class:"mb-2 d-flex justify-content-between align-items-center"},DT={class:"small text-muted"},zT={key:0,class:"text-center text-muted py-4"},WT={key:1,class:"log-entries"},jT={class:"log-time text-muted me-2"},HT={class:"log-icon me-1"},VT={key:0,class:"log-wallet me-1"},GT={class:"text-primary"},qT={class:"log-message"},KT=["href"],ZT=ot({__name:"TaskLogPanel",setup(e){const t=Do(),n=Zt(),{tasks:s,activeLogTaskId:r,activeLogTask:o}=mt(t),{selectedChainId:i}=mt(n),a=ee(null);$t(()=>{var x;return(x=o.value)==null?void 0:x.logs.length},()=>{$o(()=>{a.value&&(a.value.scrollTop=a.value.scrollHeight)})});function l(x){t.setActiveLogTask(x)}function u(){r.value&&t.clearTaskLogs(r.value)}function d(x){switch(x.status){case"running":return"bg-success";case"paused":return"bg-warning";case"stopped":return"bg-secondary";default:return"bg-secondary"}}function f(x){switch(x.status){case"running":return"";case"paused":return"";case"stopped":return"";default:return""}}function p(x){return x.mode==="pump"?"bg-success":"bg-danger"}function h(x){switch(x){case"success":return"text-success";case"error":return"text-danger";case"warning":return"text-warning";default:return""}}function g(x){switch(x){case"success":return"";case"error":return"";case"warning":return"";default:return""}}function b(x){return new Date(x).toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}function v(x){return x?`${x.slice(0,6)}...${x.slice(-4)}`:""}function $(x){return({56:"https://bscscan.com/tx/",97:"https://testnet.bscscan.com/tx/",66:"https://www.oklink.com/okc/tx/"}[i.value]||"https://bscscan.com/tx/")+x}return(x,y)=>(I(),R("div",OT,[c("div",MT,[y[0]||(y[0]=c("h6",{class:"fw-semibold mb-0"},[c("i",{class:"bi bi-journal-text me-1"}),K(" ")],-1)),Z(s).length>0?(I(),R("div",LT,[(I(!0),R(Se,null,Le(Z(s),m=>(I(),R("button",{key:m.id,class:Ce(["btn btn-outline-secondary",{active:Z(r)===m.id}]),onClick:w=>l(m.id),title:m.name},[c("span",{class:Ce(["badge me-1",d(m)])},M(f(m)),3),K(" "+M(m.name.length>6?m.name.slice(0,6)+"...":m.name),1)],10,FT))),128))])):pe("",!0)]),Z(o)?(I(),R("div",UT,[c("span",DT,[c("span",{class:Ce(["badge",p(Z(o))])},M(Z(o).mode==="pump"?"":""),3),K(" "+M(Z(o).name)+" - "+M(Z(o).logs.length)+"  ",1)]),c("button",{class:"btn btn-outline-secondary btn-sm",onClick:u,title:""},[...y[1]||(y[1]=[c("i",{class:"bi bi-trash"},null,-1)])])])):pe("",!0),c("div",{class:"log-container border rounded p-2",ref_key:"logContainer",ref:a},[!Z(o)||Z(o).logs.length===0?(I(),R("div",zT,[y[2]||(y[2]=c("i",{class:"bi bi-inbox fs-3 d-block mb-2"},null,-1)),c("small",null,M(Z(o)?"":""),1)])):(I(),R("div",WT,[(I(!0),R(Se,null,Le(Z(o).logs,m=>(I(),R("div",{key:m.id,class:Ce(["log-entry small py-1 border-bottom",h(m.type)])},[c("span",jT,M(b(m.timestamp)),1),c("span",HT,M(g(m.type)),1),m.walletAddress?(I(),R("span",VT,[c("code",GT,M(v(m.walletAddress)),1)])):pe("",!0),c("span",qT,M(m.message),1),m.txHash?(I(),R("a",{key:1,href:$(m.txHash),target:"_blank",class:"ms-1 text-decoration-none",title:""},[...y[3]||(y[3]=[c("i",{class:"bi bi-box-arrow-up-right"},null,-1)])],8,KT)):pe("",!0)],2))),128))]))],512)]))}}),YT=At(ZT,[["__scopeId","data-v-54ae1df3"]]),JT={class:"container-fluid py-3"},QT={class:"row g-3 mb-3"},XT={class:"col-12"},e_={class:"card shadow-sm"},t_={class:"card-body"},n_={class:"row g-3 mb-3"},s_={class:"col-12"},r_={class:"card shadow-sm"},o_={class:"card-body"},i_={class:"row g-3"},a_={class:"col-12"},l_={class:"card shadow-sm"},c_={class:"card-body"},u_=ot({name:"TaskManagePanel",__name:"TaskManagePanel",setup(e){return(t,n)=>(I(),R("div",JT,[n[0]||(n[0]=c("h1",{class:"h4 mb-3"},"",-1)),c("div",QT,[c("div",XT,[c("div",e_,[c("div",t_,[tt(Wh)])])])]),c("div",n_,[c("div",s_,[c("div",r_,[c("div",o_,[tt(RT)])])])]),c("div",i_,[c("div",a_,[c("div",l_,[c("div",c_,[tt(YT)])])])])]))}}),d_={class:"container-fluid py-3"},f_={class:"d-flex align-items-center justify-content-between mb-3"},p_=["disabled"],h_={class:"row g-3"},m_={class:"col-lg-4"},b_={class:"card shadow-sm"},g_={class:"card-body"},y_=["value"],v_={key:0,class:"alert alert-danger py-2 mb-0"},w_=["disabled"],x_={class:"col-lg-8"},$_={class:"card shadow-sm"},k_={class:"card-body"},C_={key:0,class:"text-muted"},T_={key:1},__={key:0,class:"alert alert-danger py-2"},S_={key:1,class:"text-muted"},P_={key:2,class:"table-responsive"},A_={class:"table table-sm align-middle"},E_=ot({__name:"UserManagement",setup(e){const t=ee([]),n=ee([]),s=ee(!1),r=ee(""),o=ee(""),i=wo({username:"",password:"",email:"",roleName:"trader"}),a=de(()=>n.value.filter(f=>f.name!=="super_admin")),l=async()=>{var f,p;s.value=!0,r.value="";try{const h=await Wr("/api/roles");n.value=((f=h.data)==null?void 0:f.roles)||[];const g=a.value;g.length&&!g.find(v=>v.name===i.roleName)&&(i.roleName=g[0].name);const b=await Wr("/api/users");t.value=((p=b.data)==null?void 0:p.users)||[]}catch(h){r.value=(h==null?void 0:h.message)||""}finally{s.value=!1}},u=async()=>{o.value="",s.value=!0;try{await Wr("/api/users",{method:"POST",body:JSON.stringify({username:i.username,password:i.password,email:i.email||void 0,roleName:i.roleName})}),i.username="",i.password="",i.email="",await l()}catch(f){o.value=(f==null?void 0:f.message)||""}finally{s.value=!1}},d=f=>{if(!f)return"-";const p=new Date(f);return Number.isNaN(p.getTime())?f:p.toLocaleString()};return gr(l),(f,p)=>(I(),R("div",d_,[c("div",f_,[p[4]||(p[4]=c("div",null,[c("h2",{class:"h5 mb-1"},""),c("div",{class:"text-muted small"},"")],-1)),c("button",{class:"btn btn-outline-secondary btn-sm",onClick:l,disabled:s.value},"  ",8,p_)]),c("div",h_,[c("div",m_,[c("div",b_,[c("div",g_,[p[9]||(p[9]=c("h3",{class:"h6 mb-3"},"",-1)),c("form",{class:"d-grid gap-3",onSubmit:$n(u,["prevent"])},[c("div",null,[p[5]||(p[5]=c("label",{class:"form-label"},"",-1)),ue(c("input",{"onUpdate:modelValue":p[0]||(p[0]=h=>i.username=h),class:"form-control",placeholder:"",required:""},null,512),[[ke,i.username]])]),c("div",null,[p[6]||(p[6]=c("label",{class:"form-label"},"",-1)),ue(c("input",{"onUpdate:modelValue":p[1]||(p[1]=h=>i.password=h),class:"form-control",type:"password",placeholder:"",required:""},null,512),[[ke,i.password]])]),c("div",null,[p[7]||(p[7]=c("label",{class:"form-label"},"",-1)),ue(c("input",{"onUpdate:modelValue":p[2]||(p[2]=h=>i.email=h),class:"form-control",type:"email",placeholder:"example@domain.com"},null,512),[[ke,i.email]])]),c("div",null,[p[8]||(p[8]=c("label",{class:"form-label"},"",-1)),ue(c("select",{"onUpdate:modelValue":p[3]||(p[3]=h=>i.roleName=h),class:"form-select",required:""},[(I(!0),R(Se,null,Le(a.value,h=>(I(),R("option",{key:h.name,value:h.name},M(h.displayName||h.name),9,y_))),128))],512),[[nt,i.roleName]])]),o.value?(I(),R("div",v_,M(o.value),1)):pe("",!0),c("button",{class:"btn btn-primary",type:"submit",disabled:s.value},M(s.value?"...":""),9,w_)],32)])])]),c("div",x_,[c("div",$_,[c("div",k_,[p[11]||(p[11]=c("h3",{class:"h6 mb-3"},"",-1)),s.value?(I(),R("div",C_,"...")):(I(),R("div",T_,[r.value?(I(),R("div",__,M(r.value),1)):pe("",!0),!t.value.length&&!r.value?(I(),R("div",S_,"")):(I(),R("div",P_,[c("table",A_,[p[10]||(p[10]=c("thead",null,[c("tr",null,[c("th",null,""),c("th",null,""),c("th",null,""),c("th",null,""),c("th",null,"")])],-1)),c("tbody",null,[(I(!0),R(Se,null,Le(t.value,h=>{var g,b,v;return I(),R("tr",{key:h._id},[c("td",null,M(h.username),1),c("td",null,M(((g=h.role)==null?void 0:g.displayName)||((b=h.role)==null?void 0:b.name)||"-"),1),c("td",null,[c("span",{class:Ce(["badge",h.isActive?"bg-success":"bg-secondary"])},M(h.isActive?"":""),3)]),c("td",null,M(((v=h.createdBy)==null?void 0:v.username)||"-"),1),c("td",null,M(d(h.createdAt)),1)])}),128))])])]))]))])])])])]))}}),B_={},I_={class:"container-fluid py-3"};function N_(e,t){return I(),R("div",I_,[...t[0]||(t[0]=[c("div",{class:"card shadow-sm"},[c("div",{class:"card-body"},[c("h2",{class:"h5 mb-2"},""),c("p",{class:"text-muted mb-0"},"  ")])],-1)])])}const R_=At(B_,[["render",N_]]),Xo="0x5c952063c7fc8610FFDB798152D69F0B9550762b",O_="0x87f27655",qa="0x396d5e902b675b032348d3d2e9517ee8f0c4a926603fbc075d3d282ff00cad20",M_="0x757eba15a64468e6535532fcf093cef90e226f85",L_="0x3eb722ec5d79ddc2f52880ea62f1b7e7d95c66d4ae0dfe32f988ca9eca52b359",Gl="0x519ebb10",Hh=["wss://bsc.publicnode.com","wss://bsc-rpc.publicnode.com"],ql=["https://bsc.publicnode.com","https://bsc-dataseed.binance.org","https://bsc-dataseed1.binance.org","https://bsc-dataseed2.binance.org","https://bsc-dataseed3.binance.org","https://bsc-dataseed4.binance.org","https://bsc-dataseed1.defibit.io","https://bsc-dataseed2.defibit.io","https://bsc-dataseed1.ninicoin.io","https://bsc-dataseed2.ninicoin.io","https://rpc.ankr.com/bsc","https://bsc-rpc.publicnode.com"];function F_(e,t,n){const s=e.toLowerCase().replace("0x",""),r=t.replace("0x","").padStart(64,"0"),o=n.replace("0x",""),i="0xff"+s+r+o;return"0x"+Ye(i).slice(-40)}function Wd(e){if(!e.toLowerCase().startsWith(Gl))return null;const t=e.slice(10),n=5*64,s=n+64;if(t.length<s)return null;const r="0x"+t.slice(n,s);return F_(M_,r,L_)}function U_(e,t=0n,n=0n){const s=e.slice(2).toLowerCase().padStart(64,"0"),r=t.toString(16).padStart(64,"0"),o=n.toString(16).padStart(64,"0");return O_+s+r+o}function Ka(e){const t=e.data.slice(2),n="0x"+t.slice(24,64),s="0x"+t.slice(88,128);return{creator:n,token:s,blockNumber:e.blockNumber||0n,transactionHash:e.transactionHash||""}}function ei(e){return e===97?xs:Os}class D_{constructor(t,n=56,s,r){Ae(this,"task");Ae(this,"chainId");Ae(this,"httpRpcUrl");Ae(this,"wssRpcUrl");Ae(this,"wsClient",null);Ae(this,"httpClient",null);Ae(this,"rawWs",null);Ae(this,"walletClients",new Map);Ae(this,"unwatch",null);Ae(this,"isRunning",!1);Ae(this,"pendingTxProcessed",new Set);Ae(this,"logs",[]);Ae(this,"onLog",null);Ae(this,"onTokenFound",null);Ae(this,"onBuyComplete",null);Ae(this,"onStatusChange",null);Ae(this,"httpClients",[]);Ae(this,"nodeIndex",0);Ae(this,"activeRequests",0);Ae(this,"maxConcurrentRequests",20);this.task=t,this.chainId=n,this.httpRpcUrl=s||t.customHttpRpc||ql[0],this.wssRpcUrl=r||t.customWssRpc||Hh[0]}setOnLog(t){this.onLog=t}setOnTokenFound(t){this.onTokenFound=t}setOnBuyComplete(t){this.onBuyComplete=t}setOnStatusChange(t){this.onStatusChange=t}log(t,n,s){var i;const r={timestamp:Date.now(),type:t,message:n,data:s};this.logs.push(r),(i=this.onLog)==null||i.call(this,r);const o={info:"[INFO]",success:"[SUCCESS]",error:"[ERROR]",warning:"[WARNING]"}[t];console.log(`${o} ${n}`,s||"")}async initialize(){try{this.log("info","..."),this.httpClient=sn({chain:ei(this.chainId),transport:He(this.httpRpcUrl)}),this.log("info",`: ${this.httpRpcUrl}`);const t=this.task.customHttpRpc?[this.task.customHttpRpc]:ql;for(const n of t)try{const s=sn({chain:ei(this.chainId),transport:He(n,{timeout:5e3})});this.httpClients.push(s)}catch{}this.log("info",`: ${this.httpClients.length} `);try{this.wsClient=sn({chain:ei(this.chainId),transport:Cx(this.wssRpcUrl)}),await this.wsClient.getBlockNumber(),this.log("success",`WebSocket : ${this.wssRpcUrl}`)}catch{this.log("warning","WebSocket  HTTP "),this.wsClient=null}for(const n of this.task.wallets)try{const s=lt(n.privateKey),r=Ht({account:s,chain:ei(this.chainId),transport:He(this.httpRpcUrl)});this.walletClients.set(n.address.toLowerCase(),r),this.log("info",`: ${n.address.slice(0,10)}...`)}catch(s){this.log("error",`: ${n.address}`,s.message)}return this.log("success",""),!0}catch(t){return this.log("error","",t.message),!1}}getNextClient(){if(this.httpClients.length===0)return this.httpClient;const t=this.httpClients[this.nodeIndex%this.httpClients.length];return this.nodeIndex++,t}async start(){if(this.isRunning){this.log("warning","");return}if(!await this.initialize()){this.updateStatus("failed");return}this.isRunning=!0,this.updateStatus("running"),!this.task.targetWallet||this.task.targetWallet.trim()===""?this.log("warning"," :  ()"):this.log("info",`: ${this.task.targetWallet}`),this.log("info",`: ${this.task.buyAmount.toFixed(18).replace(/\.?0+$/,"")} BNB`),this.log("info",`Gas: ${this.task.gasPrice>0?this.task.gasPrice+" Gwei":""}, Limit: ${this.task.gasLimit>0?this.task.gasLimit:""}`),this.log("info",`: ${this.task.wallets.length}`),this.startPendingTxMonitor(),this.startHttpPendingPolling(),this.startPolling()}startHttpPendingPolling(){if(!this.httpClient)return;this.log("info"," HTTP Pending ...");let t=new Set;const n=async()=>{var s,r,o;if(!(!this.isRunning||!this.httpClient)){try{const i=await this.httpClient.getBlock({blockTag:"pending",includeTransactions:!0});if(i&&i.transactions)for(const a of i.transactions){if(typeof a=="string"||t.has(a.hash))continue;if(t.add(a.hash),t.size>5e4){const x=t.values().next().value;x&&t.delete(x)}if(((s=a.to)==null?void 0:s.toLowerCase())!==Xo.toLowerCase()||a.input.slice(0,10).toLowerCase()!==Gl)continue;const u=Date.now(),d=!this.task.targetWallet||this.task.targetWallet.trim()==="";if(this.log("info","[HTTP Pending]  FourMeme createAndBuy"),this.log("info",`[HTTP Pending] : ${a.from}`),!d&&a.from.toLowerCase()!==this.task.targetWallet.toLowerCase())continue;d?this.log("success"," [HTTP Pending] ! ()"):this.log("success"," [HTTP Pending] !");const f=Date.now(),p=Wd(a.input),h=Date.now()-f;if(!p){this.log("error","");continue}this.log("success",` [] ${p}`),this.log("info",` : ${h}ms`);const g={creator:a.from,token:p,blockNumber:0n,transactionHash:a.hash};(r=this.onTokenFound)==null||r.call(this,g);const b=Date.now();this.log("info"," ...");const v=await this.executeBuy(p),$=Date.now()-b;this.log("info",` : ${$}ms`),this.log("info",`  (): ${Date.now()-u}ms`),(o=this.onBuyComplete)==null||o.call(this,v),this.verifyPrediction(a.hash,p,u),this.stop(),this.updateStatus("completed");return}}catch{}this.isRunning&&setTimeout(n,200)}};n()}startPendingTxMonitor(){let t=0,n=0;const s=10,r=()=>{if(this.isRunning)try{this.rawWs=new WebSocket(this.wssRpcUrl),this.rawWs.onopen=()=>{var a;n=0,this.log("success",`WebSocket Pending : ${this.wssRpcUrl}`);const o=JSON.stringify({jsonrpc:"2.0",id:1,method:"eth_subscribe",params:["newPendingTransactions"]});(a=this.rawWs)==null||a.send(o);const i=setInterval(()=>{if(!this.isRunning){clearInterval(i);return}this.log("info",`[Pending] 10: ${t} `),t=0},1e4)},this.rawWs.onmessage=async o=>{var i;if(this.isRunning)try{const a=JSON.parse(o.data);if(a.id===1&&a.result){this.log("success",`Pending ID: ${a.result}`);return}if(a.method==="eth_subscription"&&((i=a.params)!=null&&i.result)){const l=a.params.result;if(t++,this.pendingTxProcessed.has(l))return;if(this.pendingTxProcessed.add(l),this.pendingTxProcessed.size>5e4){const u=this.pendingTxProcessed.values().next().value;u&&this.pendingTxProcessed.delete(u)}this.processPendingTxDirect(l)}}catch{}},this.rawWs.onerror=o=>{this.log("warning","WebSocket ")},this.rawWs.onclose=()=>{this.isRunning&&(n++,n<=s?(this.log("warning",`WebSocket ${n} (${n}/${s})`),setTimeout(r,n*1e3)):this.log("error","WebSocket  HTTP "))}}catch(o){this.log("warning",`WebSocket : ${o.message}`),n++,n<=s&&setTimeout(r,n*1e3)}};r()}async processPendingTxDirect(t){var s,r,o;if(!this.isRunning||this.activeRequests>=this.maxConcurrentRequests)return;this.activeRequests++;const n=Date.now();try{const i=this.getNextClient();if(!i)return;const a=await i.getTransaction({hash:t});if(!a||((s=a.to)==null?void 0:s.toLowerCase())!==Xo.toLowerCase()||a.input.slice(0,10).toLowerCase()!==Gl)return;const u=!this.task.targetWallet||this.task.targetWallet.trim()==="";if(this.log("info","[Pending]  FourMeme createAndBuy"),this.log("info",`[Pending] : ${a.from}`),this.log("info",`[Pending] : ${Date.now()-n}ms`),!u&&a.from.toLowerCase()!==this.task.targetWallet.toLowerCase())return;const d=Date.now();u?this.log("success"," [Pending] ! ()"):this.log("success"," [Pending] !"),this.log("info",`: ${t}`);const f=Date.now(),p=Wd(a.input),h=Date.now()-f;if(!p){this.log("error","..."),await this.waitAndBuyConfirmed(t);return}this.log("success",` [] ${p}`),this.log("info",` : ${h}ms`);const g={creator:a.from,token:p,blockNumber:0n,transactionHash:t};(r=this.onTokenFound)==null||r.call(this,g);const b=Date.now();this.log("info"," ...");const v=await this.executeBuy(p),$=Date.now()-b;this.log("info",` : ${$}ms`),this.log("info",`  (): ${Date.now()-n}ms`),(o=this.onBuyComplete)==null||o.call(this,v),this.verifyPrediction(t,p,n),this.stop(),this.updateStatus("completed")}catch{}finally{this.activeRequests--}}async verifyPrediction(t,n,s){if(this.httpClient)try{this.log("info"," ...");const r=await this.httpClient.waitForTransactionReceipt({hash:t,timeout:6e4}),o=Date.now();if(r.status==="success"){const i=r.logs.find(a=>{var l;return((l=a.topics[0])==null?void 0:l.toLowerCase())===qa.toLowerCase()});if(i){const a=Ka(i),l=a.token.toLowerCase(),u=n.toLowerCase(),d=l===u;this.log("info","  "),this.log("info",` : ${n}`),this.log("info",` : ${a.token}`),d?this.log("success"," ! "):this.log("error"," !"),this.log("info",` : ${r.blockNumber}`),this.log("info",` : ${o-s}ms`),this.log("info","")}}else this.log("error","")}catch{this.log("warning","")}}async waitAndBuyConfirmed(t){var n,s;if(this.httpClient)try{const r=await this.httpClient.waitForTransactionReceipt({hash:t,timeout:6e4});if(r.status==="success"){const o=r.logs.find(i=>{var a;return((a=i.topics[0])==null?void 0:a.toLowerCase())===qa.toLowerCase()});if(o){const i=Ka(o);this.log("success",`  (): ${i.token}`),(n=this.onTokenFound)==null||n.call(this,i);const a=await this.executeBuy(i.token);(s=this.onBuyComplete)==null||s.call(this,a),this.stop(),this.updateStatus("completed")}}}catch{this.log("error","")}}startPolling(){if(!this.httpClient)return;let t=0n,n=0;this.log("info"," HTTP ...");const s=async()=>{if(!(!this.isRunning||!this.httpClient)){try{const r=await this.httpClient.getBlockNumber();if(t===0n&&(t=r,this.log("info",` ${r} ...`)),r>t)try{const i=(await this.httpClient.getLogs({address:Xo,fromBlock:t+1n,toBlock:r})).filter(a=>{var l;return((l=a.topics[0])==null?void 0:l.toLowerCase())===qa.toLowerCase()});i.length>0&&this.log("info",` ${t+1n}-${r}  ${i.length} `);for(const a of i)await this.handleTokenCreatedEvent(a);t=r}catch{}n++,n%100===0&&this.log("info",`... : ${r}`)}catch{}this.isRunning&&setTimeout(s,100)}};s()}async handleTokenCreatedEvent(t){var n,s;try{const r=Ka(t),o=!this.task.targetWallet||this.task.targetWallet.trim()==="";if(this.log("info",`[] : ${r.token}`),this.log("info",`[] : ${r.creator}`),o||r.creator.toLowerCase()===this.task.targetWallet.toLowerCase()){o?this.log("success",` [] ! () Token: ${r.token}`):this.log("success",` [] Token: ${r.token}`),(n=this.onTokenFound)==null||n.call(this,r);const a=Date.now();this.log("info"," ...");const l=await this.executeBuy(r.token),u=Date.now()-a;this.log("info",` : ${u}ms`),(s=this.onBuyComplete)==null||s.call(this,l),this.stop(),this.updateStatus("completed")}}catch(r){this.log("error",`: ${r.message}`)}}async executeBuy(t){this.log("info",`: ${t}`);const n=this.task.wallets.map(o=>this.buyWithWallet(o,t)),s=await Promise.all(n),r=s.filter(o=>o.success).length;return this.log("info",`: ${r}/${s.length} `),s}async buyWithWallet(t,n){const s=this.walletClients.get(t.address.toLowerCase());if(!s)return{success:!1,walletAddress:t.address,error:""};try{const r=Date.now(),o=U_(n),i=BigInt(Math.floor(this.task.buyAmount*1e18));let a;if(this.httpClient)try{a=await this.httpClient.getTransactionCount({address:t.address,blockTag:"pending"})}catch{}const l={to:Xo,data:o,value:i};a!==void 0&&(l.nonce=a),this.task.gasLimit>0&&(l.gas=BigInt(this.task.gasLimit)),this.task.gasPrice>0&&(l.gasPrice=BigInt(this.task.gasPrice)*BigInt(1e9)),this.log("info",`: ${t.address.slice(0,10)}... (nonce: ${a??"auto"})`);const u=await s.sendTransaction(l),d=Date.now()-r;return this.log("success",`: ${u.slice(0,20)}... (${d}ms)`),this.httpClient&&this.httpClient.waitForTransactionReceipt({hash:u}).then(f=>{f.status==="success"?this.log("success",`: ${u.slice(0,20)}...`):this.log("error",`: ${u.slice(0,20)}...`)}).catch(f=>{this.log("warning",`: ${u.slice(0,20)}...`)}),{success:!0,walletAddress:t.address,txHash:u}}catch(r){return this.log("error",` ${t.address.slice(0,10)}... : ${r.message}`),{success:!1,walletAddress:t.address,error:r.message}}}stop(){var t;this.isRunning=!1,(t=this.unwatch)==null||t.call(this),this.unwatch=null,this.rawWs&&(this.rawWs.close(),this.rawWs=null),this.log("info","")}updateStatus(t){var n;this.task.status=t,(n=this.onStatusChange)==null||n.call(this,t)}getLogs(){return[...this.logs]}getStatus(){return this.task.status}destroy(){this.stop(),this.walletClients.clear(),this.pendingTxProcessed.clear(),this.wsClient=null,this.httpClient=null,this.logs=[]}}function z_(e,t,n,s){return new D_(e,t,n,s)}function W_(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}const j_=Co("snipe",()=>{const e=ee([]),t=ee(new Map),n=ee(new Map),s=ee(null),r=de(()=>s.value&&e.value.find(v=>v.id===s.value)||null),o=de(()=>s.value?n.value.get(s.value)||[]:[]),i=de(()=>e.value.filter(v=>v.status==="running")),a=de(()=>e.value.filter(v=>v.status==="pending"));function l(v){const $=pn();let x=[];if(v.batchId){const m=$.walletBatches.find(w=>w.id===v.batchId);m&&(x=m.wallets.map(w=>({address:w.address,privateKey:w.privateKey,remark:w.remark})))}else if(v.walletAddresses&&v.walletAddresses.length>0)for(const m of v.walletAddresses){const w=$.localWallets.find(P=>P.address.toLowerCase()===m.toLowerCase());w&&w.encrypted&&x.push({address:w.address,privateKey:w.encrypted,remark:w.remark})}else for(const m of $.selectedWalletAddresses){const w=$.localWallets.find(P=>P.address.toLowerCase()===m.toLowerCase());w&&w.encrypted&&x.push({address:w.address,privateKey:w.encrypted,remark:w.remark})}const y={id:W_(),targetWallet:v.targetWallet,buyAmount:v.buyAmount,gasPrice:v.gasPrice,gasLimit:v.gasLimit,wallets:x,status:"pending",createdAt:Date.now(),customHttpRpc:v.customHttpRpc,customWssRpc:v.customWssRpc};return e.value.push(y),n.value.set(y.id,[]),y}function u(v){const $=t.value.get(v);$&&($.destroy(),t.value.delete(v));const x=e.value.findIndex(y=>y.id===v);x!==-1&&e.value.splice(x,1),n.value.delete(v),s.value===v&&(s.value=null)}function d(v){s.value=v}async function f(v){const $=e.value.find(m=>m.id===v);if(!$)return console.error(":",v),!1;if($.status==="running")return console.warn(""),!1;if($.wallets.length===0)return h(v,"error",""),!1;const x=Zt(),y=z_($,x.selectedChainId,$.customHttpRpc,$.customWssRpc);y.setOnLog(m=>{h(v,m.type,m.message,m.data)}),y.setOnTokenFound(m=>{h(v,"success",`: ${m.token}`,m)}),y.setOnBuyComplete(m=>{const w=m.filter(P=>P.success).length;h(v,"info",`: ${w}/${m.length} `,m)}),y.setOnStatusChange(m=>{const w=e.value.find(P=>P.id===v);w&&(w.status=m)}),t.value.set(v,y);try{return await y.start(),!0}catch(m){return h(v,"error",`: ${m.message}`),$.status="failed",!1}}function p(v){const $=t.value.get(v);$&&($.stop(),t.value.delete(v));const x=e.value.find(y=>y.id===v);x&&x.status==="running"&&(x.status="stopped"),h(v,"info","")}function h(v,$,x,y){const m=n.value.get(v)||[];m.push({timestamp:Date.now(),type:$,message:x,data:y}),n.value.set(v,m)}function g(v){n.value.set(v,[])}function b(v){return n.value.get(v)||[]}return{tasks:e,currentTaskId:s,taskLogs:n,currentTask:r,currentLogs:o,runningTasks:i,pendingTasks:a,createTask:l,deleteTask:u,selectTask:d,startTask:f,stopTask:p,addLog:h,clearLogs:g,getTaskLogs:b}}),H_={class:"snipe-panel"},V_={class:"panel-body"},G_={class:"task-form card mb-3"},q_={class:"card-body"},K_={class:"mb-3"},Z_={class:"mb-3"},Y_={class:"row mb-3"},J_={class:"col-6"},Q_={class:"col-6"},X_={class:"mb-3"},eS={class:"d-flex justify-content-between align-items-center mb-2"},tS={key:0,class:"node-settings"},nS={class:"mb-2"},sS=["placeholder"],rS={class:"mb-2"},oS=["placeholder"],iS={class:"mb-3"},aS={class:"wallet-select"},lS={class:"btn-group btn-group-sm w-100 mb-2"},cS={key:0,class:"batch-select"},uS=["value"],dS={key:1,class:"selected-preview"},fS={key:0,class:"text-muted small"},pS={key:1,class:"small text-muted"},hS=["disabled"],mS={class:"task-list card mb-3"},bS={class:"card-header d-flex justify-content-between align-items-center"},gS={class:"badge bg-info"},yS={class:"card-body p-0"},vS={key:0,class:"text-center text-muted py-4"},wS={key:1,class:"list-group list-group-flush"},xS=["onClick"],$S={class:"d-flex justify-content-between align-items-start"},kS={class:"task-info"},CS={class:"task-target text-truncate",style:{"max-width":"180px"}},TS={key:0},_S={key:1,class:"text-warning"},SS={class:"task-meta small text-muted"},PS={class:"task-actions d-flex align-items-center gap-2"},AS={class:"btn-group"},ES=["onClick"],BS=["onClick"],IS=["onClick"],NS={class:"log-panel card"},RS={class:"card-header d-flex justify-content-between align-items-center"},OS={key:0,class:"text-center text-muted py-3"},MS={key:1,class:"log-entries"},LS={class:"log-time"},FS={class:"log-type"},US={class:"log-message"},DS=ot({__name:"SnipePanel",setup(e){const t=j_(),n=pn(),s=ql[0],r=Hh[0],o=ee(!1),i=ee({targetWallet:"",buyAmount:.1,gasPrice:0,gasLimit:0,batchId:"",customHttpRpc:"",customWssRpc:""}),a=ee("selected"),l=ee(null),u=de(()=>t.currentTaskId?t.getTaskLogs(t.currentTaskId):[]),d=de(()=>{const y=i.value.targetWallet.trim();return!(y&&!y.match(/^0x[a-fA-F0-9]{40}$/)||i.value.buyAmount<=0||a.value==="selected"&&n.selectedWalletAddresses.length===0||a.value==="batch"&&!i.value.batchId)});function f(){if(!d.value)return;const y=t.createTask({targetWallet:i.value.targetWallet,buyAmount:i.value.buyAmount,gasPrice:i.value.gasPrice,gasLimit:i.value.gasLimit,batchId:a.value==="batch"?i.value.batchId:void 0,customHttpRpc:i.value.customHttpRpc||void 0,customWssRpc:i.value.customWssRpc||void 0});t.selectTask(y.id),i.value.targetWallet=""}async function p(y){t.selectTask(y),await t.startTask(y)}function h(y){t.stopTask(y)}function g(y){confirm("")&&t.deleteTask(y)}function b(){t.currentTaskId&&t.clearLogs(t.currentTaskId)}function v(y){return new Date(y).toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3})}function $(y){return{pending:"bg-secondary",running:"bg-success",completed:"bg-primary",failed:"bg-danger",stopped:"bg-warning"}[y]||"bg-secondary"}function x(y){return{pending:"",running:"",completed:"",failed:"",stopped:""}[y]||y}return $t(u,async()=>{await $o(),l.value&&(l.value.scrollTop=l.value.scrollHeight)},{deep:!0}),(y,m)=>(I(),R("div",H_,[m[32]||(m[32]=c("div",{class:"panel-header"},[c("h5",{class:"mb-0"},[c("i",{class:"bi bi-crosshair me-2"}),K("  ")]),c("span",{class:"badge bg-secondary"},"FourMeme ")],-1)),c("div",V_,[c("div",G_,[m[25]||(m[25]=c("div",{class:"card-header"},[c("h6",{class:"mb-0"},"")],-1)),c("div",q_,[c("div",K_,[m[10]||(m[10]=c("label",{class:"form-label"},"",-1)),ue(c("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":m[0]||(m[0]=w=>i.value.targetWallet=w),placeholder:" =  ()"},null,512),[[ke,i.value.targetWallet]]),m[11]||(m[11]=c("small",{class:"text-muted"},"",-1))]),c("div",Z_,[m[12]||(m[12]=c("label",{class:"form-label"}," (BNB)",-1)),ue(c("input",{type:"number",class:"form-control form-control-sm","onUpdate:modelValue":m[1]||(m[1]=w=>i.value.buyAmount=w),placeholder:"0.1",step:"any"},null,512),[[ke,i.value.buyAmount,void 0,{number:!0}]]),m[13]||(m[13]=c("small",{class:"text-muted"},"",-1))]),c("div",Y_,[c("div",J_,[m[14]||(m[14]=c("label",{class:"form-label"},"Gas Price (Gwei)",-1)),ue(c("input",{type:"number",class:"form-control form-control-sm","onUpdate:modelValue":m[2]||(m[2]=w=>i.value.gasPrice=w),placeholder:"0 = ",step:"1",min:"0"},null,512),[[ke,i.value.gasPrice,void 0,{number:!0}]]),m[15]||(m[15]=c("small",{class:"text-muted"},"0 = ",-1))]),c("div",Q_,[m[16]||(m[16]=c("label",{class:"form-label"},"Gas Limit",-1)),ue(c("input",{type:"number",class:"form-control form-control-sm","onUpdate:modelValue":m[3]||(m[3]=w=>i.value.gasLimit=w),placeholder:"0 = ",step:"10000",min:"0"},null,512),[[ke,i.value.gasLimit,void 0,{number:!0}]]),m[17]||(m[17]=c("small",{class:"text-muted"},"0 = ",-1))])]),c("div",X_,[c("div",eS,[m[18]||(m[18]=c("label",{class:"form-label mb-0"},"",-1)),c("button",{type:"button",class:"btn btn-link btn-sm p-0",onClick:m[4]||(m[4]=w=>o.value=!o.value)},M(o.value?"":""),1)]),o.value?(I(),R("div",tS,[c("div",nS,[m[19]||(m[19]=c("label",{class:"form-label small"},"HTTP RPC",-1)),ue(c("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":m[5]||(m[5]=w=>i.value.customHttpRpc=w),placeholder:Z(s)},null,8,sS),[[ke,i.value.customHttpRpc]])]),c("div",rS,[m[20]||(m[20]=c("label",{class:"form-label small"},"WebSocket",-1)),ue(c("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":m[6]||(m[6]=w=>i.value.customWssRpc=w),placeholder:Z(r)},null,8,oS),[[ke,i.value.customWssRpc]])]),m[21]||(m[21]=c("small",{class:"text-muted"},"",-1))])):pe("",!0)]),c("div",iS,[m[23]||(m[23]=c("label",{class:"form-label"},"",-1)),c("div",aS,[c("div",lS,[c("button",{type:"button",class:Ce(["btn",a.value==="selected"?"btn-primary":"btn-outline-primary"]),onClick:m[7]||(m[7]=w=>a.value="selected")},"  ("+M(Z(n).selectedWalletAddresses.length)+") ",3),c("button",{type:"button",class:Ce(["btn",a.value==="batch"?"btn-primary":"btn-outline-primary"]),onClick:m[8]||(m[8]=w=>a.value="batch")},"  ",2)]),a.value==="batch"?(I(),R("div",cS,[ue(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":m[9]||(m[9]=w=>i.value.batchId=w)},[m[22]||(m[22]=c("option",{value:""},"...",-1)),(I(!0),R(Se,null,Le(Z(n).walletBatches,w=>(I(),R("option",{key:w.id,value:w.id},M(w.remark)+" ("+M(w.wallets.length)+" ) ",9,uS))),128))],512),[[nt,i.value.batchId]])])):(I(),R("div",dS,[Z(n).selectedWalletAddresses.length===0?(I(),R("div",fS,"  ")):(I(),R("div",pS,"  "+M(Z(n).selectedWalletAddresses.length)+"  ",1))]))])]),c("button",{class:"btn btn-primary w-100",onClick:f,disabled:!d.value},[...m[24]||(m[24]=[c("i",{class:"bi bi-plus-circle me-1"},null,-1),K("  ",-1)])],8,hS)])]),c("div",mS,[c("div",bS,[m[26]||(m[26]=c("h6",{class:"mb-0"},"",-1)),c("span",gS,M(Z(t).tasks.length),1)]),c("div",yS,[Z(t).tasks.length===0?(I(),R("div",vS,"  ")):(I(),R("div",wS,[(I(!0),R(Se,null,Le(Z(t).tasks,w=>(I(),R("div",{key:w.id,class:Ce(["list-group-item task-item",{active:Z(t).currentTaskId===w.id}]),onClick:P=>Z(t).selectTask(w.id)},[c("div",$S,[c("div",kS,[c("div",CS,[m[27]||(m[27]=c("i",{class:"bi bi-crosshair me-1"},null,-1)),w.targetWallet&&w.targetWallet.trim()?(I(),R("span",TS,M(w.targetWallet.slice(0,10))+"..."+M(w.targetWallet.slice(-6)),1)):(I(),R("span",_S,""))]),c("div",SS,M(w.buyAmount)+" BNB  "+M(w.wallets.length)+"  ",1)]),c("div",PS,[c("span",{class:Ce(["badge",$(w.status)])},M(x(w.status)),3),c("div",AS,[w.status==="pending"||w.status==="stopped"?(I(),R("button",{key:0,class:"btn btn-success btn-sm px-2",onClick:$n(P=>p(w.id),["stop"]),title:""},[...m[28]||(m[28]=[c("i",{class:"bi bi-play-fill"},null,-1)])],8,ES)):pe("",!0),w.status==="running"?(I(),R("button",{key:1,class:"btn btn-warning btn-sm px-2",onClick:$n(P=>h(w.id),["stop"]),title:""},[...m[29]||(m[29]=[c("i",{class:"bi bi-stop-fill"},null,-1)])],8,BS)):pe("",!0),c("button",{class:"btn btn-danger btn-sm px-2",onClick:$n(P=>g(w.id),["stop"]),title:""},[...m[30]||(m[30]=[c("i",{class:"bi bi-trash"},null,-1)])],8,IS)])])])],10,xS))),128))]))])]),c("div",NS,[c("div",RS,[m[31]||(m[31]=c("h6",{class:"mb-0"},[c("i",{class:"bi bi-terminal me-1"}),K("  ")],-1)),u.value.length>0?(I(),R("button",{key:0,class:"btn btn-sm btn-outline-secondary",onClick:b},"  ")):pe("",!0)]),c("div",{class:"card-body log-body",ref_key:"logContainer",ref:l},[u.value.length===0?(I(),R("div",OS,"  ")):(I(),R("div",MS,[(I(!0),R(Se,null,Le(u.value,(w,P)=>(I(),R("div",{key:P,class:Ce(["log-entry","log-"+w.type])},[c("span",LS,M(v(w.timestamp)),1),c("span",FS,"["+M(w.type.toUpperCase())+"]",1),c("span",US,M(w.message),1)],2))),128))]))],512)])])]))}}),zS=At(DS,[["__scopeId","data-v-12a854bd"]]),WS={key:1,class:"app-layout"},jS={class:"main-content"},HS={class:"d-flex align-items-center justify-content-between px-4 py-3 border-bottom bg-white"},VS={class:"fw-semibold"},GS={class:"text-muted small"},qS={class:"content-area"},KS=ot({__name:"App",setup(e){const t=I1,n=ee("wallet"),s=ee(!1),r=ee(null),o=ee(!1),i=ee(!1),a=de(()=>N1),l=[{key:"wallet",label:"",icon:""},{key:"transfer",label:"",icon:""},{key:"task",label:"",icon:""},{key:"snipe",label:"",icon:""},{key:"users",label:"",icon:""},{key:"analysis",label:"",icon:""}],u=de(()=>{const b=l.find(v=>v.key===n.value);return b?b.label:""}),d=de(()=>{switch(n.value){case"wallet":return zd;case"transfer":return x9;case"task":return u_;case"snipe":return zS;case"users":return E_;case"analysis":return R_;default:return zd}}),f=b=>{n.value=b},p=async()=>{{i.value=!0;return}},h=b=>{localStorage.setItem("amm_token",b.token),r.value=b.user,o.value=!0,i.value=!0},g=async()=>{try{await Wr("/api/auth/logout",{method:"POST"})}catch{}localStorage.removeItem("amm_token"),r.value=null,o.value=!1};return gr(p),(b,v)=>Z(t)&&(!i.value||!o.value)?(I(),bs(D1,{key:0,onLoggedIn:h})):(I(),R("div",WS,[tt(K1,{items:l,"active-key":n.value,collapsed:s.value,onSelect:f,onToggleCollapse:v[0]||(v[0]=$=>s.value=!s.value)},null,8,["active-key","collapsed"]),c("main",jS,[c("header",HS,[c("div",null,[c("div",VS,M(u.value),1),c("div",GS,""+M(a.value),1)]),Z(t)?(I(),R("button",{key:0,class:"btn btn-outline-secondary btn-sm",onClick:g},"")):pe("",!0)]),c("section",qS,[(I(),bs(Km,{include:"WalletManagePanel,BatchTransferPanel,TaskManagePanel,SnipePanel"},[(I(),bs(rb(d.value)))],1024))])])]))}}),Vh=$1(KS),Gh=T1();Vh.use(Gh);const ZS=pn(Gh);ZS.init();Vh.mount("#app");export{G as B,jr as H,s6 as a,Qt as b,sa as c,ov as d,Ms as e,an as f,Bo as g,No as i,aa as l,Qe as s};
