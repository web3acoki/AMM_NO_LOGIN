var Oh=Object.defineProperty;var Mh=(e,t,n)=>t in e?Oh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Nt=(e,t,n)=>Mh(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ml(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Le={},Ys=[],yn=()=>{},Ad=()=>!1,va=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Rl=e=>e.startsWith("onUpdate:"),gt=Object.assign,Fl=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Rh=Object.prototype.hasOwnProperty,Re=(e,t)=>Rh.call(e,t),xe=Array.isArray,Js=e=>br(e)==="[object Map]",mr=e=>br(e)==="[object Set]",qc=e=>br(e)==="[object Date]",Fh=e=>br(e)==="[object RegExp]",Ce=e=>typeof e=="function",Qe=e=>typeof e=="string",wn=e=>typeof e=="symbol",De=e=>e!==null&&typeof e=="object",Sd=e=>(De(e)||Ce(e))&&Ce(e.then)&&Ce(e.catch),Bd=Object.prototype.toString,br=e=>Bd.call(e),Lh=e=>br(e).slice(8,-1),Id=e=>br(e)==="[object Object]",Ll=e=>Qe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Nr=Ml(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wa=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Uh=/-\w/g,qt=wa(e=>e.replace(Uh,t=>t.slice(1).toUpperCase())),Dh=/\B([A-Z])/g,rs=wa(e=>e.replace(Dh,"-$1").toLowerCase()),xa=wa(e=>e.charAt(0).toUpperCase()+e.slice(1)),ai=wa(e=>e?`on${xa(e)}`:""),es=(e,t)=>!Object.is(e,t),Qs=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Nd=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},ta=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Kc;const $a=()=>Kc||(Kc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ta(e){if(xe(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=Qe(s)?Vh(s):Ta(s);if(r)for(const o in r)t[o]=r[o]}return t}else if(Qe(e)||De(e))return e}const zh=/;(?![^(]*\))/g,jh=/:([^]+)/,Wh=/\/\*[^]*?\*\//g;function Vh(e){const t={};return e.replace(Wh,"").split(zh).forEach(n=>{if(n){const s=n.split(jh);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Se(e){let t="";if(Qe(e))t=e;else if(xe(e))for(let n=0;n<e.length;n++){const s=Se(e[n]);s&&(t+=s+" ")}else if(De(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Hh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Gh=Ml(Hh);function Od(e){return!!e||e===""}function qh(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=xs(e[s],t[s]);return n}function xs(e,t){if(e===t)return!0;let n=qc(e),s=qc(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=wn(e),s=wn(t),n||s)return e===t;if(n=xe(e),s=xe(t),n||s)return n&&s?qh(e,t):!1;if(n=De(e),s=De(t),n||s){if(!n||!s)return!1;const r=Object.keys(e).length,o=Object.keys(t).length;if(r!==o)return!1;for(const a in e){const i=e.hasOwnProperty(a),l=t.hasOwnProperty(a);if(i&&!l||!i&&l||!xs(e[a],t[a]))return!1}}return String(e)===String(t)}function Ul(e,t){return e.findIndex(n=>xs(n,t))}const Md=e=>!!(e&&e.__v_isRef===!0),O=e=>Qe(e)?e:e==null?"":xe(e)||De(e)&&(e.toString===Bd||!Ce(e.toString))?Md(e)?O(e.value):JSON.stringify(e,Rd,2):String(e),Rd=(e,t)=>Md(t)?Rd(e,t.value):Js(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r],o)=>(n[ii(s,o)+" =>"]=r,n),{})}:mr(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>ii(n))}:wn(t)?ii(t):De(t)&&!xe(t)&&!Id(t)?String(t):t,ii=(e,t="")=>{var n;return wn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let pt;class Fd{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=pt,!t&&pt&&(this.index=(pt.scopes||(pt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=pt;try{return pt=this,t()}finally{pt=n}}}on(){++this._on===1&&(this.prevScope=pt,pt=this)}off(){this._on>0&&--this._on===0&&(pt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Ld(e){return new Fd(e)}function Ud(){return pt}function Kh(e,t=!1){pt&&pt.cleanups.push(e)}let Ue;const li=new WeakSet;class Dd{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,pt&&pt.active&&pt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,li.has(this)&&(li.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||jd(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Zc(this),Wd(this);const t=Ue,n=nn;Ue=this,nn=!0;try{return this.fn()}finally{Vd(this),Ue=t,nn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)jl(t);this.deps=this.depsTail=void 0,Zc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?li.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Di(this)&&this.run()}get dirty(){return Di(this)}}let zd=0,Or,Mr;function jd(e,t=!1){if(e.flags|=8,t){e.next=Mr,Mr=e;return}e.next=Or,Or=e}function Dl(){zd++}function zl(){if(--zd>0)return;if(Mr){let t=Mr;for(Mr=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Or;){let t=Or;for(Or=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function Wd(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Vd(e){let t,n=e.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),jl(s),Zh(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}e.deps=t,e.depsTail=n}function Di(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Hd(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Hd(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Vr)||(e.globalVersion=Vr,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Di(e))))return;e.flags|=2;const t=e.dep,n=Ue,s=nn;Ue=e,nn=!0;try{Wd(e);const r=e.fn(e._value);(t.version===0||es(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{Ue=n,nn=s,Vd(e),e.flags&=-3}}function jl(e,t=!1){const{dep:n,prevSub:s,nextSub:r}=e;if(s&&(s.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)jl(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Zh(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let nn=!0;const Gd=[];function Ln(){Gd.push(nn),nn=!1}function Un(){const e=Gd.pop();nn=e===void 0?!0:e}function Zc(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ue;Ue=void 0;try{t()}finally{Ue=n}}}let Vr=0;class Yh{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Wl{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ue||!nn||Ue===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ue)n=this.activeLink=new Yh(Ue,this),Ue.deps?(n.prevDep=Ue.depsTail,Ue.depsTail.nextDep=n,Ue.depsTail=n):Ue.deps=Ue.depsTail=n,qd(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Ue.depsTail,n.nextDep=void 0,Ue.depsTail.nextDep=n,Ue.depsTail=n,Ue.deps===n&&(Ue.deps=s)}return n}trigger(t){this.version++,Vr++,this.notify(t)}notify(t){Dl();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{zl()}}}function qd(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)qd(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const na=new WeakMap,hs=Symbol(""),zi=Symbol(""),Hr=Symbol("");function ht(e,t,n){if(nn&&Ue){let s=na.get(e);s||na.set(e,s=new Map);let r=s.get(n);r||(s.set(n,r=new Wl),r.map=s,r.key=n),r.track()}}function Sn(e,t,n,s,r,o){const a=na.get(e);if(!a){Vr++;return}const i=l=>{l&&l.trigger()};if(Dl(),t==="clear")a.forEach(i);else{const l=xe(e),d=l&&Ll(n);if(l&&n==="length"){const u=Number(s);a.forEach((f,p)=>{(p==="length"||p===Hr||!wn(p)&&p>=u)&&i(f)})}else switch((n!==void 0||a.has(void 0))&&i(a.get(n)),d&&i(a.get(Hr)),t){case"add":l?d&&i(a.get("length")):(i(a.get(hs)),Js(e)&&i(a.get(zi)));break;case"delete":l||(i(a.get(hs)),Js(e)&&i(a.get(zi)));break;case"set":Js(e)&&i(a.get(hs));break}}zl()}function Jh(e,t){const n=na.get(e);return n&&n.get(t)}function Us(e){const t=Ne(e);return t===e?t:(ht(t,"iterate",Hr),Vt(e)?t:t.map(ct))}function ka(e){return ht(e=Ne(e),"iterate",Hr),e}const Qh={__proto__:null,[Symbol.iterator](){return ci(this,Symbol.iterator,ct)},concat(...e){return Us(this).concat(...e.map(t=>xe(t)?Us(t):t))},entries(){return ci(this,"entries",e=>(e[1]=ct(e[1]),e))},every(e,t){return Tn(this,"every",e,t,void 0,arguments)},filter(e,t){return Tn(this,"filter",e,t,n=>n.map(ct),arguments)},find(e,t){return Tn(this,"find",e,t,ct,arguments)},findIndex(e,t){return Tn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Tn(this,"findLast",e,t,ct,arguments)},findLastIndex(e,t){return Tn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Tn(this,"forEach",e,t,void 0,arguments)},includes(...e){return ui(this,"includes",e)},indexOf(...e){return ui(this,"indexOf",e)},join(e){return Us(this).join(e)},lastIndexOf(...e){return ui(this,"lastIndexOf",e)},map(e,t){return Tn(this,"map",e,t,void 0,arguments)},pop(){return Er(this,"pop")},push(...e){return Er(this,"push",e)},reduce(e,...t){return Yc(this,"reduce",e,t)},reduceRight(e,...t){return Yc(this,"reduceRight",e,t)},shift(){return Er(this,"shift")},some(e,t){return Tn(this,"some",e,t,void 0,arguments)},splice(...e){return Er(this,"splice",e)},toReversed(){return Us(this).toReversed()},toSorted(e){return Us(this).toSorted(e)},toSpliced(...e){return Us(this).toSpliced(...e)},unshift(...e){return Er(this,"unshift",e)},values(){return ci(this,"values",ct)}};function ci(e,t,n){const s=ka(e),r=s[t]();return s!==e&&!Vt(e)&&(r._next=r.next,r.next=()=>{const o=r._next();return o.value&&(o.value=n(o.value)),o}),r}const Xh=Array.prototype;function Tn(e,t,n,s,r,o){const a=ka(e),i=a!==e&&!Vt(e),l=a[t];if(l!==Xh[t]){const f=l.apply(e,o);return i?ct(f):f}let d=n;a!==e&&(i?d=function(f,p){return n.call(this,ct(f),p,e)}:n.length>2&&(d=function(f,p){return n.call(this,f,p,e)}));const u=l.call(a,d,s);return i&&r?r(u):u}function Yc(e,t,n,s){const r=ka(e);let o=n;return r!==e&&(Vt(e)?n.length>3&&(o=function(a,i,l){return n.call(this,a,i,l,e)}):o=function(a,i,l){return n.call(this,a,ct(i),l,e)}),r[t](o,...s)}function ui(e,t,n){const s=Ne(e);ht(s,"iterate",Hr);const r=s[t](...n);return(r===-1||r===!1)&&Gl(n[0])?(n[0]=Ne(n[0]),s[t](...n)):r}function Er(e,t,n=[]){Ln(),Dl();const s=Ne(e)[t].apply(e,n);return zl(),Un(),s}const em=Ml("__proto__,__v_isRef,__isVue"),Kd=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(wn));function tm(e){wn(e)||(e=String(e));const t=Ne(this);return ht(t,"has",e),t.hasOwnProperty(e)}class Zd{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return o;if(n==="__v_raw")return s===(r?o?dm:Xd:o?Qd:Jd).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const a=xe(t);if(!r){let l;if(a&&(l=Qh[n]))return l;if(n==="hasOwnProperty")return tm}const i=Reflect.get(t,n,qe(t)?t:s);return(wn(n)?Kd.has(n):em(n))||(r||ht(t,"get",n),o)?i:qe(i)?a&&Ll(n)?i:i.value:De(i)?r?ef(i):wo(i):i}}class Yd extends Zd{constructor(t=!1){super(!1,t)}set(t,n,s,r){let o=t[n];if(!this._isShallow){const l=ns(o);if(!Vt(s)&&!ns(s)&&(o=Ne(o),s=Ne(s)),!xe(t)&&qe(o)&&!qe(s))return l||(o.value=s),!0}const a=xe(t)&&Ll(n)?Number(n)<t.length:Re(t,n),i=Reflect.set(t,n,s,qe(t)?t:r);return t===Ne(r)&&(a?es(s,o)&&Sn(t,"set",n,s):Sn(t,"add",n,s)),i}deleteProperty(t,n){const s=Re(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&s&&Sn(t,"delete",n,void 0),r}has(t,n){const s=Reflect.has(t,n);return(!wn(n)||!Kd.has(n))&&ht(t,"has",n),s}ownKeys(t){return ht(t,"iterate",xe(t)?"length":hs),Reflect.ownKeys(t)}}class nm extends Zd{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const sm=new Yd,rm=new nm,om=new Yd(!0);const ji=e=>e,Uo=e=>Reflect.getPrototypeOf(e);function am(e,t,n){return function(...s){const r=this.__v_raw,o=Ne(r),a=Js(o),i=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,d=r[e](...s),u=n?ji:t?sa:ct;return!t&&ht(o,"iterate",l?zi:hs),{next(){const{value:f,done:p}=d.next();return p?{value:f,done:p}:{value:i?[u(f[0]),u(f[1])]:u(f),done:p}},[Symbol.iterator](){return this}}}}function Do(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function im(e,t){const n={get(r){const o=this.__v_raw,a=Ne(o),i=Ne(r);e||(es(r,i)&&ht(a,"get",r),ht(a,"get",i));const{has:l}=Uo(a),d=t?ji:e?sa:ct;if(l.call(a,r))return d(o.get(r));if(l.call(a,i))return d(o.get(i));o!==a&&o.get(r)},get size(){const r=this.__v_raw;return!e&&ht(Ne(r),"iterate",hs),r.size},has(r){const o=this.__v_raw,a=Ne(o),i=Ne(r);return e||(es(r,i)&&ht(a,"has",r),ht(a,"has",i)),r===i?o.has(r):o.has(r)||o.has(i)},forEach(r,o){const a=this,i=a.__v_raw,l=Ne(i),d=t?ji:e?sa:ct;return!e&&ht(l,"iterate",hs),i.forEach((u,f)=>r.call(o,d(u),d(f),a))}};return gt(n,e?{add:Do("add"),set:Do("set"),delete:Do("delete"),clear:Do("clear")}:{add(r){!t&&!Vt(r)&&!ns(r)&&(r=Ne(r));const o=Ne(this);return Uo(o).has.call(o,r)||(o.add(r),Sn(o,"add",r,r)),this},set(r,o){!t&&!Vt(o)&&!ns(o)&&(o=Ne(o));const a=Ne(this),{has:i,get:l}=Uo(a);let d=i.call(a,r);d||(r=Ne(r),d=i.call(a,r));const u=l.call(a,r);return a.set(r,o),d?es(o,u)&&Sn(a,"set",r,o):Sn(a,"add",r,o),this},delete(r){const o=Ne(this),{has:a,get:i}=Uo(o);let l=a.call(o,r);l||(r=Ne(r),l=a.call(o,r)),i&&i.call(o,r);const d=o.delete(r);return l&&Sn(o,"delete",r,void 0),d},clear(){const r=Ne(this),o=r.size!==0,a=r.clear();return o&&Sn(r,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=am(r,e,t)}),n}function Vl(e,t){const n=im(e,t);return(s,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(Re(n,r)&&r in s?n:s,r,o)}const lm={get:Vl(!1,!1)},cm={get:Vl(!1,!0)},um={get:Vl(!0,!1)};const Jd=new WeakMap,Qd=new WeakMap,Xd=new WeakMap,dm=new WeakMap;function fm(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pm(e){return e.__v_skip||!Object.isExtensible(e)?0:fm(Lh(e))}function wo(e){return ns(e)?e:Hl(e,!1,sm,lm,Jd)}function hm(e){return Hl(e,!1,om,cm,Qd)}function ef(e){return Hl(e,!0,rm,um,Xd)}function Hl(e,t,n,s,r){if(!De(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=pm(e);if(o===0)return e;const a=r.get(e);if(a)return a;const i=new Proxy(e,o===2?s:n);return r.set(e,i),i}function On(e){return ns(e)?On(e.__v_raw):!!(e&&e.__v_isReactive)}function ns(e){return!!(e&&e.__v_isReadonly)}function Vt(e){return!!(e&&e.__v_isShallow)}function Gl(e){return e?!!e.__v_raw:!1}function Ne(e){const t=e&&e.__v_raw;return t?Ne(t):e}function ql(e){return!Re(e,"__v_skip")&&Object.isExtensible(e)&&Nd(e,"__v_skip",!0),e}const ct=e=>De(e)?wo(e):e,sa=e=>De(e)?ef(e):e;function qe(e){return e?e.__v_isRef===!0:!1}function Q(e){return mm(e,!1)}function mm(e,t){return qe(e)?e:new bm(e,t)}class bm{constructor(t,n){this.dep=new Wl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ne(t),this._value=n?t:ct(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||Vt(t)||ns(t);t=s?t:Ne(t),es(t,n)&&(this._rawValue=t,this._value=s?t:ct(t),this.dep.trigger())}}function te(e){return qe(e)?e.value:e}const gm={get:(e,t,n)=>t==="__v_raw"?e:te(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return qe(r)&&!qe(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function tf(e){return On(e)?e:new Proxy(e,gm)}function ym(e){const t=xe(e)?new Array(e.length):{};for(const n in e)t[n]=nf(e,n);return t}class vm{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Jh(Ne(this._object),this._key)}}class wm{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function xm(e,t,n){return qe(e)?e:Ce(e)?new wm(e):De(e)&&arguments.length>1?nf(e,t,n):Q(e)}function nf(e,t,n){const s=e[t];return qe(s)?s:new vm(e,t,n)}class $m{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Wl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Vr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Ue!==this)return jd(this,!0),!0}get value(){const t=this.dep.track();return Hd(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Tm(e,t,n=!1){let s,r;return Ce(e)?s=e:(s=e.get,r=e.set),new $m(s,r,n)}const zo={},ra=new WeakMap;let cs;function km(e,t=!1,n=cs){if(n){let s=ra.get(n);s||ra.set(n,s=[]),s.push(e)}}function Cm(e,t,n=Le){const{immediate:s,deep:r,once:o,scheduler:a,augmentJob:i,call:l}=n,d=m=>r?m:Vt(m)||r===!1||r===0?Bn(m,1):Bn(m);let u,f,p,h,v=!1,g=!1;if(qe(e)?(f=()=>e.value,v=Vt(e)):On(e)?(f=()=>d(e),v=!0):xe(e)?(g=!0,v=e.some(m=>On(m)||Vt(m)),f=()=>e.map(m=>{if(qe(m))return m.value;if(On(m))return d(m);if(Ce(m))return l?l(m,2):m()})):Ce(e)?t?f=l?()=>l(e,2):e:f=()=>{if(p){Ln();try{p()}finally{Un()}}const m=cs;cs=u;try{return l?l(e,3,[h]):e(h)}finally{cs=m}}:f=yn,t&&r){const m=f,w=r===!0?1/0:r;f=()=>Bn(m(),w)}const T=Ud(),$=()=>{u.stop(),T&&T.active&&Fl(T.effects,u)};if(o&&t){const m=t;t=(...w)=>{m(...w),$()}}let x=g?new Array(e.length).fill(zo):zo;const y=m=>{if(!(!(u.flags&1)||!u.dirty&&!m))if(t){const w=u.run();if(r||v||(g?w.some((C,A)=>es(C,x[A])):es(w,x))){p&&p();const C=cs;cs=u;try{const A=[w,x===zo?void 0:g&&x[0]===zo?[]:x,h];x=w,l?l(t,3,A):t(...A)}finally{cs=C}}}else u.run()};return i&&i(y),u=new Dd(f),u.scheduler=a?()=>a(y,!1):y,h=m=>km(m,!1,u),p=u.onStop=()=>{const m=ra.get(u);if(m){if(l)l(m,4);else for(const w of m)w();ra.delete(u)}},t?s?y(!0):x=u.run():a?a(y.bind(null,!0),!0):u.run(),$.pause=u.pause.bind(u),$.resume=u.resume.bind(u),$.stop=$,$}function Bn(e,t=1/0,n){if(t<=0||!De(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,qe(e))Bn(e.value,t,n);else if(xe(e))for(let s=0;s<e.length;s++)Bn(e[s],t,n);else if(mr(e)||Js(e))e.forEach(s=>{Bn(s,t,n)});else if(Id(e)){for(const s in e)Bn(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Bn(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function xo(e,t,n,s){try{return s?e(...s):e()}catch(r){Ca(r,t,n)}}function xn(e,t,n,s){if(Ce(e)){const r=xo(e,t,n,s);return r&&Sd(r)&&r.catch(o=>{Ca(o,t,n)}),r}if(xe(e)){const r=[];for(let o=0;o<e.length;o++)r.push(xn(e[o],t,n,s));return r}}function Ca(e,t,n,s=!0){const r=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||Le;if(t){let i=t.parent;const l=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const u=i.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,l,d)===!1)return}i=i.parent}if(o){Ln(),xo(o,null,10,[e,l,d]),Un();return}}Em(e,n,r,s,a)}function Em(e,t,n,s=!0,r=!1){if(r)throw e;console.error(e)}const xt=[];let hn=-1;const Xs=[];let Jn=null,Vs=0;const sf=Promise.resolve();let oa=null;function Ea(e){const t=oa||sf;return e?t.then(this?e.bind(this):e):t}function _m(e){let t=hn+1,n=xt.length;for(;t<n;){const s=t+n>>>1,r=xt[s],o=Gr(r);o<e||o===e&&r.flags&2?t=s+1:n=s}return t}function Kl(e){if(!(e.flags&1)){const t=Gr(e),n=xt[xt.length-1];!n||!(e.flags&2)&&t>=Gr(n)?xt.push(e):xt.splice(_m(t),0,e),e.flags|=1,rf()}}function rf(){oa||(oa=sf.then(af))}function Pm(e){xe(e)?Xs.push(...e):Jn&&e.id===-1?Jn.splice(Vs+1,0,e):e.flags&1||(Xs.push(e),e.flags|=1),rf()}function Jc(e,t,n=hn+1){for(;n<xt.length;n++){const s=xt[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;xt.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function of(e){if(Xs.length){const t=[...new Set(Xs)].sort((n,s)=>Gr(n)-Gr(s));if(Xs.length=0,Jn){Jn.push(...t);return}for(Jn=t,Vs=0;Vs<Jn.length;Vs++){const n=Jn[Vs];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Jn=null,Vs=0}}const Gr=e=>e.id==null?e.flags&2?-1:1/0:e.id;function af(e){try{for(hn=0;hn<xt.length;hn++){const t=xt[hn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),xo(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;hn<xt.length;hn++){const t=xt[hn];t&&(t.flags&=-2)}hn=-1,xt.length=0,of(),oa=null,(xt.length||Xs.length)&&af()}}let Mt=null,lf=null;function aa(e){const t=Mt;return Mt=e,lf=e&&e.type.__scopeId||null,t}function Am(e,t=Mt,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&iu(-1);const o=aa(t);let a;try{a=e(...r)}finally{aa(o),s._d&&iu(1)}return a};return s._n=!0,s._c=!0,s._d=!0,s}function ue(e,t){if(Mt===null)return e;const n=Ba(Mt),s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,a,i,l=Le]=t[r];o&&(Ce(o)&&(o={mounted:o,updated:o}),o.deep&&Bn(a),s.push({dir:o,instance:n,value:a,oldValue:void 0,arg:i,modifiers:l}))}return e}function as(e,t,n,s){const r=e.dirs,o=t&&t.dirs;for(let a=0;a<r.length;a++){const i=r[a];o&&(i.oldValue=o[a].value);let l=i.dir[s];l&&(Ln(),xn(l,n,8,[e.el,i,e,t]),Un())}}const Sm=Symbol("_vte"),Bm=e=>e.__isTeleport,Im=Symbol("_leaveCb");function _a(e,t){e.shapeFlag&6&&e.component?(e.transition=t,_a(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ut(e,t){return Ce(e)?gt({name:e.name},t,{setup:e}):e}function cf(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const ia=new WeakMap;function Rr(e,t,n,s,r=!1){if(xe(e)){e.forEach((v,g)=>Rr(v,t&&(xe(t)?t[g]:t),n,s,r));return}if(er(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Rr(e,t,n,s.component.subTree);return}const o=s.shapeFlag&4?Ba(s.component):s.el,a=r?null:o,{i,r:l}=e,d=t&&t.r,u=i.refs===Le?i.refs={}:i.refs,f=i.setupState,p=Ne(f),h=f===Le?Ad:v=>Re(p,v);if(d!=null&&d!==l){if(Qc(t),Qe(d))u[d]=null,h(d)&&(f[d]=null);else if(qe(d)){d.value=null;const v=t;v.k&&(u[v.k]=null)}}if(Ce(l))xo(l,i,12,[a,u]);else{const v=Qe(l),g=qe(l);if(v||g){const T=()=>{if(e.f){const $=v?h(l)?f[l]:u[l]:l.value;if(r)xe($)&&Fl($,o);else if(xe($))$.includes(o)||$.push(o);else if(v)u[l]=[o],h(l)&&(f[l]=u[l]);else{const x=[o];l.value=x,e.k&&(u[e.k]=x)}}else v?(u[l]=a,h(l)&&(f[l]=a)):g&&(l.value=a,e.k&&(u[e.k]=a))};if(a){const $=()=>{T(),ia.delete(e)};$.id=-1,ia.set(e,$),lt($,n)}else Qc(e),T()}}}function Qc(e){const t=ia.get(e);t&&(t.flags|=8,ia.delete(e))}$a().requestIdleCallback;$a().cancelIdleCallback;const er=e=>!!e.type.__asyncLoader,uf=e=>e.type.__isKeepAlive,Nm={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=ec(),s=n.ctx;if(!s.renderer)return()=>{const x=t.default&&t.default();return x&&x.length===1?x[0]:x};const r=new Map,o=new Set;let a=null;const i=n.suspense,{renderer:{p:l,m:d,um:u,o:{createElement:f}}}=s,p=f("div");s.activate=(x,y,m,w,C)=>{const A=x.component;d(x,y,m,0,i),l(A.vnode,x,y,m,A,i,w,x.slotScopeIds,C),lt(()=>{A.isDeactivated=!1,A.a&&Qs(A.a);const B=x.props&&x.props.onVnodeMounted;B&&jt(B,A.parent,x)},i)},s.deactivate=x=>{const y=x.component;ca(y.m),ca(y.a),d(x,p,null,1,i),lt(()=>{y.da&&Qs(y.da);const m=x.props&&x.props.onVnodeUnmounted;m&&jt(m,y.parent,x),y.isDeactivated=!0},i)};function h(x){di(x),u(x,n,i,!0)}function v(x){r.forEach((y,m)=>{const w=Ki(y.type);w&&!x(w)&&g(m)})}function g(x){const y=r.get(x);y&&(!a||!Hs(y,a))?h(y):a&&di(a),r.delete(x),o.delete(x)}Tt(()=>[e.include,e.exclude],([x,y])=>{x&&v(m=>Sr(x,m)),y&&v(m=>!Sr(y,m))},{flush:"post",deep:!0});let T=null;const $=()=>{T!=null&&(ua(n.subTree.type)?lt(()=>{r.set(T,jo(n.subTree))},n.subTree.suspense):r.set(T,jo(n.subTree)))};return gr($),pf($),hf(()=>{r.forEach(x=>{const{subTree:y,suspense:m}=n,w=jo(y);if(x.type===w.type&&x.key===w.key){di(w);const C=w.component.da;C&&lt(C,m);return}h(x)})}),()=>{if(T=null,!t.default)return a=null;const x=t.default(),y=x[0];if(x.length>1)return a=null,x;if(!Ql(y)||!(y.shapeFlag&4)&&!(y.shapeFlag&128))return a=null,y;let m=jo(y);if(m.type===Dn)return a=null,m;const w=m.type,C=Ki(er(m)?m.type.__asyncResolved||{}:w),{include:A,exclude:B,max:P}=e;if(A&&(!C||!Sr(A,C))||B&&C&&Sr(B,C))return m.shapeFlag&=-257,a=m,y;const b=m.key==null?w:m.key,k=r.get(b);return m.el&&(m=$s(m),y.shapeFlag&128&&(y.ssContent=m)),T=b,k?(m.el=k.el,m.component=k.component,m.transition&&_a(m,m.transition),m.shapeFlag|=512,o.delete(b),o.add(b)):(o.add(b),P&&o.size>parseInt(P,10)&&g(o.values().next().value)),m.shapeFlag|=256,a=m,ua(y.type)?y:m}}},Om=Nm;function Sr(e,t){return xe(e)?e.some(n=>Sr(n,t)):Qe(e)?e.split(",").includes(t):Fh(e)?(e.lastIndex=0,e.test(t)):!1}function df(e,t){ff(e,"a",t)}function Mm(e,t){ff(e,"da",t)}function ff(e,t,n=mt){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Pa(t,s,n),n){let r=n.parent;for(;r&&r.parent;)uf(r.parent.vnode)&&Rm(s,t,n,r),r=r.parent}}function Rm(e,t,n,s){const r=Pa(t,e,s,!0);Zl(()=>{Fl(s[t],r)},n)}function di(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function jo(e){return e.shapeFlag&128?e.ssContent:e}function Pa(e,t,n=mt,s=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...a)=>{Ln();const i=$o(n),l=xn(t,n,e,a);return i(),Un(),l});return s?r.unshift(o):r.push(o),o}}const Vn=e=>(t,n=mt)=>{(!Kr||e==="sp")&&Pa(e,(...s)=>t(...s),n)},Fm=Vn("bm"),gr=Vn("m"),Lm=Vn("bu"),pf=Vn("u"),hf=Vn("bum"),Zl=Vn("um"),Um=Vn("sp"),Dm=Vn("rtg"),zm=Vn("rtc");function jm(e,t=mt){Pa("ec",e,t)}const Wm="components",mf=Symbol.for("v-ndc");function Vm(e){return Qe(e)?Hm(Wm,e,!1)||e:e||mf}function Hm(e,t,n=!0,s=!1){const r=Mt||mt;if(r){const o=r.type;{const i=Ki(o,!1);if(i&&(i===t||i===qt(t)||i===xa(qt(t))))return o}const a=Xc(r[e]||o[e],t)||Xc(r.appContext[e],t);return!a&&s?o:a}}function Xc(e,t){return e&&(e[t]||e[qt(t)]||e[xa(qt(t))])}function Je(e,t,n,s){let r;const o=n,a=xe(e);if(a||Qe(e)){const i=a&&On(e);let l=!1,d=!1;i&&(l=!Vt(e),d=ns(e),e=ka(e)),r=new Array(e.length);for(let u=0,f=e.length;u<f;u++)r[u]=t(l?d?sa(ct(e[u])):ct(e[u]):e[u],u,void 0,o)}else if(typeof e=="number"){r=new Array(e);for(let i=0;i<e;i++)r[i]=t(i+1,i,void 0,o)}else if(De(e))if(e[Symbol.iterator])r=Array.from(e,(i,l)=>t(i,l,void 0,o));else{const i=Object.keys(e);r=new Array(i.length);for(let l=0,d=i.length;l<d;l++){const u=i[l];r[l]=t(e[u],u,l,o)}}else r=[];return r}const Wi=e=>e?Mf(e)?Ba(e):Wi(e.parent):null,Fr=gt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Wi(e.parent),$root:e=>Wi(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>gf(e),$forceUpdate:e=>e.f||(e.f=()=>{Kl(e.update)}),$nextTick:e=>e.n||(e.n=Ea.bind(e.proxy)),$watch:e=>h1.bind(e)}),fi=(e,t)=>e!==Le&&!e.__isScriptSetup&&Re(e,t),Gm={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:o,accessCache:a,type:i,appContext:l}=e;let d;if(t[0]!=="$"){const h=a[t];if(h!==void 0)switch(h){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return o[t]}else{if(fi(s,t))return a[t]=1,s[t];if(r!==Le&&Re(r,t))return a[t]=2,r[t];if((d=e.propsOptions[0])&&Re(d,t))return a[t]=3,o[t];if(n!==Le&&Re(n,t))return a[t]=4,n[t];Vi&&(a[t]=0)}}const u=Fr[t];let f,p;if(u)return t==="$attrs"&&ht(e.attrs,"get",""),u(e);if((f=i.__cssModules)&&(f=f[t]))return f;if(n!==Le&&Re(n,t))return a[t]=4,n[t];if(p=l.config.globalProperties,Re(p,t))return p[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:o}=e;return fi(r,t)?(r[t]=n,!0):s!==Le&&Re(s,t)?(s[t]=n,!0):Re(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:o,type:a}},i){let l,d;return!!(n[i]||e!==Le&&i[0]!=="$"&&Re(e,i)||fi(t,i)||(l=o[0])&&Re(l,i)||Re(s,i)||Re(Fr,i)||Re(r.config.globalProperties,i)||(d=a.__cssModules)&&d[i])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Re(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function eu(e){return xe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Vi=!0;function qm(e){const t=gf(e),n=e.proxy,s=e.ctx;Vi=!1,t.beforeCreate&&tu(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:a,watch:i,provide:l,inject:d,created:u,beforeMount:f,mounted:p,beforeUpdate:h,updated:v,activated:g,deactivated:T,beforeDestroy:$,beforeUnmount:x,destroyed:y,unmounted:m,render:w,renderTracked:C,renderTriggered:A,errorCaptured:B,serverPrefetch:P,expose:b,inheritAttrs:k,components:M,directives:I,filters:Z}=t;if(d&&Km(d,s,null),a)for(const V in a){const R=a[V];Ce(R)&&(s[V]=R.bind(n))}if(r){const V=r.call(n,n);De(V)&&(e.data=wo(V))}if(Vi=!0,o)for(const V in o){const R=o[V],J=Ce(R)?R.bind(n,n):Ce(R.get)?R.get.bind(n,n):yn,ae=!Ce(R)&&Ce(R.set)?R.set.bind(n):yn,me=pe({get:J,set:ae});Object.defineProperty(s,V,{enumerable:!0,configurable:!0,get:()=>me.value,set:fe=>me.value=fe})}if(i)for(const V in i)bf(i[V],s,n,V);if(l){const V=Ce(l)?l.call(n):l;Reflect.ownKeys(V).forEach(R=>{e1(R,V[R])})}u&&tu(u,e,"c");function L(V,R){xe(R)?R.forEach(J=>V(J.bind(n))):R&&V(R.bind(n))}if(L(Fm,f),L(gr,p),L(Lm,h),L(pf,v),L(df,g),L(Mm,T),L(jm,B),L(zm,C),L(Dm,A),L(hf,x),L(Zl,m),L(Um,P),xe(b))if(b.length){const V=e.exposed||(e.exposed={});b.forEach(R=>{Object.defineProperty(V,R,{get:()=>n[R],set:J=>n[R]=J,enumerable:!0})})}else e.exposed||(e.exposed={});w&&e.render===yn&&(e.render=w),k!=null&&(e.inheritAttrs=k),M&&(e.components=M),I&&(e.directives=I),P&&cf(e)}function Km(e,t,n=yn){xe(e)&&(e=Hi(e));for(const s in e){const r=e[s];let o;De(r)?"default"in r?o=Lr(r.from||s,r.default,!0):o=Lr(r.from||s):o=Lr(r),qe(o)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[s]=o}}function tu(e,t,n){xn(xe(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function bf(e,t,n,s){let r=s.includes(".")?Sf(n,s):()=>n[s];if(Qe(e)){const o=t[e];Ce(o)&&Tt(r,o)}else if(Ce(e))Tt(r,e.bind(n));else if(De(e))if(xe(e))e.forEach(o=>bf(o,t,n,s));else{const o=Ce(e.handler)?e.handler.bind(n):t[e.handler];Ce(o)&&Tt(r,o,e)}}function gf(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:a}}=e.appContext,i=o.get(t);let l;return i?l=i:!r.length&&!n&&!s?l=t:(l={},r.length&&r.forEach(d=>la(l,d,a,!0)),la(l,t,a)),De(t)&&o.set(t,l),l}function la(e,t,n,s=!1){const{mixins:r,extends:o}=t;o&&la(e,o,n,!0),r&&r.forEach(a=>la(e,a,n,!0));for(const a in t)if(!(s&&a==="expose")){const i=Zm[a]||n&&n[a];e[a]=i?i(e[a],t[a]):t[a]}return e}const Zm={data:nu,props:su,emits:su,methods:Br,computed:Br,beforeCreate:wt,created:wt,beforeMount:wt,mounted:wt,beforeUpdate:wt,updated:wt,beforeDestroy:wt,beforeUnmount:wt,destroyed:wt,unmounted:wt,activated:wt,deactivated:wt,errorCaptured:wt,serverPrefetch:wt,components:Br,directives:Br,watch:Jm,provide:nu,inject:Ym};function nu(e,t){return t?e?function(){return gt(Ce(e)?e.call(this,this):e,Ce(t)?t.call(this,this):t)}:t:e}function Ym(e,t){return Br(Hi(e),Hi(t))}function Hi(e){if(xe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function wt(e,t){return e?[...new Set([].concat(e,t))]:t}function Br(e,t){return e?gt(Object.create(null),e,t):t}function su(e,t){return e?xe(e)&&xe(t)?[...new Set([...e,...t])]:gt(Object.create(null),eu(e),eu(t??{})):t}function Jm(e,t){if(!e)return t;if(!t)return e;const n=gt(Object.create(null),e);for(const s in t)n[s]=wt(e[s],t[s]);return n}function yf(){return{app:null,config:{isNativeTag:Ad,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Qm=0;function Xm(e,t){return function(s,r=null){Ce(s)||(s=gt({},s)),r!=null&&!De(r)&&(r=null);const o=yf(),a=new WeakSet,i=[];let l=!1;const d=o.app={_uid:Qm++,_component:s,_props:r,_container:null,_context:o,_instance:null,version:M1,get config(){return o.config},set config(u){},use(u,...f){return a.has(u)||(u&&Ce(u.install)?(a.add(u),u.install(d,...f)):Ce(u)&&(a.add(u),u(d,...f))),d},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),d},component(u,f){return f?(o.components[u]=f,d):o.components[u]},directive(u,f){return f?(o.directives[u]=f,d):o.directives[u]},mount(u,f,p){if(!l){const h=d._ceVNode||tt(s,r);return h.appContext=o,p===!0?p="svg":p===!1&&(p=void 0),e(h,u,p),l=!0,d._container=u,u.__vue_app__=d,Ba(h.component)}},onUnmount(u){i.push(u)},unmount(){l&&(xn(i,d._instance,16),e(null,d._container),delete d._container.__vue_app__)},provide(u,f){return o.provides[u]=f,d},runWithContext(u){const f=ms;ms=d;try{return u()}finally{ms=f}}};return d}}let ms=null;function e1(e,t){if(mt){let n=mt.provides;const s=mt.parent&&mt.parent.provides;s===n&&(n=mt.provides=Object.create(s)),n[e]=t}}function Lr(e,t,n=!1){const s=ec();if(s||ms){let r=ms?ms._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&Ce(t)?t.call(s&&s.proxy):t}}function t1(){return!!(ec()||ms)}const vf={},wf=()=>Object.create(vf),xf=e=>Object.getPrototypeOf(e)===vf;function n1(e,t,n,s=!1){const r={},o=wf();e.propsDefaults=Object.create(null),$f(e,t,r,o);for(const a in e.propsOptions[0])a in r||(r[a]=void 0);n?e.props=s?r:hm(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function s1(e,t,n,s){const{props:r,attrs:o,vnode:{patchFlag:a}}=e,i=Ne(r),[l]=e.propsOptions;let d=!1;if((s||a>0)&&!(a&16)){if(a&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let p=u[f];if(Aa(e.emitsOptions,p))continue;const h=t[p];if(l)if(Re(o,p))h!==o[p]&&(o[p]=h,d=!0);else{const v=qt(p);r[v]=Gi(l,i,v,h,e,!1)}else h!==o[p]&&(o[p]=h,d=!0)}}}else{$f(e,t,r,o)&&(d=!0);let u;for(const f in i)(!t||!Re(t,f)&&((u=rs(f))===f||!Re(t,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(r[f]=Gi(l,i,f,void 0,e,!0)):delete r[f]);if(o!==i)for(const f in o)(!t||!Re(t,f))&&(delete o[f],d=!0)}d&&Sn(e.attrs,"set","")}function $f(e,t,n,s){const[r,o]=e.propsOptions;let a=!1,i;if(t)for(let l in t){if(Nr(l))continue;const d=t[l];let u;r&&Re(r,u=qt(l))?!o||!o.includes(u)?n[u]=d:(i||(i={}))[u]=d:Aa(e.emitsOptions,l)||(!(l in s)||d!==s[l])&&(s[l]=d,a=!0)}if(o){const l=Ne(n),d=i||Le;for(let u=0;u<o.length;u++){const f=o[u];n[f]=Gi(r,l,f,d[f],e,!Re(d,f))}}return a}function Gi(e,t,n,s,r,o){const a=e[n];if(a!=null){const i=Re(a,"default");if(i&&s===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&Ce(l)){const{propsDefaults:d}=r;if(n in d)s=d[n];else{const u=$o(r);s=d[n]=l.call(null,t),u()}}else s=l;r.ce&&r.ce._setProp(n,s)}a[0]&&(o&&!i?s=!1:a[1]&&(s===""||s===rs(n))&&(s=!0))}return s}const r1=new WeakMap;function Tf(e,t,n=!1){const s=n?r1:t.propsCache,r=s.get(e);if(r)return r;const o=e.props,a={},i=[];let l=!1;if(!Ce(e)){const u=f=>{l=!0;const[p,h]=Tf(f,t,!0);gt(a,p),h&&i.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!l)return De(e)&&s.set(e,Ys),Ys;if(xe(o))for(let u=0;u<o.length;u++){const f=qt(o[u]);ru(f)&&(a[f]=Le)}else if(o)for(const u in o){const f=qt(u);if(ru(f)){const p=o[u],h=a[f]=xe(p)||Ce(p)?{type:p}:gt({},p),v=h.type;let g=!1,T=!0;if(xe(v))for(let $=0;$<v.length;++$){const x=v[$],y=Ce(x)&&x.name;if(y==="Boolean"){g=!0;break}else y==="String"&&(T=!1)}else g=Ce(v)&&v.name==="Boolean";h[0]=g,h[1]=T,(g||Re(h,"default"))&&i.push(f)}}const d=[a,i];return De(e)&&s.set(e,d),d}function ru(e){return e[0]!=="$"&&!Nr(e)}const Yl=e=>e==="_"||e==="_ctx"||e==="$stable",Jl=e=>xe(e)?e.map(mn):[mn(e)],o1=(e,t,n)=>{if(t._n)return t;const s=Am((...r)=>Jl(t(...r)),n);return s._c=!1,s},kf=(e,t,n)=>{const s=e._ctx;for(const r in e){if(Yl(r))continue;const o=e[r];if(Ce(o))t[r]=o1(r,o,s);else if(o!=null){const a=Jl(o);t[r]=()=>a}}},Cf=(e,t)=>{const n=Jl(t);e.slots.default=()=>n},Ef=(e,t,n)=>{for(const s in t)(n||!Yl(s))&&(e[s]=t[s])},a1=(e,t,n)=>{const s=e.slots=wf();if(e.vnode.shapeFlag&32){const r=t._;r?(Ef(s,t,n),n&&Nd(s,"_",r,!0)):kf(t,s)}else t&&Cf(e,t)},i1=(e,t,n)=>{const{vnode:s,slots:r}=e;let o=!0,a=Le;if(s.shapeFlag&32){const i=t._;i?n&&i===1?o=!1:Ef(r,t,n):(o=!t.$stable,kf(t,r)),a=t}else t&&(Cf(e,t),a={default:1});if(o)for(const i in r)!Yl(i)&&a[i]==null&&delete r[i]},lt=$1;function l1(e){return c1(e)}function c1(e,t){const n=$a();n.__VUE__=!0;const{insert:s,remove:r,patchProp:o,createElement:a,createText:i,createComment:l,setText:d,setElementText:u,parentNode:f,nextSibling:p,setScopeId:h=yn,insertStaticContent:v}=e,g=(E,S,D,K=null,q=null,Y=null,le=void 0,oe=null,re=!!S.dynamicChildren)=>{if(E===S)return;E&&!Hs(E,S)&&(K=j(E),fe(E,q,Y,!0),E=null),S.patchFlag===-2&&(re=!1,S.dynamicChildren=null);const{type:X,ref:ye,shapeFlag:ce}=S;switch(X){case Sa:T(E,S,D,K);break;case Dn:$(E,S,D,K);break;case Yo:E==null&&x(S,D,K,le);break;case Oe:M(E,S,D,K,q,Y,le,oe,re);break;default:ce&1?w(E,S,D,K,q,Y,le,oe,re):ce&6?I(E,S,D,K,q,Y,le,oe,re):(ce&64||ce&128)&&X.process(E,S,D,K,q,Y,le,oe,re,ot)}ye!=null&&q?Rr(ye,E&&E.ref,Y,S||E,!S):ye==null&&E&&E.ref!=null&&Rr(E.ref,null,Y,E,!0)},T=(E,S,D,K)=>{if(E==null)s(S.el=i(S.children),D,K);else{const q=S.el=E.el;S.children!==E.children&&d(q,S.children)}},$=(E,S,D,K)=>{E==null?s(S.el=l(S.children||""),D,K):S.el=E.el},x=(E,S,D,K)=>{[E.el,E.anchor]=v(E.children,S,D,K,E.el,E.anchor)},y=({el:E,anchor:S},D,K)=>{let q;for(;E&&E!==S;)q=p(E),s(E,D,K),E=q;s(S,D,K)},m=({el:E,anchor:S})=>{let D;for(;E&&E!==S;)D=p(E),r(E),E=D;r(S)},w=(E,S,D,K,q,Y,le,oe,re)=>{S.type==="svg"?le="svg":S.type==="math"&&(le="mathml"),E==null?C(S,D,K,q,Y,le,oe,re):P(E,S,q,Y,le,oe,re)},C=(E,S,D,K,q,Y,le,oe)=>{let re,X;const{props:ye,shapeFlag:ce,transition:ve,dirs:W}=E;if(re=E.el=a(E.type,Y,ye&&ye.is,ye),ce&8?u(re,E.children):ce&16&&B(E.children,re,null,K,q,pi(E,Y),le,oe),W&&as(E,null,K,"created"),A(re,E,E.scopeId,le,K),ye){for(const U in ye)U!=="value"&&!Nr(U)&&o(re,U,null,ye[U],Y,K);"value"in ye&&o(re,"value",null,ye.value,Y),(X=ye.onVnodeBeforeMount)&&jt(X,K,E)}W&&as(E,null,K,"beforeMount");const _=u1(q,ve);_&&ve.beforeEnter(re),s(re,S,D),((X=ye&&ye.onVnodeMounted)||_||W)&&lt(()=>{X&&jt(X,K,E),_&&ve.enter(re),W&&as(E,null,K,"mounted")},q)},A=(E,S,D,K,q)=>{if(D&&h(E,D),K)for(let Y=0;Y<K.length;Y++)h(E,K[Y]);if(q){let Y=q.subTree;if(S===Y||ua(Y.type)&&(Y.ssContent===S||Y.ssFallback===S)){const le=q.vnode;A(E,le,le.scopeId,le.slotScopeIds,q.parent)}}},B=(E,S,D,K,q,Y,le,oe,re=0)=>{for(let X=re;X<E.length;X++){const ye=E[X]=oe?Qn(E[X]):mn(E[X]);g(null,ye,S,D,K,q,Y,le,oe)}},P=(E,S,D,K,q,Y,le)=>{const oe=S.el=E.el;let{patchFlag:re,dynamicChildren:X,dirs:ye}=S;re|=E.patchFlag&16;const ce=E.props||Le,ve=S.props||Le;let W;if(D&&is(D,!1),(W=ve.onVnodeBeforeUpdate)&&jt(W,D,S,E),ye&&as(S,E,D,"beforeUpdate"),D&&is(D,!0),(ce.innerHTML&&ve.innerHTML==null||ce.textContent&&ve.textContent==null)&&u(oe,""),X?b(E.dynamicChildren,X,oe,D,K,pi(S,q),Y):le||R(E,S,oe,null,D,K,pi(S,q),Y,!1),re>0){if(re&16)k(oe,ce,ve,D,q);else if(re&2&&ce.class!==ve.class&&o(oe,"class",null,ve.class,q),re&4&&o(oe,"style",ce.style,ve.style,q),re&8){const _=S.dynamicProps;for(let U=0;U<_.length;U++){const de=_[U],$e=ce[de],Te=ve[de];(Te!==$e||de==="value")&&o(oe,de,$e,Te,q,D)}}re&1&&E.children!==S.children&&u(oe,S.children)}else!le&&X==null&&k(oe,ce,ve,D,q);((W=ve.onVnodeUpdated)||ye)&&lt(()=>{W&&jt(W,D,S,E),ye&&as(S,E,D,"updated")},K)},b=(E,S,D,K,q,Y,le)=>{for(let oe=0;oe<S.length;oe++){const re=E[oe],X=S[oe],ye=re.el&&(re.type===Oe||!Hs(re,X)||re.shapeFlag&198)?f(re.el):D;g(re,X,ye,null,K,q,Y,le,!0)}},k=(E,S,D,K,q)=>{if(S!==D){if(S!==Le)for(const Y in S)!Nr(Y)&&!(Y in D)&&o(E,Y,S[Y],null,q,K);for(const Y in D){if(Nr(Y))continue;const le=D[Y],oe=S[Y];le!==oe&&Y!=="value"&&o(E,Y,oe,le,q,K)}"value"in D&&o(E,"value",S.value,D.value,q)}},M=(E,S,D,K,q,Y,le,oe,re)=>{const X=S.el=E?E.el:i(""),ye=S.anchor=E?E.anchor:i("");let{patchFlag:ce,dynamicChildren:ve,slotScopeIds:W}=S;W&&(oe=oe?oe.concat(W):W),E==null?(s(X,D,K),s(ye,D,K),B(S.children||[],D,ye,q,Y,le,oe,re)):ce>0&&ce&64&&ve&&E.dynamicChildren?(b(E.dynamicChildren,ve,D,q,Y,le,oe),(S.key!=null||q&&S===q.subTree)&&_f(E,S,!0)):R(E,S,D,ye,q,Y,le,oe,re)},I=(E,S,D,K,q,Y,le,oe,re)=>{S.slotScopeIds=oe,E==null?S.shapeFlag&512?q.ctx.activate(S,D,K,le,re):Z(S,D,K,q,Y,le,re):z(E,S,re)},Z=(E,S,D,K,q,Y,le)=>{const oe=E.component=A1(E,K,q);if(uf(E)&&(oe.ctx.renderer=ot),S1(oe,!1,le),oe.asyncDep){if(q&&q.registerDep(oe,L,le),!E.el){const re=oe.subTree=tt(Dn);$(null,re,S,D),E.placeholder=re.el}}else L(oe,E,S,D,q,Y,le)},z=(E,S,D)=>{const K=S.component=E.component;if(w1(E,S,D))if(K.asyncDep&&!K.asyncResolved){V(K,S,D);return}else K.next=S,K.update();else S.el=E.el,K.vnode=S},L=(E,S,D,K,q,Y,le)=>{const oe=()=>{if(E.isMounted){let{next:ce,bu:ve,u:W,parent:_,vnode:U}=E;{const ze=Pf(E);if(ze){ce&&(ce.el=U.el,V(E,ce,le)),ze.asyncDep.then(()=>{E.isUnmounted||oe()});return}}let de=ce,$e;is(E,!1),ce?(ce.el=U.el,V(E,ce,le)):ce=U,ve&&Qs(ve),($e=ce.props&&ce.props.onVnodeBeforeUpdate)&&jt($e,_,ce,U),is(E,!0);const Te=ou(E),Me=E.subTree;E.subTree=Te,g(Me,Te,f(Me.el),j(Me),E,q,Y),ce.el=Te.el,de===null&&x1(E,Te.el),W&&lt(W,q),($e=ce.props&&ce.props.onVnodeUpdated)&&lt(()=>jt($e,_,ce,U),q)}else{let ce;const{el:ve,props:W}=S,{bm:_,m:U,parent:de,root:$e,type:Te}=E,Me=er(S);is(E,!1),_&&Qs(_),!Me&&(ce=W&&W.onVnodeBeforeMount)&&jt(ce,de,S),is(E,!0);{$e.ce&&$e.ce._def.shadowRoot!==!1&&$e.ce._injectChildStyle(Te);const ze=E.subTree=ou(E);g(null,ze,D,K,E,q,Y),S.el=ze.el}if(U&&lt(U,q),!Me&&(ce=W&&W.onVnodeMounted)){const ze=S;lt(()=>jt(ce,de,ze),q)}(S.shapeFlag&256||de&&er(de.vnode)&&de.vnode.shapeFlag&256)&&E.a&&lt(E.a,q),E.isMounted=!0,S=D=K=null}};E.scope.on();const re=E.effect=new Dd(oe);E.scope.off();const X=E.update=re.run.bind(re),ye=E.job=re.runIfDirty.bind(re);ye.i=E,ye.id=E.uid,re.scheduler=()=>Kl(ye),is(E,!0),X()},V=(E,S,D)=>{S.component=E;const K=E.vnode.props;E.vnode=S,E.next=null,s1(E,S.props,K,D),i1(E,S.children,D),Ln(),Jc(E),Un()},R=(E,S,D,K,q,Y,le,oe,re=!1)=>{const X=E&&E.children,ye=E?E.shapeFlag:0,ce=S.children,{patchFlag:ve,shapeFlag:W}=S;if(ve>0){if(ve&128){ae(X,ce,D,K,q,Y,le,oe,re);return}else if(ve&256){J(X,ce,D,K,q,Y,le,oe,re);return}}W&8?(ye&16&&we(X,q,Y),ce!==X&&u(D,ce)):ye&16?W&16?ae(X,ce,D,K,q,Y,le,oe,re):we(X,q,Y,!0):(ye&8&&u(D,""),W&16&&B(ce,D,K,q,Y,le,oe,re))},J=(E,S,D,K,q,Y,le,oe,re)=>{E=E||Ys,S=S||Ys;const X=E.length,ye=S.length,ce=Math.min(X,ye);let ve;for(ve=0;ve<ce;ve++){const W=S[ve]=re?Qn(S[ve]):mn(S[ve]);g(E[ve],W,D,null,q,Y,le,oe,re)}X>ye?we(E,q,Y,!0,!1,ce):B(S,D,K,q,Y,le,oe,re,ce)},ae=(E,S,D,K,q,Y,le,oe,re)=>{let X=0;const ye=S.length;let ce=E.length-1,ve=ye-1;for(;X<=ce&&X<=ve;){const W=E[X],_=S[X]=re?Qn(S[X]):mn(S[X]);if(Hs(W,_))g(W,_,D,null,q,Y,le,oe,re);else break;X++}for(;X<=ce&&X<=ve;){const W=E[ce],_=S[ve]=re?Qn(S[ve]):mn(S[ve]);if(Hs(W,_))g(W,_,D,null,q,Y,le,oe,re);else break;ce--,ve--}if(X>ce){if(X<=ve){const W=ve+1,_=W<ye?S[W].el:K;for(;X<=ve;)g(null,S[X]=re?Qn(S[X]):mn(S[X]),D,_,q,Y,le,oe,re),X++}}else if(X>ve)for(;X<=ce;)fe(E[X],q,Y,!0),X++;else{const W=X,_=X,U=new Map;for(X=_;X<=ve;X++){const We=S[X]=re?Qn(S[X]):mn(S[X]);We.key!=null&&U.set(We.key,X)}let de,$e=0;const Te=ve-_+1;let Me=!1,ze=0;const It=new Array(Te);for(X=0;X<Te;X++)It[X]=0;for(X=W;X<=ce;X++){const We=E[X];if($e>=Te){fe(We,q,Y,!0);continue}let G;if(We.key!=null)G=U.get(We.key);else for(de=_;de<=ve;de++)if(It[de-_]===0&&Hs(We,S[de])){G=de;break}G===void 0?fe(We,q,Y,!0):(It[G-_]=X+1,G>=ze?ze=G:Me=!0,g(We,S[G],D,null,q,Y,le,oe,re),$e++)}const kr=Me?d1(It):Ys;for(de=kr.length-1,X=Te-1;X>=0;X--){const We=_+X,G=S[We],ee=S[We+1],ie=We+1<ye?ee.el||ee.placeholder:K;It[X]===0?g(null,G,D,ie,q,Y,le,oe,re):Me&&(de<0||X!==kr[de]?me(G,D,ie,2):de--)}}},me=(E,S,D,K,q=null)=>{const{el:Y,type:le,transition:oe,children:re,shapeFlag:X}=E;if(X&6){me(E.component.subTree,S,D,K);return}if(X&128){E.suspense.move(S,D,K);return}if(X&64){le.move(E,S,D,ot);return}if(le===Oe){s(Y,S,D);for(let ce=0;ce<re.length;ce++)me(re[ce],S,D,K);s(E.anchor,S,D);return}if(le===Yo){y(E,S,D);return}if(K!==2&&X&1&&oe)if(K===0)oe.beforeEnter(Y),s(Y,S,D),lt(()=>oe.enter(Y),q);else{const{leave:ce,delayLeave:ve,afterLeave:W}=oe,_=()=>{E.ctx.isUnmounted?r(Y):s(Y,S,D)},U=()=>{Y._isLeaving&&Y[Im](!0),ce(Y,()=>{_(),W&&W()})};ve?ve(Y,_,U):U()}else s(Y,S,D)},fe=(E,S,D,K=!1,q=!1)=>{const{type:Y,props:le,ref:oe,children:re,dynamicChildren:X,shapeFlag:ye,patchFlag:ce,dirs:ve,cacheIndex:W}=E;if(ce===-2&&(q=!1),oe!=null&&(Ln(),Rr(oe,null,D,E,!0),Un()),W!=null&&(S.renderCache[W]=void 0),ye&256){S.ctx.deactivate(E);return}const _=ye&1&&ve,U=!er(E);let de;if(U&&(de=le&&le.onVnodeBeforeUnmount)&&jt(de,S,E),ye&6)Pe(E.component,D,K);else{if(ye&128){E.suspense.unmount(D,K);return}_&&as(E,null,S,"beforeUnmount"),ye&64?E.type.remove(E,S,D,ot,K):X&&!X.hasOnce&&(Y!==Oe||ce>0&&ce&64)?we(X,S,D,!1,!0):(Y===Oe&&ce&384||!q&&ye&16)&&we(re,S,D),K&&Ee(E)}(U&&(de=le&&le.onVnodeUnmounted)||_)&&lt(()=>{de&&jt(de,S,E),_&&as(E,null,S,"unmounted")},D)},Ee=E=>{const{type:S,el:D,anchor:K,transition:q}=E;if(S===Oe){Ie(D,K);return}if(S===Yo){m(E);return}const Y=()=>{r(D),q&&!q.persisted&&q.afterLeave&&q.afterLeave()};if(E.shapeFlag&1&&q&&!q.persisted){const{leave:le,delayLeave:oe}=q,re=()=>le(D,Y);oe?oe(E.el,Y,re):re()}else Y()},Ie=(E,S)=>{let D;for(;E!==S;)D=p(E),r(E),E=D;r(S)},Pe=(E,S,D)=>{const{bum:K,scope:q,job:Y,subTree:le,um:oe,m:re,a:X}=E;ca(re),ca(X),K&&Qs(K),q.stop(),Y&&(Y.flags|=8,fe(le,E,S,D)),oe&&lt(oe,S),lt(()=>{E.isUnmounted=!0},S)},we=(E,S,D,K=!1,q=!1,Y=0)=>{for(let le=Y;le<E.length;le++)fe(E[le],S,D,K,q)},j=E=>{if(E.shapeFlag&6)return j(E.component.subTree);if(E.shapeFlag&128)return E.suspense.next();const S=p(E.anchor||E.el),D=S&&S[Sm];return D?p(D):S};let he=!1;const vt=(E,S,D)=>{E==null?S._vnode&&fe(S._vnode,null,null,!0):g(S._vnode||null,E,S,null,null,null,D),S._vnode=E,he||(he=!0,Jc(),of(),he=!1)},ot={p:g,um:fe,m:me,r:Ee,mt:Z,mc:B,pc:R,pbc:b,n:j,o:e};return{render:vt,hydrate:void 0,createApp:Xm(vt)}}function pi({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function is({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function u1(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function _f(e,t,n=!1){const s=e.children,r=t.children;if(xe(s)&&xe(r))for(let o=0;o<s.length;o++){const a=s[o];let i=r[o];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=r[o]=Qn(r[o]),i.el=a.el),!n&&i.patchFlag!==-2&&_f(a,i)),i.type===Sa&&i.patchFlag!==-1&&(i.el=a.el),i.type===Dn&&!i.el&&(i.el=a.el)}}function d1(e){const t=e.slice(),n=[0];let s,r,o,a,i;const l=e.length;for(s=0;s<l;s++){const d=e[s];if(d!==0){if(r=n[n.length-1],e[r]<d){t[s]=r,n.push(s);continue}for(o=0,a=n.length-1;o<a;)i=o+a>>1,e[n[i]]<d?o=i+1:a=i;d<e[n[o]]&&(o>0&&(t[s]=n[o-1]),n[o]=s)}}for(o=n.length,a=n[o-1];o-- >0;)n[o]=a,a=t[a];return n}function Pf(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Pf(t)}function ca(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const f1=Symbol.for("v-scx"),p1=()=>Lr(f1);function Tt(e,t,n){return Af(e,t,n)}function Af(e,t,n=Le){const{immediate:s,deep:r,flush:o,once:a}=n,i=gt({},n),l=t&&s||!t&&o!=="post";let d;if(Kr){if(o==="sync"){const h=p1();d=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=yn,h.resume=yn,h.pause=yn,h}}const u=mt;i.call=(h,v,g)=>xn(h,u,v,g);let f=!1;o==="post"?i.scheduler=h=>{lt(h,u&&u.suspense)}:o!=="sync"&&(f=!0,i.scheduler=(h,v)=>{v?h():Kl(h)}),i.augmentJob=h=>{t&&(h.flags|=4),f&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const p=Cm(e,t,i);return Kr&&(d?d.push(p):l&&p()),p}function h1(e,t,n){const s=this.proxy,r=Qe(e)?e.includes(".")?Sf(s,e):()=>s[e]:e.bind(s,s);let o;Ce(t)?o=t:(o=t.handler,n=t);const a=$o(this),i=Af(r,o.bind(s),n);return a(),i}function Sf(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const m1=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${qt(t)}Modifiers`]||e[`${rs(t)}Modifiers`];function b1(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Le;let r=n;const o=t.startsWith("update:"),a=o&&m1(s,t.slice(7));a&&(a.trim&&(r=n.map(u=>Qe(u)?u.trim():u)),a.number&&(r=n.map(ta)));let i,l=s[i=ai(t)]||s[i=ai(qt(t))];!l&&o&&(l=s[i=ai(rs(t))]),l&&xn(l,e,6,r);const d=s[i+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,xn(d,e,6,r)}}const g1=new WeakMap;function Bf(e,t,n=!1){const s=n?g1:t.emitsCache,r=s.get(e);if(r!==void 0)return r;const o=e.emits;let a={},i=!1;if(!Ce(e)){const l=d=>{const u=Bf(d,t,!0);u&&(i=!0,gt(a,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!i?(De(e)&&s.set(e,null),null):(xe(o)?o.forEach(l=>a[l]=null):gt(a,o),De(e)&&s.set(e,a),a)}function Aa(e,t){return!e||!va(t)?!1:(t=t.slice(2).replace(/Once$/,""),Re(e,t[0].toLowerCase()+t.slice(1))||Re(e,rs(t))||Re(e,t))}function ou(e){const{type:t,vnode:n,proxy:s,withProxy:r,propsOptions:[o],slots:a,attrs:i,emit:l,render:d,renderCache:u,props:f,data:p,setupState:h,ctx:v,inheritAttrs:g}=e,T=aa(e);let $,x;try{if(n.shapeFlag&4){const m=r||s,w=m;$=mn(d.call(w,m,u,f,h,p,v)),x=i}else{const m=t;$=mn(m.length>1?m(f,{attrs:i,slots:a,emit:l}):m(f,null)),x=t.props?i:y1(i)}}catch(m){Ur.length=0,Ca(m,e,1),$=tt(Dn)}let y=$;if(x&&g!==!1){const m=Object.keys(x),{shapeFlag:w}=y;m.length&&w&7&&(o&&m.some(Rl)&&(x=v1(x,o)),y=$s(y,x,!1,!0))}return n.dirs&&(y=$s(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&_a(y,n.transition),$=y,aa(T),$}const y1=e=>{let t;for(const n in e)(n==="class"||n==="style"||va(n))&&((t||(t={}))[n]=e[n]);return t},v1=(e,t)=>{const n={};for(const s in e)(!Rl(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function w1(e,t,n){const{props:s,children:r,component:o}=e,{props:a,children:i,patchFlag:l}=t,d=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?au(s,a,d):!!a;if(l&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const p=u[f];if(a[p]!==s[p]&&!Aa(d,p))return!0}}}else return(r||i)&&(!i||!i.$stable)?!0:s===a?!1:s?a?au(s,a,d):!0:!!a;return!1}function au(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const o=s[r];if(t[o]!==e[o]&&!Aa(n,o))return!0}return!1}function x1({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const ua=e=>e.__isSuspense;function $1(e,t){t&&t.pendingBranch?xe(e)?t.effects.push(...e):t.effects.push(e):Pm(e)}const Oe=Symbol.for("v-fgt"),Sa=Symbol.for("v-txt"),Dn=Symbol.for("v-cmt"),Yo=Symbol.for("v-stc"),Ur=[];let Rt=null;function N(e=!1){Ur.push(Rt=e?null:[])}function T1(){Ur.pop(),Rt=Ur[Ur.length-1]||null}let qr=1;function iu(e,t=!1){qr+=e,e<0&&Rt&&t&&(Rt.hasOnce=!0)}function If(e){return e.dynamicChildren=qr>0?Rt||Ys:null,T1(),qr>0&&Rt&&Rt.push(e),e}function F(e,t,n,s,r,o){return If(c(e,t,n,s,r,o,!0))}function bs(e,t,n,s,r){return If(tt(e,t,n,s,r,!0))}function Ql(e){return e?e.__v_isVNode===!0:!1}function Hs(e,t){return e.type===t.type&&e.key===t.key}const Nf=({key:e})=>e??null,Jo=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Qe(e)||qe(e)||Ce(e)?{i:Mt,r:e,k:t,f:!!n}:e:null);function c(e,t=null,n=null,s=0,r=null,o=e===Oe?0:1,a=!1,i=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Nf(t),ref:t&&Jo(t),scopeId:lf,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Mt};return i?(Xl(l,n),o&128&&e.normalize(l)):n&&(l.shapeFlag|=Qe(n)?8:16),qr>0&&!a&&Rt&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Rt.push(l),l}const tt=k1;function k1(e,t=null,n=null,s=0,r=null,o=!1){if((!e||e===mf)&&(e=Dn),Ql(e)){const i=$s(e,t,!0);return n&&Xl(i,n),qr>0&&!o&&Rt&&(i.shapeFlag&6?Rt[Rt.indexOf(e)]=i:Rt.push(i)),i.patchFlag=-2,i}if(O1(e)&&(e=e.__vccOpts),t){t=C1(t);let{class:i,style:l}=t;i&&!Qe(i)&&(t.class=Se(i)),De(l)&&(Gl(l)&&!xe(l)&&(l=gt({},l)),t.style=Ta(l))}const a=Qe(e)?1:ua(e)?128:Bm(e)?64:De(e)?4:Ce(e)?2:0;return c(e,t,n,s,r,a,o,!0)}function C1(e){return e?Gl(e)||xf(e)?gt({},e):e:null}function $s(e,t,n=!1,s=!1){const{props:r,ref:o,patchFlag:a,children:i,transition:l}=e,d=t?E1(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&Nf(d),ref:t&&t.ref?n&&o?xe(o)?o.concat(Jo(t)):[o,Jo(t)]:Jo(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Oe?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&$s(e.ssContent),ssFallback:e.ssFallback&&$s(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&s&&_a(u,l.clone(u)),u}function se(e=" ",t=0){return tt(Sa,null,e,t)}function Of(e,t){const n=tt(Yo,null,e);return n.staticCount=t,n}function be(e="",t=!1){return t?(N(),bs(Dn,null,e)):tt(Dn,null,e)}function mn(e){return e==null||typeof e=="boolean"?tt(Dn):xe(e)?tt(Oe,null,e.slice()):Ql(e)?Qn(e):tt(Sa,null,String(e))}function Qn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:$s(e)}function Xl(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(xe(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),Xl(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!xf(t)?t._ctx=Mt:r===3&&Mt&&(Mt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ce(t)?(t={default:t,_ctx:Mt},n=32):(t=String(t),s&64?(n=16,t=[se(t)]):n=8);e.children=t,e.shapeFlag|=n}function E1(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=Se([t.class,s.class]));else if(r==="style")t.style=Ta([t.style,s.style]);else if(va(r)){const o=t[r],a=s[r];a&&o!==a&&!(xe(o)&&o.includes(a))&&(t[r]=o?[].concat(o,a):a)}else r!==""&&(t[r]=s[r])}return t}function jt(e,t,n,s=null){xn(e,t,7,[n,s])}const _1=yf();let P1=0;function A1(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||_1,o={uid:P1++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Fd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Tf(s,r),emitsOptions:Bf(s,r),emit:null,emitted:null,propsDefaults:Le,inheritAttrs:s.inheritAttrs,ctx:Le,data:Le,props:Le,attrs:Le,slots:Le,refs:Le,setupState:Le,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=b1.bind(null,o),e.ce&&e.ce(o),o}let mt=null;const ec=()=>mt||Mt;let da,qi;{const e=$a(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),o=>{r.length>1?r.forEach(a=>a(o)):r[0](o)}};da=t("__VUE_INSTANCE_SETTERS__",n=>mt=n),qi=t("__VUE_SSR_SETTERS__",n=>Kr=n)}const $o=e=>{const t=mt;return da(e),e.scope.on(),()=>{e.scope.off(),da(t)}},lu=()=>{mt&&mt.scope.off(),da(null)};function Mf(e){return e.vnode.shapeFlag&4}let Kr=!1;function S1(e,t=!1,n=!1){t&&qi(t);const{props:s,children:r}=e.vnode,o=Mf(e);n1(e,s,o,t),a1(e,r,n||t);const a=o?B1(e,t):void 0;return t&&qi(!1),a}function B1(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Gm);const{setup:s}=n;if(s){Ln();const r=e.setupContext=s.length>1?N1(e):null,o=$o(e),a=xo(s,e,0,[e.props,r]),i=Sd(a);if(Un(),o(),(i||e.sp)&&!er(e)&&cf(e),i){if(a.then(lu,lu),t)return a.then(l=>{cu(e,l)}).catch(l=>{Ca(l,e,0)});e.asyncDep=a}else cu(e,a)}else Rf(e)}function cu(e,t,n){Ce(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:De(t)&&(e.setupState=tf(t)),Rf(e)}function Rf(e,t,n){const s=e.type;e.render||(e.render=s.render||yn);{const r=$o(e);Ln();try{qm(e)}finally{Un(),r()}}}const I1={get(e,t){return ht(e,"get",""),e[t]}};function N1(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,I1),slots:e.slots,emit:e.emit,expose:t}}function Ba(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(tf(ql(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Fr)return Fr[n](e)},has(t,n){return n in t||n in Fr}})):e.proxy}function Ki(e,t=!0){return Ce(e)?e.displayName||e.name:e.name||t&&e.__name}function O1(e){return Ce(e)&&"__vccOpts"in e}const pe=(e,t)=>Tm(e,t,Kr),M1="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Zi;const uu=typeof window<"u"&&window.trustedTypes;if(uu)try{Zi=uu.createPolicy("vue",{createHTML:e=>e})}catch{}const Ff=Zi?e=>Zi.createHTML(e):e=>e,R1="http://www.w3.org/2000/svg",F1="http://www.w3.org/1998/Math/MathML",Pn=typeof document<"u"?document:null,du=Pn&&Pn.createElement("template"),L1={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?Pn.createElementNS(R1,e):t==="mathml"?Pn.createElementNS(F1,e):n?Pn.createElement(e,{is:n}):Pn.createElement(e);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>Pn.createTextNode(e),createComment:e=>Pn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Pn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,o){const a=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{du.innerHTML=Ff(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const i=du.content;if(s==="svg"||s==="mathml"){const l=i.firstChild;for(;l.firstChild;)i.appendChild(l.firstChild);i.removeChild(l)}t.insertBefore(i,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},U1=Symbol("_vtc");function D1(e,t,n){const s=e[U1];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const fu=Symbol("_vod"),z1=Symbol("_vsh"),j1=Symbol(""),W1=/(?:^|;)\s*display\s*:/;function V1(e,t,n){const s=e.style,r=Qe(n);let o=!1;if(n&&!r){if(t)if(Qe(t))for(const a of t.split(";")){const i=a.slice(0,a.indexOf(":")).trim();n[i]==null&&Qo(s,i,"")}else for(const a in t)n[a]==null&&Qo(s,a,"");for(const a in n)a==="display"&&(o=!0),Qo(s,a,n[a])}else if(r){if(t!==n){const a=s[j1];a&&(n+=";"+a),s.cssText=n,o=W1.test(n)}}else t&&e.removeAttribute("style");fu in e&&(e[fu]=o?s.display:"",e[z1]&&(s.display="none"))}const pu=/\s*!important$/;function Qo(e,t,n){if(xe(n))n.forEach(s=>Qo(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=H1(e,t);pu.test(n)?e.setProperty(rs(s),n.replace(pu,""),"important"):e[s]=n}}const hu=["Webkit","Moz","ms"],hi={};function H1(e,t){const n=hi[t];if(n)return n;let s=qt(t);if(s!=="filter"&&s in e)return hi[t]=s;s=xa(s);for(let r=0;r<hu.length;r++){const o=hu[r]+s;if(o in e)return hi[t]=o}return t}const mu="http://www.w3.org/1999/xlink";function bu(e,t,n,s,r,o=Gh(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(mu,t.slice(6,t.length)):e.setAttributeNS(mu,t,n):n==null||o&&!Od(n)?e.removeAttribute(t):e.setAttribute(t,o?"":wn(n)?String(n):n)}function gu(e,t,n,s,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Ff(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const i=o==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(i!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const i=typeof e[t];i==="boolean"?n=Od(n):n==null&&i==="string"?(n="",a=!0):i==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(r||t)}function In(e,t,n,s){e.addEventListener(t,n,s)}function G1(e,t,n,s){e.removeEventListener(t,n,s)}const yu=Symbol("_vei");function q1(e,t,n,s,r=null){const o=e[yu]||(e[yu]={}),a=o[t];if(s&&a)a.value=s;else{const[i,l]=K1(t);if(s){const d=o[t]=J1(s,r);In(e,i,d,l)}else a&&(G1(e,i,a,l),o[t]=void 0)}}const vu=/(?:Once|Passive|Capture)$/;function K1(e){let t;if(vu.test(e)){t={};let s;for(;s=e.match(vu);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):rs(e.slice(2)),t]}let mi=0;const Z1=Promise.resolve(),Y1=()=>mi||(Z1.then(()=>mi=0),mi=Date.now());function J1(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;xn(Q1(s,n.value),t,5,[s])};return n.value=e,n.attached=Y1(),n}function Q1(e,t){if(xe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const wu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,X1=(e,t,n,s,r,o)=>{const a=r==="svg";t==="class"?D1(e,s,a):t==="style"?V1(e,n,s):va(t)?Rl(t)||q1(e,t,n,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):eb(e,t,s,a))?(gu(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&bu(e,t,s,a,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Qe(s))?gu(e,qt(t),s,o,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),bu(e,t,s,a))};function eb(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&wu(t)&&Ce(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return wu(t)&&Qe(n)?!1:t in e}const ss=e=>{const t=e.props["onUpdate:modelValue"]||!1;return xe(t)?n=>Qs(t,n):t};function tb(e){e.target.composing=!0}function xu(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ht=Symbol("_assign"),Ae={created(e,{modifiers:{lazy:t,trim:n,number:s}},r){e[Ht]=ss(r);const o=s||r.props&&r.props.type==="number";In(e,t?"change":"input",a=>{if(a.target.composing)return;let i=e.value;n&&(i=i.trim()),o&&(i=ta(i)),e[Ht](i)}),n&&In(e,"change",()=>{e.value=e.value.trim()}),t||(In(e,"compositionstart",tb),In(e,"compositionend",xu),In(e,"change",xu))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:r,number:o}},a){if(e[Ht]=ss(a),e.composing)return;const i=(o||e.type==="number")&&!/^0\d/.test(e.value)?ta(e.value):e.value,l=t??"";i!==l&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||r&&e.value.trim()===l)||(e.value=l))}},Dr={deep:!0,created(e,t,n){e[Ht]=ss(n),In(e,"change",()=>{const s=e._modelValue,r=or(e),o=e.checked,a=e[Ht];if(xe(s)){const i=Ul(s,r),l=i!==-1;if(o&&!l)a(s.concat(r));else if(!o&&l){const d=[...s];d.splice(i,1),a(d)}}else if(mr(s)){const i=new Set(s);o?i.add(r):i.delete(r),a(i)}else a(Lf(e,o))})},mounted:$u,beforeUpdate(e,t,n){e[Ht]=ss(n),$u(e,t,n)}};function $u(e,{value:t,oldValue:n},s){e._modelValue=t;let r;if(xe(t))r=Ul(t,s.props.value)>-1;else if(mr(t))r=t.has(s.props.value);else{if(t===n)return;r=xs(t,Lf(e,!0))}e.checked!==r&&(e.checked=r)}const gs={created(e,{value:t},n){e.checked=xs(t,n.props.value),e[Ht]=ss(n),In(e,"change",()=>{e[Ht](or(e))})},beforeUpdate(e,{value:t,oldValue:n},s){e[Ht]=ss(s),t!==n&&(e.checked=xs(t,s.props.value))}},Ye={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const r=mr(t);In(e,"change",()=>{const o=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?ta(or(a)):or(a));e[Ht](e.multiple?r?new Set(o):o:o[0]),e._assigning=!0,Ea(()=>{e._assigning=!1})}),e[Ht]=ss(s)},mounted(e,{value:t}){Tu(e,t)},beforeUpdate(e,t,n){e[Ht]=ss(n)},updated(e,{value:t}){e._assigning||Tu(e,t)}};function Tu(e,t){const n=e.multiple,s=xe(t);if(!(n&&!s&&!mr(t))){for(let r=0,o=e.options.length;r<o;r++){const a=e.options[r],i=or(a);if(n)if(s){const l=typeof i;l==="string"||l==="number"?a.selected=t.some(d=>String(d)===String(i)):a.selected=Ul(t,i)>-1}else a.selected=t.has(i);else if(xs(or(a),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function or(e){return"_value"in e?e._value:e.value}function Lf(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const nb=["ctrl","shift","alt","meta"],sb={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>nb.some(n=>e[`${n}Key`]&&!t.includes(n))},ar=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(r,...o)=>{for(let a=0;a<t.length;a++){const i=sb[t[a]];if(i&&i(r,t))return}return e(r,...o)})},rb={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ob=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=r=>{if(!("key"in r))return;const o=rs(r.key);if(t.some(a=>a===o||rb[a]===o))return e(r)})},ab=gt({patchProp:X1},L1);let ku;function ib(){return ku||(ku=l1(ab))}const lb=(...e)=>{const t=ib().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=ub(s);if(!r)return;const o=t._component;!Ce(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const a=n(r,!1,cb(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},t};function cb(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function ub(e){return Qe(e)?document.querySelector(e):e}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Uf;const Ia=e=>Uf=e,Df=Symbol();function Yi(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var zr;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(zr||(zr={}));function db(){const e=Ld(!0),t=e.run(()=>Q({}));let n=[],s=[];const r=ql({install(o){Ia(r),r._a=o,o.provide(Df,r),o.config.globalProperties.$pinia=r,s.forEach(a=>n.push(a)),s=[]},use(o){return this._a?n.push(o):s.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const zf=()=>{};function Cu(e,t,n,s=zf){e.push(t);const r=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),s())};return!n&&Ud()&&Kh(r),r}function Ds(e,...t){e.slice().forEach(n=>{n(...t)})}const fb=e=>e(),Eu=Symbol(),bi=Symbol();function Ji(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,s)=>e.set(s,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],r=e[n];Yi(r)&&Yi(s)&&e.hasOwnProperty(n)&&!qe(s)&&!On(s)?e[n]=Ji(r,s):e[n]=s}return e}const pb=Symbol();function hb(e){return!Yi(e)||!e.hasOwnProperty(pb)}const{assign:Yn}=Object;function mb(e){return!!(qe(e)&&e.effect)}function bb(e,t,n,s){const{state:r,actions:o,getters:a}=t,i=n.state.value[e];let l;function d(){i||(n.state.value[e]=r?r():{});const u=ym(n.state.value[e]);return Yn(u,o,Object.keys(a||{}).reduce((f,p)=>(f[p]=ql(pe(()=>{Ia(n);const h=n._s.get(e);return a[p].call(h,h)})),f),{}))}return l=jf(e,d,t,n,s,!0),l}function jf(e,t,n={},s,r,o){let a;const i=Yn({actions:{}},n),l={deep:!0};let d,u,f=[],p=[],h;const v=s.state.value[e];!o&&!v&&(s.state.value[e]={}),Q({});let g;function T(B){let P;d=u=!1,typeof B=="function"?(B(s.state.value[e]),P={type:zr.patchFunction,storeId:e,events:h}):(Ji(s.state.value[e],B),P={type:zr.patchObject,payload:B,storeId:e,events:h});const b=g=Symbol();Ea().then(()=>{g===b&&(d=!0)}),u=!0,Ds(f,P,s.state.value[e])}const $=o?function(){const{state:P}=n,b=P?P():{};this.$patch(k=>{Yn(k,b)})}:zf;function x(){a.stop(),f=[],p=[],s._s.delete(e)}const y=(B,P="")=>{if(Eu in B)return B[bi]=P,B;const b=function(){Ia(s);const k=Array.from(arguments),M=[],I=[];function Z(V){M.push(V)}function z(V){I.push(V)}Ds(p,{args:k,name:b[bi],store:w,after:Z,onError:z});let L;try{L=B.apply(this&&this.$id===e?this:w,k)}catch(V){throw Ds(I,V),V}return L instanceof Promise?L.then(V=>(Ds(M,V),V)).catch(V=>(Ds(I,V),Promise.reject(V))):(Ds(M,L),L)};return b[Eu]=!0,b[bi]=P,b},m={_p:s,$id:e,$onAction:Cu.bind(null,p),$patch:T,$reset:$,$subscribe(B,P={}){const b=Cu(f,B,P.detached,()=>k()),k=a.run(()=>Tt(()=>s.state.value[e],M=>{(P.flush==="sync"?u:d)&&B({storeId:e,type:zr.direct,events:h},M)},Yn({},l,P)));return b},$dispose:x},w=wo(m);s._s.set(e,w);const A=(s._a&&s._a.runWithContext||fb)(()=>s._e.run(()=>(a=Ld()).run(()=>t({action:y}))));for(const B in A){const P=A[B];if(qe(P)&&!mb(P)||On(P))o||(v&&hb(P)&&(qe(P)?P.value=v[B]:Ji(P,v[B])),s.state.value[e][B]=P);else if(typeof P=="function"){const b=y(P,B);A[B]=b,i.actions[B]=P}}return Yn(w,A),Yn(Ne(w),A),Object.defineProperty(w,"$state",{get:()=>s.state.value[e],set:B=>{T(P=>{Yn(P,B)})}}),s._p.forEach(B=>{Yn(w,a.run(()=>B({store:w,app:s._a,pinia:s,options:i})))}),v&&o&&n.hydrate&&n.hydrate(w.$state,v),d=!0,u=!0,w}/*! #__NO_SIDE_EFFECTS__ */function Na(e,t,n){let s,r;const o=typeof t=="function";typeof e=="string"?(s=e,r=o?n:t):(r=e,s=e.id);function a(i,l){const d=t1();return i=i||(d?Lr(Df,null):null),i&&Ia(i),i=Uf,i._s.has(s)||(o?jf(s,t,r,i):bb(s,r,i)),i._s.get(s)}return a.$id=s,a}function bt(e){{const t=Ne(e),n={};for(const s in t){const r=t[s];r.effect?n[s]=pe({get:()=>e[s],set(o){e[s]=o}}):(qe(r)||On(r))&&(n[s]=xm(e,s))}return n}}const gb="http://localhost:5177";async function jr(e,t={}){const n=localStorage.getItem("amm_token"),s=new Headers(t.headers||{});s.has("Content-Type")||s.set("Content-Type","application/json"),n&&s.set("Authorization",`Bearer ${n}`);const r=await fetch(`${gb}${e}`,{...t,headers:s,credentials:"include"}),o=await r.json().catch(()=>({}));if(!r.ok){const a=o.message||o.error||"";throw new Error(a)}return o}const yb=!1,vb="",wb={class:"login-page d-flex align-items-center justify-content-center bg-light"},xb={class:"card shadow-sm login-card"},$b={class:"card-body"},Tb={key:0,class:"alert alert-danger py-2 mb-0"},kb=["disabled"],Cb=ut({__name:"LoginView",emits:["logged-in"],setup(e,{emit:t}){const n=t,s=Q(""),r=Q(""),o=Q(!1),a=Q(""),i=async()=>{var l,d;o.value=!0,a.value="";try{const u=await jr("/api/auth/login",{method:"POST",body:JSON.stringify({username:s.value.trim(),password:r.value})}),f=(l=u.data)==null?void 0:l.token;if(!f)throw new Error("");n("logged-in",{user:(d=u.data)==null?void 0:d.user,token:f})}catch(u){a.value=(u==null?void 0:u.message)||""}finally{o.value=!1}};return(l,d)=>(N(),F("div",wb,[c("div",xb,[c("div",$b,[d[4]||(d[4]=c("h1",{class:"h5 mb-3"},"AMM ",-1)),d[5]||(d[5]=c("p",{class:"text-muted small mb-4"},"",-1)),c("form",{onSubmit:ar(i,["prevent"]),class:"d-grid gap-3"},[c("div",null,[d[2]||(d[2]=c("label",{class:"form-label"},"",-1)),ue(c("input",{"onUpdate:modelValue":d[0]||(d[0]=u=>s.value=u),type:"text",class:"form-control",placeholder:"",autocomplete:"username",required:""},null,512),[[Ae,s.value]])]),c("div",null,[d[3]||(d[3]=c("label",{class:"form-label"},"",-1)),ue(c("input",{"onUpdate:modelValue":d[1]||(d[1]=u=>r.value=u),type:"password",class:"form-control",placeholder:"",autocomplete:"current-password",required:""},null,512),[[Ae,r.value]])]),a.value?(N(),F("div",Tb,O(a.value),1)):be("",!0),c("button",{class:"btn btn-primary",type:"submit",disabled:o.value},O(o.value?"...":""),9,kb)],32)])])]))}}),Jt=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},Eb=Jt(Cb,[["__scopeId","data-v-f863e756"]]),_b={class:"sidebar-header p-3 d-flex justify-content-between align-items-center"},Pb={key:0},Ab=["title"],Sb={class:"nav flex-column gap-1 p-2 flex-grow-1"},Bb=["onClick","title"],Ib={key:0},Nb=ut({__name:"Sidebar",props:{items:{},activeKey:{},collapsed:{type:Boolean}},emits:["select","toggle-collapse"],setup(e){return(t,n)=>(N(),F("div",{class:Se(["sidebar d-flex flex-column",{"sidebar-collapsed":t.collapsed}])},[c("div",_b,[t.collapsed?be("",!0):(N(),F("div",Pb,[...n[1]||(n[1]=[c("div",{class:"fw-semibold fs-5"},"AMM ",-1),c("div",{class:"text-muted small"},"",-1)])])),c("button",{class:"btn btn-sm btn-light",onClick:n[0]||(n[0]=s=>t.$emit("toggle-collapse")),title:t.collapsed?"":""},[c("i",{class:Se(["bi",t.collapsed?"bi-chevron-right":"bi-chevron-left"])},null,2)],8,Ab)]),c("nav",Sb,[(N(!0),F(Oe,null,Je(t.items,s=>(N(),F("button",{key:s.key,class:Se(["btn text-start sidebar-item",s.key===t.activeKey?"btn-primary":"btn-light"]),type:"button",onClick:r=>t.$emit("select",s.key),title:t.collapsed?s.label:""},[c("span",{class:Se(t.collapsed?"":"me-2")},O(s.icon),3),t.collapsed?be("",!0):(N(),F("span",Ib,O(s.label),1))],10,Bb))),128))])],2))}}),Ob=Jt(Nb,[["__scopeId","data-v-b7caf48c"]]),$n=Na("chain",{state:()=>({chains:[{id:97,name:"BSC Testnet",rpc:"https://bsc-testnet.publicnode.com",governanceToken:"BNB",rpcOptions:[{name:"",url:"https://bsc-testnet.publicnode.com"}]},{id:56,name:"BSC Mainnet",rpc:"https://bsc-dataseed.binance.org",governanceToken:"BNB",rpcOptions:[{name:"",url:"https://bsc-dataseed.binance.org"},{name:"",url:"https://meme.bsc.blockrazor.xyz"}]},{id:66,name:"OKX Chain",rpc:"https://exchainrpc.okex.org",governanceToken:"OKB",rpcOptions:[{name:"",url:"https://exchainrpc.okex.org"}]}],selectedChainId:56,selectedDex:"pancake-v2",rpcUrl:"https://bsc-dataseed.binance.org"}),getters:{selectedChain:e=>e.chains.find(t=>t.id===e.selectedChainId),currentGovernanceToken:e=>{const t=e.chains.find(n=>n.id===e.selectedChainId);return(t==null?void 0:t.governanceToken)||"BNB"}}}),fa=Na("dex",{state:()=>({dexConfigs:[{id:"pancake-v2-testnet",name:"PancakeSwap V2 Testnet",factoryAddress:"0x6725F303b657a9451d8BA641348b6761A6CC7a17",routerAddress:"0xD99D1c33F9fC3444f8101754aBC46c52416550D1",baseTokens:["0xae13d989daC2f0dEbFf460aC112a837C89BAa7cd"]},{id:"pancake-v2-mainnet",name:"PancakeSwap V2 Mainnet",factoryAddress:"0xcA143Ce0Fe65960E6Aa4D42C8D3cE161c2B6604f",routerAddress:"0x10ED43C718714eb63d5aA57B78B54704E256024E",baseTokens:["0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c"]},{id:"okx-swap",name:"OKX Swap",factoryAddress:"0x0000000000000000000000000000000000000000",routerAddress:"0x0000000000000000000000000000000000000000",baseTokens:["0x8F8526dbfd6E38E3D8307702cA8469Bae6C56C15"]}],chainDexMappings:[{chainId:97,dexId:"pancake-v2-testnet"},{chainId:56,dexId:"pancake-v2-mainnet"},{chainId:66,dexId:"okx-swap"}],selectedDexId:"pancake-v2-mainnet"}),getters:{getDexByChainId:e=>t=>{const n=e.chainDexMappings.find(s=>s.chainId===t);return n?e.dexConfigs.find(s=>s.id===n.dexId):null},currentDex:e=>e.dexConfigs.find(t=>t.id===e.selectedDexId),currentDexId:e=>e.selectedDexId,currentDexName:e=>{const t=e.dexConfigs.find(n=>n.id===e.selectedDexId);return(t==null?void 0:t.name)||""},currentFactoryAddress:e=>{const t=e.dexConfigs.find(n=>n.id===e.selectedDexId);return(t==null?void 0:t.factoryAddress)||""},currentRouterAddress:e=>{const t=e.dexConfigs.find(n=>n.id===e.selectedDexId);return(t==null?void 0:t.routerAddress)||""},currentBaseTokens:e=>{const t=e.dexConfigs.find(n=>n.id===e.selectedDexId);return(t==null?void 0:t.baseTokens)||[]},allDexConfigs:e=>e.dexConfigs},actions:{setDexByChainId(e){const t=this.chainDexMappings.find(n=>n.chainId===e);t&&(this.selectedDexId=t.dexId,console.log(` ${e}  DEX: ${t.dexId}`))},setDex(e){this.selectedDexId=e}}}),Mb="1.1.0";let St=class Qi extends Error{constructor(t,n={}){var a;const s=n.cause instanceof Qi?n.cause.details:(a=n.cause)!=null&&a.message?n.cause.message:n.details,r=n.cause instanceof Qi&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...r?[`Docs: https://abitype.dev${r}`]:[],...s?[`Details: ${s}`]:[],`Version: abitype@${Mb}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=s,this.docsPath=r,this.metaMessages=n.metaMessages,this.shortMessage=t}};function Hn(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const Wf=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Vf=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Hf=/^\(.+?\).*?$/,_u=/^tuple(?<array>(\[(\d*)\])*)$/;function Xi(e){let t=e.type;if(_u.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let r=0;r<n;r++){const o=e.components[r];t+=Xi(o),r<n-1&&(t+=", ")}const s=Hn(_u,e.type);return t+=`)${(s==null?void 0:s.array)??""}`,Xi({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Gs(e){let t="";const n=e.length;for(let s=0;s<n;s++){const r=e[s];t+=Xi(r),s!==n-1&&(t+=", ")}return t}function pa(e){var t;return e.type==="function"?`function ${e.name}(${Gs(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${Gs(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Gs(e.inputs)})`:e.type==="error"?`error ${e.name}(${Gs(e.inputs)})`:e.type==="constructor"?`constructor(${Gs(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Gf=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Rb(e){return Gf.test(e)}function Fb(e){return Hn(Gf,e)}const qf=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Lb(e){return qf.test(e)}function Ub(e){return Hn(qf,e)}const Kf=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Db(e){return Kf.test(e)}function zb(e){return Hn(Kf,e)}const Zf=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Oa(e){return Zf.test(e)}function jb(e){return Hn(Zf,e)}const Yf=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Wb(e){return Yf.test(e)}function Vb(e){return Hn(Yf,e)}const Jf=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Hb(e){return Jf.test(e)}function Gb(e){return Hn(Jf,e)}const qb=/^receive\(\) external payable$/;function Kb(e){return qb.test(e)}const Pu=new Set(["memory","indexed","storage","calldata"]),Zb=new Set(["indexed"]),el=new Set(["calldata","memory","storage"]);class Yb extends St{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Jb extends St{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Qb extends St{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Xb extends St{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class eg extends St{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class tg extends St{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class ng extends St{constructor({param:t,type:n,modifier:s}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${s}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class sg extends St{constructor({param:t,type:n,modifier:s}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${s}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${s}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class rg extends St{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class yr extends St{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class og extends St{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class ag extends St{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class ig extends St{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class lg extends St{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function cg(e,t,n){let s="";if(n)for(const r of Object.entries(n)){if(!r)continue;let o="";for(const a of r[1])o+=`[${a.type}${a.name?`:${a.name}`:""}]`;s+=`(${r[0]}{${o}})`}return t?`${t}:${e}${s}`:e}const gi=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function tl(e,t={}){if(Db(e))return ug(e,t);if(Lb(e))return dg(e,t);if(Rb(e))return fg(e,t);if(Wb(e))return pg(e,t);if(Hb(e))return hg(e);if(Kb(e))return{type:"receive",stateMutability:"payable"};throw new og({signature:e})}function ug(e,t={}){const n=zb(e);if(!n)throw new yr({signature:e,type:"function"});const s=Ot(n.parameters),r=[],o=s.length;for(let i=0;i<o;i++)r.push(zn(s[i],{modifiers:el,structs:t,type:"function"}));const a=[];if(n.returns){const i=Ot(n.returns),l=i.length;for(let d=0;d<l;d++)a.push(zn(i[d],{modifiers:el,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:r,outputs:a}}function dg(e,t={}){const n=Ub(e);if(!n)throw new yr({signature:e,type:"event"});const s=Ot(n.parameters),r=[],o=s.length;for(let a=0;a<o;a++)r.push(zn(s[a],{modifiers:Zb,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:r}}function fg(e,t={}){const n=Fb(e);if(!n)throw new yr({signature:e,type:"error"});const s=Ot(n.parameters),r=[],o=s.length;for(let a=0;a<o;a++)r.push(zn(s[a],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:r}}function pg(e,t={}){const n=Vb(e);if(!n)throw new yr({signature:e,type:"constructor"});const s=Ot(n.parameters),r=[],o=s.length;for(let a=0;a<o;a++)r.push(zn(s[a],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:r}}function hg(e){const t=Gb(e);if(!t)throw new yr({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const mg=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,bg=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,gg=/^u?int$/;function zn(e,t){var f,p;const n=cg(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(gi.has(n))return gi.get(n);const s=Hf.test(e),r=Hn(s?bg:mg,e);if(!r)throw new eg({param:e});if(r.name&&vg(r.name))throw new tg({param:e,name:r.name});const o=r.name?{name:r.name}:{},a=r.modifier==="indexed"?{indexed:!0}:{},i=(t==null?void 0:t.structs)??{};let l,d={};if(s){l="tuple";const h=Ot(r.type),v=[],g=h.length;for(let T=0;T<g;T++)v.push(zn(h[T],{structs:i}));d={components:v}}else if(r.type in i)l="tuple",d={components:i[r.type]};else if(gg.test(r.type))l=`${r.type}256`;else if(r.type==="address payable")l="address";else if(l=r.type,(t==null?void 0:t.type)!=="struct"&&!Qf(l))throw new Qb({type:l});if(r.modifier){if(!((p=(f=t==null?void 0:t.modifiers)==null?void 0:f.has)!=null&&p.call(f,r.modifier)))throw new ng({param:e,type:t==null?void 0:t.type,modifier:r.modifier});if(el.has(r.modifier)&&!wg(l,!!r.array))throw new sg({param:e,type:t==null?void 0:t.type,modifier:r.modifier})}const u={type:`${l}${r.array??""}`,...o,...a,...d};return gi.set(n,u),u}function Ot(e,t=[],n="",s=0){const r=e.trim().length;for(let o=0;o<r;o++){const a=e[o],i=e.slice(o+1);switch(a){case",":return s===0?Ot(i,[...t,n.trim()]):Ot(i,t,`${n}${a}`,s);case"(":return Ot(i,t,`${n}${a}`,s+1);case")":return Ot(i,t,`${n}${a}`,s-1);default:return Ot(i,t,`${n}${a}`,s)}}if(n==="")return t;if(s!==0)throw new lg({current:n,depth:s});return t.push(n.trim()),t}function Qf(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Wf.test(e)||Vf.test(e)}const yg=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function vg(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Wf.test(e)||Vf.test(e)||yg.test(e)}function wg(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function tc(e){const t={},n=e.length;for(let a=0;a<n;a++){const i=e[a];if(!Oa(i))continue;const l=jb(i);if(!l)throw new yr({signature:i,type:"struct"});const d=l.properties.split(";"),u=[],f=d.length;for(let p=0;p<f;p++){const v=d[p].trim();if(!v)continue;const g=zn(v,{type:"struct"});u.push(g)}if(!u.length)throw new ag({signature:i});t[l.name]=u}const s={},r=Object.entries(t),o=r.length;for(let a=0;a<o;a++){const[i,l]=r[a];s[i]=Xf(l,t)}return s}const xg=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Xf(e,t,n=new Set){const s=[],r=e.length;for(let o=0;o<r;o++){const a=e[o];if(Hf.test(a.type))s.push(a);else{const l=Hn(xg,a.type);if(!(l!=null&&l.type))throw new rg({abiParameter:a});const{array:d,type:u}=l;if(u in t){if(n.has(u))throw new ig({type:u});s.push({...a,type:`tuple${d??""}`,components:Xf(t[u]??[],t,new Set([...n,u]))})}else if(Qf(u))s.push(a);else throw new Jb({type:u})}}return s}function e0(e){const t=tc(e),n=[],s=e.length;for(let r=0;r<s;r++){const o=e[r];Oa(o)||n.push(tl(o,t))}return n}function Au(e){let t;if(typeof e=="string")t=tl(e);else{const n=tc(e),s=e.length;for(let r=0;r<s;r++){const o=e[r];if(!Oa(o)){t=tl(o,n);break}}}if(!t)throw new Yb({signature:e});return t}function Su(e){const t=[];if(typeof e=="string"){const n=Ot(e),s=n.length;for(let r=0;r<s;r++)t.push(zn(n[r],{modifiers:Pu}))}else{const n=tc(e),s=e.length;for(let r=0;r<s;r++){const o=e[r];if(Oa(o))continue;const a=Ot(o),i=a.length;for(let l=0;l<i;l++)t.push(zn(a[l],{modifiers:Pu,structs:n}))}}if(t.length===0)throw new Xb({params:e});return t}function ge(e,t,n){const s=e[t.name];if(typeof s=="function")return s;const r=e[n];return typeof r=="function"?r:o=>t(e,o)}function sn(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Ig(e.type);return`${e.name}(${Ma(e.inputs,{includeName:t})})`}function Ma(e,{includeName:t=!1}={}){return e?e.map(n=>$g(n,{includeName:t})).join(t?", ":","):""}function $g(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Ma(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function rn(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function Ge(e){return rn(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const t0="2.37.5";let _r={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${t0}`},H=class nl extends Error{constructor(t,n={}){var i;const s=(()=>{var l;return n.cause instanceof nl?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),r=n.cause instanceof nl&&n.cause.docsPath||n.docsPath,o=(i=_r.getDocsUrl)==null?void 0:i.call(_r,{...n,docsPath:r}),a=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...s?[`Details: ${s}`]:[],..._r.version?[`Version: ${_r.version}`]:[]].join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=s,this.docsPath=r,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=t0}walk(t){return n0(this,t)}};function n0(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?n0(e.cause,t):t?null:e}class Tg extends H{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class Bu extends H{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class s0 extends H{constructor({data:t,params:n,size:s}){super([`Data size of ${s} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Ma(n,{includeName:!0})})`,`Data:   ${t} (${s} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=s}}class To extends H{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class kg extends H{constructor({expectedLength:t,givenLength:n,type:s}){super([`ABI encoding array length mismatch for type ${s}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class Cg extends H{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Ge(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class r0 extends H{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class Eg extends H{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Iu extends H{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class o0 extends H{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class _g extends H{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class a0 extends H{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Nu extends H{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class ir extends H{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class i0 extends H{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class Pg extends H{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class Ag extends H{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${sn(t.abiItem)}\`, and`,`\`${n.type}\` in \`${sn(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let l0=class extends H{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class Zr extends H{constructor({abiItem:t,data:n,params:s,size:r}){super([`Data size of ${r} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Ma(s,{includeName:!0})})`,`Data:   ${n} (${r} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=s,this.size=r}}class Ra extends H{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${sn(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Sg extends H{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Bg extends H{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let c0=class extends H{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class Ig extends H{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class Ng extends H{constructor(t){super(`Type "${t}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}class Og extends H{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let u0=class extends H{constructor({offset:t,position:n,size:s}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${s}).`,{name:"SliceOffsetOutOfBoundsError"})}},d0=class extends H{constructor({size:t,targetSize:n,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class Ou extends H{constructor({size:t,targetSize:n,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} is expected to be ${n} ${s} long, but is ${t} ${s} long.`,{name:"InvalidBytesLengthError"})}}function Mn(e,{dir:t,size:n=32}={}){return typeof e=="string"?ts(e,{dir:t,size:n}):Mg(e,{dir:t,size:n})}function ts(e,{dir:t,size:n=32}={}){if(n===null)return e;const s=e.replace("0x","");if(s.length>n*2)throw new d0({size:Math.ceil(s.length/2),targetSize:n,type:"hex"});return`0x${s[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function Mg(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new d0({size:e.length,targetSize:n,type:"bytes"});const s=new Uint8Array(n);for(let r=0;r<n;r++){const o=t==="right";s[o?r:n-r-1]=e[o?r:e.length-r-1]}return s}let f0=class extends H{constructor({max:t,min:n,signed:s,size:r,value:o}){super(`Number "${o}" is not in safe ${r?`${r*8}-bit ${s?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},Rg=class extends H{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class Fg extends H{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Lg=class extends H{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function Gt(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,s=0;for(let r=0;r<n.length-1&&n[t==="left"?r:n.length-r-1].toString()==="0";r++)s++;return n=t==="left"?n.slice(s):n.slice(0,n.length-s),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function un(e,{size:t}){if(Ge(e)>t)throw new Lg({givenSize:Ge(e),maxSize:t})}function Ft(e,t={}){const{signed:n}=t;t.size&&un(e,{size:t.size});const s=BigInt(e);if(!n)return s;const r=(e.length-2)/2,o=(1n<<BigInt(r)*8n-1n)-1n;return s<=o?s:s-BigInt(`0x${"f".padStart(r*2,"f")}`)-1n}function Ug(e,t={}){let n=e;if(t.size&&(un(n,{size:t.size}),n=Gt(n)),Gt(n)==="0x00")return!1;if(Gt(n)==="0x01")return!0;throw new Fg(n)}function Kt(e,t={}){return Number(Ft(e,t))}const Dg=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Zt(e,t={}){return typeof e=="number"||typeof e=="bigint"?ne(e,t):typeof e=="string"?Ts(e,t):typeof e=="boolean"?nc(e,t):st(e,t)}function nc(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(un(n,{size:t.size}),Mn(n,{size:t.size})):n}function st(e,t={}){let n="";for(let r=0;r<e.length;r++)n+=Dg[e[r]];const s=`0x${n}`;return typeof t.size=="number"?(un(s,{size:t.size}),Mn(s,{dir:"right",size:t.size})):s}function ne(e,t={}){const{signed:n,size:s}=t,r=BigInt(e);let o;s?n?o=(1n<<BigInt(s)*8n-1n)-1n:o=2n**(BigInt(s)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof o=="bigint"&&n?-o-1n:0;if(o&&r>o||r<a){const l=typeof e=="bigint"?"n":"";throw new f0({max:o?`${o}${l}`:void 0,min:`${a}${l}`,signed:n,size:s,value:`${e}${l}`})}const i=`0x${(n&&r<0?(1n<<BigInt(s*8))+BigInt(r):r).toString(16)}`;return s?Mn(i,{size:s}):i}const zg=new TextEncoder;function Ts(e,t={}){const n=zg.encode(e);return st(n,t)}const jg=new TextEncoder;function vr(e,t={}){return typeof e=="number"||typeof e=="bigint"?Vg(e,t):typeof e=="boolean"?Wg(e,t):rn(e)?on(e,t):ys(e,t)}function Wg(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(un(n,{size:t.size}),Mn(n,{size:t.size})):n}const kn={zero:48,nine:57,A:65,F:70,a:97,f:102};function Mu(e){if(e>=kn.zero&&e<=kn.nine)return e-kn.zero;if(e>=kn.A&&e<=kn.F)return e-(kn.A-10);if(e>=kn.a&&e<=kn.f)return e-(kn.a-10)}function on(e,t={}){let n=e;t.size&&(un(n,{size:t.size}),n=Mn(n,{dir:"right",size:t.size}));let s=n.slice(2);s.length%2&&(s=`0${s}`);const r=s.length/2,o=new Uint8Array(r);for(let a=0,i=0;a<r;a++){const l=Mu(s.charCodeAt(i++)),d=Mu(s.charCodeAt(i++));if(l===void 0||d===void 0)throw new H(`Invalid byte sequence ("${s[i-2]}${s[i-1]}" in "${s}").`);o[a]=l*16+d}return o}function Vg(e,t){const n=ne(e,t);return on(n)}function ys(e,t={}){const n=jg.encode(e);return typeof t.size=="number"?(un(n,{size:t.size}),Mn(n,{dir:"right",size:t.size})):n}const Wo=BigInt(2**32-1),Ru=BigInt(32);function Hg(e,t=!1){return t?{h:Number(e&Wo),l:Number(e>>Ru&Wo)}:{h:Number(e>>Ru&Wo)|0,l:Number(e&Wo)|0}}function Gg(e,t=!1){const n=e.length;let s=new Uint32Array(n),r=new Uint32Array(n);for(let o=0;o<n;o++){const{h:a,l:i}=Hg(e[o],t);[s[o],r[o]]=[a,i]}return[s,r]}const qg=(e,t,n)=>e<<n|t>>>32-n,Kg=(e,t,n)=>t<<n|e>>>32-n,Zg=(e,t,n)=>t<<n-32|e>>>64-n,Yg=(e,t,n)=>e<<n-32|t>>>64-n,zs=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Jg(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Yr(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function ks(e,...t){if(!Jg(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Qg(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Yr(e.outputLen),Yr(e.blockLen)}function lr(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function p0(e,t){ks(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Xg(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function cr(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function yi(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function fn(e,t){return e<<32-t|e>>>t}const ey=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function ty(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function ny(e){for(let t=0;t<e.length;t++)e[t]=ty(e[t]);return e}const Fu=ey?e=>e:ny;function sy(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Fa(e){return typeof e=="string"&&(e=sy(e)),ks(e),e}function ry(...e){let t=0;for(let s=0;s<e.length;s++){const r=e[s];ks(r),t+=r.length}const n=new Uint8Array(t);for(let s=0,r=0;s<e.length;s++){const o=e[s];n.set(o,r),r+=o.length}return n}class sc{}function h0(e){const t=s=>e().update(Fa(s)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function oy(e=32){if(zs&&typeof zs.getRandomValues=="function")return zs.getRandomValues(new Uint8Array(e));if(zs&&typeof zs.randomBytes=="function")return Uint8Array.from(zs.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const ay=BigInt(0),Pr=BigInt(1),iy=BigInt(2),ly=BigInt(7),cy=BigInt(256),uy=BigInt(113),m0=[],b0=[],g0=[];for(let e=0,t=Pr,n=1,s=0;e<24;e++){[n,s]=[s,(2*n+3*s)%5],m0.push(2*(5*s+n)),b0.push((e+1)*(e+2)/2%64);let r=ay;for(let o=0;o<7;o++)t=(t<<Pr^(t>>ly)*uy)%cy,t&iy&&(r^=Pr<<(Pr<<BigInt(o))-Pr);g0.push(r)}const y0=Gg(g0,!0),dy=y0[0],fy=y0[1],Lu=(e,t,n)=>n>32?Zg(e,t,n):qg(e,t,n),Uu=(e,t,n)=>n>32?Yg(e,t,n):Kg(e,t,n);function py(e,t=24){const n=new Uint32Array(10);for(let s=24-t;s<24;s++){for(let a=0;a<10;a++)n[a]=e[a]^e[a+10]^e[a+20]^e[a+30]^e[a+40];for(let a=0;a<10;a+=2){const i=(a+8)%10,l=(a+2)%10,d=n[l],u=n[l+1],f=Lu(d,u,1)^n[i],p=Uu(d,u,1)^n[i+1];for(let h=0;h<50;h+=10)e[a+h]^=f,e[a+h+1]^=p}let r=e[2],o=e[3];for(let a=0;a<24;a++){const i=b0[a],l=Lu(r,o,i),d=Uu(r,o,i),u=m0[a];r=e[u],o=e[u+1],e[u]=l,e[u+1]=d}for(let a=0;a<50;a+=10){for(let i=0;i<10;i++)n[i]=e[a+i];for(let i=0;i<10;i++)e[a+i]^=~n[(i+2)%10]&n[(i+4)%10]}e[0]^=dy[s],e[1]^=fy[s]}cr(n)}class rc extends sc{constructor(t,n,s,r=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=s,this.enableXOF=r,this.rounds=o,Yr(s),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Xg(this.state)}clone(){return this._cloneInto()}keccak(){Fu(this.state32),py(this.state32,this.rounds),Fu(this.state32),this.posOut=0,this.pos=0}update(t){lr(this),t=Fa(t),ks(t);const{blockLen:n,state:s}=this,r=t.length;for(let o=0;o<r;){const a=Math.min(n-this.pos,r-o);for(let i=0;i<a;i++)s[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:s,blockLen:r}=this;t[s]^=n,n&128&&s===r-1&&this.keccak(),t[r-1]^=128,this.keccak()}writeInto(t){lr(this,!1),ks(t),this.finish();const n=this.state,{blockLen:s}=this;for(let r=0,o=t.length;r<o;){this.posOut>=s&&this.keccak();const a=Math.min(s-this.posOut,o-r);t.set(n.subarray(this.posOut,this.posOut+a),r),this.posOut+=a,r+=a}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Yr(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(p0(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,cr(this.state)}_cloneInto(t){const{blockLen:n,suffix:s,outputLen:r,rounds:o,enableXOF:a}=this;return t||(t=new rc(n,s,r,a,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=s,t.outputLen=r,t.enableXOF=a,t.destroyed=this.destroyed,t}}const hy=(e,t,n)=>h0(()=>new rc(t,e,n)),v0=hy(1,136,256/8);function nt(e,t){const n=t||"hex",s=v0(rn(e,{strict:!1})?vr(e):e);return n==="bytes"?s:Zt(s)}const my=e=>nt(vr(e));function by(e){return my(e)}function gy(e){let t=!0,n="",s=0,r="",o=!1;for(let a=0;a<e.length;a++){const i=e[a];if(["(",")",","].includes(i)&&(t=!0),i==="("&&s++,i===")"&&s--,!!t){if(s===0){if(i===" "&&["event","function",""].includes(r))r="";else if(r+=i,i===")"){o=!0;break}continue}if(i===" "){e[a-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}r+=i,n+=i}}if(!o)throw new H("Unable to normalize signature.");return r}const yy=e=>{const t=typeof e=="string"?e:pa(e);return gy(t)};function w0(e){return by(yy(e))}const La=w0;let yt=class extends H{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Ua=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const s=this.keys().next().value;s&&this.delete(s)}return this}};const vi=new Ua(8192);function ko(e,t){if(vi.has(`${e}.${t}`))return vi.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),s=nt(ys(n),"bytes"),r=n.split("");for(let a=0;a<40;a+=2)s[a>>1]>>4>=8&&r[a]&&(r[a]=r[a].toUpperCase()),(s[a>>1]&15)>=8&&r[a+1]&&(r[a+1]=r[a+1].toUpperCase());const o=`0x${r.join("")}`;return vi.set(`${e}.${t}`,o),o}function Ve(e,t){if(!rt(e,{strict:!1}))throw new yt({address:e});return ko(e,t)}const vy=/^0x[a-fA-F0-9]{40}$/,wi=new Ua(8192);function rt(e,t){const{strict:n=!0}=t??{},s=`${e}.${n}`;if(wi.has(s))return wi.get(s);const r=vy.test(e)?e.toLowerCase()===e?!0:n?ko(e)===e:!0:!1;return wi.set(s,r),r}function Yt(e){return typeof e[0]=="string"?Qt(e):wy(e)}function wy(e){let t=0;for(const r of e)t+=r.length;const n=new Uint8Array(t);let s=0;for(const r of e)n.set(r,s),s+=r.length;return n}function Qt(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Cs(e,t,n,{strict:s}={}){return rn(e,{strict:!1})?sl(e,t,n,{strict:s}):T0(e,t,n,{strict:s})}function x0(e,t){if(typeof t=="number"&&t>0&&t>Ge(e)-1)throw new u0({offset:t,position:"start",size:Ge(e)})}function $0(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Ge(e)!==n-t)throw new u0({offset:n,position:"end",size:Ge(e)})}function T0(e,t,n,{strict:s}={}){x0(e,t);const r=e.slice(t,n);return s&&$0(r,t,n),r}function sl(e,t,n,{strict:s}={}){x0(e,t);const r=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&$0(r,t,n),r}const xy=/^(.*)\[([0-9]*)\]$/,k0=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,oc=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Os(e,t){if(e.length!==t.length)throw new r0({expectedLength:e.length,givenLength:t.length});const n=$y({params:e,values:t}),s=ic(n);return s.length===0?"0x":s}function $y({params:e,values:t}){const n=[];for(let s=0;s<e.length;s++)n.push(ac({param:e[s],value:t[s]}));return n}function ac({param:e,value:t}){const n=lc(e.type);if(n){const[s,r]=n;return ky(t,{length:s,param:{...e,type:r}})}if(e.type==="tuple")return Ay(t,{param:e});if(e.type==="address")return Ty(t);if(e.type==="bool")return Ey(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const s=e.type.startsWith("int"),[,,r="256"]=oc.exec(e.type)??[];return _y(t,{signed:s,size:Number(r)})}if(e.type.startsWith("bytes"))return Cy(t,{param:e});if(e.type==="string")return Py(t);throw new Sg(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function ic(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:a,encoded:i}=e[o];a?t+=32:t+=Ge(i)}const n=[],s=[];let r=0;for(let o=0;o<e.length;o++){const{dynamic:a,encoded:i}=e[o];a?(n.push(ne(t+r,{size:32})),s.push(i),r+=Ge(i)):n.push(i)}return Yt([...n,...s])}function Ty(e){if(!rt(e))throw new yt({address:e});return{dynamic:!1,encoded:ts(e.toLowerCase())}}function ky(e,{length:t,param:n}){const s=t===null;if(!Array.isArray(e))throw new c0(e);if(!s&&e.length!==t)throw new kg({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let r=!1;const o=[];for(let a=0;a<e.length;a++){const i=ac({param:n,value:e[a]});i.dynamic&&(r=!0),o.push(i)}if(s||r){const a=ic(o);if(s){const i=ne(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?Yt([i,a]):i}}if(r)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:Yt(o.map(({encoded:a})=>a))}}function Cy(e,{param:t}){const[,n]=t.type.split("bytes"),s=Ge(e);if(!n){let r=e;return s%32!==0&&(r=ts(r,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:Yt([ts(ne(s,{size:32})),r])}}if(s!==Number.parseInt(n,10))throw new Cg({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:ts(e,{dir:"right"})}}function Ey(e){if(typeof e!="boolean")throw new H(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:ts(nc(e))}}function _y(e,{signed:t,size:n=256}){if(typeof n=="number"){const s=2n**(BigInt(n)-(t?1n:0n))-1n,r=t?-s-1n:0n;if(e>s||e<r)throw new f0({max:s.toString(),min:r.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:ne(e,{size:32,signed:t})}}function Py(e){const t=Ts(e),n=Math.ceil(Ge(t)/32),s=[];for(let r=0;r<n;r++)s.push(ts(Cs(t,r*32,(r+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Yt([ts(ne(Ge(t),{size:32})),...s])}}function Ay(e,{param:t}){let n=!1;const s=[];for(let r=0;r<t.components.length;r++){const o=t.components[r],a=Array.isArray(e)?r:o.name,i=ac({param:o,value:e[a]});s.push(i),i.dynamic&&(n=!0)}return{dynamic:n,encoded:n?ic(s):Yt(s.map(({encoded:r})=>r))}}function lc(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const Co=e=>Cs(w0(e),0,4);function Ms(e){const{abi:t,args:n=[],name:s}=e,r=rn(s,{strict:!1}),o=t.filter(i=>r?i.type==="function"?Co(i)===s:i.type==="event"?La(i)===s:!1:"name"in i&&i.name===s);if(o.length===0)return;if(o.length===1)return o[0];let a;for(const i of o){if(!("inputs"in i))continue;if(!n||n.length===0){if(!i.inputs||i.inputs.length===0)return i;continue}if(!i.inputs||i.inputs.length===0||i.inputs.length!==n.length)continue;if(n.every((d,u)=>{const f="inputs"in i&&i.inputs[u];return f?rl(d,f):!1})){if(a&&"inputs"in a&&a.inputs){const d=C0(i.inputs,a.inputs,n);if(d)throw new Ag({abiItem:i,type:d[0]},{abiItem:a,type:d[1]})}a=i}}return a||o[0]}function rl(e,t){const n=typeof e,s=t.type;switch(s){case"address":return rt(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return s==="tuple"&&"components"in t?Object.values(t.components).every((r,o)=>rl(Object.values(e)[o],r)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(s)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(s)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(s)?Array.isArray(e)&&e.every(r=>rl(r,{...t,type:s.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function C0(e,t,n){for(const s in e){const r=e[s],o=t[s];if(r.type==="tuple"&&o.type==="tuple"&&"components"in r&&"components"in o)return C0(r.components,o.components,n[s]);const a=[r.type,o.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?rt(n[s],{strict:!1}):a.includes("address")&&a.includes("bytes")?rt(n[s],{strict:!1}):!1)return a}}const Du="/docs/contract/encodeEventTopics";function Eo(e){var l;const{abi:t,eventName:n,args:s}=e;let r=t[0];if(n){const d=Ms({abi:t,name:n});if(!d)throw new Nu(n,{docsPath:Du});r=d}if(r.type!=="event")throw new Nu(void 0,{docsPath:Du});const o=sn(r),a=La(o);let i=[];if(s&&"inputs"in r){const d=(l=r.inputs)==null?void 0:l.filter(f=>"indexed"in f&&f.indexed),u=Array.isArray(s)?s:Object.values(s).length>0?(d==null?void 0:d.map(f=>s[f.name]))??[]:[];u.length>0&&(i=(d==null?void 0:d.map((f,p)=>Array.isArray(u[p])?u[p].map((h,v)=>zu({param:f,value:u[p][v]})):typeof u[p]<"u"&&u[p]!==null?zu({param:f,value:u[p]}):null))??[])}return[a,...i]}function zu({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return nt(vr(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Og(e.type);return Os([e],[t])}function Da(e,{method:t}){var s,r;const n={};return e.transport.type==="fallback"&&((r=(s=e.transport).onResponse)==null||r.call(s,({method:o,response:a,status:i,transport:l})=>{i==="success"&&t===o&&(n[a]=l.request)})),o=>n[o]||e.request}async function E0(e,t){const{address:n,abi:s,args:r,eventName:o,fromBlock:a,strict:i,toBlock:l}=t,d=Da(e,{method:"eth_newFilter"}),u=o?Eo({abi:s,args:r,eventName:o}):void 0,f=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof a=="bigint"?ne(a):a,toBlock:typeof l=="bigint"?ne(l):l,topics:u}]});return{abi:s,args:r,eventName:o,id:f,request:d(f),strict:!!i,type:"event"}}function Xe(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const ju="/docs/contract/encodeFunctionData";function Sy(e){const{abi:t,args:n,functionName:s}=e;let r=t[0];if(s){const o=Ms({abi:t,args:n,name:s});if(!o)throw new ir(s,{docsPath:ju});r=o}if(r.type!=="function")throw new ir(void 0,{docsPath:ju});return{abi:[r],functionName:Co(sn(r))}}function Ct(e){const{args:t}=e,{abi:n,functionName:s}=(()=>{var i;return e.abi.length===1&&((i=e.functionName)!=null&&i.startsWith("0x"))?e:Sy(e)})(),r=n[0],o=s,a="inputs"in r&&r.inputs?Os(r.inputs,t??[]):void 0;return Qt([o,a??"0x"])}const By={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},_0={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Iy={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let Wu=class extends H{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},P0=class extends H{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},Ny=class extends H{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const Oy={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Ny({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new P0({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Wu({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Wu({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function cc(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Oy);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function My(e,t={}){typeof t.size<"u"&&un(e,{size:t.size});const n=st(e,t);return Ft(n,t)}function Ry(e,t={}){let n=e;if(typeof t.size<"u"&&(un(n,{size:t.size}),n=Gt(n)),n.length>1||n[0]>1)throw new Rg(n);return!!n[0]}function Rn(e,t={}){typeof t.size<"u"&&un(e,{size:t.size});const n=st(e,t);return Kt(n,t)}function Fy(e,t={}){let n=e;return typeof t.size<"u"&&(un(n,{size:t.size}),n=Gt(n,{dir:"right"})),new TextDecoder().decode(n)}function _o(e,t){const n=typeof t=="string"?on(t):t,s=cc(n);if(Ge(n)===0&&e.length>0)throw new To;if(Ge(t)&&Ge(t)<32)throw new s0({data:typeof t=="string"?t:st(t),params:e,size:Ge(t)});let r=0;const o=[];for(let a=0;a<e.length;++a){const i=e[a];s.setPosition(r);const[l,d]=tr(s,i,{staticPosition:0});r+=d,o.push(l)}return o}function tr(e,t,{staticPosition:n}){const s=lc(t.type);if(s){const[r,o]=s;return Uy(e,{...t,type:o},{length:r,staticPosition:n})}if(t.type==="tuple")return Wy(e,t,{staticPosition:n});if(t.type==="address")return Ly(e);if(t.type==="bool")return Dy(e);if(t.type.startsWith("bytes"))return zy(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return jy(e,t);if(t.type==="string")return Vy(e,{staticPosition:n});throw new Bg(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Vu=32,ol=32;function Ly(e){const t=e.readBytes(32);return[ko(st(T0(t,-20))),32]}function Uy(e,t,{length:n,staticPosition:s}){if(!n){const a=Rn(e.readBytes(ol)),i=s+a,l=i+Vu;e.setPosition(i);const d=Rn(e.readBytes(Vu)),u=Jr(t);let f=0;const p=[];for(let h=0;h<d;++h){e.setPosition(l+(u?h*32:f));const[v,g]=tr(e,t,{staticPosition:l});f+=g,p.push(v)}return e.setPosition(s+32),[p,32]}if(Jr(t)){const a=Rn(e.readBytes(ol)),i=s+a,l=[];for(let d=0;d<n;++d){e.setPosition(i+d*32);const[u]=tr(e,t,{staticPosition:i});l.push(u)}return e.setPosition(s+32),[l,32]}let r=0;const o=[];for(let a=0;a<n;++a){const[i,l]=tr(e,t,{staticPosition:s+r});r+=l,o.push(i)}return[o,r]}function Dy(e){return[Ry(e.readBytes(32),{size:32}),32]}function zy(e,t,{staticPosition:n}){const[s,r]=t.type.split("bytes");if(!r){const a=Rn(e.readBytes(32));e.setPosition(n+a);const i=Rn(e.readBytes(32));if(i===0)return e.setPosition(n+32),["0x",32];const l=e.readBytes(i);return e.setPosition(n+32),[st(l),32]}return[st(e.readBytes(Number.parseInt(r,10),32)),32]}function jy(e,t){const n=t.type.startsWith("int"),s=Number.parseInt(t.type.split("int")[1]||"256",10),r=e.readBytes(32);return[s>48?My(r,{signed:n}):Rn(r,{signed:n}),32]}function Wy(e,t,{staticPosition:n}){const s=t.components.length===0||t.components.some(({name:a})=>!a),r=s?[]:{};let o=0;if(Jr(t)){const a=Rn(e.readBytes(ol)),i=n+a;for(let l=0;l<t.components.length;++l){const d=t.components[l];e.setPosition(i+o);const[u,f]=tr(e,d,{staticPosition:i});o+=f,r[s?l:d==null?void 0:d.name]=u}return e.setPosition(n+32),[r,32]}for(let a=0;a<t.components.length;++a){const i=t.components[a],[l,d]=tr(e,i,{staticPosition:n});r[s?a:i==null?void 0:i.name]=l,o+=d}return[r,o]}function Vy(e,{staticPosition:t}){const n=Rn(e.readBytes(32)),s=t+n;e.setPosition(s);const r=Rn(e.readBytes(32));if(r===0)return e.setPosition(t+32),["",32];const o=e.readBytes(r,32),a=Fy(Gt(o));return e.setPosition(t+32),[a,32]}function Jr(e){var s;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(s=e.components)==null?void 0:s.some(Jr);const n=lc(e.type);return!!(n&&Jr({...e,type:n[1]}))}function Hy(e){const{abi:t,data:n}=e,s=Cs(n,0,4);if(s==="0x")throw new To;const o=[...t||[],_0,Iy].find(a=>a.type==="error"&&s===Co(sn(a)));if(!o)throw new o0(s,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?_o(o.inputs,Cs(n,4)):void 0,errorName:o.name}}const at=(e,t,n)=>JSON.stringify(e,(s,r)=>typeof r=="bigint"?r.toString():r,n);function A0({abiItem:e,args:t,includeFunctionName:n=!0,includeName:s=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((r,o)=>`${s&&r.name?`${r.name}: `:""}${typeof t[o]=="object"?at(t[o]):t[o]}`).join(", ")})`}const S0={gwei:9,wei:18},Gy={ether:-9,wei:9};function ke(e,t){let n=e.toString();const s=n.startsWith("-");s&&(n=n.slice(1)),n=n.padStart(t,"0");let[r,o]=[n.slice(0,n.length-t),n.slice(n.length-t)];return o=o.replace(/(0+)$/,""),`${s?"-":""}${r||"0"}${o?`.${o}`:""}`}function _e(e,t="wei"){return ke(e,S0[t])}function At(e,t="wei"){return ke(e,Gy[t])}class qy extends H{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Ky extends H{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Hu(e){return e.reduce((t,{slot:n,value:s})=>`${t}        ${n}: ${s}
`,"")}function Zy(e){return e.reduce((t,{address:n,...s})=>{let r=`${t}    ${n}:
`;return s.nonce&&(r+=`      nonce: ${s.nonce}
`),s.balance&&(r+=`      balance: ${s.balance}
`),s.code&&(r+=`      code: ${s.code}
`),s.state&&(r+=`      state:
`,r+=Hu(s.state)),s.stateDiff&&(r+=`      stateDiff:
`,r+=Hu(s.stateDiff)),r},`  State Override:
`).slice(0,-1)}function Po(e){const t=Object.entries(e).map(([s,r])=>r===void 0||r===!1?null:[s,r]).filter(Boolean),n=t.reduce((s,[r])=>Math.max(s,r.length),0);return t.map(([s,r])=>`  ${`${s}:`.padEnd(n+1)}  ${r}`).join(`
`)}class Yy extends H{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class Jy extends H{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class Qy extends H{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Po(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Xy extends H{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class e6 extends H{constructor(t,{account:n,docsPath:s,chain:r,data:o,gas:a,gasPrice:i,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:u,to:f,value:p}){var v;const h=Po({chain:r&&`${r==null?void 0:r.name} (id: ${r==null?void 0:r.id})`,from:n==null?void 0:n.address,to:f,value:typeof p<"u"&&`${_e(p)} ${((v=r==null?void 0:r.nativeCurrency)==null?void 0:v.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof i<"u"&&`${At(i)} gwei`,maxFeePerGas:typeof l<"u"&&`${At(l)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${At(d)} gwei`,nonce:u});super(t.shortMessage,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class B0 extends H{constructor({blockHash:t,blockNumber:n,blockTag:s,hash:r,index:o}){let a="Transaction";s&&o!==void 0&&(a=`Transaction at block time "${s}" at index "${o}"`),t&&o!==void 0&&(a=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(a=`Transaction at block number "${n}" at index "${o}"`),r&&(a=`Transaction with hash "${r}"`),super(`${a} could not be found.`,{name:"TransactionNotFoundError"})}}class I0 extends H{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class t6 extends H{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const n6=e=>e,uc=e=>e;class N0 extends H{constructor(t,{account:n,docsPath:s,chain:r,data:o,gas:a,gasPrice:i,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:u,to:f,value:p,stateOverride:h}){var T;const v=n?Xe(n):void 0;let g=Po({from:v==null?void 0:v.address,to:f,value:typeof p<"u"&&`${_e(p)} ${((T=r==null?void 0:r.nativeCurrency)==null?void 0:T.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof i<"u"&&`${At(i)} gwei`,maxFeePerGas:typeof l<"u"&&`${At(l)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${At(d)} gwei`,nonce:u});h&&(g+=`
${Zy(h)}`),super(t.shortMessage,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",g].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class O0 extends H{constructor(t,{abi:n,args:s,contractAddress:r,docsPath:o,functionName:a,sender:i}){const l=Ms({abi:n,args:s,name:a}),d=l?A0({abiItem:l,args:s,includeFunctionName:!1,includeName:!1}):void 0,u=l?sn(l,{includeName:!0}):void 0,f=Po({address:r&&n6(r),function:u,args:d&&d!=="()"&&`${[...Array((a==null?void 0:a.length)??0).keys()].map(()=>" ").join("")}${d}`,sender:i});super(t.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],f&&"Contract Call:",f].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=s,this.cause=t,this.contractAddress=r,this.functionName=a,this.sender=i}}class al extends H{constructor({abi:t,data:n,functionName:s,message:r}){let o,a,i,l;if(n&&n!=="0x")try{a=Hy({abi:t,data:n});const{abiItem:u,errorName:f,args:p}=a;if(f==="Error")l=p[0];else if(f==="Panic"){const[h]=p;l=By[h]}else{const h=u?sn(u,{includeName:!0}):void 0,v=u&&p?A0({abiItem:u,args:p,includeFunctionName:!1,includeName:!1}):void 0;i=[h?`Error: ${h}`:"",v&&v!=="()"?`       ${[...Array((f==null?void 0:f.length)??0).keys()].map(()=>" ").join("")}${v}`:""]}}catch(u){o=u}else r&&(l=r);let d;o instanceof o0&&(d=o.signature,i=[`Unable to decode signature "${d}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${d}.`]),super(l&&l!=="execution reverted"||d?[`The contract function "${s}" reverted with the following ${d?"signature":"reason"}:`,l||d].join(`
`):`The contract function "${s}" reverted.`,{cause:o,metaMessages:i,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.raw=n,this.reason=l,this.signature=d}}class s6 extends H{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class r6 extends H{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class za extends H{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class Wr extends H{constructor({body:t,cause:n,details:s,headers:r,status:o,url:a}){super("HTTP request failed.",{cause:n,details:s,metaMessages:[o&&`Status: ${o}`,`URL: ${uc(a)}`,t&&`Request body: ${at(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=r,this.status=o,this.url=a}}class dc extends H{constructor({body:t,error:n,url:s}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${uc(s)}`,`Request body: ${at(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class Gu extends H{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${uc(n)}`,`Request body: ${at(t)}`],name:"TimeoutError"})}}const o6=-1;class Bt extends H{constructor(t,{code:n,docsPath:s,metaMessages:r,name:o,shortMessage:a}){super(a,{cause:t,docsPath:s,metaMessages:r||(t==null?void 0:t.metaMessages),name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||t.name,this.code=t instanceof dc?t.code:n??o6}}class Ut extends Bt{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Qr extends Bt{constructor(t){super(t,{code:Qr.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Qr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Xr extends Bt{constructor(t){super(t,{code:Xr.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Xr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class eo extends Bt{constructor(t,{method:n}={}){super(t,{code:eo.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(eo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class to extends Bt{constructor(t){super(t,{code:to.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(to,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Es extends Bt{constructor(t){super(t,{code:Es.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Es,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class _s extends Bt{constructor(t){super(t,{code:_s.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(_s,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class no extends Bt{constructor(t){super(t,{code:no.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(no,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class so extends Bt{constructor(t){super(t,{code:so.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(so,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class ur extends Bt{constructor(t){super(t,{code:ur.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(ur,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class ds extends Bt{constructor(t,{method:n}={}){super(t,{code:ds.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(ds,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class dr extends Bt{constructor(t){super(t,{code:dr.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(dr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class ro extends Bt{constructor(t){super(t,{code:ro.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(ro,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class vs extends Ut{constructor(t){super(t,{code:vs.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(vs,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class oo extends Ut{constructor(t){super(t,{code:oo.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(oo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class ao extends Ut{constructor(t,{method:n}={}){super(t,{code:ao.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(ao,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class io extends Ut{constructor(t){super(t,{code:io.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(io,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class lo extends Ut{constructor(t){super(t,{code:lo.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(lo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class co extends Ut{constructor(t){super(t,{code:co.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(co,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class fr extends Ut{constructor(t){super(t,{code:fr.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(fr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class uo extends Ut{constructor(t){super(t,{code:uo.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(uo,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class fo extends Ut{constructor(t){super(t,{code:fo.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(fo,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class po extends Ut{constructor(t){super(t,{code:po.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(po,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class ho extends Ut{constructor(t){super(t,{code:ho.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(ho,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class mo extends Ut{constructor(t){super(t,{code:mo.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(mo,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class pr extends Ut{constructor(t){super(t,{code:pr.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(pr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class a6 extends Bt{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const i6=3;function Ps(e,{abi:t,address:n,args:s,docsPath:r,functionName:o,sender:a}){const i=e instanceof za?e:e instanceof H?e.walk(v=>"data"in v)||e.walk():{},{code:l,data:d,details:u,message:f,shortMessage:p}=i,h=e instanceof To?new s6({functionName:o}):[i6,Es.code].includes(l)&&(d||u||f||p)?new al({abi:t,data:typeof d=="object"?d.data:d,functionName:o,message:i instanceof dc?u:p??f}):e;return new O0(h,{abi:t,args:s,contractAddress:n,docsPath:r,functionName:o,sender:a})}function M0(e){const t=nt(`0x${e.substring(4)}`).substring(26);return ko(`0x${t}`)}const l6="modulepreload",c6=function(e){return"/"+e},qu={},R0=function(t,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),i=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=c6(l),l in qu)return;qu[l]=!0;const d=l.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":l6,d||(f.as="script"),f.crossOrigin="",f.href=l,i&&f.setAttribute("nonce",i),document.head.appendChild(f),d)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(a){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a}return r.then(a=>{for(const i of a||[])i.status==="rejected"&&o(i.reason);return t().catch(o)})};async function u6({hash:e,signature:t}){const n=rn(e)?e:Zt(e),{secp256k1:s}=await R0(async()=>{const{secp256k1:a}=await Promise.resolve().then(()=>Gw);return{secp256k1:a}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:d,s:u,v:f,yParity:p}=t,h=Number(p??f),v=Ku(h);return new s.Signature(Ft(d),Ft(u)).addRecoveryBit(v)}const a=rn(t)?t:Zt(t);if(Ge(a)!==65)throw new Error("invalid signature length");const i=Kt(`0x${a.slice(130)}`),l=Ku(i);return s.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Ku(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function F0({hash:e,signature:t}){return M0(await u6({hash:e,signature:t}))}function As(e,t="hex"){const n=L0(e),s=cc(new Uint8Array(n.length));return n.encode(s),t==="hex"?st(s.bytes):s.bytes}function L0(e){return Array.isArray(e)?d6(e.map(t=>L0(t))):f6(e)}function d6(e){const t=e.reduce((r,o)=>r+o.length,0),n=U0(t);return{length:t<=55?1+t:1+n+t,encode(r){t<=55?r.pushByte(192+t):(r.pushByte(247+n),n===1?r.pushUint8(t):n===2?r.pushUint16(t):n===3?r.pushUint24(t):r.pushUint32(t));for(const{encode:o}of e)o(r)}}}function f6(e){const t=typeof e=="string"?on(e):e,n=U0(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(r){t.length===1&&t[0]<128?r.pushBytes(t):t.length<=55?(r.pushByte(128+t.length),r.pushBytes(t)):(r.pushByte(183+n),n===1?r.pushUint8(t.length):n===2?r.pushUint16(t.length):n===3?r.pushUint24(t.length):r.pushUint32(t.length),r.pushBytes(t))}}}function U0(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new H("Length is too large.")}function D0(e){const{chainId:t,nonce:n,to:s}=e,r=e.contractAddress??e.address,o=nt(Qt(["0x05",As([t?ne(t):"0x",r,n?ne(n):"0x"])]));return s==="bytes"?on(o):o}async function fc(e){const{authorization:t,signature:n}=e;return F0({hash:D0(t),signature:n??t})}class p6 extends H{constructor(t,{account:n,docsPath:s,chain:r,data:o,gas:a,gasPrice:i,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:u,to:f,value:p}){var v;const h=Po({from:n==null?void 0:n.address,to:f,value:typeof p<"u"&&`${_e(p)} ${((v=r==null?void 0:r.nativeCurrency)==null?void 0:v.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof i<"u"&&`${At(i)} gwei`,maxFeePerGas:typeof l<"u"&&`${At(l)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${At(d)} gwei`,nonce:u});super(t.shortMessage,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class fs extends H{constructor({cause:t,message:n}={}){var r;const s=(r=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:r.replace("execution reverted","");super(`Execution reverted ${s?`with reason: ${s}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(fs,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(fs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Ss extends H{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${At(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(Ss,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class il extends H{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${At(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(il,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class ll extends H{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(ll,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class cl extends H{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(cl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class ul extends H{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(ul,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class dl extends H{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(dl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class fl extends H{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(fl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class pl extends H{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(pl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class hl extends H{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(hl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class bo extends H{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:s}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${At(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${s?` = ${At(s)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(bo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Ao extends H{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function ja(e,t){const n=(e.details||"").toLowerCase(),s=e instanceof H?e.walk(r=>(r==null?void 0:r.code)===fs.code):e;return s instanceof H?new fs({cause:e,message:s.details}):fs.nodeMessage.test(n)?new fs({cause:e,message:e.details}):Ss.nodeMessage.test(n)?new Ss({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):il.nodeMessage.test(n)?new il({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):ll.nodeMessage.test(n)?new ll({cause:e,nonce:t==null?void 0:t.nonce}):cl.nodeMessage.test(n)?new cl({cause:e,nonce:t==null?void 0:t.nonce}):ul.nodeMessage.test(n)?new ul({cause:e,nonce:t==null?void 0:t.nonce}):dl.nodeMessage.test(n)?new dl({cause:e}):fl.nodeMessage.test(n)?new fl({cause:e,gas:t==null?void 0:t.gas}):pl.nodeMessage.test(n)?new pl({cause:e,gas:t==null?void 0:t.gas}):hl.nodeMessage.test(n)?new hl({cause:e}):bo.nodeMessage.test(n)?new bo({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Ao({cause:e})}function h6(e,{docsPath:t,...n}){const s=(()=>{const r=ja(e,n);return r instanceof Ao?e:r})();return new p6(s,{docsPath:t,...n})}function Wa(e,{format:t}){if(!t)return{};const n={};function s(o){const a=Object.keys(o);for(const i of a)i in e&&(n[i]=e[i]),o[i]&&typeof o[i]=="object"&&!Array.isArray(o[i])&&s(o[i])}const r=t(e||{});return s(r),n}const m6={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function wr(e){const t={};return typeof e.authorizationList<"u"&&(t.authorizationList=b6(e.authorizationList)),typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(n=>st(n)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=ne(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=ne(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=ne(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=ne(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=ne(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=ne(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=m6[e.type]),typeof e.value<"u"&&(t.value=ne(e.value)),t}function b6(e){return e.map(t=>({address:t.address,r:t.r?ne(BigInt(t.r)):t.r,s:t.s?ne(BigInt(t.s)):t.s,chainId:ne(t.chainId),nonce:ne(t.nonce),...typeof t.yParity<"u"?{yParity:ne(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:ne(t.v)}:{}}))}function Zu(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:s})=>{if(n.length!==66)throw new Ou({size:n.length,targetSize:66,type:"hex"});if(s.length!==66)throw new Ou({size:s.length,targetSize:66,type:"hex"});return t[n]=s,t},{})}function g6(e){const{balance:t,nonce:n,state:s,stateDiff:r,code:o}=e,a={};if(o!==void 0&&(a.code=o),t!==void 0&&(a.balance=ne(t)),n!==void 0&&(a.nonce=ne(n)),s!==void 0&&(a.state=Zu(s)),r!==void 0){if(a.state)throw new Ky;a.stateDiff=Zu(r)}return a}function pc(e){if(!e)return;const t={};for(const{address:n,...s}of e){if(!rt(n,{strict:!1}))throw new yt({address:n});if(t[n])throw new qy({address:n});t[n]=g6(s)}return t}const Va=2n**256n-1n;function Rs(e){const{account:t,gasPrice:n,maxFeePerGas:s,maxPriorityFeePerGas:r,to:o}=e,a=t?Xe(t):void 0;if(a&&!rt(a.address))throw new yt({address:a.address});if(o&&!rt(o))throw new yt({address:o});if(typeof n<"u"&&(typeof s<"u"||typeof r<"u"))throw new Yy;if(s&&s>Va)throw new Ss({maxFeePerGas:s});if(r&&s&&r>s)throw new bo({maxFeePerGas:s,maxPriorityFeePerGas:r})}class y6 extends H{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class hc extends H{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class v6 extends H{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${At(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class z0 extends H{constructor({blockHash:t,blockNumber:n}){let s="Block";t&&(s=`Block at hash "${t}"`),n&&(s=`Block at number "${n}"`),super(`${s} could not be found.`,{name:"BlockNotFoundError"})}}const j0={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function W0(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Kt(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Kt(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?j0[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=w6(e.authorizationList)),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}function w6(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function V0(e){const t=(e.transactions??[]).map(n=>typeof n=="string"?n:W0(n));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function gn(e,{blockHash:t,blockNumber:n,blockTag:s=e.experimental_blockTag??"latest",includeTransactions:r}={}){var d,u,f;const o=r??!1,a=n!==void 0?ne(n):void 0;let i=null;if(t?i=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):i=await e.request({method:"eth_getBlockByNumber",params:[a||s,o]},{dedupe:!!a}),!i)throw new z0({blockHash:t,blockNumber:n});return(((f=(u=(d=e.chain)==null?void 0:d.formatters)==null?void 0:u.block)==null?void 0:f.format)||V0)(i)}async function mc(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function x6(e,t){return H0(e,t)}async function H0(e,t){var o,a;const{block:n,chain:s=e.chain,request:r}=t||{};try{const i=((o=s==null?void 0:s.fees)==null?void 0:o.maxPriorityFeePerGas)??((a=s==null?void 0:s.fees)==null?void 0:a.defaultPriorityFee);if(typeof i=="function"){const d=n||await ge(e,gn,"getBlock")({}),u=await i({block:d,client:e,request:r});if(u===null)throw new Error;return u}if(typeof i<"u")return i;const l=await e.request({method:"eth_maxPriorityFeePerGas"});return Ft(l)}catch{const[i,l]=await Promise.all([n?Promise.resolve(n):ge(e,gn,"getBlock")({}),ge(e,mc,"getGasPrice")({})]);if(typeof i.baseFeePerGas!="bigint")throw new hc;const d=l-i.baseFeePerGas;return d<0n?0n:d}}async function $6(e,t){return ml(e,t)}async function ml(e,t){var p,h;const{block:n,chain:s=e.chain,request:r,type:o="eip1559"}=t||{},a=await(async()=>{var v,g;return typeof((v=s==null?void 0:s.fees)==null?void 0:v.baseFeeMultiplier)=="function"?s.fees.baseFeeMultiplier({block:n,client:e,request:r}):((g=s==null?void 0:s.fees)==null?void 0:g.baseFeeMultiplier)??1.2})();if(a<1)throw new y6;const l=10**(((p=a.toString().split(".")[1])==null?void 0:p.length)??0),d=v=>v*BigInt(Math.ceil(a*l))/BigInt(l),u=n||await ge(e,gn,"getBlock")({});if(typeof((h=s==null?void 0:s.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const v=await s.fees.estimateFeesPerGas({block:n,client:e,multiply:d,request:r,type:o});if(v!==null)return v}if(o==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new hc;const v=typeof(r==null?void 0:r.maxPriorityFeePerGas)=="bigint"?r.maxPriorityFeePerGas:await H0(e,{block:u,chain:s,request:r}),g=d(u.baseFeePerGas);return{maxFeePerGas:(r==null?void 0:r.maxFeePerGas)??g+v,maxPriorityFeePerGas:v}}return{gasPrice:(r==null?void 0:r.gasPrice)??d(await ge(e,mc,"getGasPrice")({}))}}async function bc(e,{address:t,blockTag:n="latest",blockNumber:s}){const r=await e.request({method:"eth_getTransactionCount",params:[t,typeof s=="bigint"?ne(s):n]},{dedupe:!!s});return Kt(r)}function gc(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),s=typeof e.blobs[0]=="string"?e.blobs.map(o=>on(o)):e.blobs,r=[];for(const o of s)r.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?r:r.map(o=>st(o))}function yc(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),s=typeof e.blobs[0]=="string"?e.blobs.map(a=>on(a)):e.blobs,r=typeof e.commitments[0]=="string"?e.commitments.map(a=>on(a)):e.commitments,o=[];for(let a=0;a<s.length;a++){const i=s[a],l=r[a];o.push(Uint8Array.from(t.computeBlobKzgProof(i,l)))}return n==="bytes"?o:o.map(a=>st(a))}function T6(e,t,n,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,s);const r=BigInt(32),o=BigInt(4294967295),a=Number(n>>r&o),i=Number(n&o),l=s?4:0,d=s?0:4;e.setUint32(t+l,a,s),e.setUint32(t+d,i,s)}function k6(e,t,n){return e&t^~e&n}function C6(e,t,n){return e&t^e&n^t&n}class E6 extends sc{constructor(t,n,s,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=s,this.isLE=r,this.buffer=new Uint8Array(t),this.view=yi(this.buffer)}update(t){lr(this),t=Fa(t),ks(t);const{view:n,buffer:s,blockLen:r}=this,o=t.length;for(let a=0;a<o;){const i=Math.min(r-this.pos,o-a);if(i===r){const l=yi(t);for(;r<=o-a;a+=r)this.process(l,a);continue}s.set(t.subarray(a,a+i),this.pos),this.pos+=i,a+=i,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){lr(this),p0(t,this),this.finished=!0;const{buffer:n,view:s,blockLen:r,isLE:o}=this;let{pos:a}=this;n[a++]=128,cr(this.buffer.subarray(a)),this.padOffset>r-a&&(this.process(s,0),a=0);for(let f=a;f<r;f++)n[f]=0;T6(s,r-8,BigInt(this.length*8),o),this.process(s,0);const i=yi(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=l/4,u=this.get();if(d>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<d;f++)i.setUint32(4*f,u[f],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const s=t.slice(0,n);return this.destroy(),s}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:s,length:r,finished:o,destroyed:a,pos:i}=this;return t.destroyed=a,t.finished=o,t.length=r,t.pos=i,r%n&&t.buffer.set(s),t}clone(){return this._cloneInto()}}const Kn=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),_6=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Zn=new Uint32Array(64);class P6 extends E6{constructor(t=32){super(64,t,8,!1),this.A=Kn[0]|0,this.B=Kn[1]|0,this.C=Kn[2]|0,this.D=Kn[3]|0,this.E=Kn[4]|0,this.F=Kn[5]|0,this.G=Kn[6]|0,this.H=Kn[7]|0}get(){const{A:t,B:n,C:s,D:r,E:o,F:a,G:i,H:l}=this;return[t,n,s,r,o,a,i,l]}set(t,n,s,r,o,a,i,l){this.A=t|0,this.B=n|0,this.C=s|0,this.D=r|0,this.E=o|0,this.F=a|0,this.G=i|0,this.H=l|0}process(t,n){for(let f=0;f<16;f++,n+=4)Zn[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const p=Zn[f-15],h=Zn[f-2],v=fn(p,7)^fn(p,18)^p>>>3,g=fn(h,17)^fn(h,19)^h>>>10;Zn[f]=g+Zn[f-7]+v+Zn[f-16]|0}let{A:s,B:r,C:o,D:a,E:i,F:l,G:d,H:u}=this;for(let f=0;f<64;f++){const p=fn(i,6)^fn(i,11)^fn(i,25),h=u+p+k6(i,l,d)+_6[f]+Zn[f]|0,g=(fn(s,2)^fn(s,13)^fn(s,22))+C6(s,r,o)|0;u=d,d=l,l=i,i=a+h|0,a=o,o=r,r=s,s=h+g|0}s=s+this.A|0,r=r+this.B|0,o=o+this.C|0,a=a+this.D|0,i=i+this.E|0,l=l+this.F|0,d=d+this.G|0,u=u+this.H|0,this.set(s,r,o,a,i,l,d,u)}roundClean(){cr(Zn)}destroy(){this.set(0,0,0,0,0,0,0,0),cr(this.buffer)}}const G0=h0(()=>new P6),A6=G0;function S6(e,t){return A6(rn(e,{strict:!1})?vr(e):e)}function B6(e){const{commitment:t,version:n=1}=e,s=e.to??(typeof t=="string"?"hex":"bytes"),r=S6(t);return r.set([n],0),s==="bytes"?r:st(r)}function q0(e){const{commitments:t,version:n}=e,s=e.to??(typeof t[0]=="string"?"hex":"bytes"),r=[];for(const o of t)r.push(B6({commitment:o,to:s,version:n}));return r}const Yu=6,K0=32,vc=4096,Z0=K0*vc,Ju=Z0*Yu-1-1*vc*Yu,Y0=1;class I6 extends H{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class J0 extends H{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class N6 extends H{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class O6 extends H{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${Y0}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function M6(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?on(e.data):e.data,s=Ge(n);if(!s)throw new J0;if(s>Ju)throw new I6({maxSize:Ju,size:s});const r=[];let o=!0,a=0;for(;o;){const i=cc(new Uint8Array(Z0));let l=0;for(;l<vc;){const d=n.slice(a,a+(K0-1));if(i.pushByte(0),i.pushBytes(d),d.length<31){i.pushByte(128),o=!1;break}l++,a+=31}r.push(i)}return t==="bytes"?r.map(i=>i.bytes):r.map(i=>st(i.bytes))}function Q0(e){const{data:t,kzg:n,to:s}=e,r=e.blobs??M6({data:t,to:s}),o=e.commitments??gc({blobs:r,kzg:n,to:s}),a=e.proofs??yc({blobs:r,commitments:o,kzg:n,to:s}),i=[];for(let l=0;l<r.length;l++)i.push({blob:r[l],commitment:o[l],proof:a[l]});return i}function X0(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Qy({transaction:e})}async function xr(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Kt(t)}const ep=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Qu=new Map;async function Ha(e,t){const{account:n=e.account,blobs:s,chain:r,gas:o,kzg:a,nonce:i,nonceManager:l,parameters:d=ep,type:u}=t,f=n&&Xe(n),p={...t,...f?{from:f==null?void 0:f.address}:{}};let h;async function v(){return h||(h=await ge(e,gn,"getBlock")({blockTag:"latest"}),h)}let g;async function T(){return g||(r?r.id:typeof t.chainId<"u"?t.chainId:(g=await ge(e,xr,"getChainId")({}),g))}if(d.includes("nonce")&&typeof i>"u"&&f)if(l){const $=await T();p.nonce=await l.consume({address:f.address,chainId:$,client:e})}else p.nonce=await ge(e,bc,"getTransactionCount")({address:f.address,blockTag:"pending"});if((d.includes("blobVersionedHashes")||d.includes("sidecars"))&&s&&a){const $=gc({blobs:s,kzg:a});if(d.includes("blobVersionedHashes")){const x=q0({commitments:$,to:"hex"});p.blobVersionedHashes=x}if(d.includes("sidecars")){const x=yc({blobs:s,commitments:$,kzg:a}),y=Q0({blobs:s,commitments:$,proofs:x,to:"hex"});p.sidecars=y}}if(d.includes("chainId")&&(p.chainId=await T()),(d.includes("fees")||d.includes("type"))&&typeof u>"u")try{p.type=X0(p)}catch{let $=Qu.get(e.uid);if(typeof $>"u"){const x=await v();$=typeof(x==null?void 0:x.baseFeePerGas)=="bigint",Qu.set(e.uid,$)}p.type=$?"eip1559":"legacy"}if(d.includes("fees"))if(p.type!=="legacy"&&p.type!=="eip2930"){if(typeof p.maxFeePerGas>"u"||typeof p.maxPriorityFeePerGas>"u"){const $=await v(),{maxFeePerGas:x,maxPriorityFeePerGas:y}=await ml(e,{block:$,chain:r,request:p});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<y)throw new v6({maxPriorityFeePerGas:y});p.maxPriorityFeePerGas=y,p.maxFeePerGas=x}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new hc;if(typeof t.gasPrice>"u"){const $=await v(),{gasPrice:x}=await ml(e,{block:$,chain:r,request:p,type:"legacy"});p.gasPrice=x}}return d.includes("gas")&&typeof o>"u"&&(p.gas=await ge(e,wc,"estimateGas")({...p,account:f&&{address:f.address,type:"json-rpc"}})),Rs(p),delete p.parameters,p}async function tp(e,{address:t,blockNumber:n,blockTag:s=e.experimental_blockTag??"latest"}){const r=typeof n=="bigint"?ne(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,r||s]});return BigInt(o)}async function wc(e,t){var r,o,a;const{account:n=e.account}=t,s=n?Xe(n):void 0;try{let Z=function(L){const{block:V,request:R,rpcStateOverride:J}=L;return e.request({method:"eth_estimateGas",params:J?[R,V??e.experimental_blockTag??"latest",J]:V?[R,V]:[R]})};const{accessList:i,authorizationList:l,blobs:d,blobVersionedHashes:u,blockNumber:f,blockTag:p,data:h,gas:v,gasPrice:g,maxFeePerBlobGas:T,maxFeePerGas:$,maxPriorityFeePerGas:x,nonce:y,value:m,stateOverride:w,...C}=await Ha(e,{...t,parameters:(s==null?void 0:s.type)==="local"?void 0:["blobVersionedHashes"]}),B=(typeof f=="bigint"?ne(f):void 0)||p,P=pc(w),b=await(async()=>{if(C.to)return C.to;if(l&&l.length>0)return await fc({authorization:l[0]}).catch(()=>{throw new H("`to` is required. Could not infer from `authorizationList`")})})();Rs(t);const k=(a=(o=(r=e.chain)==null?void 0:r.formatters)==null?void 0:o.transactionRequest)==null?void 0:a.format,I=(k||wr)({...Wa(C,{format:k}),from:s==null?void 0:s.address,accessList:i,authorizationList:l,blobs:d,blobVersionedHashes:u,data:h,gas:v,gasPrice:g,maxFeePerBlobGas:T,maxFeePerGas:$,maxPriorityFeePerGas:x,nonce:y,to:b,value:m});let z=BigInt(await Z({block:B,request:I,rpcStateOverride:P}));if(l){const L=await tp(e,{address:I.from}),V=await Promise.all(l.map(async R=>{const{address:J}=R,ae=await Z({block:B,request:{authorizationList:void 0,data:h,from:s==null?void 0:s.address,to:J,value:ne(L)},rpcStateOverride:P}).catch(()=>100000n);return 2n*BigInt(ae)}));z+=V.reduce((R,J)=>R+J,0n)}return z}catch(i){throw h6(i,{...t,account:s,chain:e.chain})}}async function R6(e,t){const{abi:n,address:s,args:r,functionName:o,dataSuffix:a,...i}=t,l=Ct({abi:n,args:r,functionName:o});try{return await ge(e,wc,"estimateGas")({data:`${l}${a?a.replace("0x",""):""}`,to:s,...i})}catch(d){const u=i.account?Xe(i.account):void 0;throw Ps(d,{abi:n,address:s,args:r,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:u==null?void 0:u.address})}}function So(e,t){if(!rt(e,{strict:!1}))throw new yt({address:e});if(!rt(t,{strict:!1}))throw new yt({address:t});return e.toLowerCase()===t.toLowerCase()}const Xu="/docs/contract/decodeEventLog";function xc(e){const{abi:t,data:n,strict:s,topics:r}=e,o=s??!0,[a,...i]=r;if(!a)throw new _g({docsPath:Xu});const l=t.find(g=>g.type==="event"&&a===La(sn(g)));if(!(l&&"name"in l)||l.type!=="event")throw new a0(a,{docsPath:Xu});const{name:d,inputs:u}=l,f=u==null?void 0:u.some(g=>!("name"in g&&g.name)),p=f?[]:{},h=u.map((g,T)=>[g,T]).filter(([g])=>"indexed"in g&&g.indexed);for(let g=0;g<h.length;g++){const[T,$]=h[g],x=i[g];if(!x)throw new Ra({abiItem:l,param:T});p[f?$:T.name||$]=F6({param:T,value:x})}const v=u.filter(g=>!("indexed"in g&&g.indexed));if(v.length>0){if(n&&n!=="0x")try{const g=_o(v,n);if(g)if(f)for(let T=0;T<u.length;T++)p[T]=p[T]??g.shift();else for(let T=0;T<v.length;T++)p[v[T].name]=g[T]}catch(g){if(o)throw g instanceof s0||g instanceof P0?new Zr({abiItem:l,data:n,params:v,size:Ge(n)}):g}else if(o)throw new Zr({abiItem:l,data:"0x",params:v,size:0})}return{eventName:d,args:Object.values(p).length>0?p:void 0}}function F6({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(_o([e],t)||[])[0]}function $c(e){const{abi:t,args:n,logs:s,strict:r=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return s.map(a=>{var i;try{const l=t.find(u=>u.type==="event"&&a.topics[0]===La(u));if(!l)return null;const d=xc({...a,abi:[l],strict:r});return o&&!o.includes(d.eventName)||!L6({args:d.args,inputs:l.inputs,matchArgs:n})?null:{...d,...a}}catch(l){let d,u;if(l instanceof a0)return null;if(l instanceof Zr||l instanceof Ra){if(r)return null;d=l.abiItem.name,u=(i=l.abiItem.inputs)==null?void 0:i.some(f=>!("name"in f&&f.name))}return{...a,args:u?[]:{},eventName:d}}}).filter(Boolean)}function L6(e){const{args:t,inputs:n,matchArgs:s}=e;if(!s)return!0;if(!t)return!1;function r(o,a,i){try{return o.type==="address"?So(a,i):o.type==="string"||o.type==="bytes"?nt(vr(a))===i:a===i}catch{return!1}}return Array.isArray(t)&&Array.isArray(s)?s.every((o,a)=>{if(o==null)return!0;const i=n[a];return i?(Array.isArray(o)?o:[o]).some(d=>r(i,d,t[a])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof s=="object"&&!Array.isArray(s)?Object.entries(s).every(([o,a])=>{if(a==null)return!0;const i=n.find(d=>d.name===o);return i?(Array.isArray(a)?a:[a]).some(d=>r(i,d,t[o])):!1}):!1}function jn(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function Tc(e,{address:t,blockHash:n,fromBlock:s,toBlock:r,event:o,events:a,args:i,strict:l}={}){const d=l??!1,u=a??(o?[o]:void 0);let f=[];u&&(f=[u.flatMap(g=>Eo({abi:[g],eventName:g.name,args:a?void 0:i}))],o&&(f=f[0]));let p;n?p=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,blockHash:n}]}):p=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,fromBlock:typeof s=="bigint"?ne(s):s,toBlock:typeof r=="bigint"?ne(r):r}]});const h=p.map(v=>jn(v));return u?$c({abi:u,args:i,logs:h,strict:d}):h}async function np(e,t){const{abi:n,address:s,args:r,blockHash:o,eventName:a,fromBlock:i,toBlock:l,strict:d}=t,u=a?Ms({abi:n,name:a}):void 0,f=u?void 0:n.filter(p=>p.type==="event");return ge(e,Tc,"getLogs")({address:s,args:r,blockHash:o,event:u,events:f,fromBlock:i,toBlock:l,strict:d})}const xi="/docs/contract/decodeFunctionResult";function Fs(e){const{abi:t,args:n,functionName:s,data:r}=e;let o=t[0];if(s){const i=Ms({abi:t,args:n,name:s});if(!i)throw new ir(s,{docsPath:xi});o=i}if(o.type!=="function")throw new ir(void 0,{docsPath:xi});if(!o.outputs)throw new i0(o.name,{docsPath:xi});const a=_o(o.outputs,r);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kc=BigInt(0),bl=BigInt(1);function Bo(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Cc(e){if(!Bo(e))throw new Error("Uint8Array expected")}function go(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Vo(e){const t=e.toString(16);return t.length&1?"0"+t:t}function sp(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?kc:BigInt("0x"+e)}const rp=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",U6=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function yo(e){if(Cc(e),rp)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=U6[e[n]];return t}const Cn={_0:48,_9:57,A:65,F:70,a:97,f:102};function ed(e){if(e>=Cn._0&&e<=Cn._9)return e-Cn._0;if(e>=Cn.A&&e<=Cn.F)return e-(Cn.A-10);if(e>=Cn.a&&e<=Cn.f)return e-(Cn.a-10)}function ha(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(rp)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const s=new Uint8Array(n);for(let r=0,o=0;r<n;r++,o+=2){const a=ed(e.charCodeAt(o)),i=ed(e.charCodeAt(o+1));if(a===void 0||i===void 0){const l=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}s[r]=a*16+i}return s}function ws(e){return sp(yo(e))}function op(e){return Cc(e),sp(yo(Uint8Array.from(e).reverse()))}function Io(e,t){return ha(e.toString(16).padStart(t*2,"0"))}function ap(e,t){return Io(e,t).reverse()}function Wt(e,t,n){let s;if(typeof t=="string")try{s=ha(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(Bo(t))s=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const r=s.length;if(typeof n=="number"&&r!==n)throw new Error(e+" of length "+n+" expected, got "+r);return s}function ma(...e){let t=0;for(let s=0;s<e.length;s++){const r=e[s];Cc(r),t+=r.length}const n=new Uint8Array(t);for(let s=0,r=0;s<e.length;s++){const o=e[s];n.set(o,r),r+=o.length}return n}const $i=e=>typeof e=="bigint"&&kc<=e;function Ec(e,t,n){return $i(e)&&$i(t)&&$i(n)&&t<=e&&e<n}function nr(e,t,n,s){if(!Ec(t,n,s))throw new Error("expected valid "+e+": "+n+" <= n < "+s+", got "+t)}function D6(e){let t;for(t=0;e>kc;e>>=bl,t+=1);return t}const Ga=e=>(bl<<BigInt(e))-bl,Ti=e=>new Uint8Array(e),td=e=>Uint8Array.from(e);function z6(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let s=Ti(e),r=Ti(e),o=0;const a=()=>{s.fill(1),r.fill(0),o=0},i=(...f)=>n(r,s,...f),l=(f=Ti(0))=>{r=i(td([0]),f),s=i(),f.length!==0&&(r=i(td([1]),f),s=i())},d=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<t;){s=i();const h=s.slice();p.push(h),f+=s.length}return ma(...p)};return(f,p)=>{a(),l(f);let h;for(;!(h=p(d()));)l();return a(),h}}const j6={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Bo(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function qa(e,t,n={}){const s=(r,o,a)=>{const i=j6[o];if(typeof i!="function")throw new Error("invalid validator function");const l=e[r];if(!(a&&l===void 0)&&!i(l,e))throw new Error("param "+String(r)+" is invalid. Expected "+o+", got "+l)};for(const[r,o]of Object.entries(t))s(r,o,!1);for(const[r,o]of Object.entries(n))s(r,o,!0);return e}function nd(e){const t=new WeakMap;return(n,...s)=>{const r=t.get(n);if(r!==void 0)return r;const o=e(n,...s);return t.set(n,o),o}}const W6="0.1.1";function V6(){return W6}class Be extends Error{constructor(t,n={}){const s=(()=>{var l;if(n.cause instanceof Be){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),r=n.cause instanceof Be&&n.cause.docsPath||n.docsPath,a=`https://oxlib.sh${r??""}`,i=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...s||r?["",s?`Details: ${s}`:void 0,r?`See: ${a}`:void 0]:[]].filter(l=>typeof l=="string").join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${V6()}`}),this.cause=n.cause,this.details=s,this.docs=a,this.docsPath=r,this.shortMessage=t}walk(t){return ip(this,t)}}function ip(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?ip(e.cause,t):t?null:e}function No(e,t){if(qs(e)>t)throw new iv({givenSize:qs(e),maxSize:t})}const En={zero:48,nine:57,A:65,F:70,a:97,f:102};function sd(e){if(e>=En.zero&&e<=En.nine)return e-En.zero;if(e>=En.A&&e<=En.F)return e-(En.A-10);if(e>=En.a&&e<=En.f)return e-(En.a-10)}function H6(e,t={}){const{dir:n,size:s=32}=t;if(s===0)return e;if(e.length>s)throw new lv({size:e.length,targetSize:s,type:"Bytes"});const r=new Uint8Array(s);for(let o=0;o<s;o++){const a=n==="right";r[a?o:s-o-1]=e[a?o:e.length-o-1]}return r}function lp(e,t={}){const{dir:n="left"}=t;let s=e,r=0;for(let o=0;o<s.length-1&&s[n==="left"?o:s.length-o-1].toString()==="0";o++)r++;return s=n==="left"?s.slice(r):s.slice(0,s.length-r),s}function Ka(e,t){if(Lt(e)>t)throw new hv({givenSize:Lt(e),maxSize:t})}function G6(e,t){if(typeof t=="number"&&t>0&&t>Lt(e)-1)throw new gp({offset:t,position:"start",size:Lt(e)})}function q6(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Lt(e)!==n-t)throw new gp({offset:n,position:"end",size:Lt(e)})}function cp(e,t={}){const{dir:n,size:s=32}=t;if(s===0)return e;const r=e.replace("0x","");if(r.length>s*2)throw new mv({size:Math.ceil(r.length/2),targetSize:s,type:"Hex"});return`0x${r[n==="right"?"padEnd":"padStart"](s*2,"0")}`}const K6="#__bigint";function up(e,t,n){return JSON.stringify(e,(s,r)=>typeof r=="bigint"?r.toString()+K6:r,n)}const Z6=new TextDecoder,Y6=new TextEncoder;function J6(e){return e instanceof Uint8Array?e:typeof e=="string"?dp(e):Q6(e)}function Q6(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function dp(e,t={}){const{size:n}=t;let s=e;n&&(Ka(e,n),s=Is(e,n));let r=s.slice(2);r.length%2&&(r=`0${r}`);const o=r.length/2,a=new Uint8Array(o);for(let i=0,l=0;i<o;i++){const d=sd(r.charCodeAt(l++)),u=sd(r.charCodeAt(l++));if(d===void 0||u===void 0)throw new Be(`Invalid byte sequence ("${r[l-2]}${r[l-1]}" in "${r}").`);a[i]=d*16+u}return a}function X6(e,t={}){const{size:n}=t,s=Y6.encode(e);return typeof n=="number"?(No(s,n),ev(s,n)):s}function ev(e,t){return H6(e,{dir:"right",size:t})}function qs(e){return e.length}function tv(e,t,n,s={}){const{strict:r}=s;return e.slice(t,n)}function nv(e,t={}){const{size:n}=t;typeof n<"u"&&No(e,n);const s=ln(e,t);return hp(s,t)}function sv(e,t={}){const{size:n}=t;let s=e;if(typeof n<"u"&&(No(s,n),s=fp(s)),s.length>1||s[0]>1)throw new av(s);return!!s[0]}function Fn(e,t={}){const{size:n}=t;typeof n<"u"&&No(e,n);const s=ln(e,t);return mp(s,t)}function rv(e,t={}){const{size:n}=t;let s=e;return typeof n<"u"&&(No(s,n),s=ov(s)),Z6.decode(s)}function fp(e){return lp(e,{dir:"left"})}function ov(e){return lp(e,{dir:"right"})}class av extends Be{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let iv=class extends Be{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},lv=class extends Be{constructor({size:t,targetSize:n,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const cv=new TextEncoder,uv=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function dv(e,t={}){const{strict:n=!1}=t;if(!e)throw new rd(e);if(typeof e!="string")throw new rd(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new od(e);if(!e.startsWith("0x"))throw new od(e)}function an(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function fv(e){return e instanceof Uint8Array?ln(e):Array.isArray(e)?ln(new Uint8Array(e)):e}function pp(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Ka(n,t.size),Bs(n,t.size)):n}function ln(e,t={}){let n="";for(let r=0;r<e.length;r++)n+=uv[e[r]];const s=`0x${n}`;return typeof t.size=="number"?(Ka(s,t.size),Is(s,t.size)):s}function $t(e,t={}){const{signed:n,size:s}=t,r=BigInt(e);let o;s?n?o=(1n<<BigInt(s)*8n-1n)-1n:o=2n**(BigInt(s)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof o=="bigint"&&n?-o-1n:0;if(o&&r>o||r<a){const d=typeof e=="bigint"?"n":"";throw new bp({max:o?`${o}${d}`:void 0,min:`${a}${d}`,signed:n,size:s,value:`${e}${d}`})}const l=`0x${(n&&r<0?(1n<<BigInt(s*8))+BigInt(r):r).toString(16)}`;return s?Bs(l,s):l}function _c(e,t={}){return ln(cv.encode(e),t)}function Bs(e,t){return cp(e,{dir:"left",size:t})}function Is(e,t){return cp(e,{dir:"right",size:t})}function vn(e,t,n,s={}){const{strict:r}=s;G6(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&q6(o,t,n),o}function Lt(e){return Math.ceil((e.length-2)/2)}function hp(e,t={}){const{signed:n}=t;t.size&&Ka(e,t.size);const s=BigInt(e);if(!n)return s;const r=(e.length-2)/2,o=(1n<<BigInt(r)*8n)-1n,a=o>>1n;return s<=a?s:s-o-1n}function mp(e,t={}){const{signed:n,size:s}=t;return Number(!n&&!s?e:hp(e,t))}function pv(e,t={}){const{strict:n=!1}=t;try{return dv(e,{strict:n}),!0}catch{return!1}}class bp extends Be{constructor({max:t,min:n,signed:s,size:r,value:o}){super(`Number \`${o}\` is not in safe${r?` ${r*8}-bit`:""}${s?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class rd extends Be{constructor(t){super(`Value \`${typeof t=="object"?up(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class od extends Be{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class hv extends Be{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class gp extends Be{constructor({offset:t,position:n,size:s}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${s}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class mv extends Be{constructor({size:t,targetSize:n,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function bv(e){return{address:e.address,amount:$t(e.amount),index:$t(e.index),validatorIndex:$t(e.validatorIndex)}}function yp(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:$t(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:$t(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:$t(e.gasLimit)},...typeof e.number=="bigint"&&{number:$t(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:$t(e.prevRandao)},...typeof e.time=="bigint"&&{time:$t(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(bv)}}}const ba=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],gl=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],vp=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],wp=[...vp,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],gv=[...vp,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],ad=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],id=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],xp=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],ld=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],yv="0x82ad56cb",$p="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",vv="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",wv="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Pc="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class yl extends H{constructor({blockNumber:t,chain:n,contract:s}){super(`Chain "${n.name}" does not support contract "${s.name}".`,{metaMessages:["This could be due to any of the following:",...t&&s.blockCreated&&s.blockCreated>t?[`- The contract "${s.name}" was not deployed until block ${s.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${s.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class xv extends H{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class $v extends H{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class Tp extends H{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Za extends H{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const ki="/docs/contract/encodeDeployData";function Ya(e){const{abi:t,args:n,bytecode:s}=e;if(!n||n.length===0)return s;const r=t.find(a=>"type"in a&&a.type==="constructor");if(!r)throw new Tg({docsPath:ki});if(!("inputs"in r))throw new Bu({docsPath:ki});if(!r.inputs||r.inputs.length===0)throw new Bu({docsPath:ki});const o=Os(r.inputs,n);return Qt([s,o])}function $r({blockNumber:e,chain:t,contract:n}){var r;const s=(r=t==null?void 0:t.contracts)==null?void 0:r[n];if(!s)throw new yl({chain:t,contract:{name:n}});if(e&&s.blockCreated&&s.blockCreated>e)throw new yl({blockNumber:e,chain:t,contract:{name:n,blockCreated:s.blockCreated}});return s.address}function kp(e,{docsPath:t,...n}){const s=(()=>{const r=ja(e,n);return r instanceof Ao?e:r})();return new N0(s,{docsPath:t,...n})}function Ac(){let e=()=>{},t=()=>{};return{promise:new Promise((s,r)=>{e=s,t=r}),resolve:e,reject:t}}const Ci=new Map;function Cp({fn:e,id:t,shouldSplitBatch:n,wait:s=0,sort:r}){const o=async()=>{const u=l();a();const f=u.map(({args:p})=>p);f.length!==0&&e(f).then(p=>{r&&Array.isArray(p)&&p.sort(r);for(let h=0;h<u.length;h++){const{resolve:v}=u[h];v==null||v([p[h],p])}}).catch(p=>{for(let h=0;h<u.length;h++){const{reject:v}=u[h];v==null||v(p)}})},a=()=>Ci.delete(t),i=()=>l().map(({args:u})=>u),l=()=>Ci.get(t)||[],d=u=>Ci.set(t,[...l(),u]);return{flush:a,async schedule(u){const{promise:f,resolve:p,reject:h}=Ac();return(n==null?void 0:n([...i(),u]))&&o(),l().length>0?(d({args:u,resolve:p,reject:h}),f):(d({args:u,resolve:p,reject:h}),setTimeout(o,s),f)}}}async function Ja(e,t){var I,Z,z,L;const{account:n=e.account,authorizationList:s,batch:r=!!((I=e.batch)!=null&&I.multicall),blockNumber:o,blockTag:a=e.experimental_blockTag??"latest",accessList:i,blobs:l,blockOverrides:d,code:u,data:f,factory:p,factoryData:h,gas:v,gasPrice:g,maxFeePerBlobGas:T,maxFeePerGas:$,maxPriorityFeePerGas:x,nonce:y,to:m,value:w,stateOverride:C,...A}=t,B=n?Xe(n):void 0;if(u&&(p||h))throw new H("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&m)throw new H("Cannot provide both `code` & `to` as parameters.");const P=u&&f,b=p&&h&&m&&f,k=P||b,M=P?Ep({code:u,data:f}):b?Cv({data:f,factory:p,factoryData:h,to:m}):f;try{Rs(t);const R=(typeof o=="bigint"?ne(o):void 0)||a,J=d?yp(d):void 0,ae=pc(C),me=(L=(z=(Z=e.chain)==null?void 0:Z.formatters)==null?void 0:z.transactionRequest)==null?void 0:L.format,Ee=(me||wr)({...Wa(A,{format:me}),from:B==null?void 0:B.address,accessList:i,authorizationList:s,blobs:l,data:M,gas:v,gasPrice:g,maxFeePerBlobGas:T,maxFeePerGas:$,maxPriorityFeePerGas:x,nonce:y,to:k?void 0:m,value:w});if(r&&Tv({request:Ee})&&!ae&&!J)try{return await kv(e,{...Ee,blockNumber:o,blockTag:a})}catch(we){if(!(we instanceof Tp)&&!(we instanceof yl))throw we}const Ie=(()=>{const we=[Ee,R];return ae&&J?[...we,ae,J]:ae?[...we,ae]:J?[...we,{},J]:we})(),Pe=await e.request({method:"eth_call",params:Ie});return Pe==="0x"?{data:void 0}:{data:Pe}}catch(V){const R=Ev(V),{offchainLookup:J,offchainLookupSignature:ae}=await R0(async()=>{const{offchainLookup:me,offchainLookupSignature:fe}=await import("./ccip-B5pYPIu9.js");return{offchainLookup:me,offchainLookupSignature:fe}},[]);if(e.ccipRead!==!1&&(R==null?void 0:R.slice(0,10))===ae&&m)return{data:await J(e,{data:R,to:m})};throw k&&(R==null?void 0:R.slice(0,10))==="0x101bb98d"?new r6({factory:p}):kp(V,{...t,account:B,chain:e.chain})}}function Tv({request:e}){const{data:t,to:n,...s}=e;return!(!t||t.startsWith(yv)||!n||Object.values(s).filter(r=>typeof r<"u").length>0)}async function kv(e,t){var g;const{batchSize:n=1024,deployless:s=!1,wait:r=0}=typeof((g=e.batch)==null?void 0:g.multicall)=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:a=e.experimental_blockTag??"latest",data:i,to:l}=t,d=(()=>{if(s)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return $r({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Tp})(),f=(typeof o=="bigint"?ne(o):void 0)||a,{schedule:p}=Cp({id:`${e.uid}.${f}`,wait:r,shouldSplitBatch(T){return T.reduce((x,{data:y})=>x+(y.length-2),0)>n*2},fn:async T=>{const $=T.map(m=>({allowFailure:!0,callData:m.data,target:m.to})),x=Ct({abi:ba,args:[$],functionName:"aggregate3"}),y=await e.request({method:"eth_call",params:[{...d===null?{data:Ep({code:Pc,data:x})}:{to:d,data:x}},f]});return Fs({abi:ba,args:[$],functionName:"aggregate3",data:y||"0x"})}}),[{returnData:h,success:v}]=await p({data:i,to:l});if(!v)throw new za({data:h});return h==="0x"?{data:void 0}:{data:h}}function Ep(e){const{code:t,data:n}=e;return Ya({abi:e0(["constructor(bytes, bytes)"]),bytecode:$p,args:[t,n]})}function Cv(e){const{data:t,factory:n,factoryData:s,to:r}=e;return Ya({abi:e0(["constructor(address, bytes, address, bytes)"]),bytecode:vv,args:[r,t,n,s]})}function Ev(e){var n;if(!(e instanceof H))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function cn(e,t){const{abi:n,address:s,args:r,functionName:o,...a}=t,i=Ct({abi:n,args:r,functionName:o});try{const{data:l}=await ge(e,Ja,"call")({...a,data:i,to:s});return Fs({abi:n,args:r,functionName:o,data:l||"0x"})}catch(l){throw Ps(l,{abi:n,address:s,args:r,docsPath:"/docs/contract/readContract",functionName:o})}}async function _v(e,t){const{abi:n,address:s,args:r,dataSuffix:o,functionName:a,...i}=t,l=i.account?Xe(i.account):e.account,d=Ct({abi:n,args:r,functionName:a});try{const{data:u}=await ge(e,Ja,"call")({batch:!1,data:`${d}${o?o.replace("0x",""):""}`,to:s,...i,account:l}),f=Fs({abi:n,args:r,functionName:a,data:u||"0x"}),p=n.filter(h=>"name"in h&&h.name===t.functionName);return{result:f,request:{abi:p,address:s,args:r,dataSuffix:o,functionName:a,...i,account:l}}}catch(u){throw Ps(u,{abi:n,address:s,args:r,docsPath:"/docs/contract/simulateContract",functionName:a,sender:l==null?void 0:l.address})}}const Ei=new Map,cd=new Map;let Pv=0;function Wn(e,t,n){const s=++Pv,r=()=>Ei.get(e)||[],o=()=>{const u=r();Ei.set(e,u.filter(f=>f.id!==s))},a=()=>{const u=r();if(!u.some(p=>p.id===s))return;const f=cd.get(e);if(u.length===1&&f){const p=f();p instanceof Promise&&p.catch(()=>{})}o()},i=r();if(Ei.set(e,[...i,{id:s,fns:t}]),i&&i.length>0)return a;const l={};for(const u in t)l[u]=(...f)=>{var h,v;const p=r();if(p.length!==0)for(const g of p)(v=(h=g.fns)[u])==null||v.call(h,...f)};const d=n(l);return typeof d=="function"&&cd.set(e,d),a}async function ga(e){return new Promise(t=>setTimeout(t,e))}function Tr(e,{emitOnBegin:t,initialWaitTime:n,interval:s}){let r=!0;const o=()=>r=!1;return(async()=>{let i;t&&(i=await e({unpoll:o}));const l=await(n==null?void 0:n(i))??s;await ga(l);const d=async()=>{r&&(await e({unpoll:o}),await ga(s),d())};d()})(),o}const Av=new Map,Sv=new Map;function Bv(e){const t=(r,o)=>({clear:()=>o.delete(r),get:()=>o.get(r),set:a=>o.set(r,a)}),n=t(e,Av),s=t(e,Sv);return{clear:()=>{n.clear(),s.clear()},promise:n,response:s}}async function Iv(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const s=Bv(t),r=s.response.get();if(r&&n>0&&Date.now()-r.created.getTime()<n)return r.data;let o=s.promise.get();o||(o=e(),s.promise.set(o));try{const a=await o;return s.response.set({created:new Date,data:a}),a}finally{s.promise.clear()}}const Nv=e=>`blockNumber.${e}`;async function Oo(e,{cacheTime:t=e.cacheTime}={}){const n=await Iv(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Nv(e.uid),cacheTime:t});return BigInt(n)}async function Qa(e,{filter:t}){const n="strict"in t&&t.strict,s=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof s[0]=="string")return s;const r=s.map(o=>jn(o));return!("abi"in t)||!t.abi?r:$c({abi:t.abi,logs:r,strict:n})}async function Xa(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Ov(e,t){const{abi:n,address:s,args:r,batch:o=!0,eventName:a,fromBlock:i,onError:l,onLogs:d,poll:u,pollingInterval:f=e.pollingInterval,strict:p}=t;return(typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const T=p??!1,$=at(["watchContractEvent",s,r,o,e.uid,a,f,T,i]);return Wn($,{onLogs:d,onError:l},x=>{let y;i!==void 0&&(y=i-1n);let m,w=!1;const C=Tr(async()=>{var A;if(!w){try{m=await ge(e,E0,"createContractEventFilter")({abi:n,address:s,args:r,eventName:a,strict:T,fromBlock:i})}catch{}w=!0;return}try{let B;if(m)B=await ge(e,Qa,"getFilterChanges")({filter:m});else{const P=await ge(e,Oo,"getBlockNumber")({});y&&y<P?B=await ge(e,np,"getContractEvents")({abi:n,address:s,args:r,eventName:a,fromBlock:y+1n,toBlock:P,strict:T}):B=[],y=P}if(B.length===0)return;if(o)x.onLogs(B);else for(const P of B)x.onLogs([P])}catch(B){m&&B instanceof _s&&(w=!1),(A=x.onError)==null||A.call(x,B)}},{emitOnBegin:!0,interval:f});return async()=>{m&&await ge(e,Xa,"uninstallFilter")({filter:m}),C()}})})():(()=>{const T=p??!1,$=at(["watchContractEvent",s,r,o,e.uid,a,f,T]);let x=!0,y=()=>x=!1;return Wn($,{onLogs:d,onError:l},m=>((async()=>{try{const w=(()=>{if(e.transport.type==="fallback"){const B=e.transport.transports.find(P=>P.config.type==="webSocket"||P.config.type==="ipc");return B?B.value:e.transport}return e.transport})(),C=a?Eo({abi:n,eventName:a,args:r}):[],{unsubscribe:A}=await w.subscribe({params:["logs",{address:s,topics:C}],onData(B){var b;if(!x)return;const P=B.result;try{const{eventName:k,args:M}=xc({abi:n,data:P.data,topics:P.topics,strict:p}),I=jn(P,{args:M,eventName:k});m.onLogs([I])}catch(k){let M,I;if(k instanceof Zr||k instanceof Ra){if(p)return;M=k.abiItem.name,I=(b=k.abiItem.inputs)==null?void 0:b.some(z=>!("name"in z&&z.name))}const Z=jn(P,{args:I?[]:{},eventName:M});m.onLogs([Z])}},onError(B){var P;(P=m.onError)==null||P.call(m,B)}});y=A,x||y()}catch(w){l==null||l(w)}})(),()=>y()))})()}class Ls extends H{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class Xo extends H{constructor({docsPath:t,metaMessages:n,type:s}){super(`Account type "${s}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function _p({chain:e,currentChainId:t}){if(!e)throw new $v;if(t!==e.id)throw new xv({chain:e,currentChainId:t})}function Pp(e,{docsPath:t,...n}){const s=(()=>{const r=ja(e,n);return r instanceof Ao?e:r})();return new e6(s,{docsPath:t,...n})}async function Sc(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const _i=new Ua(128);async function ei(e,t){var x,y,m,w;const{account:n=e.account,chain:s=e.chain,accessList:r,authorizationList:o,blobs:a,data:i,gas:l,gasPrice:d,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:h,type:v,value:g,...T}=t;if(typeof n>"u")throw new Ls({docsPath:"/docs/actions/wallet/sendTransaction"});const $=n?Xe(n):null;try{Rs(t);const C=await(async()=>{if(t.to)return t.to;if(t.to!==null&&o&&o.length>0)return await fc({authorization:o[0]}).catch(()=>{throw new H("`to` is required. Could not infer from `authorizationList`.")})})();if(($==null?void 0:$.type)==="json-rpc"||$===null){let A;s!==null&&(A=await ge(e,xr,"getChainId")({}),_p({currentChainId:A,chain:s}));const B=(m=(y=(x=e.chain)==null?void 0:x.formatters)==null?void 0:y.transactionRequest)==null?void 0:m.format,b=(B||wr)({...Wa(T,{format:B}),accessList:r,authorizationList:o,blobs:a,chainId:A,data:i,from:$==null?void 0:$.address,gas:l,gasPrice:d,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:h,to:C,type:v,value:g}),k=_i.get(e.uid),M=k?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:M,params:[b]},{retryCount:0})}catch(I){if(k===!1)throw I;const Z=I;if(Z.name==="InvalidInputRpcError"||Z.name==="InvalidParamsRpcError"||Z.name==="MethodNotFoundRpcError"||Z.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[b]},{retryCount:0}).then(z=>(_i.set(e.uid,!0),z)).catch(z=>{const L=z;throw L.name==="MethodNotFoundRpcError"||L.name==="MethodNotSupportedRpcError"?(_i.set(e.uid,!1),Z):L});throw Z}}if(($==null?void 0:$.type)==="local"){const A=await ge(e,Ha,"prepareTransactionRequest")({account:$,accessList:r,authorizationList:o,blobs:a,chain:s,data:i,gas:l,gasPrice:d,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:h,nonceManager:$.nonceManager,parameters:[...ep,"sidecars"],type:v,value:g,...T,to:C}),B=(w=s==null?void 0:s.serializers)==null?void 0:w.transaction,P=await $.signTransaction(A,{serializer:B});return await ge(e,Sc,"sendRawTransaction")({serializedTransaction:P})}throw($==null?void 0:$.type)==="smart"?new Xo({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Xo({docsPath:"/docs/actions/wallet/sendTransaction",type:$==null?void 0:$.type})}catch(C){throw C instanceof Xo?C:Pp(C,{...t,account:$,chain:t.chain||void 0})}}async function Mv(e,t){const{abi:n,account:s=e.account,address:r,args:o,dataSuffix:a,functionName:i,...l}=t;if(typeof s>"u")throw new Ls({docsPath:"/docs/contract/writeContract"});const d=s?Xe(s):null,u=Ct({abi:n,args:o,functionName:i});try{return await ge(e,ei,"sendTransaction")({data:`${u}${a?a.replace("0x",""):""}`,to:r,account:d,...l})}catch(f){throw Ps(f,{abi:n,address:r,args:o,docsPath:"/docs/contract/writeContract",functionName:i,sender:d==null?void 0:d.address})}}class Rv extends H{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}function ya(e,{delay:t=100,retryCount:n=2,shouldRetry:s=()=>!0}={}){return new Promise((r,o)=>{const a=async({count:i=0}={})=>{const l=async({error:d})=>{const u=typeof t=="function"?t({count:i,error:d}):t;u&&await ga(u),a({count:i+1})};try{const d=await e();r(d)}catch(d){if(i<n&&await s({count:i,error:d}))return l({error:d});o(d)}};a()})}const Ap={"0x0":"reverted","0x1":"success"};function Fv(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>jn(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Kt(e.transactionIndex):null,status:e.status?Ap[e.status]:null,type:e.type?j0[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const Sp="0x5792579257925792579257925792579257925792579257925792579257925792",Bp=ne(0,{size:32});async function Lv(e,t){const{account:n=e.account,capabilities:s,chain:r=e.chain,experimental_fallback:o,experimental_fallbackDelay:a=32,forceAtomic:i=!1,id:l,version:d="2.0.0"}=t,u=n?Xe(n):null,f=t.calls.map(p=>{const h=p,v=h.abi?Ct({abi:h.abi,functionName:h.functionName,args:h.args}):h.data;return{data:h.dataSuffix&&v?Yt([v,h.dataSuffix]):v,to:h.to,value:h.value?ne(h.value):void 0}});try{const p=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:i,calls:f,capabilities:s,chainId:ne(r.id),from:u==null?void 0:u.address,id:l,version:d}]},{retryCount:0});return typeof p=="string"?{id:p}:p}catch(p){const h=p;if(o&&(h.name==="MethodNotFoundRpcError"||h.name==="MethodNotSupportedRpcError"||h.name==="UnknownRpcError"||h.details.toLowerCase().includes("does not exist / is not available")||h.details.toLowerCase().includes("missing or invalid. request()")||h.details.toLowerCase().includes("did not match any variant of untagged enum")||h.details.toLowerCase().includes("account upgraded to unsupported contract")||h.details.toLowerCase().includes("eip-7702 not supported")||h.details.toLowerCase().includes("unsupported wc_ method")||h.details.toLowerCase().includes("feature toggled misconfigured"))){if(s&&Object.values(s).some(x=>!x.optional)){const x="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new fr(new H(x,{details:x}))}if(i&&f.length>1){const $="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new pr(new H($,{details:$}))}const v=[];for(const $ of f){const x=ei(e,{account:u,chain:r,data:$.data,to:$.to,value:$.value?Ft($.value):void 0});v.push(x),a>0&&await new Promise(y=>setTimeout(y,a))}const g=await Promise.allSettled(v);if(g.every($=>$.status==="rejected"))throw g[0].reason;const T=g.map($=>$.status==="fulfilled"?$.value:Bp);return{id:Yt([...T,ne(r.id,{size:32}),Sp])}}throw Pp(p,{...t,account:u,chain:t.chain})}}async function Ip(e,t){async function n(u){if(u.endsWith(Sp.slice(2))){const p=Gt(sl(u,-64,-32)),h=sl(u,0,-64).slice(2).match(/.{1,64}/g),v=await Promise.all(h.map(T=>Bp.slice(2)!==T?e.request({method:"eth_getTransactionReceipt",params:[`0x${T}`]},{dedupe:!0}):void 0)),g=v.some(T=>T===null)?100:v.every(T=>(T==null?void 0:T.status)==="0x1")?200:v.every(T=>(T==null?void 0:T.status)==="0x0")?500:600;return{atomic:!1,chainId:Kt(p),receipts:v.filter(Boolean),status:g,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:s=!1,chainId:r,receipts:o,version:a="2.0.0",...i}=await n(t.id),[l,d]=(()=>{const u=i.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...i,atomic:s,chainId:r?Kt(r):void 0,receipts:(o==null?void 0:o.map(u=>({...u,blockNumber:Ft(u.blockNumber),gasUsed:Ft(u.gasUsed),status:Ap[u.status]})))??[],statusCode:d,status:l,version:a}}async function Uv(e,t){const{id:n,pollingInterval:s=e.pollingInterval,status:r=({statusCode:g})=>g===200||g>=300,retryCount:o=4,retryDelay:a=({count:g})=>~~(1<<g)*200,timeout:i=6e4,throwOnFailure:l=!1}=t,d=at(["waitForCallsStatus",e.uid,n]),{promise:u,resolve:f,reject:p}=Ac();let h;const v=Wn(d,{resolve:f,reject:p},g=>{const T=Tr(async()=>{const $=x=>{clearTimeout(h),T(),x(),v()};try{const x=await ya(async()=>{const y=await ge(e,Ip,"getCallsStatus")({id:n});if(l&&y.status==="failure")throw new Rv(y);return y},{retryCount:o,delay:a});if(!r(x))return;$(()=>g.resolve(x))}catch(x){$(()=>g.reject(x))}},{interval:s,emitOnBegin:!0});return T});return h=i?setTimeout(()=>{v(),clearTimeout(h),p(new Dv({id:n}))},i):void 0,await u}class Dv extends H{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const vl=256;let Ho=vl,Go;function Np(e=11){if(!Go||Ho+e>vl*2){Go="",Ho=0;for(let t=0;t<vl;t++)Go+=(256+Math.random()*256|0).toString(16).substring(1)}return Go.substring(Ho,Ho+++e)}function Op(e){const{batch:t,chain:n,ccipRead:s,key:r="base",name:o="Base Client",type:a="base"}=e,i=e.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),l=(n==null?void 0:n.blockTime)??12e3,d=Math.min(Math.max(Math.floor(l/2),500),4e3),u=e.pollingInterval??d,f=e.cacheTime??u,p=e.account?Xe(e.account):void 0,{config:h,request:v,value:g}=e.transport({chain:n,pollingInterval:u}),T={...h,...g},$={account:p,batch:t,cacheTime:f,ccipRead:s,chain:n,key:r,name:o,pollingInterval:u,request:v,transport:T,type:a,uid:Np(),...i?{experimental_blockTag:i}:{}};function x(y){return m=>{const w=m(y);for(const A in $)delete w[A];const C={...y,...w};return Object.assign(C,{extend:x(C)})}}return Object.assign($,{extend:x($)})}function Bc(e){var n,s,r,o,a,i;if(!(e instanceof H))return!1;const t=e.walk(l=>l instanceof al);return t instanceof al?((n=t.data)==null?void 0:n.errorName)==="HttpError"||((s=t.data)==null?void 0:s.errorName)==="ResolverError"||((r=t.data)==null?void 0:r.errorName)==="ResolverNotContract"||((o=t.data)==null?void 0:o.errorName)==="ResolverNotFound"||((a=t.data)==null?void 0:a.errorName)==="ReverseAddressMismatch"||((i=t.data)==null?void 0:i.errorName)==="UnsupportedResolverProfile":!1}function zv(e){const{abi:t,data:n}=e,s=Cs(n,0,4),r=t.find(o=>o.type==="function"&&s===Co(sn(o)));if(!r)throw new Pg(s,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:r.name,args:"inputs"in r&&r.inputs&&r.inputs.length>0?_o(r.inputs,Cs(n,4)):void 0}}const Pi="/docs/contract/encodeErrorResult";function ud(e){const{abi:t,errorName:n,args:s}=e;let r=t[0];if(n){const l=Ms({abi:t,args:s,name:n});if(!l)throw new Iu(n,{docsPath:Pi});r=l}if(r.type!=="error")throw new Iu(void 0,{docsPath:Pi});const o=sn(r),a=Co(o);let i="0x";if(s&&s.length>0){if(!r.inputs)throw new Eg(r.name,{docsPath:Pi});i=Os(r.inputs,s)}return Qt([a,i])}const Ai="/docs/contract/encodeFunctionResult";function jv(e){const{abi:t,functionName:n,result:s}=e;let r=t[0];if(n){const a=Ms({abi:t,name:n});if(!a)throw new ir(n,{docsPath:Ai});r=a}if(r.type!=="function")throw new ir(void 0,{docsPath:Ai});if(!r.outputs)throw new i0(r.name,{docsPath:Ai});const o=(()=>{if(r.outputs.length===0)return[];if(r.outputs.length===1)return[s];if(Array.isArray(s))return s;throw new c0(s)})();return Os(r.outputs,o)}const ti="x-batch-gateway:true";async function Wv(e){const{data:t,ccipRequest:n}=e,{args:[s]}=zv({abi:gl,data:t}),r=[],o=[];return await Promise.all(s.map(async(a,i)=>{try{o[i]=a.urls.includes(ti)?await Wv({data:a.data,ccipRequest:n}):await n(a),r[i]=!1}catch(l){r[i]=!0,o[i]=Vv(l)}})),jv({abi:gl,functionName:"query",result:[r,o]})}function Vv(e){return e.name==="HttpRequestError"&&e.status?ud({abi:gl,errorName:"HttpError",args:[e.status,e.shortMessage]}):ud({abi:[_0],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function Mp(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return rn(t)?t:null}function wl(e){let t=new Uint8Array(32).fill(0);if(!e)return st(t);const n=e.split(".");for(let s=n.length-1;s>=0;s-=1){const r=Mp(n[s]),o=r?vr(r):nt(ys(n[s]),"bytes");t=nt(Yt([t,o]),"bytes")}return st(t)}function Hv(e){return`[${e.slice(2)}]`}function Gv(e){const t=new Uint8Array(32).fill(0);return e?Mp(e)||nt(ys(e)):st(t)}function Ic(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(ys(t).byteLength+2);let s=0;const r=t.split(".");for(let o=0;o<r.length;o++){let a=ys(r[o]);a.byteLength>255&&(a=ys(Hv(Gv(r[o])))),n[s]=a.length,n.set(a,s+1),s+=a.length+1}return n.byteLength!==s+1?n.slice(0,s+1):n}async function qv(e,t){const{blockNumber:n,blockTag:s,coinType:r,name:o,gatewayUrls:a,strict:i}=t,{chain:l}=e,d=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return $r({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})(),u=l==null?void 0:l.ensTlds;if(u&&!u.some(p=>o.endsWith(p)))return null;const f=r!=null?[wl(o),BigInt(r)]:[wl(o)];try{const p=Ct({abi:id,functionName:"addr",args:f}),h={address:d,abi:wp,functionName:"resolveWithGateways",args:[Zt(Ic(o)),p,a??[ti]],blockNumber:n,blockTag:s},g=await ge(e,cn,"readContract")(h);if(g[0]==="0x")return null;const T=Fs({abi:id,args:f,functionName:"addr",data:g[0]});return T==="0x"||Gt(T)==="0x00"?null:T}catch(p){if(i)throw p;if(Bc(p))return null;throw p}}class Kv extends H{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class Ar extends H{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Nc extends H{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Zv extends H{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Yv=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Jv=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Qv=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Xv=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function e5(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const s=new Image;s.onload=()=>{n(!0)},s.onerror=()=>{n(!1)},s.src=e})}}function dd(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Rp({uri:e,gatewayUrls:t}){const n=Qv.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const s=dd(t==null?void 0:t.ipfs,"https://ipfs.io"),r=dd(t==null?void 0:t.arweave,"https://arweave.net"),o=e.match(Yv),{protocol:a,subpath:i,target:l,subtarget:d=""}=(o==null?void 0:o.groups)||{},u=a==="ipns:/"||i==="ipns/",f=a==="ipfs:/"||i==="ipfs/"||Jv.test(e);if(e.startsWith("http")&&!u&&!f){let h=e;return t!=null&&t.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((u||f)&&l)return{uri:`${s}/${u?"ipns":"ipfs"}/${l}${d}`,isOnChain:!1,isEncoded:!1};if(a==="ar:/"&&l)return{uri:`${r}/${l}${d||""}`,isOnChain:!1,isEncoded:!1};let p=e.replace(Xv,"");if(p.startsWith("<svg")&&(p=`data:image/svg+xml;base64,${btoa(p)}`),p.startsWith("data:")||p.startsWith("{"))return{uri:p,isOnChain:!0,isEncoded:!1};throw new Nc({uri:e})}function Fp(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Kv({data:e});return e.image||e.image_url||e.image_data}async function t5({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(r=>r.json());return await Oc({gatewayUrls:e,uri:Fp(n)})}catch{throw new Nc({uri:t})}}async function Oc({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:s}=Rp({uri:t,gatewayUrls:e});if(s||await e5(n))return n;throw new Nc({uri:t})}function n5(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,s,r]=t.split("/"),[o,a]=n.split(":"),[i,l]=s.split(":");if(!o||o.toLowerCase()!=="eip155")throw new Ar({reason:"Only EIP-155 supported"});if(!a)throw new Ar({reason:"Chain ID not found"});if(!l)throw new Ar({reason:"Contract address not found"});if(!r)throw new Ar({reason:"Token ID not found"});if(!i)throw new Ar({reason:"ERC namespace not found"});return{chainID:Number.parseInt(a,10),namespace:i.toLowerCase(),contractAddress:l,tokenID:r}}async function s5(e,{nft:t}){if(t.namespace==="erc721")return cn(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return cn(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Zv({namespace:t.namespace})}async function r5(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?o5(e,{gatewayUrls:t,record:n}):Oc({uri:n,gatewayUrls:t})}async function o5(e,{gatewayUrls:t,record:n}){const s=n5(n),r=await s5(e,{nft:s}),{uri:o,isOnChain:a,isEncoded:i}=Rp({uri:r,gatewayUrls:t});if(a&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const d=i?atob(o.replace("data:application/json;base64,","")):o,u=JSON.parse(d);return Oc({uri:Fp(u),gatewayUrls:t})}let l=s.tokenID;return s.namespace==="erc1155"&&(l=l.replace("0x","").padStart(64,"0")),t5({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,l)})}async function Lp(e,t){const{blockNumber:n,blockTag:s,key:r,name:o,gatewayUrls:a,strict:i}=t,{chain:l}=e,d=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return $r({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})(),u=l==null?void 0:l.ensTlds;if(u&&!u.some(f=>o.endsWith(f)))return null;try{const f={address:d,abi:wp,args:[Zt(Ic(o)),Ct({abi:ad,functionName:"text",args:[wl(o),r]}),a??[ti]],functionName:"resolveWithGateways",blockNumber:n,blockTag:s},h=await ge(e,cn,"readContract")(f);if(h[0]==="0x")return null;const v=Fs({abi:ad,functionName:"text",data:h[0]});return v===""?null:v}catch(f){if(i)throw f;if(Bc(f))return null;throw f}}async function a5(e,{blockNumber:t,blockTag:n,assetGatewayUrls:s,name:r,gatewayUrls:o,strict:a,universalResolverAddress:i}){const l=await ge(e,Lp,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:r,universalResolverAddress:i,gatewayUrls:o,strict:a});if(!l)return null;try{return await r5(e,{record:l,gatewayUrls:s})}catch{return null}}async function i5(e,t){const{address:n,blockNumber:s,blockTag:r,coinType:o=60n,gatewayUrls:a,strict:i}=t,{chain:l}=e,d=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return $r({blockNumber:s,chain:l,contract:"ensUniversalResolver"})})();try{const u={address:d,abi:gv,args:[n,o,a??[ti]],functionName:"reverseWithGateways",blockNumber:s,blockTag:r},f=ge(e,cn,"readContract"),[p]=await f(u);return p||null}catch(u){if(i)throw u;if(Bc(u))return null;throw u}}async function l5(e,t){const{blockNumber:n,blockTag:s,name:r}=t,{chain:o}=e,a=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return $r({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),i=o==null?void 0:o.ensTlds;if(i&&!i.some(d=>r.endsWith(d)))throw new Error(`${r} is not a valid ENS TLD (${i==null?void 0:i.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[l]=await ge(e,cn,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Zt(Ic(r))],blockNumber:n,blockTag:s});return l}async function Up(e,t){var T,$,x;const{account:n=e.account,blockNumber:s,blockTag:r="latest",blobs:o,data:a,gas:i,gasPrice:l,maxFeePerBlobGas:d,maxFeePerGas:u,maxPriorityFeePerGas:f,to:p,value:h,...v}=t,g=n?Xe(n):void 0;try{Rs(t);const m=(typeof s=="bigint"?ne(s):void 0)||r,w=(x=($=(T=e.chain)==null?void 0:T.formatters)==null?void 0:$.transactionRequest)==null?void 0:x.format,A=(w||wr)({...Wa(v,{format:w}),from:g==null?void 0:g.address,blobs:o,data:a,gas:i,gasPrice:l,maxFeePerBlobGas:d,maxFeePerGas:u,maxPriorityFeePerGas:f,to:p,value:h}),B=await e.request({method:"eth_createAccessList",params:[A,m]});return{accessList:B.accessList,gasUsed:BigInt(B.gasUsed)}}catch(y){throw kp(y,{...t,account:g,chain:e.chain})}}async function c5(e){const t=Da(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function Dp(e,{address:t,args:n,event:s,events:r,fromBlock:o,strict:a,toBlock:i}={}){const l=r??(s?[s]:void 0),d=Da(e,{method:"eth_newFilter"});let u=[];l&&(u=[l.flatMap(h=>Eo({abi:[h],eventName:h.name,args:n}))],s&&(u=u[0]));const f=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?ne(o):o,toBlock:typeof i=="bigint"?ne(i):i,...u.length?{topics:u}:{}}]});return{abi:l,args:n,eventName:s?s.name:void 0,fromBlock:o,id:f,request:d(f),strict:!!a,toBlock:i,type:"event"}}async function zp(e){const t=Da(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function u5(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function d5(e,{blockHash:t,blockNumber:n,blockTag:s="latest"}={}){const r=n!==void 0?ne(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[r||s]},{dedupe:!!r}),Kt(o)}async function xl(e,{address:t,blockNumber:n,blockTag:s="latest"}){const r=n!==void 0?ne(n):void 0,o=await e.request({method:"eth_getCode",params:[t,r||s]},{dedupe:!!r});if(o!=="0x")return o}class f5 extends H{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function p5(e,t){const{address:n,factory:s,factoryData:r}=t;try{const[o,a,i,l,d,u,f]=await ge(e,cn,"readContract")({abi:h5,address:n,functionName:"eip712Domain",factory:s,factoryData:r});return{domain:{name:a,version:i,chainId:Number(l),verifyingContract:d,salt:u},extensions:f,fields:o}}catch(o){const a=o;throw a.name==="ContractFunctionExecutionError"&&a.cause.name==="ContractFunctionZeroDataError"?new f5({address:n}):a}}const h5=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function m5(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(s=>BigInt(s)))}}async function b5(e,{blockCount:t,blockNumber:n,blockTag:s="latest",rewardPercentiles:r}){const o=typeof n=="bigint"?ne(n):void 0,a=await e.request({method:"eth_feeHistory",params:[ne(t),o||s,r]},{dedupe:!!o});return m5(a)}async function g5(e,{filter:t}){const n=t.strict??!1,r=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>jn(o));return t.abi?$c({abi:t.abi,logs:r,strict:n}):r}function fd(e,t){if(e.length!==t.length)throw new r0({expectedLength:e.length,givenLength:t.length});const n=[];for(let s=0;s<e.length;s++){const r=e[s],o=t[s];n.push(jp(r,o))}return Qt(n)}function jp(e,t,n=!1){if(e==="address"){const a=t;if(!rt(a))throw new yt({address:a});return Mn(a.toLowerCase(),{size:n?32:null})}if(e==="string")return Ts(t);if(e==="bytes")return t;if(e==="bool")return Mn(nc(t),{size:n?32:1});const s=e.match(oc);if(s){const[a,i,l="256"]=s,d=Number.parseInt(l,10)/8;return ne(t,{size:n?32:d,signed:i==="int"})}const r=e.match(k0);if(r){const[a,i]=r;if(Number.parseInt(i,10)!==(t.length-2)/2)throw new l0({expectedSize:Number.parseInt(i,10),givenSize:(t.length-2)/2});return Mn(t,{dir:"right",size:n?32:null})}const o=e.match(xy);if(o&&Array.isArray(t)){const[a,i]=o,l=[];for(let d=0;d<t.length;d++)l.push(jp(i,t[d],!0));return l.length===0?"0x":Qt(l)}throw new Ng(e)}function y5(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:s}=n,r=n.address;if(!rt(r))throw new yt({address:r});if(s<0)throw new Za({chainId:s})}Mc(e)}function v5(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new J0;for(const n of t){const s=Ge(n),r=Kt(Cs(n,0,1));if(s!==32)throw new N6({hash:n,size:s});if(r!==Y0)throw new O6({hash:n,version:r})}}Mc(e)}function Mc(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:s,to:r}=e;if(t<=0)throw new Za({chainId:t});if(r&&!rt(r))throw new yt({address:r});if(s&&s>Va)throw new Ss({maxFeePerGas:s});if(n&&s&&n>s)throw new bo({maxFeePerGas:s,maxPriorityFeePerGas:n})}function w5(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:s,maxFeePerGas:r,to:o}=e;if(t<=0)throw new Za({chainId:t});if(o&&!rt(o))throw new yt({address:o});if(n||r)throw new H("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(s&&s>Va)throw new Ss({maxFeePerGas:s})}function x5(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:s,maxFeePerGas:r,to:o}=e;if(o&&!rt(o))throw new yt({address:o});if(typeof t<"u"&&t<=0)throw new Za({chainId:t});if(n||r)throw new H("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(s&&s>Va)throw new Ss({maxFeePerGas:s})}function ni(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:s,storageKeys:r}=e[n];for(let o=0;o<r.length;o++)if(r[o].length-2!==64)throw new Xy({storageKey:r[o]});if(!rt(s,{strict:!1}))throw new yt({address:s});t.push([s,r])}return t}function $5(e,t){const n=X0(e);return n==="eip1559"?C5(e,t):n==="eip2930"?E5(e,t):n==="eip4844"?k5(e,t):n==="eip7702"?T5(e,t):_5(e,t)}function T5(e,t){const{authorizationList:n,chainId:s,gas:r,nonce:o,to:a,value:i,maxFeePerGas:l,maxPriorityFeePerGas:d,accessList:u,data:f}=e;y5(e);const p=ni(u),h=P5(n);return Qt(["0x04",As([ne(s),o?ne(o):"0x",d?ne(d):"0x",l?ne(l):"0x",r?ne(r):"0x",a??"0x",i?ne(i):"0x",f??"0x",p,h,...Mo(e,t)])])}function k5(e,t){const{chainId:n,gas:s,nonce:r,to:o,value:a,maxFeePerBlobGas:i,maxFeePerGas:l,maxPriorityFeePerGas:d,accessList:u,data:f}=e;v5(e);let p=e.blobVersionedHashes,h=e.sidecars;if(e.blobs&&(typeof p>"u"||typeof h>"u")){const y=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(C=>st(C)),m=e.kzg,w=gc({blobs:y,kzg:m});if(typeof p>"u"&&(p=q0({commitments:w})),typeof h>"u"){const C=yc({blobs:y,commitments:w,kzg:m});h=Q0({blobs:y,commitments:w,proofs:C})}}const v=ni(u),g=[ne(n),r?ne(r):"0x",d?ne(d):"0x",l?ne(l):"0x",s?ne(s):"0x",o??"0x",a?ne(a):"0x",f??"0x",v,i?ne(i):"0x",p??[],...Mo(e,t)],T=[],$=[],x=[];if(h)for(let y=0;y<h.length;y++){const{blob:m,commitment:w,proof:C}=h[y];T.push(m),$.push(w),x.push(C)}return Qt(["0x03",As(h?[g,T,$,x]:g)])}function C5(e,t){const{chainId:n,gas:s,nonce:r,to:o,value:a,maxFeePerGas:i,maxPriorityFeePerGas:l,accessList:d,data:u}=e;Mc(e);const f=ni(d),p=[ne(n),r?ne(r):"0x",l?ne(l):"0x",i?ne(i):"0x",s?ne(s):"0x",o??"0x",a?ne(a):"0x",u??"0x",f,...Mo(e,t)];return Qt(["0x02",As(p)])}function E5(e,t){const{chainId:n,gas:s,data:r,nonce:o,to:a,value:i,accessList:l,gasPrice:d}=e;w5(e);const u=ni(l),f=[ne(n),o?ne(o):"0x",d?ne(d):"0x",s?ne(s):"0x",a??"0x",i?ne(i):"0x",r??"0x",u,...Mo(e,t)];return Qt(["0x01",As(f)])}function _5(e,t){const{chainId:n=0,gas:s,data:r,nonce:o,to:a,value:i,gasPrice:l}=e;x5(e);let d=[o?ne(o):"0x",l?ne(l):"0x",s?ne(s):"0x",a??"0x",i?ne(i):"0x",r??"0x"];if(t){const u=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const h=27n+(t.v===27n?0n:1n);if(t.v!==h)throw new Jy({v:t.v});return h})(),f=Gt(t.r),p=Gt(t.s);d=[...d,ne(u),f==="0x00"?"0x":f,p==="0x00"?"0x":p]}else n>0&&(d=[...d,ne(n),"0x","0x"]);return As(d)}function Mo(e,t){const n=t??e,{v:s,yParity:r}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof s>"u"&&typeof r>"u")return[];const o=Gt(n.r),a=Gt(n.s);return[typeof r=="number"?r?ne(1):"0x":s===0n?"0x":s===1n?ne(1):s===27n?"0x":ne(1),o==="0x00"?"0x":o,a==="0x00"?"0x":a]}function P5(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:s,nonce:r,...o}=n,a=n.address;t.push([s?Zt(s):"0x",a,r?Zt(r):"0x",...Mo({},o)])}return t}async function A5({address:e,authorization:t,signature:n}){return So(Ve(e),await fc({authorization:t,signature:n}))}const qo=new Ua(8192);function S5(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(qo.get(n))return qo.get(n);const s=e().finally(()=>qo.delete(n));return qo.set(n,s),s}function B5(e,t={}){return async(n,s={})=>{var f;const{dedupe:r=!1,methods:o,retryDelay:a=150,retryCount:i=3,uid:l}={...t,...s},{method:d}=n;if((f=o==null?void 0:o.exclude)!=null&&f.includes(d))throw new ds(new Error("method not supported"),{method:d});if(o!=null&&o.include&&!o.include.includes(d))throw new ds(new Error("method not supported"),{method:d});const u=r?Ts(`${l}.${at(n)}`):void 0;return S5(()=>ya(async()=>{try{return await e(n)}catch(p){const h=p;switch(h.code){case Qr.code:throw new Qr(h);case Xr.code:throw new Xr(h);case eo.code:throw new eo(h,{method:n.method});case to.code:throw new to(h);case Es.code:throw new Es(h);case _s.code:throw new _s(h);case no.code:throw new no(h);case so.code:throw new so(h);case ur.code:throw new ur(h);case ds.code:throw new ds(h,{method:n.method});case dr.code:throw new dr(h);case ro.code:throw new ro(h);case vs.code:throw new vs(h);case oo.code:throw new oo(h);case ao.code:throw new ao(h);case io.code:throw new io(h);case lo.code:throw new lo(h);case co.code:throw new co(h);case fr.code:throw new fr(h);case uo.code:throw new uo(h);case fo.code:throw new fo(h);case po.code:throw new po(h);case ho.code:throw new ho(h);case mo.code:throw new mo(h);case pr.code:throw new pr(h);case 5e3:throw new vs(h);default:throw p instanceof H?p:new a6(h)}}},{delay:({count:p,error:h})=>{var v;if(h&&h instanceof Wr){const g=(v=h==null?void 0:h.headers)==null?void 0:v.get("Retry-After");if(g!=null&&g.match(/\d/))return Number.parseInt(g,10)*1e3}return~~(1<<p)*a},retryCount:i,shouldRetry:({error:p})=>I5(p)}),{enabled:r,id:u})}}function I5(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===dr.code||e.code===Es.code:e instanceof Wr&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function Rc(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}function N5(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:s}){return new Promise((r,o)=>{(async()=>{let a;try{const i=new AbortController;n>0&&(a=setTimeout(()=>{s&&i.abort()},n)),r(await e({signal:(i==null?void 0:i.signal)||null}))}catch(i){(i==null?void 0:i.name)==="AbortError"&&o(t),o(i)}finally{clearTimeout(a)}})()})}function O5(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const pd=O5();function M5(e,t={}){return{async request(n){var p;const{body:s,fetchFn:r=t.fetchFn??fetch,onRequest:o=t.onRequest,onResponse:a=t.onResponse,timeout:i=t.timeout??1e4}=n,l={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:d,method:u,signal:f}=l;try{const h=await N5(async({signal:g})=>{const T={...l,body:Array.isArray(s)?at(s.map(m=>({jsonrpc:"2.0",id:m.id??pd.take(),...m}))):at({jsonrpc:"2.0",id:s.id??pd.take(),...s}),headers:{"Content-Type":"application/json",...d},method:u||"POST",signal:f||(i>0?g:null)},$=new Request(e,T),x=await(o==null?void 0:o($,T))??{...T,url:e};return await r(x.url??e,x)},{errorInstance:new Gu({body:s,url:e}),timeout:i,signal:!0});a&&await a(h);let v;if((p=h.headers.get("Content-Type"))!=null&&p.startsWith("application/json"))v=await h.json();else{v=await h.text();try{v=JSON.parse(v||"{}")}catch(g){if(h.ok)throw g;v={error:v}}}if(!h.ok)throw new Wr({body:s,details:at(v.error)||h.statusText,headers:h.headers,status:h.status,url:e});return v}catch(h){throw h instanceof Wr||h instanceof Gu?h:new Wr({body:s,cause:h,url:e})}}}}const R5=`Ethereum Signed Message:
`;function F5(e){const t=typeof e=="string"?Ts(e):typeof e.raw=="string"?e.raw:st(e.raw),n=Ts(`${R5}${Ge(t)}`);return Yt([n,t])}function Fc(e,t){return nt(F5(e),t)}class L5 extends H{constructor({domain:t}){super(`Invalid domain "${at(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class U5 extends H{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class D5 extends H{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function z5(e){const{domain:t,message:n,primaryType:s,types:r}=e,o=(l,d)=>{const u={...d};for(const f of l){const{name:p,type:h}=f;h==="address"&&(u[p]=u[p].toLowerCase())}return u},a=r.EIP712Domain?t?o(r.EIP712Domain,t):{}:{},i=(()=>{if(s!=="EIP712Domain")return o(r[s],n)})();return at({domain:a,message:i,primaryType:s,types:r})}function Wp(e){const{domain:t,message:n,primaryType:s,types:r}=e,o=(a,i)=>{for(const l of a){const{name:d,type:u}=l,f=i[d],p=u.match(oc);if(p&&(typeof f=="number"||typeof f=="bigint")){const[g,T,$]=p;ne(f,{signed:T==="int",size:Number.parseInt($,10)/8})}if(u==="address"&&typeof f=="string"&&!rt(f))throw new yt({address:f});const h=u.match(k0);if(h){const[g,T]=h;if(T&&Ge(f)!==Number.parseInt(T,10))throw new l0({expectedSize:Number.parseInt(T,10),givenSize:Ge(f)})}const v=r[u];v&&(j5(u),o(v,f))}};if(r.EIP712Domain&&t){if(typeof t!="object")throw new L5({domain:t});o(r.EIP712Domain,t)}if(s!=="EIP712Domain")if(r[s])o(r[s],n);else throw new U5({primaryType:s,types:r})}function Vp({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},(typeof(e==null?void 0:e.chainId)=="number"||typeof(e==null?void 0:e.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function j5(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new D5({type:e})}function Hp(e){const{domain:t={},message:n,primaryType:s}=e,r={EIP712Domain:Vp({domain:t}),...e.types};Wp({domain:t,message:n,primaryType:s,types:r});const o=["0x1901"];return t&&o.push(W5({domain:t,types:r})),s!=="EIP712Domain"&&o.push(Gp({data:n,primaryType:s,types:r})),nt(Yt(o))}function W5({domain:e,types:t}){return Gp({data:e,primaryType:"EIP712Domain",types:t})}function Gp({data:e,primaryType:t,types:n}){const s=qp({data:e,primaryType:t,types:n});return nt(s)}function qp({data:e,primaryType:t,types:n}){const s=[{type:"bytes32"}],r=[V5({primaryType:t,types:n})];for(const o of n[t]){const[a,i]=Zp({types:n,name:o.name,type:o.type,value:e[o.name]});s.push(a),r.push(i)}return Os(s,r)}function V5({primaryType:e,types:t}){const n=Zt(H5({primaryType:e,types:t}));return nt(n)}function H5({primaryType:e,types:t}){let n="";const s=Kp({primaryType:e,types:t});s.delete(e);const r=[e,...Array.from(s).sort()];for(const o of r)n+=`${o}(${t[o].map(({name:a,type:i})=>`${i} ${a}`).join(",")})`;return n}function Kp({primaryType:e,types:t},n=new Set){const s=e.match(/^\w*/u),r=s==null?void 0:s[0];if(n.has(r)||t[r]===void 0)return n;n.add(r);for(const o of t[r])Kp({primaryType:o.type,types:t},n);return n}function Zp({types:e,name:t,type:n,value:s}){if(e[n]!==void 0)return[{type:"bytes32"},nt(qp({data:s,primaryType:n,types:e}))];if(n==="bytes")return s=`0x${(s.length%2?"0":"")+s.slice(2)}`,[{type:"bytes32"},nt(s)];if(n==="string")return[{type:"bytes32"},nt(Zt(s))];if(n.lastIndexOf("]")===n.length-1){const r=n.slice(0,n.lastIndexOf("[")),o=s.map(a=>Zp({name:t,type:r,types:e,value:a}));return[{type:"bytes32"},nt(Os(o.map(([a])=>a),o.map(([,a])=>a)))]}return[{type:n},s]}class G5 extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const s=this.keys().next().value;s&&this.delete(s)}return this}}const q5={checksum:new G5(8192)},Si=q5.checksum;function Yp(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,s=v0(J6(e));return n==="Bytes"?s:ln(s)}const K5=/^0x[a-fA-F0-9]{40}$/;function si(e,t={}){const{strict:n=!0}=t;if(!K5.test(e))throw new hd({address:e,cause:new Z5});if(n){if(e.toLowerCase()===e)return;if(Jp(e)!==e)throw new hd({address:e,cause:new Y5})}}function Jp(e){if(Si.has(e))return Si.get(e);si(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Yp(X6(t),{as:"Bytes"}),s=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(n[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const r=`0x${s.join("")}`;return Si.set(e,r),r}function $l(e,t={}){const{strict:n=!0}=t??{};try{return si(e,{strict:n}),!0}catch{return!1}}class hd extends Be{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Z5 extends Be{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Y5 extends Be{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const J5=/^(.*)\[([0-9]*)\]$/,Q5=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Qp=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,md=2n**256n-1n;function sr(e,t,n){const{checksumAddress:s,staticPosition:r}=n,o=Dc(t.type);if(o){const[a,i]=o;return ew(e,{...t,type:i},{checksumAddress:s,length:a,staticPosition:r})}if(t.type==="tuple")return rw(e,t,{checksumAddress:s,staticPosition:r});if(t.type==="address")return X5(e,{checksum:s});if(t.type==="bool")return tw(e);if(t.type.startsWith("bytes"))return nw(e,t,{staticPosition:r});if(t.type.startsWith("uint")||t.type.startsWith("int"))return sw(e,t);if(t.type==="string")return ow(e,{staticPosition:r});throw new jc(t.type)}const bd=32,Tl=32;function X5(e,t={}){const{checksum:n=!1}=t,s=e.readBytes(32);return[(o=>n?Jp(o):o)(ln(tv(s,-20))),32]}function ew(e,t,n){const{checksumAddress:s,length:r,staticPosition:o}=n;if(!r){const l=Fn(e.readBytes(Tl)),d=o+l,u=d+bd;e.setPosition(d);const f=Fn(e.readBytes(bd)),p=vo(t);let h=0;const v=[];for(let g=0;g<f;++g){e.setPosition(u+(p?g*32:h));const[T,$]=sr(e,t,{checksumAddress:s,staticPosition:u});h+=$,v.push(T)}return e.setPosition(o+32),[v,32]}if(vo(t)){const l=Fn(e.readBytes(Tl)),d=o+l,u=[];for(let f=0;f<r;++f){e.setPosition(d+f*32);const[p]=sr(e,t,{checksumAddress:s,staticPosition:d});u.push(p)}return e.setPosition(o+32),[u,32]}let a=0;const i=[];for(let l=0;l<r;++l){const[d,u]=sr(e,t,{checksumAddress:s,staticPosition:o+a});a+=u,i.push(d)}return[i,a]}function tw(e){return[sv(e.readBytes(32),{size:32}),32]}function nw(e,t,{staticPosition:n}){const[s,r]=t.type.split("bytes");if(!r){const a=Fn(e.readBytes(32));e.setPosition(n+a);const i=Fn(e.readBytes(32));if(i===0)return e.setPosition(n+32),["0x",32];const l=e.readBytes(i);return e.setPosition(n+32),[ln(l),32]}return[ln(e.readBytes(Number.parseInt(r,10),32)),32]}function sw(e,t){const n=t.type.startsWith("int"),s=Number.parseInt(t.type.split("int")[1]||"256",10),r=e.readBytes(32);return[s>48?nv(r,{signed:n}):Fn(r,{signed:n}),32]}function rw(e,t,n){const{checksumAddress:s,staticPosition:r}=n,o=t.components.length===0||t.components.some(({name:l})=>!l),a=o?[]:{};let i=0;if(vo(t)){const l=Fn(e.readBytes(Tl)),d=r+l;for(let u=0;u<t.components.length;++u){const f=t.components[u];e.setPosition(d+i);const[p,h]=sr(e,f,{checksumAddress:s,staticPosition:d});i+=h,a[o?u:f==null?void 0:f.name]=p}return e.setPosition(r+32),[a,32]}for(let l=0;l<t.components.length;++l){const d=t.components[l],[u,f]=sr(e,d,{checksumAddress:s,staticPosition:r});a[o?l:d==null?void 0:d.name]=u,i+=f}return[a,i]}function ow(e,{staticPosition:t}){const n=Fn(e.readBytes(32)),s=t+n;e.setPosition(s);const r=Fn(e.readBytes(32));if(r===0)return e.setPosition(t+32),["",32];const o=e.readBytes(r,32),a=rv(fp(o));return e.setPosition(t+32),[a,32]}function aw({checksumAddress:e,parameters:t,values:n}){const s=[];for(let r=0;r<t.length;r++)s.push(Lc({checksumAddress:e,parameter:t[r],value:n[r]}));return s}function Lc({checksumAddress:e=!1,parameter:t,value:n}){const s=t,r=Dc(s.type);if(r){const[o,a]=r;return lw(n,{checksumAddress:e,length:o,parameter:{...s,type:a}})}if(s.type==="tuple")return pw(n,{checksumAddress:e,parameter:s});if(s.type==="address")return iw(n,{checksum:e});if(s.type==="bool")return uw(n);if(s.type.startsWith("uint")||s.type.startsWith("int")){const o=s.type.startsWith("int"),[,,a="256"]=Qp.exec(s.type)??[];return dw(n,{signed:o,size:Number(a)})}if(s.type.startsWith("bytes"))return cw(n,{type:s.type});if(s.type==="string")return fw(n);throw new jc(s.type)}function Uc(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:a,encoded:i}=e[o];a?t+=32:t+=Lt(i)}const n=[],s=[];let r=0;for(let o=0;o<e.length;o++){const{dynamic:a,encoded:i}=e[o];a?(n.push($t(t+r,{size:32})),s.push(i),r+=Lt(i)):n.push(i)}return an(...n,...s)}function iw(e,t){const{checksum:n=!1}=t;return si(e,{strict:n}),{dynamic:!1,encoded:Bs(e.toLowerCase())}}function lw(e,t){const{checksumAddress:n,length:s,parameter:r}=t,o=s===null;if(!Array.isArray(e))throw new $w(e);if(!o&&e.length!==s)throw new xw({expectedLength:s,givenLength:e.length,type:`${r.type}[${s}]`});let a=!1;const i=[];for(let l=0;l<e.length;l++){const d=Lc({checksumAddress:n,parameter:r,value:e[l]});d.dynamic&&(a=!0),i.push(d)}if(o||a){const l=Uc(i);if(o){const d=$t(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?an(d,l):d}}if(a)return{dynamic:!0,encoded:l}}return{dynamic:!1,encoded:an(...i.map(({encoded:l})=>l))}}function cw(e,{type:t}){const[,n]=t.split("bytes"),s=Lt(e);if(!n){let r=e;return s%32!==0&&(r=Is(r,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:an(Bs($t(s,{size:32})),r)}}if(s!==Number.parseInt(n,10))throw new eh({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Is(e)}}function uw(e){if(typeof e!="boolean")throw new Be(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Bs(pp(e))}}function dw(e,{signed:t,size:n}){if(typeof n=="number"){const s=2n**(BigInt(n)-(t?1n:0n))-1n,r=t?-s-1n:0n;if(e>s||e<r)throw new bp({max:s.toString(),min:r.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:$t(e,{size:32,signed:t})}}function fw(e){const t=_c(e),n=Math.ceil(Lt(t)/32),s=[];for(let r=0;r<n;r++)s.push(Is(vn(t,r*32,(r+1)*32)));return{dynamic:!0,encoded:an(Is($t(Lt(t),{size:32})),...s)}}function pw(e,t){const{checksumAddress:n,parameter:s}=t;let r=!1;const o=[];for(let a=0;a<s.components.length;a++){const i=s.components[a],l=Array.isArray(e)?a:i.name,d=Lc({checksumAddress:n,parameter:i,value:e[l]});o.push(d),d.dynamic&&(r=!0)}return{dynamic:r,encoded:r?Uc(o):an(...o.map(({encoded:a})=>a))}}function Dc(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function vo(e){var s;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(s=e.components)==null?void 0:s.some(vo);const n=Dc(e.type);return!!(n&&vo({...e,type:n[1]}))}const hw={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new gw({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new bw({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new gd({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new gd({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function mw(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(hw);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class gd extends Be{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class bw extends Be{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class gw extends Be{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function yw(e,t,n={}){const{as:s="Array",checksumAddress:r=!1}=n,o=typeof t=="string"?dp(t):t,a=mw(o);if(qs(o)===0&&e.length>0)throw new ww;if(qs(o)&&qs(o)<32)throw new vw({data:typeof t=="string"?t:ln(t),parameters:e,size:qs(o)});let i=0;const l=s==="Array"?[]:{};for(let d=0;d<e.length;++d){const u=e[d];a.setPosition(i);const[f,p]=sr(a,u,{checksumAddress:r,staticPosition:0});i+=p,s==="Array"?l.push(f):l[u.name??d]=f}return l}function zc(e,t,n){const{checksumAddress:s=!1}={};if(e.length!==t.length)throw new th({expectedLength:e.length,givenLength:t.length});const r=aw({checksumAddress:s,parameters:e,values:t}),o=Uc(r);return o.length===0?"0x":o}function kl(e,t){if(e.length!==t.length)throw new th({expectedLength:e.length,givenLength:t.length});const n=[];for(let s=0;s<e.length;s++){const r=e[s],o=t[s];n.push(kl.encode(r,o))}return an(...n)}(function(e){function t(n,s,r=!1){if(n==="address"){const l=s;return si(l),Bs(l.toLowerCase(),r?32:0)}if(n==="string")return _c(s);if(n==="bytes")return s;if(n==="bool")return Bs(pp(s),r?32:1);const o=n.match(Qp);if(o){const[l,d,u="256"]=o,f=Number.parseInt(u,10)/8;return $t(s,{size:r?32:f,signed:d==="int"})}const a=n.match(Q5);if(a){const[l,d]=a;if(Number.parseInt(d,10)!==(s.length-2)/2)throw new eh({expectedSize:Number.parseInt(d,10),value:s});return Is(s,r?32:0)}const i=n.match(J5);if(i&&Array.isArray(s)){const[l,d]=i,u=[];for(let f=0;f<s.length;f++)u.push(t(d,s[f],!0));return u.length===0?"0x":an(...u)}throw new jc(n)}e.encode=t})(kl||(kl={}));function Xp(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?Su(e):e}class vw extends Be{constructor({data:t,parameters:n,size:s}){super(`Data size of ${s} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Gs(n)})`,`Data:   ${t} (${s} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class ww extends Be{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class xw extends Be{constructor({expectedLength:t,givenLength:n,type:s}){super(`Array length mismatch for type \`${s}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class eh extends Be{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Lt(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class th extends Be{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class $w extends Be{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class jc extends Be{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class nh extends sc{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Qg(t);const s=Fa(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(s.length>r?t.create().update(s).digest():s);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=t.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),cr(o)}update(t){return lr(this),this.iHash.update(t),this}digestInto(t){lr(this),ks(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:s,finished:r,destroyed:o,blockLen:a,outputLen:i}=this;return t=t,t.finished=r,t.destroyed=o,t.blockLen=a,t.outputLen=i,t.oHash=n._cloneInto(t.oHash),t.iHash=s._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const sh=(e,t,n)=>new nh(e,t).update(n).digest();sh.create=(e,t)=>new nh(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pt=BigInt(0),kt=BigInt(1),ps=BigInt(2),Tw=BigInt(3),rh=BigInt(4),oh=BigInt(5),ah=BigInt(8);function Et(e,t){const n=e%t;return n>=Pt?n:t+n}function zt(e,t,n){let s=e;for(;t-- >Pt;)s*=s,s%=n;return s}function Cl(e,t){if(e===Pt)throw new Error("invert: expected non-zero number");if(t<=Pt)throw new Error("invert: expected positive modulus, got "+t);let n=Et(e,t),s=t,r=Pt,o=kt;for(;n!==Pt;){const i=s/n,l=s%n,d=r-o*i;s=n,n=l,r=o,o=d}if(s!==kt)throw new Error("invert: does not exist");return Et(r,t)}function ih(e,t){const n=(e.ORDER+kt)/rh,s=e.pow(t,n);if(!e.eql(e.sqr(s),t))throw new Error("Cannot find square root");return s}function kw(e,t){const n=(e.ORDER-oh)/ah,s=e.mul(t,ps),r=e.pow(s,n),o=e.mul(t,r),a=e.mul(e.mul(o,ps),r),i=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(i),t))throw new Error("Cannot find square root");return i}function Cw(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-kt,n=0;for(;t%ps===Pt;)t/=ps,n++;let s=ps;const r=Wc(e);for(;yd(r,s)===1;)if(s++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return ih;let o=r.pow(s,t);const a=(t+kt)/ps;return function(l,d){if(l.is0(d))return d;if(yd(l,d)!==1)throw new Error("Cannot find square root");let u=n,f=l.mul(l.ONE,o),p=l.pow(d,t),h=l.pow(d,a);for(;!l.eql(p,l.ONE);){if(l.is0(p))return l.ZERO;let v=1,g=l.sqr(p);for(;!l.eql(g,l.ONE);)if(v++,g=l.sqr(g),v===u)throw new Error("Cannot find square root");const T=kt<<BigInt(u-v-1),$=l.pow(f,T);u=v,f=l.sqr($),p=l.mul(p,f),h=l.mul(h,$)}return h}}function Ew(e){return e%rh===Tw?ih:e%ah===oh?kw:Cw(e)}const _w=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Pw(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=_w.reduce((s,r)=>(s[r]="function",s),t);return qa(e,n)}function Aw(e,t,n){if(n<Pt)throw new Error("invalid exponent, negatives unsupported");if(n===Pt)return e.ONE;if(n===kt)return t;let s=e.ONE,r=t;for(;n>Pt;)n&kt&&(s=e.mul(s,r)),r=e.sqr(r),n>>=kt;return s}function lh(e,t,n=!1){const s=new Array(t.length).fill(n?e.ZERO:void 0),r=t.reduce((a,i,l)=>e.is0(i)?a:(s[l]=a,e.mul(a,i)),e.ONE),o=e.inv(r);return t.reduceRight((a,i,l)=>e.is0(i)?a:(s[l]=e.mul(a,s[l]),e.mul(a,i)),o),s}function yd(e,t){const n=(e.ORDER-kt)/ps,s=e.pow(t,n),r=e.eql(s,e.ONE),o=e.eql(s,e.ZERO),a=e.eql(s,e.neg(e.ONE));if(!r&&!o&&!a)throw new Error("invalid Legendre symbol result");return r?1:o?0:-1}function ch(e,t){t!==void 0&&Yr(t);const n=t!==void 0?t:e.toString(2).length,s=Math.ceil(n/8);return{nBitLength:n,nByteLength:s}}function Wc(e,t,n=!1,s={}){if(e<=Pt)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:r,nByteLength:o}=ch(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const i=Object.freeze({ORDER:e,isLE:n,BITS:r,BYTES:o,MASK:Ga(r),ZERO:Pt,ONE:kt,create:l=>Et(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Pt<=l&&l<e},is0:l=>l===Pt,isOdd:l=>(l&kt)===kt,neg:l=>Et(-l,e),eql:(l,d)=>l===d,sqr:l=>Et(l*l,e),add:(l,d)=>Et(l+d,e),sub:(l,d)=>Et(l-d,e),mul:(l,d)=>Et(l*d,e),pow:(l,d)=>Aw(i,l,d),div:(l,d)=>Et(l*Cl(d,e),e),sqrN:l=>l*l,addN:(l,d)=>l+d,subN:(l,d)=>l-d,mulN:(l,d)=>l*d,inv:l=>Cl(l,e),sqrt:s.sqrt||(l=>(a||(a=Ew(e)),a(i,l))),toBytes:l=>n?ap(l,o):Io(l,o),fromBytes:l=>{if(l.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+l.length);return n?op(l):ws(l)},invertBatch:l=>lh(i,l),cmov:(l,d,u)=>u?d:l});return Object.freeze(i)}function uh(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function dh(e){const t=uh(e);return t+Math.ceil(t/2)}function Sw(e,t,n=!1){const s=e.length,r=uh(t),o=dh(t);if(s<16||s<o||s>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+s);const a=n?op(e):ws(e),i=Et(a,t-kt)+kt;return n?ap(i,r):Io(i,r)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vd=BigInt(0),El=BigInt(1);function Bi(e,t){const n=t.negate();return e?n:t}function fh(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Ii(e,t){fh(e,t);const n=Math.ceil(t/e)+1,s=2**(e-1),r=2**e,o=Ga(e),a=BigInt(e);return{windows:n,windowSize:s,mask:o,maxNumber:r,shiftBy:a}}function wd(e,t,n){const{windowSize:s,mask:r,maxNumber:o,shiftBy:a}=n;let i=Number(e&r),l=e>>a;i>s&&(i-=o,l+=El);const d=t*s,u=d+Math.abs(i)-1,f=i===0,p=i<0,h=t%2!==0;return{nextN:l,offset:u,isZero:f,isNeg:p,isNegF:h,offsetF:d}}function Bw(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,s)=>{if(!(n instanceof t))throw new Error("invalid point at index "+s)})}function Iw(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,s)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+s)})}const Ni=new WeakMap,ph=new WeakMap;function Oi(e){return ph.get(e)||1}function Nw(e,t){return{constTimeNegate:Bi,hasPrecomputes(n){return Oi(n)!==1},unsafeLadder(n,s,r=e.ZERO){let o=n;for(;s>vd;)s&El&&(r=r.add(o)),o=o.double(),s>>=El;return r},precomputeWindow(n,s){const{windows:r,windowSize:o}=Ii(s,t),a=[];let i=n,l=i;for(let d=0;d<r;d++){l=i,a.push(l);for(let u=1;u<o;u++)l=l.add(i),a.push(l);i=l.double()}return a},wNAF(n,s,r){let o=e.ZERO,a=e.BASE;const i=Ii(n,t);for(let l=0;l<i.windows;l++){const{nextN:d,offset:u,isZero:f,isNeg:p,isNegF:h,offsetF:v}=wd(r,l,i);r=d,f?a=a.add(Bi(h,s[v])):o=o.add(Bi(p,s[u]))}return{p:o,f:a}},wNAFUnsafe(n,s,r,o=e.ZERO){const a=Ii(n,t);for(let i=0;i<a.windows&&r!==vd;i++){const{nextN:l,offset:d,isZero:u,isNeg:f}=wd(r,i,a);if(r=l,!u){const p=s[d];o=o.add(f?p.negate():p)}}return o},getPrecomputes(n,s,r){let o=Ni.get(s);return o||(o=this.precomputeWindow(s,n),n!==1&&Ni.set(s,r(o))),o},wNAFCached(n,s,r){const o=Oi(n);return this.wNAF(o,this.getPrecomputes(o,n,r),s)},wNAFCachedUnsafe(n,s,r,o){const a=Oi(n);return a===1?this.unsafeLadder(n,s,o):this.wNAFUnsafe(a,this.getPrecomputes(a,n,r),s,o)},setWindowSize(n,s){fh(s,t),ph.set(n,s),Ni.delete(n)}}}function Ow(e,t,n,s){Bw(n,e),Iw(s,t);const r=n.length,o=s.length;if(r!==o)throw new Error("arrays of points and scalars must have equal length");const a=e.ZERO,i=D6(BigInt(r));let l=1;i>12?l=i-3:i>4?l=i-2:i>0&&(l=2);const d=Ga(l),u=new Array(Number(d)+1).fill(a),f=Math.floor((t.BITS-1)/l)*l;let p=a;for(let h=f;h>=0;h-=l){u.fill(a);for(let g=0;g<o;g++){const T=s[g],$=Number(T>>BigInt(h)&d);u[$]=u[$].add(n[g])}let v=a;for(let g=u.length-1,T=a;g>0;g--)T=T.add(u[g]),v=v.add(T);if(p=p.add(v),h!==0)for(let g=0;g<l;g++)p=p.double()}return p}function hh(e){return Pw(e.Fp),qa(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ch(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function xd(e){e.lowS!==void 0&&go("lowS",e.lowS),e.prehash!==void 0&&go("prehash",e.prehash)}function Mw(e){const t=hh(e);qa(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:s,a:r}=t;if(n){if(!s.eql(r,s.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class Rw extends Error{constructor(t=""){super(t)}}const An={Err:Rw,_tlv:{encode:(e,t)=>{const{Err:n}=An;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const s=t.length/2,r=Vo(s);if(r.length/2&128)throw new n("tlv.encode: long form length too big");const o=s>127?Vo(r.length/2|128):"";return Vo(e)+o+r+t},decode(e,t){const{Err:n}=An;let s=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[s++]!==e)throw new n("tlv.decode: wrong tlv");const r=t[s++],o=!!(r&128);let a=0;if(!o)a=r;else{const l=r&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const d=t.subarray(s,s+l);if(d.length!==l)throw new n("tlv.decode: length bytes not complete");if(d[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of d)a=a<<8|u;if(s+=l,a<128)throw new n("tlv.decode(long): not minimal encoding")}const i=t.subarray(s,s+a);if(i.length!==a)throw new n("tlv.decode: wrong value length");return{v:i,l:t.subarray(s+a)}}},_int:{encode(e){const{Err:t}=An;if(e<Nn)throw new t("integer: negative integers are not allowed");let n=Vo(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=An;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return ws(e)}},toSig(e){const{Err:t,_int:n,_tlv:s}=An,r=Wt("signature",e),{v:o,l:a}=s.decode(48,r);if(a.length)throw new t("invalid signature: left bytes after parsing");const{v:i,l}=s.decode(2,o),{v:d,l:u}=s.decode(2,l);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(i),s:n.decode(d)}},hexFromSig(e){const{_tlv:t,_int:n}=An,s=t.encode(2,n.encode(e.r)),r=t.encode(2,n.encode(e.s)),o=s+r;return t.encode(48,o)}};function Mi(e,t){return yo(Io(e,t))}const Nn=BigInt(0),it=BigInt(1);BigInt(2);const Ri=BigInt(3),Fw=BigInt(4);function Lw(e){const t=Mw(e),{Fp:n}=t,s=Wc(t.n,t.nBitLength),r=t.toBytes||((y,m,w)=>{const C=m.toAffine();return ma(Uint8Array.from([4]),n.toBytes(C.x),n.toBytes(C.y))}),o=t.fromBytes||(y=>{const m=y.subarray(1),w=n.fromBytes(m.subarray(0,n.BYTES)),C=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:w,y:C}});function a(y){const{a:m,b:w}=t,C=n.sqr(y),A=n.mul(C,y);return n.add(n.add(A,n.mul(y,m)),w)}function i(y,m){const w=n.sqr(m),C=a(y);return n.eql(w,C)}if(!i(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const l=n.mul(n.pow(t.a,Ri),Fw),d=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(l,d)))throw new Error("bad curve params: a or b");function u(y){return Ec(y,it,t.n)}function f(y){const{allowedPrivateKeyLengths:m,nByteLength:w,wrapPrivateKey:C,n:A}=t;if(m&&typeof y!="bigint"){if(Bo(y)&&(y=yo(y)),typeof y!="string"||!m.includes(y.length))throw new Error("invalid private key");y=y.padStart(w*2,"0")}let B;try{B=typeof y=="bigint"?y:ws(Wt("private key",y,w))}catch{throw new Error("invalid private key, expected hex or "+w+" bytes, got "+typeof y)}return C&&(B=Et(B,A)),nr("private key",B,it,A),B}function p(y){if(!(y instanceof g))throw new Error("ProjectivePoint expected")}const h=nd((y,m)=>{const{px:w,py:C,pz:A}=y;if(n.eql(A,n.ONE))return{x:w,y:C};const B=y.is0();m==null&&(m=B?n.ONE:n.inv(A));const P=n.mul(w,m),b=n.mul(C,m),k=n.mul(A,m);if(B)return{x:n.ZERO,y:n.ZERO};if(!n.eql(k,n.ONE))throw new Error("invZ was invalid");return{x:P,y:b}}),v=nd(y=>{if(y.is0()){if(t.allowInfinityPoint&&!n.is0(y.py))return;throw new Error("bad point: ZERO")}const{x:m,y:w}=y.toAffine();if(!n.isValid(m)||!n.isValid(w))throw new Error("bad point: x or y not FE");if(!i(m,w))throw new Error("bad point: equation left != right");if(!y.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(m,w,C){if(m==null||!n.isValid(m))throw new Error("x required");if(w==null||!n.isValid(w)||n.is0(w))throw new Error("y required");if(C==null||!n.isValid(C))throw new Error("z required");this.px=m,this.py=w,this.pz=C,Object.freeze(this)}static fromAffine(m){const{x:w,y:C}=m||{};if(!m||!n.isValid(w)||!n.isValid(C))throw new Error("invalid affine point");if(m instanceof g)throw new Error("projective point not allowed");const A=B=>n.eql(B,n.ZERO);return A(w)&&A(C)?g.ZERO:new g(w,C,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const w=lh(n,m.map(C=>C.pz));return m.map((C,A)=>C.toAffine(w[A])).map(g.fromAffine)}static fromHex(m){const w=g.fromAffine(o(Wt("pointHex",m)));return w.assertValidity(),w}static fromPrivateKey(m){return g.BASE.multiply(f(m))}static msm(m,w){return Ow(g,s,m,w)}_setWindowSize(m){x.setWindowSize(this,m)}assertValidity(){v(this)}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){p(m);const{px:w,py:C,pz:A}=this,{px:B,py:P,pz:b}=m,k=n.eql(n.mul(w,b),n.mul(B,A)),M=n.eql(n.mul(C,b),n.mul(P,A));return k&&M}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b:w}=t,C=n.mul(w,Ri),{px:A,py:B,pz:P}=this;let b=n.ZERO,k=n.ZERO,M=n.ZERO,I=n.mul(A,A),Z=n.mul(B,B),z=n.mul(P,P),L=n.mul(A,B);return L=n.add(L,L),M=n.mul(A,P),M=n.add(M,M),b=n.mul(m,M),k=n.mul(C,z),k=n.add(b,k),b=n.sub(Z,k),k=n.add(Z,k),k=n.mul(b,k),b=n.mul(L,b),M=n.mul(C,M),z=n.mul(m,z),L=n.sub(I,z),L=n.mul(m,L),L=n.add(L,M),M=n.add(I,I),I=n.add(M,I),I=n.add(I,z),I=n.mul(I,L),k=n.add(k,I),z=n.mul(B,P),z=n.add(z,z),I=n.mul(z,L),b=n.sub(b,I),M=n.mul(z,Z),M=n.add(M,M),M=n.add(M,M),new g(b,k,M)}add(m){p(m);const{px:w,py:C,pz:A}=this,{px:B,py:P,pz:b}=m;let k=n.ZERO,M=n.ZERO,I=n.ZERO;const Z=t.a,z=n.mul(t.b,Ri);let L=n.mul(w,B),V=n.mul(C,P),R=n.mul(A,b),J=n.add(w,C),ae=n.add(B,P);J=n.mul(J,ae),ae=n.add(L,V),J=n.sub(J,ae),ae=n.add(w,A);let me=n.add(B,b);return ae=n.mul(ae,me),me=n.add(L,R),ae=n.sub(ae,me),me=n.add(C,A),k=n.add(P,b),me=n.mul(me,k),k=n.add(V,R),me=n.sub(me,k),I=n.mul(Z,ae),k=n.mul(z,R),I=n.add(k,I),k=n.sub(V,I),I=n.add(V,I),M=n.mul(k,I),V=n.add(L,L),V=n.add(V,L),R=n.mul(Z,R),ae=n.mul(z,ae),V=n.add(V,R),R=n.sub(L,R),R=n.mul(Z,R),ae=n.add(ae,R),L=n.mul(V,ae),M=n.add(M,L),L=n.mul(me,ae),k=n.mul(J,k),k=n.sub(k,L),L=n.mul(J,V),I=n.mul(me,I),I=n.add(I,L),new g(k,M,I)}subtract(m){return this.add(m.negate())}is0(){return this.equals(g.ZERO)}wNAF(m){return x.wNAFCached(this,m,g.normalizeZ)}multiplyUnsafe(m){const{endo:w,n:C}=t;nr("scalar",m,Nn,C);const A=g.ZERO;if(m===Nn)return A;if(this.is0()||m===it)return this;if(!w||x.hasPrecomputes(this))return x.wNAFCachedUnsafe(this,m,g.normalizeZ);let{k1neg:B,k1:P,k2neg:b,k2:k}=w.splitScalar(m),M=A,I=A,Z=this;for(;P>Nn||k>Nn;)P&it&&(M=M.add(Z)),k&it&&(I=I.add(Z)),Z=Z.double(),P>>=it,k>>=it;return B&&(M=M.negate()),b&&(I=I.negate()),I=new g(n.mul(I.px,w.beta),I.py,I.pz),M.add(I)}multiply(m){const{endo:w,n:C}=t;nr("scalar",m,it,C);let A,B;if(w){const{k1neg:P,k1:b,k2neg:k,k2:M}=w.splitScalar(m);let{p:I,f:Z}=this.wNAF(b),{p:z,f:L}=this.wNAF(M);I=x.constTimeNegate(P,I),z=x.constTimeNegate(k,z),z=new g(n.mul(z.px,w.beta),z.py,z.pz),A=I.add(z),B=Z.add(L)}else{const{p:P,f:b}=this.wNAF(m);A=P,B=b}return g.normalizeZ([A,B])[0]}multiplyAndAddUnsafe(m,w,C){const A=g.BASE,B=(b,k)=>k===Nn||k===it||!b.equals(A)?b.multiplyUnsafe(k):b.multiply(k),P=B(this,w).add(B(m,C));return P.is0()?void 0:P}toAffine(m){return h(this,m)}isTorsionFree(){const{h:m,isTorsionFree:w}=t;if(m===it)return!0;if(w)return w(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:w}=t;return m===it?this:w?w(g,this):this.multiplyUnsafe(t.h)}toRawBytes(m=!0){return go("isCompressed",m),this.assertValidity(),r(g,this,m)}toHex(m=!0){return go("isCompressed",m),yo(this.toRawBytes(m))}}g.BASE=new g(t.Gx,t.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const{endo:T,nBitLength:$}=t,x=Nw(g,T?Math.ceil($/2):$);return{CURVE:t,ProjectivePoint:g,normPrivateKeyToScalar:f,weierstrassEquation:a,isWithinCurveOrder:u}}function Uw(e){const t=hh(e);return qa(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Dw(e){const t=Uw(e),{Fp:n,n:s,nByteLength:r,nBitLength:o}=t,a=n.BYTES+1,i=2*n.BYTES+1;function l(z){return Et(z,s)}function d(z){return Cl(z,s)}const{ProjectivePoint:u,normPrivateKeyToScalar:f,weierstrassEquation:p,isWithinCurveOrder:h}=Lw({...t,toBytes(z,L,V){const R=L.toAffine(),J=n.toBytes(R.x),ae=ma;return go("isCompressed",V),V?ae(Uint8Array.from([L.hasEvenY()?2:3]),J):ae(Uint8Array.from([4]),J,n.toBytes(R.y))},fromBytes(z){const L=z.length,V=z[0],R=z.subarray(1);if(L===a&&(V===2||V===3)){const J=ws(R);if(!Ec(J,it,n.ORDER))throw new Error("Point is not on curve");const ae=p(J);let me;try{me=n.sqrt(ae)}catch(Ie){const Pe=Ie instanceof Error?": "+Ie.message:"";throw new Error("Point is not on curve"+Pe)}const fe=(me&it)===it;return(V&1)===1!==fe&&(me=n.neg(me)),{x:J,y:me}}else if(L===i&&V===4){const J=n.fromBytes(R.subarray(0,n.BYTES)),ae=n.fromBytes(R.subarray(n.BYTES,2*n.BYTES));return{x:J,y:ae}}else{const J=a,ae=i;throw new Error("invalid Point, expected length of "+J+", or uncompressed "+ae+", got "+L)}}});function v(z){const L=s>>it;return z>L}function g(z){return v(z)?l(-z):z}const T=(z,L,V)=>ws(z.slice(L,V));class ${constructor(L,V,R){nr("r",L,it,s),nr("s",V,it,s),this.r=L,this.s=V,R!=null&&(this.recovery=R),Object.freeze(this)}static fromCompact(L){const V=r;return L=Wt("compactSignature",L,V*2),new $(T(L,0,V),T(L,V,2*V))}static fromDER(L){const{r:V,s:R}=An.toSig(Wt("DER",L));return new $(V,R)}assertValidity(){}addRecoveryBit(L){return new $(this.r,this.s,L)}recoverPublicKey(L){const{r:V,s:R,recovery:J}=this,ae=A(Wt("msgHash",L));if(J==null||![0,1,2,3].includes(J))throw new Error("recovery id invalid");const me=J===2||J===3?V+t.n:V;if(me>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const fe=J&1?"03":"02",Ee=u.fromHex(fe+Mi(me,n.BYTES)),Ie=d(me),Pe=l(-ae*Ie),we=l(R*Ie),j=u.BASE.multiplyAndAddUnsafe(Ee,Pe,we);if(!j)throw new Error("point at infinify");return j.assertValidity(),j}hasHighS(){return v(this.s)}normalizeS(){return this.hasHighS()?new $(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return ha(this.toDERHex())}toDERHex(){return An.hexFromSig(this)}toCompactRawBytes(){return ha(this.toCompactHex())}toCompactHex(){const L=r;return Mi(this.r,L)+Mi(this.s,L)}}const x={isValidPrivateKey(z){try{return f(z),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const z=dh(t.n);return Sw(t.randomBytes(z),t.n)},precompute(z=8,L=u.BASE){return L._setWindowSize(z),L.multiply(BigInt(3)),L}};function y(z,L=!0){return u.fromPrivateKey(z).toRawBytes(L)}function m(z){if(typeof z=="bigint")return!1;if(z instanceof u)return!0;const V=Wt("key",z).length,R=n.BYTES,J=R+1,ae=2*R+1;if(!(t.allowedPrivateKeyLengths||r===J))return V===J||V===ae}function w(z,L,V=!0){if(m(z)===!0)throw new Error("first arg must be private key");if(m(L)===!1)throw new Error("second arg must be public key");return u.fromHex(L).multiply(f(z)).toRawBytes(V)}const C=t.bits2int||function(z){if(z.length>8192)throw new Error("input is too large");const L=ws(z),V=z.length*8-o;return V>0?L>>BigInt(V):L},A=t.bits2int_modN||function(z){return l(C(z))},B=Ga(o);function P(z){return nr("num < 2^"+o,z,Nn,B),Io(z,r)}function b(z,L,V=k){if(["recovered","canonical"].some(vt=>vt in V))throw new Error("sign() legacy options not supported");const{hash:R,randomBytes:J}=t;let{lowS:ae,prehash:me,extraEntropy:fe}=V;ae==null&&(ae=!0),z=Wt("msgHash",z),xd(V),me&&(z=Wt("prehashed msgHash",R(z)));const Ee=A(z),Ie=f(L),Pe=[P(Ie),P(Ee)];if(fe!=null&&fe!==!1){const vt=fe===!0?J(n.BYTES):fe;Pe.push(Wt("extraEntropy",vt))}const we=ma(...Pe),j=Ee;function he(vt){const ot=C(vt);if(!h(ot))return;const Gn=d(ot),E=u.BASE.multiply(ot).toAffine(),S=l(E.x);if(S===Nn)return;const D=l(Gn*l(j+S*Ie));if(D===Nn)return;let K=(E.x===S?0:2)|Number(E.y&it),q=D;return ae&&v(D)&&(q=g(D),K^=1),new $(S,q,K)}return{seed:we,k2sig:he}}const k={lowS:t.lowS,prehash:!1},M={lowS:t.lowS,prehash:!1};function I(z,L,V=k){const{seed:R,k2sig:J}=b(z,L,V),ae=t;return z6(ae.hash.outputLen,ae.nByteLength,ae.hmac)(R,J)}u.BASE._setWindowSize(8);function Z(z,L,V,R=M){var K;const J=z;L=Wt("msgHash",L),V=Wt("publicKey",V);const{lowS:ae,prehash:me,format:fe}=R;if(xd(R),"strict"in R)throw new Error("options.strict was renamed to lowS");if(fe!==void 0&&fe!=="compact"&&fe!=="der")throw new Error("format must be compact or der");const Ee=typeof J=="string"||Bo(J),Ie=!Ee&&!fe&&typeof J=="object"&&J!==null&&typeof J.r=="bigint"&&typeof J.s=="bigint";if(!Ee&&!Ie)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Pe,we;try{if(Ie&&(Pe=new $(J.r,J.s)),Ee){try{fe!=="compact"&&(Pe=$.fromDER(J))}catch(q){if(!(q instanceof An.Err))throw q}!Pe&&fe!=="der"&&(Pe=$.fromCompact(J))}we=u.fromHex(V)}catch{return!1}if(!Pe||ae&&Pe.hasHighS())return!1;me&&(L=t.hash(L));const{r:j,s:he}=Pe,vt=A(L),ot=d(he),Gn=l(vt*ot),E=l(j*ot),S=(K=u.BASE.multiplyAndAddUnsafe(we,Gn,E))==null?void 0:K.toAffine();return S?l(S.x)===j:!1}return{CURVE:t,getPublicKey:y,getSharedSecret:w,sign:I,verify:Z,ProjectivePoint:u,Signature:$,utils:x}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function zw(e){return{hash:e,hmac:(t,...n)=>sh(e,t,ry(...n)),randomBytes:oy}}function jw(e,t){const n=s=>Dw({...e,...zw(s)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mh=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),$d=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ww=BigInt(0),Vw=BigInt(1),_l=BigInt(2),Td=(e,t)=>(e+t/_l)/t;function Hw(e){const t=mh,n=BigInt(3),s=BigInt(6),r=BigInt(11),o=BigInt(22),a=BigInt(23),i=BigInt(44),l=BigInt(88),d=e*e*e%t,u=d*d*e%t,f=zt(u,n,t)*u%t,p=zt(f,n,t)*u%t,h=zt(p,_l,t)*d%t,v=zt(h,r,t)*h%t,g=zt(v,o,t)*v%t,T=zt(g,i,t)*g%t,$=zt(T,l,t)*T%t,x=zt($,i,t)*g%t,y=zt(x,n,t)*u%t,m=zt(y,a,t)*v%t,w=zt(m,s,t)*d%t,C=zt(w,_l,t);if(!Pl.eql(Pl.sqr(C),e))throw new Error("Cannot find square root");return C}const Pl=Wc(mh,void 0,void 0,{sqrt:Hw}),ri=jw({a:Ww,b:BigInt(7),Fp:Pl,n:$d,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=$d,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),s=-Vw*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),r=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,a=BigInt("0x100000000000000000000000000000000"),i=Td(o*e,t),l=Td(-s*e,t);let d=Et(e-i*n-l*r,t),u=Et(-i*s-l*o,t);const f=d>a,p=u>a;if(f&&(d=t-d),p&&(u=t-u),d>a||u>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:d,k2neg:p,k2:u}}}},G0),Gw=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:ri},Symbol.toStringTag,{value:"Module"}));function bh(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new Fi({signature:e});if(typeof e.s>"u")throw new Fi({signature:e});if(n&&typeof e.yParity>"u")throw new Fi({signature:e});if(e.r<0n||e.r>md)throw new Xw({value:e.r});if(e.s<0n||e.s>md)throw new e2({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new Hc({value:e.yParity})}function qw(e){return gh(ln(e))}function gh(e){if(e.length!==130&&e.length!==132)throw new Qw({signature:e});const t=BigInt(vn(e,0,32)),n=BigInt(vn(e,32,64)),s=(()=>{const r=+`0x${e.slice(130)}`;if(!Number.isNaN(r))try{return Vc(r)}catch{throw new Hc({value:r})}})();return typeof s>"u"?{r:t,s:n}:{r:t,s:n,yParity:s}}function Kw(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return Zw(e)}function Zw(e){const t=typeof e=="string"?gh(e):e instanceof Uint8Array?qw(e):typeof e.r=="string"?Jw(e):e.v?Yw(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return bh(t),t}function Yw(e){return{r:e.r,s:e.s,yParity:Vc(e.v)}}function Jw(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let s=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof s!="number"&&(s=Vc(n)),typeof s!="number")throw new Hc({value:e.yParity});return s})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function Vc(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new t2({value:e})}class Qw extends Be{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Lt(fv(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Fi extends Be{constructor({signature:t}){super(`Signature \`${up(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class Xw extends Be{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class e2 extends Be{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Hc extends Be{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class t2 extends Be{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function n2(e,t={}){return typeof e.chainId=="string"?s2(e):{...e,...t.signature}}function s2(e){const{address:t,chainId:n,nonce:s}=e,r=Kw(e);return{address:t,chainId:Number(n),nonce:BigInt(s),...r}}const r2="0x8010801080108010801080108010801080108010801080108010801080108010",o2=Xp("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function yh(e){if(typeof e=="string"){if(vn(e,-32)!==r2)throw new l2(e)}else bh(e.authorization)}function a2(e){yh(e);const t=mp(vn(e,-64,-32)),n=vn(e,-t-64,-64),s=vn(e,0,-t-64),[r,o,a]=yw(o2,n);return{authorization:n2({address:r.delegation,chainId:Number(r.chainId),nonce:r.nonce,yParity:r.yParity,r:r.r,s:r.s}),signature:s,...a&&a!=="0x"?{data:a,to:o}:{}}}function i2(e){try{return yh(e),!0}catch{return!1}}let l2=class extends Be{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};class c2 extends H{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function _t(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new c2({value:e});let[n,s="0"]=e.split(".");const r=n.startsWith("-");if(r&&(n=n.slice(1)),s=s.replace(/(0+)$/,""),t===0)Math.round(+`.${s}`)===1&&(n=`${BigInt(n)+1n}`),s="";else if(s.length>t){const[o,a,i]=[s.slice(0,t-1),s.slice(t-1,t),s.slice(t)],l=Math.round(+`${a}.${i}`);l>9?s=`${BigInt(o)+BigInt(1)}0`.padStart(o.length+1,"0"):s=`${o}${l}`,s.length>t&&(s=s.slice(1),n=`${BigInt(n)+1n}`),s=s.slice(0,t)}else s=s.padEnd(t,"0");return BigInt(`${r?"-":""}${n}${s}`)}function dt(e,t="wei"){return _t(e,S0[t])}function u2(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function d2(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Kt(e.nonce):void 0,storageProof:e.storageProof?u2(e.storageProof):void 0}}async function f2(e,{address:t,blockNumber:n,blockTag:s,storageKeys:r}){const o=s??"latest",a=n!==void 0?ne(n):void 0,i=await e.request({method:"eth_getProof",params:[t,r,a||o]});return d2(i)}async function p2(e,{address:t,blockNumber:n,blockTag:s="latest",slot:r}){const o=n!==void 0?ne(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,r,o||s]})}async function Gc(e,{blockHash:t,blockNumber:n,blockTag:s,hash:r,index:o}){var u,f,p;const a=s||"latest",i=n!==void 0?ne(n):void 0;let l=null;if(r?l=await e.request({method:"eth_getTransactionByHash",params:[r]},{dedupe:!0}):t?l=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,ne(o)]},{dedupe:!0}):l=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[i||a,ne(o)]},{dedupe:!!i}),!l)throw new B0({blockHash:t,blockNumber:n,blockTag:a,hash:r,index:o});return(((p=(f=(u=e.chain)==null?void 0:u.formatters)==null?void 0:f.transaction)==null?void 0:p.format)||W0)(l)}async function h2(e,{hash:t,transactionReceipt:n}){const[s,r]=await Promise.all([ge(e,Oo,"getBlockNumber")({}),t?ge(e,Gc,"getTransaction")({hash:t}):void 0]),o=(n==null?void 0:n.blockNumber)||(r==null?void 0:r.blockNumber);return o?s-o+1n:0n}async function ea(e,{hash:t}){var r,o,a;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new I0({hash:t});return(((a=(o=(r=e.chain)==null?void 0:r.formatters)==null?void 0:o.transactionReceipt)==null?void 0:a.format)||Fv)(n)}async function m2(e,t){var x;const{account:n,authorizationList:s,allowFailure:r=!0,blockNumber:o,blockOverrides:a,blockTag:i,stateOverride:l}=t,d=t.contracts,{batchSize:u=t.batchSize??1024,deployless:f=t.deployless??!1}=typeof((x=e.batch)==null?void 0:x.multicall)=="object"?e.batch.multicall:{},p=(()=>{if(t.multicallAddress)return t.multicallAddress;if(f)return null;if(e.chain)return $r({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let v=0,g=0;for(let y=0;y<d.length;y++){const{abi:m,address:w,args:C,functionName:A}=d[y];try{const B=Ct({abi:m,args:C,functionName:A});g+=(B.length-2)/2,u>0&&g>u&&h[v].length>0&&(v++,g=(B.length-2)/2,h[v]=[]),h[v]=[...h[v],{allowFailure:!0,callData:B,target:w}]}catch(B){const P=Ps(B,{abi:m,address:w,args:C,docsPath:"/docs/contract/multicall",functionName:A,sender:n});if(!r)throw P;h[v]=[...h[v],{allowFailure:!0,callData:"0x",target:w}]}}const T=await Promise.allSettled(h.map(y=>ge(e,cn,"readContract")({...p===null?{code:Pc}:{address:p},abi:ba,account:n,args:[y],authorizationList:s,blockNumber:o,blockOverrides:a,blockTag:i,functionName:"aggregate3",stateOverride:l}))),$=[];for(let y=0;y<T.length;y++){const m=T[y];if(m.status==="rejected"){if(!r)throw m.reason;for(let C=0;C<h[y].length;C++)$.push({status:"failure",error:m.reason,result:void 0});continue}const w=m.value;for(let C=0;C<w.length;C++){const{returnData:A,success:B}=w[C],{callData:P}=h[y][C],{abi:b,address:k,functionName:M,args:I}=d[$.length];try{if(P==="0x")throw new To;if(!B)throw new za({data:A});const Z=Fs({abi:b,args:I,data:A,functionName:M});$.push(r?{result:Z,status:"success"}:Z)}catch(Z){const z=Ps(Z,{abi:b,address:k,args:I,docsPath:"/docs/contract/multicall",functionName:M});if(!r)throw z;$.push({error:z,result:void 0,status:"failure"})}}}if($.length!==d.length)throw new H("multicall results mismatch");return $}async function Al(e,t){const{blockNumber:n,blockTag:s=e.experimental_blockTag??"latest",blocks:r,returnFullTransactions:o,traceTransfers:a,validation:i}=t;try{const l=[];for(const p of r){const h=p.blockOverrides?yp(p.blockOverrides):void 0,v=p.calls.map(T=>{const $=T,x=$.account?Xe($.account):void 0,y=$.abi?Ct($):$.data,m={...$,data:$.dataSuffix?Yt([y||"0x",$.dataSuffix]):y,from:$.from??(x==null?void 0:x.address)};return Rs(m),wr(m)}),g=p.stateOverrides?pc(p.stateOverrides):void 0;l.push({blockOverrides:h,calls:v,stateOverrides:g})}const u=(typeof n=="bigint"?ne(n):void 0)||s;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:l,returnFullTransactions:o,traceTransfers:a,validation:i},u]})).map((p,h)=>({...V0(p),calls:p.calls.map((v,g)=>{var b,k;const{abi:T,args:$,functionName:x,to:y}=r[h].calls[g],m=((b=v.error)==null?void 0:b.data)??v.returnData,w=BigInt(v.gasUsed),C=(k=v.logs)==null?void 0:k.map(M=>jn(M)),A=v.status==="0x1"?"success":"failure",B=T&&A==="success"&&m!=="0x"?Fs({abi:T,data:m,functionName:x}):null,P=(()=>{var I;if(A==="success")return;let M;if(((I=v.error)==null?void 0:I.data)==="0x"?M=new To:v.error&&(M=new za(v.error)),!!M)return Ps(M,{abi:T??[],address:y??"0x",args:$,functionName:x??"<unknown>"})})();return{data:m,gasUsed:w,logs:C,status:A,...A==="success"?{result:B}:{error:P}}})}))}catch(l){const d=l,u=ja(d,{});throw u instanceof Ao?d:u}}function Sl(e){let t=!0,n="",s=0,r="",o=!1;for(let a=0;a<e.length;a++){const i=e[a];if(["(",")",","].includes(i)&&(t=!0),i==="("&&s++,i===")"&&s--,!!t){if(s===0){if(i===" "&&["event","function","error",""].includes(r))r="";else if(r+=i,i===")"){o=!0;break}continue}if(i===" "){e[a-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}r+=i,n+=i}}if(!o)throw new Be("Unable to normalize signature.");return r}function Bl(e,t){const n=typeof e,s=t.type;switch(s){case"address":return $l(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return s==="tuple"&&"components"in t?Object.values(t.components).every((r,o)=>Bl(Object.values(e)[o],r)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(s)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(s)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(s)?Array.isArray(e)&&e.every(r=>Bl(r,{...t,type:s.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function vh(e,t,n){for(const s in e){const r=e[s],o=t[s];if(r.type==="tuple"&&o.type==="tuple"&&"components"in r&&"components"in o)return vh(r.components,o.components,n[s]);const a=[r.type,o.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?$l(n[s],{strict:!1}):a.includes("address")&&a.includes("bytes")?$l(n[s],{strict:!1}):!1)return a}}function wh(e,t={}){const{prepare:n=!0}=t,s=Array.isArray(e)||typeof e=="string"?Au(e):e;return{...s,...n?{hash:Ks(s)}:{}}}function b2(e,t,n){const{args:s=[],prepare:r=!0}=n??{},o=pv(t,{strict:!1}),a=e.filter(d=>o?d.type==="function"||d.type==="error"?xh(d)===vn(t,0,4):d.type==="event"?Ks(d)===t:!1:"name"in d&&d.name===t);if(a.length===0)throw new Il({name:t});if(a.length===1)return{...a[0],...r?{hash:Ks(a[0])}:{}};let i;for(const d of a){if(!("inputs"in d))continue;if(!s||s.length===0){if(!d.inputs||d.inputs.length===0)return{...d,...r?{hash:Ks(d)}:{}};continue}if(!d.inputs||d.inputs.length===0||d.inputs.length!==s.length)continue;if(s.every((f,p)=>{const h="inputs"in d&&d.inputs[p];return h?Bl(f,h):!1})){if(i&&"inputs"in i&&i.inputs){const f=vh(d.inputs,i.inputs,s);if(f)throw new y2({abiItem:d,type:f[0]},{abiItem:i,type:f[1]})}i=d}}const l=(()=>{if(i)return i;const[d,...u]=a;return{...d,overloads:u}})();if(!l)throw new Il({name:t});return{...l,...r?{hash:Ks(l)}:{}}}function xh(e){return vn(Ks(e),0,4)}function g2(e){const t=typeof e=="string"?e:pa(e);return Sl(t)}function Ks(e){return typeof e!="string"&&"hash"in e&&e.hash?e.hash:Yp(_c(g2(e)))}class y2 extends Be{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${Sl(pa(t.abiItem))}\`, and`,`\`${n.type}\` in \`${Sl(pa(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Il extends Be{constructor({name:t,data:n,type:s="item"}){const r=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${s}${r} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function v2(e,t){var r;const{bytecode:n,args:s}=t;return an(n,(r=e.inputs)!=null&&r.length&&(s!=null&&s.length)?zc(e.inputs,s):"0x")}function w2(e){return wh(e)}function x2(e,...t){const{overloads:n}=e,s=n?$2([e,...n],e.name,{args:t[0]}):e,r=T2(s),o=t.length>0?zc(s.inputs,t[0]):void 0;return o?an(r,o):r}function js(e,t={}){return wh(e,t)}function $2(e,t,n){const s=b2(e,t,n);if(s.type!=="function")throw new Il({name:t,type:"function"});return s}function T2(e){return xh(e)}const k2="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",pn="0x0000000000000000000000000000000000000000",C2="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function E2(e,t){const{blockNumber:n,blockTag:s,calls:r,stateOverrides:o,traceAssetChanges:a,traceTransfers:i,validation:l}=t,d=t.account?Xe(t.account):void 0;if(a&&!d)throw new H("`account` is required when `traceAssetChanges` is true");const u=d?v2(w2("constructor(bytes, bytes)"),{bytecode:$p,args:[C2,x2(js("function getBalance(address)"),[d.address])]}):void 0,f=a?await Promise.all(t.calls.map(async R=>{if(!R.data&&!R.abi)return;const{accessList:J}=await Up(e,{account:d.address,...R,data:R.abi?Ct(R):R.data});return J.map(({address:ae,storageKeys:me})=>me.length>0?ae:null)})).then(R=>R.flat().filter(Boolean)):[],p=await Al(e,{blockNumber:n,blockTag:s,blocks:[...a?[{calls:[{data:u}],stateOverrides:o},{calls:f.map((R,J)=>({abi:[js("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[d.address],to:R,from:pn,nonce:J})),stateOverrides:[{address:pn,nonce:0}]}]:[],{calls:[...r,{}].map(R=>({...R,from:d==null?void 0:d.address})),stateOverrides:o},...a?[{calls:[{data:u}]},{calls:f.map((R,J)=>({abi:[js("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[d.address],to:R,from:pn,nonce:J})),stateOverrides:[{address:pn,nonce:0}]},{calls:f.map((R,J)=>({to:R,abi:[js("function decimals() returns (uint256)")],functionName:"decimals",from:pn,nonce:J})),stateOverrides:[{address:pn,nonce:0}]},{calls:f.map((R,J)=>({to:R,abi:[js("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:pn,nonce:J})),stateOverrides:[{address:pn,nonce:0}]},{calls:f.map((R,J)=>({to:R,abi:[js("function symbol() returns (string)")],functionName:"symbol",from:pn,nonce:J})),stateOverrides:[{address:pn,nonce:0}]}]:[]],traceTransfers:i,validation:l}),h=a?p[2]:p[0],[v,g,,T,$,x,y,m]=a?p:[],{calls:w,...C}=h,A=w.slice(0,-1)??[],B=(v==null?void 0:v.calls)??[],P=(g==null?void 0:g.calls)??[],b=[...B,...P].map(R=>R.status==="success"?Ft(R.data):null),k=(T==null?void 0:T.calls)??[],M=($==null?void 0:$.calls)??[],I=[...k,...M].map(R=>R.status==="success"?Ft(R.data):null),Z=((x==null?void 0:x.calls)??[]).map(R=>R.status==="success"?R.result:null),z=((m==null?void 0:m.calls)??[]).map(R=>R.status==="success"?R.result:null),L=((y==null?void 0:y.calls)??[]).map(R=>R.status==="success"?R.result:null),V=[];for(const[R,J]of I.entries()){const ae=b[R];if(typeof J!="bigint"||typeof ae!="bigint")continue;const me=Z[R-1],fe=z[R-1],Ee=L[R-1],Ie=R===0?{address:k2,decimals:18,symbol:"ETH"}:{address:f[R-1],decimals:Ee||me?Number(me??1):void 0,symbol:fe??void 0};V.some(Pe=>Pe.token.address===Ie.address)||V.push({token:Ie,value:{pre:ae,post:J,diff:J-ae}})}return{assetChanges:V,block:C,results:A}}const $h="0x6492649264926492649264926492649264926492649264926492649264926492";function _2(e){if(vn(e,-32)!==$h)throw new S2(e)}function P2(e){const{data:t,signature:n,to:s}=e;return an(zc(Xp("address, bytes, bytes"),[s,t,n]),$h)}function A2(e){try{return _2(e),!0}catch{return!1}}class S2 extends Be{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function Th({r:e,s:t,to:n="hex",v:s,yParity:r}){const o=(()=>{if(r===0||r===1)return r;if(s&&(s===27n||s===28n||s>=35n))return s%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),a=`0x${new ri.Signature(Ft(e),Ft(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?a:on(a)}async function oi(e,t){var i,l,d,u,f,p;const{address:n,hash:s,erc6492VerifierAddress:r=t.universalSignatureVerifierAddress??((d=(l=(i=e.chain)==null?void 0:i.contracts)==null?void 0:l.erc6492Verifier)==null?void 0:d.address),multicallAddress:o=t.multicallAddress??((p=(f=(u=e.chain)==null?void 0:u.contracts)==null?void 0:f.multicall3)==null?void 0:p.address)}=t,a=(()=>{const h=t.signature;return rn(h)?h:typeof h=="object"&&"r"in h&&"s"in h?Th(h):st(h)})();try{return i2(a)?await B2(e,{...t,multicallAddress:o,signature:a}):await I2(e,{...t,verifierAddress:r,signature:a})}catch(h){try{if(So(Ve(n),await F0({hash:s,signature:a})))return!0}catch{}if(h instanceof Ns)return!1;throw h}}async function B2(e,t){var T;const{address:n,blockNumber:s,blockTag:r,hash:o,multicallAddress:a}=t,{authorization:i,data:l,signature:d,to:u}=a2(t.signature);if(await xl(e,{address:n,blockNumber:s,blockTag:r})===Qt(["0xef0100",i.address]))return await N2(e,{address:n,blockNumber:s,blockTag:r,hash:o,signature:d});const p={address:i.address,chainId:Number(i.chainId),nonce:Number(i.nonce),r:ne(i.r,{size:32}),s:ne(i.s,{size:32}),yParity:i.yParity};if(!await A5({address:n,authorization:p}))throw new Ns;const v=await ge(e,cn,"readContract")({...a?{address:a}:{code:Pc},authorizationList:[p],abi:ba,blockNumber:s,blockTag:"pending",functionName:"aggregate3",args:[[...l?[{allowFailure:!0,target:u??n,callData:l}]:[],{allowFailure:!0,target:n,callData:Ct({abi:xp,functionName:"isValidSignature",args:[o,d]})}]]}),g=(T=v[v.length-1])==null?void 0:T.returnData;if(g!=null&&g.startsWith("0x1626ba7e"))return!0;throw new Ns}async function I2(e,t){const{address:n,factory:s,factoryData:r,hash:o,signature:a,verifierAddress:i,...l}=t,d=await(async()=>!s&&!r||A2(a)?a:P2({data:r,signature:a,to:s}))(),u=i?{to:i,data:Ct({abi:ld,functionName:"isValidSig",args:[n,o,d]}),...l}:{data:Ya({abi:ld,args:[n,o,d],bytecode:wv}),...l},{data:f}=await ge(e,Ja,"call")(u).catch(p=>{throw p instanceof N0?new Ns:p});if(Ug(f??"0x0"))return!0;throw new Ns}async function N2(e,t){const{address:n,blockNumber:s,blockTag:r,hash:o,signature:a}=t;if((await ge(e,cn,"readContract")({address:n,abi:xp,args:[o,a],blockNumber:s,blockTag:r,functionName:"isValidSignature"}).catch(l=>{throw l instanceof O0?new Ns:l})).startsWith("0x1626ba7e"))return!0;throw new Ns}class Ns extends Error{}async function O2(e,{address:t,message:n,factory:s,factoryData:r,signature:o,...a}){const i=Fc(n);return oi(e,{address:t,factory:s,factoryData:r,hash:i,signature:o,...a})}async function M2(e,t){const{address:n,factory:s,factoryData:r,signature:o,message:a,primaryType:i,types:l,domain:d,...u}=t,f=Hp({message:a,primaryType:i,types:l,domain:d});return oi(e,{address:n,factory:s,factoryData:r,hash:f,signature:o,...u})}function kh(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:s,onError:r,poll:o,pollingInterval:a=e.pollingInterval}){const i=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let l;return i?(()=>{const f=at(["watchBlockNumber",e.uid,t,n,a]);return Wn(f,{onBlockNumber:s,onError:r},p=>Tr(async()=>{var h;try{const v=await ge(e,Oo,"getBlockNumber")({cacheTime:0});if(l!==void 0){if(v===l)return;if(v-l>1&&n)for(let g=l+1n;g<v;g++)p.onBlockNumber(g,l),l=g}(l===void 0||v>l)&&(p.onBlockNumber(v,l),l=v)}catch(v){(h=p.onError)==null||h.call(p,v)}},{emitOnBegin:t,interval:a}))})():(()=>{const f=at(["watchBlockNumber",e.uid,t,n]);return Wn(f,{onBlockNumber:s,onError:r},p=>{let h=!0,v=()=>h=!1;return(async()=>{try{const g=(()=>{if(e.transport.type==="fallback"){const $=e.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return $?$.value:e.transport}return e.transport})(),{unsubscribe:T}=await g.subscribe({params:["newHeads"],onData($){var y;if(!h)return;const x=Ft((y=$.result)==null?void 0:y.number);p.onBlockNumber(x,l),l=x},onError($){var x;(x=p.onError)==null||x.call(p,$)}});v=T,h||v()}catch(g){r==null||r(g)}})(),()=>v()})})()}async function R2(e,t){const{checkReplacement:n=!0,confirmations:s=1,hash:r,onReplaced:o,retryCount:a=6,retryDelay:i=({count:w})=>~~(1<<w)*200,timeout:l=18e4}=t,d=at(["waitForTransactionReceipt",e.uid,r]),u=(()=>{var w;return t.pollingInterval?t.pollingInterval:(w=e.chain)!=null&&w.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let f,p,h,v=!1,g,T;const{promise:$,resolve:x,reject:y}=Ac(),m=l?setTimeout(()=>{T==null||T(),g==null||g(),y(new t6({hash:r}))},l):void 0;return g=Wn(d,{onReplaced:o,resolve:x,reject:y},async w=>{if(h=await ge(e,ea,"getTransactionReceipt")({hash:r}).catch(()=>{}),h&&s<=1){clearTimeout(m),w.resolve(h),g==null||g();return}T=ge(e,kh,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:u,async onBlockNumber(C){const A=P=>{clearTimeout(m),T==null||T(),P(),g==null||g()};let B=C;if(!v)try{if(h){if(s>1&&(!h.blockNumber||B-h.blockNumber+1n<s))return;A(()=>w.resolve(h));return}if(n&&!f&&(v=!0,await ya(async()=>{f=await ge(e,Gc,"getTransaction")({hash:r}),f.blockNumber&&(B=f.blockNumber)},{delay:i,retryCount:a}),v=!1),h=await ge(e,ea,"getTransactionReceipt")({hash:r}),s>1&&(!h.blockNumber||B-h.blockNumber+1n<s))return;A(()=>w.resolve(h))}catch(P){if(P instanceof B0||P instanceof I0){if(!f){v=!1;return}try{p=f,v=!0;const b=await ya(()=>ge(e,gn,"getBlock")({blockNumber:B,includeTransactions:!0}),{delay:i,retryCount:a,shouldRetry:({error:I})=>I instanceof z0});v=!1;const k=b.transactions.find(({from:I,nonce:Z})=>I===p.from&&Z===p.nonce);if(!k||(h=await ge(e,ea,"getTransactionReceipt")({hash:k.hash}),s>1&&(!h.blockNumber||B-h.blockNumber+1n<s)))return;let M="replaced";k.to===p.to&&k.value===p.value&&k.input===p.input?M="repriced":k.from===k.to&&k.value===0n&&(M="cancelled"),A(()=>{var I;(I=w.onReplaced)==null||I.call(w,{reason:M,replacedTransaction:p,transaction:k,transactionReceipt:h}),w.resolve(h)})}catch(b){A(()=>w.reject(b))}}else A(()=>w.reject(P))}}})}),$}function F2(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:s=!1,onBlock:r,onError:o,includeTransactions:a,poll:i,pollingInterval:l=e.pollingInterval}){const d=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),u=a??!1;let f;return d?(()=>{const v=at(["watchBlocks",e.uid,t,n,s,u,l]);return Wn(v,{onBlock:r,onError:o},g=>Tr(async()=>{var T;try{const $=await ge(e,gn,"getBlock")({blockTag:t,includeTransactions:u});if($.number!==null&&(f==null?void 0:f.number)!=null){if($.number===f.number)return;if($.number-f.number>1&&n)for(let x=(f==null?void 0:f.number)+1n;x<$.number;x++){const y=await ge(e,gn,"getBlock")({blockNumber:x,includeTransactions:u});g.onBlock(y,f),f=y}}((f==null?void 0:f.number)==null||t==="pending"&&($==null?void 0:$.number)==null||$.number!==null&&$.number>f.number)&&(g.onBlock($,f),f=$)}catch($){(T=g.onError)==null||T.call(g,$)}},{emitOnBegin:s,interval:l}))})():(()=>{let v=!0,g=!0,T=()=>v=!1;return(async()=>{try{s&&ge(e,gn,"getBlock")({blockTag:t,includeTransactions:u}).then(y=>{v&&g&&(r(y,void 0),g=!1)}).catch(o);const $=(()=>{if(e.transport.type==="fallback"){const y=e.transport.transports.find(m=>m.config.type==="webSocket"||m.config.type==="ipc");return y?y.value:e.transport}return e.transport})(),{unsubscribe:x}=await $.subscribe({params:["newHeads"],async onData(y){var w;if(!v)return;const m=await ge(e,gn,"getBlock")({blockNumber:(w=y.result)==null?void 0:w.number,includeTransactions:u}).catch(()=>{});v&&(r(m,f),g=!1,f=m)},onError(y){o==null||o(y)}});T=x,v||T()}catch($){o==null||o($)}})(),()=>T()})()}function L2(e,{address:t,args:n,batch:s=!0,event:r,events:o,fromBlock:a,onError:i,onLogs:l,poll:d,pollingInterval:u=e.pollingInterval,strict:f}){const p=typeof d<"u"?d:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),h=f??!1;return p?(()=>{const T=at(["watchEvent",t,n,s,e.uid,r,u,a]);return Wn(T,{onLogs:l,onError:i},$=>{let x;a!==void 0&&(x=a-1n);let y,m=!1;const w=Tr(async()=>{var C;if(!m){try{y=await ge(e,Dp,"createEventFilter")({address:t,args:n,event:r,events:o,strict:h,fromBlock:a})}catch{}m=!0;return}try{let A;if(y)A=await ge(e,Qa,"getFilterChanges")({filter:y});else{const B=await ge(e,Oo,"getBlockNumber")({});x&&x!==B?A=await ge(e,Tc,"getLogs")({address:t,args:n,event:r,events:o,fromBlock:x+1n,toBlock:B}):A=[],x=B}if(A.length===0)return;if(s)$.onLogs(A);else for(const B of A)$.onLogs([B])}catch(A){y&&A instanceof _s&&(m=!1),(C=$.onError)==null||C.call($,A)}},{emitOnBegin:!0,interval:u});return async()=>{y&&await ge(e,Xa,"uninstallFilter")({filter:y}),w()}})})():(()=>{let T=!0,$=()=>T=!1;return(async()=>{try{const x=(()=>{if(e.transport.type==="fallback"){const C=e.transport.transports.find(A=>A.config.type==="webSocket"||A.config.type==="ipc");return C?C.value:e.transport}return e.transport})(),y=o??(r?[r]:void 0);let m=[];y&&(m=[y.flatMap(A=>Eo({abi:[A],eventName:A.name,args:n}))],r&&(m=m[0]));const{unsubscribe:w}=await x.subscribe({params:["logs",{address:t,topics:m}],onData(C){var B;if(!T)return;const A=C.result;try{const{eventName:P,args:b}=xc({abi:y??[],data:A.data,topics:A.topics,strict:h}),k=jn(A,{args:b,eventName:P});l([k])}catch(P){let b,k;if(P instanceof Zr||P instanceof Ra){if(f)return;b=P.abiItem.name,k=(B=P.abiItem.inputs)==null?void 0:B.some(I=>!("name"in I&&I.name))}const M=jn(A,{args:k?[]:{},eventName:b});l([M])}},onError(C){i==null||i(C)}});$=w,T||$()}catch(x){i==null||i(x)}})(),()=>$()})()}function U2(e,{batch:t=!0,onError:n,onTransactions:s,poll:r,pollingInterval:o=e.pollingInterval}){return(typeof r<"u"?r:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const d=at(["watchPendingTransactions",e.uid,t,o]);return Wn(d,{onTransactions:s,onError:n},u=>{let f;const p=Tr(async()=>{var h;try{if(!f)try{f=await ge(e,zp,"createPendingTransactionFilter")({});return}catch(g){throw p(),g}const v=await ge(e,Qa,"getFilterChanges")({filter:f});if(v.length===0)return;if(t)u.onTransactions(v);else for(const g of v)u.onTransactions([g])}catch(v){(h=u.onError)==null||h.call(u,v)}},{emitOnBegin:!0,interval:o});return async()=>{f&&await ge(e,Xa,"uninstallFilter")({filter:f}),p()}})})():(()=>{let d=!0,u=()=>d=!1;return(async()=>{try{const{unsubscribe:f}=await e.transport.subscribe({params:["newPendingTransactions"],onData(p){if(!d)return;const h=p.result;s([h])},onError(p){n==null||n(p)}});u=f,d||u()}catch(f){n==null||n(f)}})(),()=>u()})()}function D2(e){var f,p,h;const{scheme:t,statement:n,...s}=((f=e.match(z2))==null?void 0:f.groups)??{},{chainId:r,expirationTime:o,issuedAt:a,notBefore:i,requestId:l,...d}=((p=e.match(j2))==null?void 0:p.groups)??{},u=(h=e.split("Resources:")[1])==null?void 0:h.split(`
- `).slice(1);return{...s,...d,...r?{chainId:Number(r)}:{},...o?{expirationTime:new Date(o)}:{},...a?{issuedAt:new Date(a)}:{},...i?{notBefore:new Date(i)}:{},...l?{requestId:l}:{},...u?{resources:u}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const z2=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,j2=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function W2(e){const{address:t,domain:n,message:s,nonce:r,scheme:o,time:a=new Date}=e;if(n&&s.domain!==n||r&&s.nonce!==r||o&&s.scheme!==o||s.expirationTime&&a>=s.expirationTime||s.notBefore&&a<s.notBefore)return!1;try{if(!s.address||!rt(s.address,{strict:!1})||t&&!So(s.address,t))return!1}catch{return!1}return!0}async function V2(e,t){const{address:n,domain:s,message:r,nonce:o,scheme:a,signature:i,time:l=new Date,...d}=t,u=D2(r);if(!u.address||!W2({address:n,domain:s,message:u,nonce:o,scheme:a,time:l}))return!1;const p=Fc(r);return oi(e,{address:u.address,hash:p,signature:i,...d})}function H2(e){return{call:t=>Ja(e,t),createAccessList:t=>Up(e,t),createBlockFilter:()=>c5(e),createContractEventFilter:t=>E0(e,t),createEventFilter:t=>Dp(e,t),createPendingTransactionFilter:()=>zp(e),estimateContractGas:t=>R6(e,t),estimateGas:t=>wc(e,t),getBalance:t=>tp(e,t),getBlobBaseFee:()=>u5(e),getBlock:t=>gn(e,t),getBlockNumber:t=>Oo(e,t),getBlockTransactionCount:t=>d5(e,t),getBytecode:t=>xl(e,t),getChainId:()=>xr(e),getCode:t=>xl(e,t),getContractEvents:t=>np(e,t),getEip712Domain:t=>p5(e,t),getEnsAddress:t=>qv(e,t),getEnsAvatar:t=>a5(e,t),getEnsName:t=>i5(e,t),getEnsResolver:t=>l5(e,t),getEnsText:t=>Lp(e,t),getFeeHistory:t=>b5(e,t),estimateFeesPerGas:t=>$6(e,t),getFilterChanges:t=>Qa(e,t),getFilterLogs:t=>g5(e,t),getGasPrice:()=>mc(e),getLogs:t=>Tc(e,t),getProof:t=>f2(e,t),estimateMaxPriorityFeePerGas:t=>x6(e,t),getStorageAt:t=>p2(e,t),getTransaction:t=>Gc(e,t),getTransactionConfirmations:t=>h2(e,t),getTransactionCount:t=>bc(e,t),getTransactionReceipt:t=>ea(e,t),multicall:t=>m2(e,t),prepareTransactionRequest:t=>Ha(e,t),readContract:t=>cn(e,t),sendRawTransaction:t=>Sc(e,t),simulate:t=>Al(e,t),simulateBlocks:t=>Al(e,t),simulateCalls:t=>E2(e,t),simulateContract:t=>_v(e,t),verifyHash:t=>oi(e,t),verifyMessage:t=>O2(e,t),verifySiweMessage:t=>V2(e,t),verifyTypedData:t=>M2(e,t),uninstallFilter:t=>Xa(e,t),waitForTransactionReceipt:t=>R2(e,t),watchBlocks:t=>F2(e,t),watchBlockNumber:t=>kh(e,t),watchContractEvent:t=>Ov(e,t),watchEvent:t=>L2(e,t),watchPendingTransactions:t=>U2(e,t)}}function Xn(e){const{key:t="public",name:n="Public Client"}=e;return Op({...e,key:t,name:n,type:"publicClient"}).extend(H2)}async function G2(e,{chain:t}){const{id:n,name:s,nativeCurrency:r,rpcUrls:o,blockExplorers:a}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:ne(n),chainName:s,nativeCurrency:r,rpcUrls:o.default.http,blockExplorerUrls:a?Object.values(a).map(({url:i})=>i):void 0}]},{dedupe:!0,retryCount:0})}function q2(e,t){const{abi:n,args:s,bytecode:r,...o}=t,a=Ya({abi:n,args:s,bytecode:r});return ei(e,{...o,...o.authorizationList?{to:null}:{},data:a})}async function K2(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(s=>ko(s))}async function Z2(e,t={}){const{account:n=e.account,chainId:s}=t,r=n?Xe(n):void 0,o=s?[r==null?void 0:r.address,[ne(s)]]:[r==null?void 0:r.address],a=await e.request({method:"wallet_getCapabilities",params:o}),i={};for(const[l,d]of Object.entries(a)){i[Number(l)]={};for(let[u,f]of Object.entries(d))u==="addSubAccount"&&(u="unstable_addSubAccount"),i[Number(l)][u]=f}return typeof s=="number"?i[s]:i}async function Y2(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function Ch(e,t){var l;const{account:n=e.account,chainId:s,nonce:r}=t;if(!n)throw new Ls({docsPath:"/docs/eip7702/prepareAuthorization"});const o=Xe(n),a=(()=>{if(t.executor)return t.executor==="self"?t.executor:Xe(t.executor)})(),i={address:t.contractAddress??t.address,chainId:s,nonce:r};return typeof i.chainId>"u"&&(i.chainId=((l=e.chain)==null?void 0:l.id)??await ge(e,xr,"getChainId")({})),typeof i.nonce>"u"&&(i.nonce=await ge(e,bc,"getTransactionCount")({address:o.address,blockTag:"pending"}),(a==="self"||a!=null&&a.address&&So(a.address,o.address))&&(i.nonce+=1)),i}async function J2(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Ve(n))}async function Q2(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function X2(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function ex(e,t){const{account:n=e.account}=t;if(!n)throw new Ls({docsPath:"/docs/eip7702/signAuthorization"});const s=Xe(n);if(!s.signAuthorization)throw new Xo({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:s.type});const r=await Ch(e,t);return s.signAuthorization(r)}async function tx(e,{account:t=e.account,message:n}){if(!t)throw new Ls({docsPath:"/docs/actions/wallet/signMessage"});const s=Xe(t);if(s.signMessage)return s.signMessage({message:n});const r=typeof n=="string"?Ts(n):n.raw instanceof Uint8Array?Zt(n.raw):n.raw;return e.request({method:"personal_sign",params:[r,s.address]},{retryCount:0})}async function nx(e,t){var d,u,f,p;const{account:n=e.account,chain:s=e.chain,...r}=t;if(!n)throw new Ls({docsPath:"/docs/actions/wallet/signTransaction"});const o=Xe(n);Rs({account:o,...t});const a=await ge(e,xr,"getChainId")({});s!==null&&_p({currentChainId:a,chain:s});const i=(s==null?void 0:s.formatters)||((d=e.chain)==null?void 0:d.formatters),l=((u=i==null?void 0:i.transactionRequest)==null?void 0:u.format)||wr;return o.signTransaction?o.signTransaction({...r,chainId:a},{serializer:(p=(f=e.chain)==null?void 0:f.serializers)==null?void 0:p.transaction}):await e.request({method:"eth_signTransaction",params:[{...l(r),chainId:ne(a),from:o.address}]},{retryCount:0})}async function sx(e,t){const{account:n=e.account,domain:s,message:r,primaryType:o}=t;if(!n)throw new Ls({docsPath:"/docs/actions/wallet/signTypedData"});const a=Xe(n),i={EIP712Domain:Vp({domain:s}),...t.types};if(Wp({domain:s,message:r,primaryType:o,types:i}),a.signTypedData)return a.signTypedData({domain:s,message:r,primaryType:o,types:i});const l=z5({domain:s,message:r,primaryType:o,types:i});return e.request({method:"eth_signTypedData_v4",params:[a.address,l]},{retryCount:0})}async function rx(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:ne(t)}]},{retryCount:0})}async function ox(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}function ax(e){return{addChain:t=>G2(e,t),deployContract:t=>q2(e,t),getAddresses:()=>K2(e),getCallsStatus:t=>Ip(e,t),getCapabilities:t=>Z2(e,t),getChainId:()=>xr(e),getPermissions:()=>Y2(e),prepareAuthorization:t=>Ch(e,t),prepareTransactionRequest:t=>Ha(e,t),requestAddresses:()=>J2(e),requestPermissions:t=>Q2(e,t),sendCalls:t=>Lv(e,t),sendRawTransaction:t=>Sc(e,t),sendTransaction:t=>ei(e,t),showCallsStatus:t=>X2(e,t),signAuthorization:t=>ex(e,t),signMessage:t=>tx(e,t),signTransaction:t=>nx(e,t),signTypedData:t=>sx(e,t),switchChain:t=>rx(e,t),waitForCallsStatus:t=>Uv(e,t),watchAsset:t=>ox(e,t),writeContract:t=>Mv(e,t)}}function tn(e){const{key:t="wallet",name:n="Wallet Client",transport:s}=e;return Op({...e,key:t,name:n,transport:s,type:"walletClient"}).extend(ax)}function Eh({key:e,methods:t,name:n,request:s,retryCount:r=3,retryDelay:o=150,timeout:a,type:i},l){const d=Np();return{config:{key:e,methods:t,name:n,request:s,retryCount:r,retryDelay:o,timeout:a,type:i},request:B5(s,{methods:t,retryCount:r,retryDelay:o,uid:d}),value:l}}function Ko(e,t={}){const{key:n="fallback",name:s="Fallback",rank:r=!1,shouldThrow:o=ix,retryCount:a,retryDelay:i}=t;return({chain:l,pollingInterval:d=4e3,timeout:u,...f})=>{let p=e,h=()=>{};const v=Eh({key:n,name:s,async request({method:g,params:T}){let $;const x=async(y=0)=>{const m=p[y]({...f,chain:l,retryCount:0,timeout:u});try{const w=await m.request({method:g,params:T});return h({method:g,params:T,response:w,transport:m,status:"success"}),w}catch(w){if(h({error:w,method:g,params:T,transport:m,status:"error"}),o(w)||y===p.length-1||($??($=p.slice(y+1).some(C=>{const{include:A,exclude:B}=C({chain:l}).config.methods||{};return A?A.includes(g):B?!B.includes(g):!0})),!$))throw w;return x(y+1)}};return x()},retryCount:a,retryDelay:i,type:"fallback"},{onResponse:g=>h=g,transports:p.map(g=>g({chain:l,retryCount:0}))});if(r){const g=typeof r=="object"?r:{};lx({chain:l,interval:g.interval??d,onTransports:T=>p=T,ping:g.ping,sampleCount:g.sampleCount,timeout:g.timeout,transports:p,weights:g.weights})}return v}}function ix(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===ur.code||e.code===vs.code||fs.nodeMessage.test(e.message)||e.code===5e3))}function lx({chain:e,interval:t=4e3,onTransports:n,ping:s,sampleCount:r=10,timeout:o=1e3,transports:a,weights:i={}}){const{stability:l=.7,latency:d=.3}=i,u=[],f=async()=>{const p=await Promise.all(a.map(async g=>{const T=g({chain:e,retryCount:0,timeout:o}),$=Date.now();let x,y;try{await(s?s({transport:T}):T.request({method:"net_listening"})),y=1}catch{y=0}finally{x=Date.now()}return{latency:x-$,success:y}}));u.push(p),u.length>r&&u.shift();const h=Math.max(...u.map(g=>Math.max(...g.map(({latency:T})=>T)))),v=a.map((g,T)=>{const $=u.map(C=>C[T].latency),y=1-$.reduce((C,A)=>C+A,0)/$.length/h,m=u.map(C=>C[T].success),w=m.reduce((C,A)=>C+A,0)/m.length;return w===0?[0,T]:[d*y+l*w,T]}).sort((g,T)=>T[0]-g[0]);n(v.map(([,g])=>a[g])),await ga(t),f()};f()}class cx extends H{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function et(e,t={}){const{batch:n,fetchFn:s,fetchOptions:r,key:o="http",methods:a,name:i="HTTP JSON-RPC",onFetchRequest:l,onFetchResponse:d,retryDelay:u,raw:f}=t;return({chain:p,retryCount:h,timeout:v})=>{const{batchSize:g=1e3,wait:T=0}=typeof n=="object"?n:{},$=t.retryCount??h,x=v??t.timeout??1e4,y=e||(p==null?void 0:p.rpcUrls.default.http[0]);if(!y)throw new cx;const m=M5(y,{fetchFn:s,fetchOptions:r,onRequest:l,onResponse:d,timeout:x});return Eh({key:o,methods:a,name:i,async request({method:w,params:C}){const A={method:w,params:C},{schedule:B}=Cp({id:y,wait:T,shouldSplitBatch(M){return M.length>g},fn:M=>m.request({body:M}),sort:(M,I)=>M.id-I.id}),P=async M=>n?B(M):[await m.request({body:M})],[{error:b,result:k}]=await P(A);if(f)return{error:b,result:k};if(b)throw new dc({body:A,error:b,url:y});return k},retryCount:$,retryDelay:u,timeout:x,type:"http"},{fetchOptions:r,url:y})}}const Zo=[{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address[]",name:"recipients",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],name:"batchTransfer",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address[]",name:"recipients",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],name:"batchTransferNative",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address[]",name:"recipients",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],name:"batchTransferToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"getTokenType",outputs:[{internalType:"uint8",name:"tokenType",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"isERC20Token",outputs:[{internalType:"bool",name:"isERC20",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"account",type:"address"}],name:"getTokenBalance",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];function ux(e){if(typeof e=="string"){if(!rt(e,{strict:!1}))throw new yt({address:e});return{address:e,type:"json-rpc"}}if(!rt(e.address,{strict:!1}))throw new yt({address:e.address});return{address:e.address,nonceManager:e.nonceManager,sign:e.sign,signAuthorization:e.signAuthorization,signMessage:e.signMessage,signTransaction:e.signTransaction,signTypedData:e.signTypedData,source:"custom",type:"local"}}let Li=!1;async function Ro({hash:e,privateKey:t,to:n="object"}){const{r:s,s:r,recovery:o}=ri.sign(e.slice(2),t.slice(2),{lowS:!0,extraEntropy:rn(Li,{strict:!1})?on(Li):Li}),a={r:ne(s,{size:32}),s:ne(r,{size:32}),v:o?28n:27n,yParity:o};return n==="bytes"||n==="hex"?Th({...a,to:n}):a}async function dx(e){const{chainId:t,nonce:n,privateKey:s,to:r="object"}=e,o=e.contractAddress??e.address,a=await Ro({hash:D0({address:o,chainId:t,nonce:n}),privateKey:s,to:r});return r==="object"?{address:o,chainId:t,nonce:n,...a}:a}async function fx({message:e,privateKey:t}){return await Ro({hash:Fc(e),privateKey:t,to:"hex"})}async function px(e){const{privateKey:t,transaction:n,serializer:s=$5}=e,r=n.type==="eip4844"?{...n,sidecars:!1}:n,o=await Ro({hash:nt(s(r)),privateKey:t});return s(n,o)}async function hx(e){const{privateKey:t,...n}=e;return await Ro({hash:Hp(n),privateKey:t,to:"hex"})}function ft(e,t={}){const{nonceManager:n}=t,s=Zt(ri.getPublicKey(e.slice(2),!1)),r=M0(s);return{...ux({address:r,nonceManager:n,async sign({hash:a}){return Ro({hash:a,privateKey:e,to:"hex"})},async signAuthorization(a){return dx({...a,privateKey:e})},async signMessage({message:a}){return fx({message:a,privateKey:e})},async signTransaction(a,{serializer:i}={}){return px({privateKey:e,transaction:a,serializer:i})},async signTypedData(a){return hx({...a,privateKey:e})}}),publicKey:s,source:"privateKey"}}const hr=Rc({id:56,name:"BNB Smart Chain",blockTime:750,nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),rr=Rc({id:97,name:"BNB Smart Chain Testnet",nativeCurrency:{decimals:18,name:"BNB",symbol:"tBNB"},rpcUrls:{default:{http:["https://data-seed-prebsc-1-s1.bnbchain.org:8545"]}},blockExplorers:{default:{name:"BscScan",url:"https://testnet.bscscan.com",apiUrl:"https://api-testnet.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:17422483}},testnet:!0}),_h=Rc({id:66,name:"OKC",nativeCurrency:{decimals:18,name:"OKT",symbol:"OKT"},rpcUrls:{default:{http:["https://exchainrpc.okex.org"]}},blockExplorers:{default:{name:"oklink",url:"https://www.oklink.com/okc"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:10364792}}}),je=[{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],us=class us{constructor(){Nt(this,"wallets",new Map);this.detectWallets()}static getInstance(){return us.instance||(us.instance=new us),us.instance}detectWallets(){var t,n,s,r;try{(t=window.ethereum)!=null&&t.isMetaMask&&this.wallets.set("metamask",{name:"MetaMask",provider:window.ethereum,isConnected:!1});try{window.okxwallet&&this.wallets.set("okx",{name:"OKX Wallet",provider:window.okxwallet,isConnected:!1})}catch(o){console.warn("OKX:",o)}}catch(o){console.warn(":",o)}if((n=window.ethereum)!=null&&n.isCoinbaseWallet&&this.wallets.set("coinbase",{name:"Coinbase Wallet",provider:window.ethereum,isConnected:!1}),(s=window.ethereum)!=null&&s.isTrust&&this.wallets.set("trust",{name:"Trust Wallet",provider:window.ethereum,isConnected:!1}),(r=window.ethereum)!=null&&r.providers){const o=window.ethereum.providers,a=o.find(u=>u.isMetaMask);a&&!this.wallets.has("metamask")&&this.wallets.set("metamask",{name:"MetaMask",provider:a,isConnected:!1});const i=o.find(u=>u.isOkxWallet);i&&!this.wallets.has("okx")&&this.wallets.set("okx",{name:"OKX Wallet",provider:i,isConnected:!1});const l=o.find(u=>u.isCoinbaseWallet);l&&!this.wallets.has("coinbase")&&this.wallets.set("coinbase",{name:"Coinbase Wallet",provider:l,isConnected:!1});const d=o.find(u=>u.isTrust);d&&!this.wallets.has("trust")&&this.wallets.set("trust",{name:"Trust Wallet",provider:d,isConnected:!1})}}getAvailableWallets(){return Array.from(this.wallets.values())}getWalletById(t){return this.wallets.get(t)}async connectWallet(t){var s,r,o,a;const n=this.wallets.get(t);if(!n)throw new Error(` ${t} `);try{if(!n.provider||typeof n.provider.request!="function")throw new Error(` ${n.name} `);const i=await n.provider.request({method:"eth_accounts"});if(i&&i.length>0)return n.isConnected=!0,{address:i[0],walletType:t};const l=await n.provider.request({method:"eth_requestAccounts"});if(l&&l.length>0)return n.isConnected=!0,{address:l[0],walletType:t};throw new Error("")}catch(i){throw console.error(` ${n.name} :`,i),(s=i.message)!=null&&s.includes("message channel closed")||(r=i.message)!=null&&r.includes("chrome-extension")?new Error(`
1. 
2. 
3. `):i.code===4001?new Error(""):i.code===-32002?new Error(""):(o=i.message)!=null&&o.includes("User rejected")?new Error(""):(a=i.message)!=null&&a.includes("not found")?new Error(` ${n.name} `):new Error(`: ${i.message||""}`)}}async disconnectWallet(t){const n=this.wallets.get(t);n&&(n.isConnected=!1)}isWalletAvailable(t){return this.wallets.has(t)}hasWalletConflict(){return this.wallets.size>1}getWalletConflictInfo(){return Array.from(this.wallets.keys())}};Nt(us,"instance");let Nl=us;const Ol={56:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",97:"0xae13d989daC2f0dEbFf460aC112a837C89BAa7cd"},Ph={56:"0x55d398326f99059fF775485246999027B3197955",97:"0x4Be45C88db35383F713ABC1adFA816200e0B8B56",66:"0x382bb369d343125bfb2117af9c149795c6c65c50"},mx={56:"0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d",97:"0x64544969ed7EBf5f083679233325356EbE738930"},bx={56:18,97:18,66:18},kd={56:"0x0000000000000000000000000000000000000000",97:"0xa859587fb766a44198dc7f4eb92ea9a056f842fa",66:"0x0000000000000000000000000000000000000000"},gx=/^(0x)?[0-9a-fA-F]{64}$/;function Zs(e){const t=(e==null?void 0:e.message)||(e==null?void 0:e.toString())||"",n=t.toLowerCase();if(n.includes("insufficient funds")||n.includes("insufficient balance"))return"Gas";if(n.includes("exceeds balance")||n.includes("transfer amount exceeds balance"))return"";if(n.includes("erc20: transfer amount"))return"";if(n.includes("gas too low")||n.includes("intrinsic gas too low"))return"Gas";if(n.includes("out of gas"))return"Gas";if(n.includes("nonce too low")||n.includes("nonce has already been used")||n.includes("nonce provided"))return"Nonce";if(n.includes("replacement transaction underpriced"))return"NonceGas";if(n.includes("timeout")||n.includes("timed out"))return"";if(n.includes("network")||n.includes("connection"))return"RPC";if(n.includes("rejected")||n.includes("denied"))return"";if(n.includes("reverted")||n.includes("execution reverted")){const o=t.match(/reason="([^"]+)"/);return o?`: ${o[1]}`:""}if(n.includes("insufficient_output_amount")||n.includes("slippage"))return"";if(n.includes("allowance")||n.includes("erc20: insufficient allowance"))return"";if(n.includes("invalid address"))return"";if(n.includes("returned no data")||n.includes("not a contract")||n.includes("contractfunctionzerodataerror"))return"";const s=t.replace(/^Error:\s*/i,""),r=80;return s.length>r?s.substring(0,r)+"...":s}function yx(e){const t=e.trim();return!t||!gx.test(t)?null:`0x${(t.startsWith("0x")?t.slice(2):t).toLowerCase()}`}function Ui(e){return{...e,walletType:e.walletType??"normal",remark:e.remark??"",createdAt:e.createdAt??new Date().toISOString()}}function Cd(e){return Ph[e]||null}async function ls(e,t){try{const n=await e.readContract({address:t,abi:je,functionName:"decimals",args:[]});return Number(n)}catch(n){return console.warn("Failed to fetch token decimals, fallback to 18:",n),18}}async function Ed(e,t,n,s){var r,o,a,i;try{const l=await t.getBalance({address:e.address});e.nativeBalance=_e(l)}catch(l){console.error(`Failed to fetch native balance for ${e.address}:`,l),e.nativeBalance="Error"}if(!n){e.tokenBalance="-";return}try{const l=await t.getBytecode({address:n});if(!l||l==="0x"){console.warn(`USDT contract not found at ${n} on chain ${(r=t.chain)==null?void 0:r.id}`),e.tokenBalance="-";return}const d=await t.readContract({address:n,abi:je,functionName:"balanceOf",args:[e.address]});e.tokenBalance=ke(d,s)}catch(l){(o=l==null?void 0:l.message)!=null&&o.includes("returned no data")||(a=l==null?void 0:l.message)!=null&&a.includes("not a contract")||(i=l==null?void 0:l.message)!=null&&i.includes("ContractFunctionZeroDataError")?(console.warn(`Failed to fetch USDT balance for ${e.address}: Contract may not exist or function unavailable`),e.tokenBalance="-"):(console.error(`Failed to fetch USDT balance for ${e.address}:`,l),e.tokenBalance="-")}}const os=Na("wallet",{state:()=>({connectedAddress:"",connectedWalletType:"",localWallets:[],walletDetector:Nl.getInstance(),currentChainId:97,selectedWalletAddresses:[],walletBatches:[],targetToken:null,poolQueryState:{currentPrice:null,marketCap:null,priceDisplay:"",isUpdating:!1,lastUpdateTime:"",isRoutedPrice:!1,quoteTokenSymbol:"",selectedQuoteToken:"",tokenAddress:"",tokenSymbol:"",tokenName:"",tokenDecimals:18}}),getters:{selectedWallets(){return this.localWallets.filter(e=>this.selectedWalletAddresses.includes(e.address))},selectedCount(){return this.selectedWalletAddresses.length},isAllSelected(){return this.localWallets.length>0&&this.selectedWalletAddresses.length===this.localWallets.length},hasSelection(){return this.selectedWalletAddresses.length>0}},actions:{async init(){const e=localStorage.getItem("local-wallets");if(!e)return;try{const n=JSON.parse(e);Array.isArray(n)&&(this.localWallets=n.map(s=>Ui(s)),this.persist())}catch(n){console.error("Failed to parse local wallets:",n)}const t=localStorage.getItem("wallet-batches");if(t)try{this.walletBatches=JSON.parse(t)}catch(n){console.error("Failed to parse wallet batches:",n)}},persist(){localStorage.setItem("local-wallets",JSON.stringify(this.localWallets))},persistBatches(){localStorage.setItem("wallet-batches",JSON.stringify(this.walletBatches))},async generateWalletBatch(e,t,n="normal"){const s=`batch_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,r=[];for(let a=0;a<e;a++){const i=crypto.getRandomValues(new Uint8Array(32)),l=`0x${Array.from(i).map(u=>u.toString(16).padStart(2,"0")).join("")}`,d=ft(l);r.push({address:d.address,privateKey:l})}const o={id:s,remark:t||` ${new Date().toLocaleString()}`,createdAt:new Date().toISOString(),wallets:r,walletType:n};return this.walletBatches.push(o),this.persistBatches(),this.exportBatchToFile(o),o},async createBatchFromPrivateKeys(e,t,n="normal"){const s=`batch_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,r=[],o=/^(0x)?[0-9a-fA-F]{64}$/;for(const i of e)if(o.test(i))try{const l=i.startsWith("0x")?i:`0x${i}`,d=ft(l);r.some(f=>f.address.toLowerCase()===d.address.toLowerCase())||r.push({address:d.address,privateKey:l})}catch{console.warn(":",i.slice(0,10)+"...")}if(r.length===0)throw new Error("");const a={id:s,remark:t||` ${new Date().toLocaleString()}`,createdAt:new Date().toISOString(),wallets:r,walletType:n};return this.walletBatches.push(a),this.persistBatches(),a},exportBatchToFile(e){const t=new Date().toISOString().replace(/[:.]/g,"-"),n=`,,
`,s=e.wallets.map((l,d)=>`${d+1},"${l.address}","${l.privateKey}"`),r=n+s.join(`
`),o=new Blob([r],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(o),i=document.createElement("a");i.href=a,i.download=`wallet-batch-${e.remark.replace(/[^a-zA-Z0-9\u4e00-\u9fa5]/g,"_")}-${t}.csv`,document.body.appendChild(i),i.click(),document.body.removeChild(i),setTimeout(()=>URL.revokeObjectURL(a),1e3)},updateBatchRemark(e,t){const n=this.walletBatches.find(s=>s.id===e);n&&(n.remark=t,this.persistBatches())},deleteBatch(e){this.walletBatches=this.walletBatches.filter(t=>t.id!==e),this.persistBatches()},getBatchAddresses(e){const t=this.walletBatches.find(n=>n.id===e);return t?t.wallets.map(n=>n.address):[]},getBatchPrivateKeys(e){const t=this.walletBatches.find(n=>n.id===e);return t?t.wallets.map(n=>n.privateKey):[]},async refreshBatchBalances(e){var i;const t=this.walletBatches.find(l=>l.id===e);if(!t)return;const n=this.getPublicClient(),s=((i=this.targetToken)==null?void 0:i.decimals)||18;console.log(`: ${t.wallets.length} `);const r=await Promise.all(t.wallets.map(async l=>{try{const d=await n.getBalance({address:l.address});let u=BigInt(0);return this.targetToken&&(u=await n.readContract({address:this.targetToken.address,abi:je,functionName:"balanceOf",args:[l.address]})),{native:d,token:u}}catch(d){return console.error(`Failed to fetch balance for ${l.address}:`,d),{native:BigInt(0),token:BigInt(0)}}})),o=r.reduce((l,d)=>l+d.native,BigInt(0)),a=r.reduce((l,d)=>l+d.token,BigInt(0));return t.totalNativeBalance=_e(o),t.totalTokenBalance=this.targetToken?ke(a,s):void 0,this.persistBatches(),console.log(`: ${t.totalNativeBalance} BNB`),{totalNativeBalance:t.totalNativeBalance,totalTokenBalance:t.totalTokenBalance}},importWalletsFromBatch(e,t="normal"){const n=this.walletBatches.find(a=>a.id===e);if(!n)return{added:0,duplicates:0};const s=new Set(this.localWallets.map(a=>a.address.toLowerCase()));let r=0,o=0;for(const a of n.wallets){if(s.has(a.address.toLowerCase())){o++;continue}this.localWallets.push({address:a.address,encrypted:a.privateKey,walletType:t,remark:n.remark,createdAt:n.createdAt}),s.add(a.address.toLowerCase()),r++}return r>0&&this.persist(),{added:r,duplicates:o}},getBatchPrivateKeyMap(e){const t=this.walletBatches.find(s=>s.id===e);if(!t)return{};const n={};for(const s of t.wallets)n[s.address.toLowerCase()]=s.privateKey;return n},getBatchWalletType(e){const t=this.walletBatches.find(n=>n.id===e);return(t==null?void 0:t.walletType)||null},getWalletTypeByAddress(e){const t=this.localWallets.find(n=>n.address.toLowerCase()===e.toLowerCase());if(t!=null&&t.walletType)return t.walletType;for(const n of this.walletBatches)if(n.wallets.find(r=>r.address.toLowerCase()===e.toLowerCase()))return n.walletType;return null},selectWallet(e){this.selectedWalletAddresses.includes(e)||this.selectedWalletAddresses.push(e)},deselectWallet(e){const t=this.selectedWalletAddresses.indexOf(e);t>-1&&this.selectedWalletAddresses.splice(t,1)},toggleWalletSelection(e){this.selectedWalletAddresses.includes(e)?this.deselectWallet(e):this.selectWallet(e)},selectAll(){this.selectedWalletAddresses=this.localWallets.map(e=>e.address)},deselectAll(){this.selectedWalletAddresses=[]},invertSelection(){const e=new Set(this.selectedWalletAddresses);this.selectedWalletAddresses=this.localWallets.filter(t=>!e.has(t.address)).map(t=>t.address)},selectRange(e,t){e<1&&(e=1),t>this.localWallets.length&&(t=this.localWallets.length),e>t&&([e,t]=[t,e]);const n=this.localWallets.slice(e-1,t).map(r=>r.address),s=new Set(this.selectedWalletAddresses);for(const r of n)s.add(r);this.selectedWalletAddresses=Array.from(s)},selectRangeOnly(e,t){e<1&&(e=1),t>this.localWallets.length&&(t=this.localWallets.length),e>t&&([e,t]=[t,e]),this.selectedWalletAddresses=this.localWallets.slice(e-1,t).map(n=>n.address)},removeSelectedWallets(){this.localWallets=this.localWallets.filter(e=>!this.selectedWalletAddresses.includes(e.address)),this.selectedWalletAddresses=[],this.persist()},setTargetToken(e){this.targetToken=e},clearTargetToken(){this.targetToken=null,this.clearPoolQueryState()},updatePoolQueryState(e){Object.assign(this.poolQueryState,e)},clearPoolQueryState(){this.poolQueryState={currentPrice:null,marketCap:null,priceDisplay:"",isUpdating:!1,lastUpdateTime:"",isRoutedPrice:!1,quoteTokenSymbol:"",selectedQuoteToken:"",tokenAddress:"",tokenSymbol:"",tokenName:"",tokenDecimals:18}},async refreshTargetTokenBalance(){if(!this.targetToken)return;const e=this.getPublicClient(),t=this.targetToken.address,n=this.targetToken.decimals;for(const s of this.localWallets)try{const r=await e.readContract({address:t,abi:je,functionName:"balanceOf",args:[s.address]});s.tokenBalance=ke(r,n)}catch(r){console.error(`Failed to fetch target token balance for ${s.address}:`,r),s.tokenBalance="-"}this.persist()},async connectWallet(e){try{if(!this.walletDetector.isWalletAvailable(e)){alert(` ${e==="metamask"?"MetaMask":"OKX Wallet"} `);return}const t=await this.walletDetector.connectWallet(e);this.connectedAddress=t.address,this.connectedWalletType=t.walletType,console.log(":",t)}catch(t){console.error(":",t),alert(t.message||"")}},async connectInjected(){await this.connectWallet("metamask")},async disconnectWallet(){this.connectedWalletType&&await this.walletDetector.disconnectWallet(this.connectedWalletType),this.connectedAddress="",this.connectedWalletType="",console.log("")},async generateLocalWallets(e,t){const n=(t==null?void 0:t.walletType)||"normal",s=(t==null?void 0:t.remark)||"";for(let r=0;r<e;r++){const o=crypto.getRandomValues(new Uint8Array(32)),a=`0x${Array.from(o).map(d=>d.toString(16).padStart(2,"0")).join("")}`,i=ft(a);ft(a).address.toLowerCase()!==i.address.toLowerCase()&&console.error(""),this.localWallets.push({address:i.address,encrypted:a,walletType:n,remark:s,createdAt:new Date().toISOString()})}this.persist()},importWalletsFromPrivateKeys(e,t){const n=(t.remark||"").trim(),s=new Set(this.localWallets.map(u=>u.address.toLowerCase())),r=new Set,o=new Date().toISOString();let a=0,i=0,l=0;const d=[];for(const u of e){const f=yx(u);if(!f){l+=1;continue}let p;try{p=ft(f)}catch(g){console.error("Invalid private key skipped:",g),l+=1;continue}const h=p.address,v=h.toLowerCase();if(s.has(v)||r.has(v)){i+=1;continue}d.push({address:h,encrypted:f,walletType:t.walletType,remark:n,createdAt:o}),r.add(v),s.add(v),a+=1}return d.length>0&&(this.localWallets.push(...d),this.persist()),{added:a,duplicates:i,invalid:l}},updateWalletRemark(e,t){const n=this.localWallets.find(s=>s.address===e);n&&(n.remark=t.trim(),this.persist())},updateSelectedWalletsRemark(e){const t=e.trim();for(const n of this.selectedWalletAddresses){const s=this.localWallets.find(r=>r.address===n);s&&(s.remark=t)}this.persist()},removeLocalWallet(e){this.localWallets=this.localWallets.filter(t=>t.address!==e),this.persist()},clearLocalWallets(){this.localWallets=[],this.persist()},async fixWalletData(){console.log("===  ===");const e=[];for(let t=0;t<this.localWallets.length;t++){const n=this.localWallets[t];if(console.log(`
 ${t+1}: ${n.address}`),n.encrypted)try{const s=ft(n.encrypted);console.log(`  : ${s.address}`),s.address.toLowerCase()!==n.address.toLowerCase()?(console.warn(" "),e.push({address:s.address,encrypted:n.encrypted,nativeBalance:n.nativeBalance,tokenBalance:n.tokenBalance,walletType:n.walletType,remark:n.remark,createdAt:n.createdAt})):(console.log(" "),e.push(Ui(n)))}catch(s){console.error(`  ${t+1}:`,s)}else console.warn(`  ${t+1} `)}this.localWallets=e.map(t=>Ui(t)),this.persist(),console.log(`
 ${e.length} `)},async exportPrivateKeys(){if(this.localWallets.length===0){alert("");return}try{console.log(` ${this.localWallets.length} ...`);const e=`,,,
`,t=this.localWallets.map((i,l)=>`${l+1},"${i.address}","${i.encrypted||""}","${i.remark||""}"`),n=e+t.join(`
`),s=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(s),o=new Date().toISOString().replace(/[:.]/g,"-"),a=document.createElement("a");a.href=r,a.download=`wallets-private-keys-${o}.csv`,document.body.appendChild(a),a.click(),document.body.removeChild(a),setTimeout(()=>{URL.revokeObjectURL(r)},1e3),alert(` ${this.localWallets.length} 

 `)}catch(e){throw console.error(":",e),new Error("")}},getClient(e){return tn({chain:rr,transport:Ko([et(e??"https://bsc-testnet.publicnode.com")])})},getChainConfig(){switch(this.getCurrentChainId()){case 56:return hr;case 97:return rr;case 66:return _h;default:return rr}},getCurrentChainId(){return this.currentChainId||97},setCurrentChainId(e){this.currentChainId=e,console.log("ID:",e)},getPublicClient(e){const t=this.getChainConfig();return Xn({chain:t,transport:Ko([et(e??t.rpcUrls.default.http[0])])})},getWalletClient(){if(!this.connectedAddress)return null;const e=this.getChainConfig(),t=window.ethereum;if(!t)throw new Error("provider");return tn({chain:e,transport:Ko([et(e.rpcUrls.default.http[0])]),account:this.connectedAddress,...t&&{transport:Ko([et(e.rpcUrls.default.http[0])])}})},async refreshAllBalances(){const e=this.getPublicClient(),t=Cd(this.currentChainId),n=t?await ls(e,t):18,s=this.localWallets,r=50,o=Math.ceil(s.length/r);console.log(`: ${s.length} , ${o} `);for(let a=0;a<o;a++){const i=a*r,l=Math.min(i+r,s.length),d=s.slice(i,l);await Promise.all(d.map(u=>Ed(u,e,t,n).catch(f=>console.error(` ${u.address}:`,f)))),console.log(` ${l}/${s.length} `)}this.persist(),console.log("")},async refreshWalletBalance(e){const t=this.localWallets.find(o=>o.address===e);if(!t)return;const n=this.getPublicClient(),s=Cd(this.currentChainId),r=s?await ls(n,s):18;await Ed(t,n,s,r),this.persist()},async refreshTokenBalance(e){const t=this.getPublicClient(),n=await ls(t,e),s=this.localWallets,r=50,o=Math.ceil(s.length/r);console.log(`: ${s.length} , ${o} `);for(let a=0;a<o;a++){const i=a*r,l=Math.min(i+r,s.length),d=s.slice(i,l);await Promise.all(d.map(async u=>{try{const f=await t.readContract({address:e,abi:je,functionName:"balanceOf",args:[u.address]});u.tokenBalance=ke(f,n)}catch(f){console.error(`Failed to fetch token balance for ${u.address}:`,f),u.tokenBalance="Error"}})),console.log(` ${l}/${s.length} `)}this.persist(),console.log("")},async batchTransferNativeWithContract(e){if(console.log(` ${e} `),!this.connectedAddress)throw new Error("");if(this.localWallets.length===0)throw new Error("");try{const t=window.ethereum;if(!t)throw new Error("provider");const n=kd[this.currentChainId];if(!n||n==="0x0000000000000000000000000000000000000000")throw new Error("");const r=this.getChainConfig().nativeCurrency.symbol,o=this.localWallets.map(m=>m.address),a=this.localWallets.map(()=>dt(e.toString())),i=dt((e*this.localWallets.length).toString());console.log(`: ${n}`),console.log(`: ${o.length}`),console.log(`: ${_e(i)} ${r}`),console.log(`: ${_e(a[0])} ${r}`);const l=91e3,d=4e4,u=l+o.length*d,p=u*1/1e9;if(console.log("Gas:"),console.log(`- Gas: ${l}`),console.log(`- Gas: ${d}`),console.log(`- Gas: ${u}`),console.log(`- Gas: ${p.toFixed(6)} BNB`),!confirm(`

: ${n}
: ${this.localWallets.length} 
: ${e} ${r}
: ${e*this.localWallets.length} ${r}
Gas: ~${p.toFixed(6)} BNB

`))throw new Error("");let v;try{console.log("Gas..."),v=await t.request({method:"eth_estimateGas",params:[{from:this.connectedAddress,to:n,value:`0x${i.toString(16)}`,data:this.encodeBatchTransferData("0x0000000000000000000000000000000000000000",o,a)}]}),console.log("Gas:",v),v="0x"+(BigInt(v)*BigInt(150)/BigInt(100)).toString(16),console.log("Gas:",v)}catch(m){console.warn("Gas:",m),v="0x"+(91e3+o.length*4e4).toString(16)}let g;try{g=await t.request({method:"eth_gasPrice"}),console.log("Gas:",g)}catch(m){console.warn("Gas:",m),g="0x3b9aca00"}const T=2e5;parseInt(v,16)<T&&(v="0x"+T.toString(16),console.log(`Gas: ${v}`)),console.log(`Gas: ${v} (${parseInt(v,16)})`);const x=await t.request({method:"eth_sendTransaction",params:[{from:this.connectedAddress,to:n,value:`0x${i.toString(16)}`,data:this.encodeBatchTransferData("0x0000000000000000000000000000000000000000",o,a),gas:v,gasPrice:g}]});console.log(":",x);const y=this.localWallets.map(m=>({wallet:m.address,hash:x,success:!0}));return console.log(":",y),y}catch(t){throw console.error(":",t),new Error(`: ${t.message||""}`)}},encodeBatchTransferData(e,t,n){try{return Ct({abi:Zo,functionName:"batchTransfer",args:[e,t,n]})}catch(s){console.error("ABI:",s);const r="0xa9059cbb",o=this.encodeSmartBatchTransferParams(e,t,n);return r+o.slice(2)}},encodeBatchTransferNativeData(e,t){try{return Ct({abi:Zo,functionName:"batchTransferNative",args:[e,t]})}catch(n){console.error("ABI:",n);const s="0xa9059cbb",r=this.encodeBatchTransferParams(e,t);return s+r.slice(2)}},keccak256(e){return{"batchTransfer(address,address[],uint256[])":"a9059cbb","batchTransferNative(address[],uint256[])":"a9059cbb","batchTransferToken(address,address[],uint256[])":"a9059cbb","getTokenType(address)":"a9059cbb","isERC20Token(address)":"a9059cbb","getTokenBalance(address,address)":"a9059cbb","getBalance()":"a9059cbb"}[e]||"a9059cbb"},encodeSmartBatchTransferParams(e,t,n){let s="0x";s+=e.slice(2).padStart(64,"0");const r=96;s+=r.toString(16).padStart(64,"0");const o=r+32+t.length*32;s+=o.toString(16).padStart(64,"0"),s+=t.length.toString(16).padStart(64,"0");for(const a of t)s+=a.slice(2).padStart(64,"0");s+=n.length.toString(16).padStart(64,"0");for(const a of n)s+=a.toString(16).padStart(64,"0");return s},encodeBatchTransferParams(e,t){let n="0x";n+=e.length.toString(16).padStart(64,"0");for(const s of e)n+=s.slice(2).padStart(64,"0");for(const s of t)n+=s.toString(16).padStart(64,"0");return n},async batchTransferNative(e){var a,i,l;if(console.log(` ${e} `),!this.connectedAddress)throw new Error("");if(this.localWallets.length===0)throw new Error("");const t=window.ethereum;if(!t)throw new Error("provider");let n=!1;try{console.log("...");const d=await this.batchTransferNativeWithContract(e);return console.log(""),console.log(":",d),n=!0,d}catch(d){console.log(":",d),console.log(":",d),n=!1}if(n){console.log("");return}const s=this.getPublicClient(),r=dt((e*this.localWallets.length).toString()),o=await s.getBalance({address:this.connectedAddress});if(console.log(`: ${_e(o)} BNB`),console.log(`: ${_e(r)} BNB`),o<r)throw new Error(`: ${_e(o)} BNB: ${_e(r)} BNB`);try{console.log("...");const u=this.getChainConfig().nativeCurrency.symbol;if(!confirm(`

: ${this.localWallets.length} 
: ${e} ${u}
: ${e*this.localWallets.length} ${u}


 ${this.localWallets.length} `))throw new Error("");const p=[];try{console.log("...");const h=this.localWallets.map(T=>({from:this.connectedAddress,to:T.address,value:`0x${dt(e.toString()).toString(16)}`,gas:"0x5208"})),v=await t.request({method:"eth_sendBatchTransaction",params:h});return console.log(":",v),this.localWallets.map(T=>({wallet:T.address,hash:v,success:!0}))}catch{if(console.log(""),console.log(""),!confirm(`


 
  ${this.localWallets.length} 
  2 

`))throw new Error("");for(let g=0;g<this.localWallets.length;g++){const T=this.localWallets[g];try{console.log(` ${g+1}/${this.localWallets.length}: ${T.address}`);const $=await t.request({method:"eth_sendTransaction",params:[{from:this.connectedAddress,to:T.address,value:`0x${dt(e.toString()).toString(16)}`,gas:"0x5208"}]});console.log(`: ${$}`),p.push({wallet:T.address,hash:$,success:!0}),g<this.localWallets.length-1&&(console.log(" 2 ..."),await new Promise(x=>setTimeout(x,2e3)))}catch($){console.error(` ${T.address} :`,$);let x="";$.code===4001?x="":$.code===-32002?x="":(a=$.message)!=null&&a.includes("insufficient funds")?x="":(i=$.message)!=null&&i.includes("gas")?x="Gas":(l=$.message)!=null&&l.includes("network")?x="":$.message&&(x=$.message),p.push({wallet:T.address,error:x,success:!1})}}}return console.log(""),p}catch(d){throw console.error(":",d),new Error(`: ${d.message||""}`)}},async batchTransferNativeFallback(e){var s,r,o;console.log("");const t=window.ethereum,n=[];for(let a=0;a<this.localWallets.length;a++){const i=this.localWallets[a];try{console.log(` ${a+1}/${this.localWallets.length}: ${i.address}`);const l=await t.request({method:"eth_sendTransaction",params:[{from:this.connectedAddress,to:i.address,value:`0x${dt(e.toString()).toString(16)}`,gas:"0x5208"}]});console.log(`: ${l}`),n.push({wallet:i.address,hash:l,success:!0}),a<this.localWallets.length-1&&await new Promise(d=>setTimeout(d,1e3))}catch(l){console.error(` ${i.address} :`,l);let d="";l.code===4001?d="":l.code===-32002?d="":(s=l.message)!=null&&s.includes("insufficient funds")?d="":(r=l.message)!=null&&r.includes("gas")?d="Gas":(o=l.message)!=null&&o.includes("network")?d="":l.message&&(d=l.message),n.push({wallet:i.address,error:d,success:!1})}}return n},async batchTransferToken(e,t){if(console.log(`ERC20 ${t} `),!this.connectedAddress)throw new Error("");if(this.localWallets.length===0)throw new Error("");const n=window.ethereum;if(!n)throw new Error("provider");const s=[];for(let r=0;r<this.localWallets.length;r++){const o=this.localWallets[r];try{console.log(` ${r+1}/${this.localWallets.length}: ${o.address}`);const a=await n.request({method:"eth_sendTransaction",params:[{from:this.connectedAddress,to:e,data:this.encodeTransferData(o.address,t),gas:"0x7530"}]});console.log(`: ${a}`),s.push({wallet:o.address,hash:a,success:!0}),r<this.localWallets.length-1&&await new Promise(i=>setTimeout(i,2e3))}catch(a){console.error(` ${o.address} :`,a),s.push({wallet:o.address,error:a.message||String(a),success:!1})}}return console.log(":",s),s},encodeTransferData(e,t){const n="0xa9059cbb",s=e.slice(2).padStart(64,"0"),r=dt(t.toString()).toString(16).padStart(64,"0");return n+s+r},getUsdtContractAddress(){return USDT_CONTRACTS[this.currentChainId]||null},getUsdtDecimals(){return bx[this.currentChainId]||18},async distributeFromSource(e,t,n,s="native"){console.log(`: ${s}: ${t.length} `);const r=this.localWallets.find(y=>y.address===e);if(!r)throw new Error("");if(!r.encrypted)throw new Error("");if(t.length===0)throw new Error("");const o=[],a=[];for(const y of t)!y||!/^0x[0-9a-fA-F]{40}$/.test(y.trim())?o.push(y):a.push(y.trim());if(a.length===0)throw new Error("");const i=this.getChainConfig(),l=this.getPublicClient(),d=i.nativeCurrency.symbol;let u=d,f=18,p=null;if(s==="usdt"){if(p=this.getUsdtContractAddress(),!p)throw new Error(" USDT ");u="USDT";try{f=await ls(l,p),console.log(`USDT : ${f}`)}catch(y){console.warn(" USDT  18:",y),f=this.getUsdtDecimals()}}const h=n*a.length;if(!confirm(`

: ${e.slice(0,10)}...${e.slice(-8)}
: ${a.length} ${o.length>0?` ${o.length} `:""}
: ${s==="usdt"?"USDT":d}
: ${n} ${u}
: ${h} ${u}

`))throw new Error("");const g=[],T=await l.getGasPrice(),$=ft(r.encrypted),x=tn({account:$,chain:i,transport:et(i.rpcUrls.default.http[0])});for(let y=0;y<a.length;y++){const m=a[y];try{console.log(` ${y+1}/${a.length}: ${e} -> ${m}`);let w;if(s==="usdt"&&p){const C=_t(n.toString(),f),A=await l.readContract({address:p,abi:je,functionName:"balanceOf",args:[e]}),B=ke(A,f),P=ke(C,f);if(console.log(`: ${e}`),console.log(`USDT : ${p}`),console.log(`USDT : ${f}`),console.log(` USDT : ${A.toString()}`),console.log(` USDT : ${B}`),console.log(`: ${C.toString()}`),console.log(`: ${P}`),A<C)throw new Error(`USDT : ${B}, : ${P}`);const b=await l.getBalance({address:e}),k=T*BigInt(65e3);if(console.log(` ${d} : ${_e(b)},  Gas : ${_e(k)}`),b<k)throw new Error(`${d}  Gas : ${_e(b)}, : ${_e(k)}`);w=await x.writeContract({address:p,abi:je,functionName:"transfer",args:[m,C],gas:BigInt(65e3),gasPrice:T})}else w=await x.sendTransaction({to:m,value:dt(n.toString()),gas:BigInt(21e3),gasPrice:T});console.log(`: ${w}`),g.push({source:e,target:m,hash:w,amount:n.toString(),tokenType:s,success:!0}),y<a.length-1&&await new Promise(C=>setTimeout(C,1500))}catch(w){console.error(` ${m} :`,w),g.push({source:e,target:m,error:w.message||String(w),tokenType:s,success:!1})}}return console.log(":",g),g},async batchTransferToSelected(e){if(console.log(` ${e} `),!this.connectedAddress)throw new Error("");const t=this.selectedWallets;if(t.length===0)throw new Error("");const n=window.ethereum;if(!n)throw new Error("provider");const r=this.getChainConfig().nativeCurrency.symbol;if(dt((e*t.length).toString()),!confirm(`

: ${t.length} 
: ${e} ${r}
: ${e*t.length} ${r}

`))throw new Error("");const a=[];for(let i=0;i<t.length;i++){const l=t[i];try{console.log(` ${i+1}/${t.length}: ${l.address}`);const d=await n.request({method:"eth_sendTransaction",params:[{from:this.connectedAddress,to:l.address,value:`0x${dt(e.toString()).toString(16)}`,gas:"0x5208"}]});console.log(`: ${d}`),a.push({wallet:l.address,hash:d,success:!0}),i<t.length-1&&await new Promise(u=>setTimeout(u,1500))}catch(d){console.error(` ${l.address} :`,d),a.push({wallet:l.address,error:d.message||String(d),success:!1})}}return console.log(":",a),a},async collectFromSelected(e,t,n="native"){console.log(` ${e} ${t} ${n}`);const s=this.selectedWallets;if(s.length===0)throw new Error("");if(!e||!e.startsWith("0x")||e.length!==42)throw new Error("");const r=this.getChainConfig(),o=r.nativeCurrency.symbol,a=this.getPublicClient();let i=o,l=18,d=null;if(n==="usdt"){const v=this.getUsdtContractAddress();if(!v)throw new Error(" USDT ");d=v,l=await ls(a,d),i="USDT"}const u=t*s.length;if(!confirm(`

: ${s.length} 
: ${e}
: ${t} ${i}
: ${u} ${i}

`))throw new Error("");const p=[],h=await a.getGasPrice();for(let v=0;v<s.length;v++){const g=s[v];try{if(console.log(` ${v+1}/${s.length}: ${g.address}`),!g.encrypted){console.warn(` ${g.address} `),p.push({wallet:g.address,error:"",success:!1});continue}const T=ft(g.encrypted),$=tn({account:T,chain:r,transport:et(r.rpcUrls.default.http[0])});let x,y;if(n==="usdt"&&d){y=_t(t.toString(),l);const m=await a.readContract({address:d,abi:je,functionName:"balanceOf",args:[g.address]});if(console.log(` ${g.address} USDT : ${ke(m,l)}`),m<y){console.warn(` ${g.address} USDT `),p.push({wallet:g.address,error:`USDT : ${ke(m,l)}`,success:!1});continue}const w=await a.getBalance({address:g.address}),C=h*BigInt(65e3);if(w<C){console.warn(` ${g.address} ${o}  Gas`),p.push({wallet:g.address,error:`${o}  Gas`,success:!1});continue}x=await $.writeContract({address:d,abi:je,functionName:"transfer",args:[e,y],gas:BigInt(65e3),gasPrice:h})}else{y=dt(t.toString());const m=BigInt(21e3),w=h*m,C=await a.getBalance({address:g.address});if(console.log(` ${g.address} ${o} : ${_e(C)}, Gas: ${_e(w)}`),C<y+w){console.warn(` ${g.address} ${o} `),p.push({wallet:g.address,error:`${o} : ${_e(C)}: ${_e(y+w)}`,success:!1});continue}x=await $.sendTransaction({to:e,value:y,gas:m,gasPrice:h})}console.log(`: ${x}`),p.push({wallet:g.address,hash:x,amount:t.toString(),tokenType:n,success:!0}),v<s.length-1&&await new Promise(m=>setTimeout(m,1500))}catch(T){console.error(` ${g.address} :`,T),p.push({wallet:g.address,error:T.message||String(T),success:!1})}}return console.log(":",p),p},async manyToManyTransfer(e,t,n="sequential",s,r="native"){console.log(`: ${e.length} : ${r}`);let o;if(s&&s.length>0?o=this.localWallets.filter(m=>s.includes(m.address)):o=this.selectedWallets,o.length===0)throw new Error("");if(e.length===0)throw new Error("");const a=[],i=[];for(const m of e)!m||!/^0x[0-9a-fA-F]{40}$/.test(m.trim())?a.push(m):i.push(m.trim());if(i.length===0)throw new Error("0x4240");a.length>0&&console.warn(` ${a.length} `);const l=o.filter(m=>m.encrypted);if(l.length===0)throw new Error("");l.length<o.length&&console.warn(`${o.length-l.length} `),o=l;const d=this.getChainConfig(),u=d.nativeCurrency.symbol,f=this.getPublicClient();let p=u,h=18,v=null;if(r==="usdt"){const m=this.getUsdtContractAddress();if(!m)throw new Error(" USDT ");v=m,h=await ls(f,v),p="USDT"}const g=t*i.length;if(!confirm(`

: ${o.length} 
: ${i.length} ${a.length>0?` ${a.length} `:""}
: ${p}
: ${t} ${p}
: ${g} ${p}
: ${n==="sequential"?"":""}

`))throw new Error("");const $=[],x=await f.getGasPrice();let y=[];if(n==="sequential"){let m=0;for(const w of i)y.push({source:o[m%o.length],target:w,amount:r==="usdt"?_t(t.toString(),h):dt(t.toString())}),m++}else for(const m of i){const w=o[Math.floor(Math.random()*o.length)];y.push({source:w,target:m,amount:r==="usdt"?_t(t.toString(),h):dt(t.toString())})}for(let m=0;m<y.length;m++){const w=y[m];try{if(console.log(` ${m+1}/${y.length}: ${w.source.address} -> ${w.target}`),!w.source.encrypted){console.warn(` ${w.source.address} `),$.push({source:w.source.address,target:w.target,error:"",tokenType:r,success:!1});continue}const C=ft(w.source.encrypted),A=tn({account:C,chain:d,transport:et(d.rpcUrls.default.http[0])});let B;if(r==="usdt"&&v){const P=await f.readContract({address:v,abi:je,functionName:"balanceOf",args:[w.source.address]});if(P<w.amount){console.warn(` ${w.source.address} USDT `),$.push({source:w.source.address,target:w.target,error:`USDT : ${ke(P,h)}`,tokenType:r,success:!1});continue}const b=await f.getBalance({address:w.source.address}),k=x*BigInt(65e3);if(b<k){console.warn(` ${w.source.address} ${u}  Gas`),$.push({source:w.source.address,target:w.target,error:`${u}  Gas`,tokenType:r,success:!1});continue}B=await A.writeContract({address:v,abi:je,functionName:"transfer",args:[w.target,w.amount],gas:BigInt(65e3),gasPrice:x})}else{const P=BigInt(21e3),b=x*P,k=await f.getBalance({address:w.source.address});if(k<w.amount+b){console.warn(` ${w.source.address} ${u} `),$.push({source:w.source.address,target:w.target,error:`${u} : ${_e(k)}: ${_e(w.amount+b)}`,tokenType:r,success:!1});continue}B=await A.sendTransaction({to:w.target,value:w.amount,gas:P,gasPrice:x})}console.log(`: ${B}`),$.push({source:w.source.address,target:w.target,hash:B,amount:r==="usdt"?ke(w.amount,h):_e(w.amount),tokenType:r,success:!0}),m<y.length-1&&await new Promise(P=>setTimeout(P,1500))}catch(C){console.error(`: ${w.source.address} -> ${w.target}`,C),$.push({source:w.source.address,target:w.target,error:Zs(C),tokenType:r,success:!1})}}return console.log(":",$),$},async collectToken(e,t){console.log(`ERC20 ${t}`);const n=this.selectedWallets.length>0?this.selectedWallets:this.localWallets;if(n.length===0)throw new Error("");if(!t||!t.startsWith("0x")||t.length!==42)throw new Error("");const s=this.getChainConfig(),r=this.getPublicClient(),o=await ls(r,e);if(!confirm(` ERC20 

: ${e}
: ${n.length} 
: ${t}

`))throw new Error("");const i=[],l=await r.getGasPrice();for(let d=0;d<n.length;d++){const u=n[d];try{if(console.log(` ${d+1}/${n.length}: ${u.address}`),!u.encrypted){console.warn(` ${u.address} `),i.push({wallet:u.address,error:"",success:!1});continue}const f=await r.readContract({address:e,abi:je,functionName:"balanceOf",args:[u.address]});if(f<=BigInt(0)){console.warn(` ${u.address}  0`),i.push({wallet:u.address,error:" 0",success:!1});continue}console.log(`: ${ke(f,o)}`);const p=ft(u.encrypted),v=await tn({account:p,chain:s,transport:et(s.rpcUrls.default.http[0])}).writeContract({address:e,abi:je,functionName:"transfer",args:[t,f],gasPrice:l});console.log(`: ${v}`),i.push({wallet:u.address,hash:v,amount:ke(f,o),success:!0}),d<n.length-1&&await new Promise(g=>setTimeout(g,1500))}catch(f){console.error(` ${u.address} :`,f),i.push({wallet:u.address,error:f.message||String(f),success:!1})}}return console.log(":",i),i},async batchTransferByAddresses(e,t,n,s,r,o){console.log(`: ${r}: ${s}: ${o==null?void 0:o.transferAllBalance}`);const a=[],i=this.getChainConfig(),l=this.getPublicClient(),d=await l.getGasPrice();let u=[];if(r==="oneToMany"){if(e.length!==1)throw new Error("1");const f=e[0];for(const p of t)u.push({sourceAddr:f,targetAddr:p})}else if(r==="manyToOne"){if(t.length!==1)throw new Error("1");const f=t[0];for(const p of e)u.push({sourceAddr:p,targetAddr:f})}else if(r==="manyToMany"){if(e.length!==t.length)throw new Error("");for(let f=0;f<e.length;f++)u.push({sourceAddr:e[f],targetAddr:t[f]})}for(let f=0;f<u.length;f++){const{sourceAddr:p,targetAddr:h}=u[f];try{let v;if(o!=null&&o.privateKeyMap&&o.privateKeyMap[p.toLowerCase()])v=o.privateKeyMap[p.toLowerCase()];else{const m=this.localWallets.find(w=>w.address.toLowerCase()===p.toLowerCase());v=m==null?void 0:m.encrypted}if(!v){a.push({source:p,target:h,error:"",success:!1});continue}console.log(` ${f+1}/${u.length}: ${p} -> ${h}`);const g=ft(v),T=tn({account:g,chain:i,transport:et(i.rpcUrls.default.http[0])});let $,x=n;if(s==="token"&&this.targetToken){const m=this.targetToken.address,w=this.targetToken.decimals;if(o!=null&&o.transferAllBalance){const C=await l.readContract({address:m,abi:je,functionName:"balanceOf",args:[p]});if(x=Number(ke(C,w)),x<=0){a.push({source:p,target:h,error:"0",success:!1});continue}$=await T.writeContract({address:m,abi:je,functionName:"transfer",args:[h,C],gas:BigInt(65e3),gasPrice:d})}else{const C=await l.readContract({address:m,abi:je,functionName:"balanceOf",args:[p]}),A=_t(n.toString(),w);if(C<A){a.push({source:p,target:h,error:`: ${ke(C,w)}, : ${n}`,success:!1});continue}$=await T.writeContract({address:m,abi:je,functionName:"transfer",args:[h,A],gas:BigInt(65e3),gasPrice:d})}}else if(o!=null&&o.transferAllBalance){const m=await l.getBalance({address:p}),w=BigInt(21e3),C=d*w,A=m-C;if(A<=BigInt(0)){a.push({source:p,target:h,error:` gas : ${_e(m)} BNBGas: ${_e(C)} BNB`,success:!1});continue}x=Number(_e(A)),console.log(`: ${_e(m)} BNB, Gas: ${_e(C)} BNB, : ${x} BNB`),$=await T.sendTransaction({to:h,value:A,gas:w,gasPrice:d})}else{const m=await l.getBalance({address:p}),w=BigInt(21e3),C=d*w,A=dt(n.toString());if(m<A+C){a.push({source:p,target:h,error:`: ${_e(m)} BNB: ${_e(A+C)} BNB`,success:!1});continue}$=await T.sendTransaction({to:h,value:A,gas:w,gasPrice:d})}console.log(`: ${$}`),(await l.waitForTransactionReceipt({hash:$,timeout:6e4})).status==="success"?(console.log(`: ${$}, : ${x}`),a.push({source:p,target:h,hash:$,success:!0,amount:x})):(console.error(`(): ${$}`),a.push({source:p,target:h,hash:$,error:"",success:!1})),f<u.length-1&&await new Promise(m=>setTimeout(m,1500))}catch(v){console.error(`: ${p} -> ${h}`,v),a.push({source:p,target:h,error:Zs(v),success:!1})}}return console.log(":",a),a},async testContractConnection(){try{const e=kd[this.currentChainId];if(!e||e==="0x0000000000000000000000000000000000000000")throw new Error("");console.log(`: ${e}`);const t=this.getPublicClient(),n=await t.readContract({address:e,abi:Zo,functionName:"getBalance",args:[]});console.log(":",_e(n));const s=await t.readContract({address:e,abi:Zo,functionName:"getTokenType",args:["0x0000000000000000000000000000000000000000"]});return console.log(":",s),{success:!0,contractAddress:e,balance:_e(n),tokenType:Number(s),message:""}}catch(e){return console.error(":",e),{success:!1,error:e.message||"",message:""}}}}}),Ws=[{inputs:[{internalType:"address",name:"tokenA",type:"address"},{internalType:"address",name:"tokenB",type:"address"}],name:"getPair",outputs:[{internalType:"address",name:"pair",type:"address"}],stateMutability:"view",type:"function"}],bn=[{inputs:[],name:"getReserves",outputs:[{internalType:"uint112",name:"_reserve0",type:"uint112"},{internalType:"uint112",name:"_reserve1",type:"uint112"},{internalType:"uint32",name:"_blockTimestampLast",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"token0",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token1",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],_n=[{type:"function",name:"getAmountsOut",stateMutability:"view",inputs:[{name:"amountIn",type:"uint256"},{name:"path",type:"address[]"}],outputs:[{name:"amounts",type:"uint256[]"}]},{type:"function",name:"getAmountsIn",stateMutability:"view",inputs:[{name:"amountOut",type:"uint256"},{name:"path",type:"address[]"}],outputs:[{name:"amounts",type:"uint256[]"}]},{type:"function",name:"WETH",stateMutability:"view",inputs:[],outputs:[{name:"",type:"address"}]},{type:"function",name:"swapExactETHForTokens",stateMutability:"payable",inputs:[{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],outputs:[{name:"amounts",type:"uint256[]"}]},{type:"function",name:"swapExactETHForTokensSupportingFeeOnTransferTokens",stateMutability:"payable",inputs:[{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],outputs:[]},{type:"function",name:"swapExactTokensForETH",stateMutability:"nonpayable",inputs:[{name:"amountIn",type:"uint256"},{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],outputs:[{name:"amounts",type:"uint256[]"}]},{type:"function",name:"swapExactTokensForETHSupportingFeeOnTransferTokens",stateMutability:"nonpayable",inputs:[{name:"amountIn",type:"uint256"},{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],outputs:[]},{type:"function",name:"swapExactTokensForTokens",stateMutability:"nonpayable",inputs:[{name:"amountIn",type:"uint256"},{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],outputs:[{name:"amounts",type:"uint256[]"}]},{type:"function",name:"swapExactTokensForTokensSupportingFeeOnTransferTokens",stateMutability:"nonpayable",inputs:[{name:"amountIn",type:"uint256"},{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],outputs:[]}];class Ir{constructor(t,n,s,r,o){Nt(this,"client");Nt(this,"factoryAddress");Nt(this,"routerAddress");Nt(this,"baseTokens");Nt(this,"chainId");this.client=Xn({transport:et(t)}),this.factoryAddress=Ve(n),this.routerAddress=r?Ve(r):"",this.baseTokens=s.map(a=>Ve(a)),this.chainId=o||56}async findTokenPair(t,n){if(console.log(` ${t} ...`),n&&this.routerAddress){console.log(" Router ...");const s=await this.getPriceViaRouter(t,n);if(s)return s;console.log("Router ...")}if(n)try{console.log(` ${n} ...`);const s=Ve(t),r=Ve(n);let o=await this.client.readContract({address:this.factoryAddress,abi:Ws,functionName:"getPair",args:[s,r]}).catch(()=>null);if((!o||o==="0x0000000000000000000000000000000000000000")&&(o=await this.client.readContract({address:this.factoryAddress,abi:Ws,functionName:"getPair",args:[r,s]}).catch(()=>null)),o&&o!=="0x0000000000000000000000000000000000000000"){console.log(`: ${o}`);const i=await this.getPairInfo(o,t,n);if(i)return i}console.log("...");const a=await this.findRoutedPrice(t,n);if(a)return a}catch(s){console.warn(` ${n} :`,s)}for(const s of this.baseTokens)try{console.log(` ${s} ...`);const r=Ve(t),o=Ve(s),a=await this.client.readContract({address:this.factoryAddress,abi:Ws,functionName:"getPair",args:[r,o]});if(a&&a!=="0x0000000000000000000000000000000000000000"){console.log(`: ${a}`);const i=await this.getPairInfo(a,t,s);if(i)return i}}catch(r){console.warn(` ${s} :`,r);continue}return console.log(""),null}async findRoutedPrice(t,n){const s=Ve(t),r=Ve(n);for(const o of this.baseTokens){const a=Ve(o);if(a.toLowerCase()!==r.toLowerCase())try{console.log(`: Token -> ${a} -> ${r}`);const i=await this.client.readContract({address:this.factoryAddress,abi:Ws,functionName:"getPair",args:[s,a]}).catch(()=>null);if(!i||i==="0x0000000000000000000000000000000000000000")continue;const l=await this.client.readContract({address:this.factoryAddress,abi:Ws,functionName:"getPair",args:[a,r]}).catch(()=>null);if(!l||l==="0x0000000000000000000000000000000000000000")continue;console.log(`: ${i} -> ${l}`);const d=await this.getPairInfo(i,t,o),u=await this.getPairInfo(l,o,n);if(d&&u){const f=d.price*u.price;return console.log(`: ${d.price} (Token/${o.slice(0,6)})  ${u.price} (${o.slice(0,6)}/${n.slice(0,6)}) = ${f}`),{pairAddress:i,token0:d.token0,token1:d.token1,reserve0:d.reserve0,reserve1:d.reserve1,price:f,baseToken:r,isRouted:!0,routePath:[s,a,r],intermediatePrice:u.price}}}catch(i){console.warn(` ${o} :`,i);continue}}return console.log(""),null}async getPairInfo(t,n,s){try{const r=await this.client.readContract({address:t,abi:bn,functionName:"getReserves"}),o=await this.client.readContract({address:t,abi:bn,functionName:"token0"}),a=await this.client.readContract({address:t,abi:bn,functionName:"token1"}),i=Ve(n),l=Ve(s),d=await this.getTokenDecimals(i),u=await this.getTokenDecimals(l),f=Ve(o),p=Ve(a);let h=0;return f.toLowerCase()===i.toLowerCase()?h=Number(ke(r[1],u))/Number(ke(r[0],d)):h=Number(ke(r[0],u))/Number(ke(r[1],d)),{pairAddress:t,token0:f,token1:p,reserve0:r[0],reserve1:r[1],price:h,baseToken:l}}catch(r){return console.error(":",r),null}}async getTokenDecimals(t){try{const n=await this.client.readContract({address:t,abi:je,functionName:"decimals"});return Number(n)}catch(n){return console.warn(` ${t} 18:`,n),18}}async getPriceViaRouter(t,n){if(!this.routerAddress)return console.log(" Router  Router "),null;const s=Ve(t),r=Ve(n),o=Ol[this.chainId];if(!o)return console.log(` chainId ${this.chainId}  WBNB `),null;const a=Ve(o);try{const i=await this.getTokenDecimals(s),l=await this.getTokenDecimals(r),d=_t("1",i),u=[[s,a,r],[s,r]];let f=0,p=null,h=!1;for(const v of u)try{console.log(`: ${v.map(x=>x.slice(0,10)).join(" -> ")}`);const g=await this.client.readContract({address:this.routerAddress,abi:_n,functionName:"getAmountsOut",args:[d,v]}),T=g[g.length-1],$=Number(ke(T,l));console.log(`: ${$}`),$>f&&(f=$,p=v,h=v.length>2)}catch{console.log(`: ${v.map(T=>T.slice(0,10)).join(" -> ")}`);continue}if(p&&f>0){console.log(`: ${p.map(y=>y.slice(0,10)).join(" -> ")}, : ${f}`);let v=BigInt(0),g=BigInt(0),T=this.routerAddress,$=s,x=r;try{const y=await this.client.readContract({address:this.factoryAddress,abi:Ws,functionName:"getPair",args:[s,r]}).catch(()=>null);if(y&&y!=="0x0000000000000000000000000000000000000000"){T=y;const m=await this.client.readContract({address:y,abi:bn,functionName:"getReserves"}).catch(()=>null);if(m){const w=await this.client.readContract({address:y,abi:bn,functionName:"token0"}).catch(()=>null);w&&($=w,x=w.toLowerCase()===s.toLowerCase()?r:s,v=m[0],g=m[1],console.log(`: reserve0=${v}, reserve1=${g}`))}}}catch{console.log("")}return{pairAddress:T,token0:$,token1:x,reserve0:v,reserve1:g,price:f,baseToken:r,isRouted:h,routePath:h?p:void 0}}}catch(i){console.error("Router :",i)}return null}calculateSwapAmount(t,n,s){const{reserve0:r,reserve1:o,token0:a,token1:i}=t;if(s){const l=Number(o)/Number(r),d=n/l,u=Number(o)*(d-1);return BigInt(Math.floor(u))}else{const d=Number(o)/Number(r)/n,u=Number(r)*(d-1);return BigInt(Math.floor(u))}}}const vx={class:"row g-3"},wx={class:"col-12 col-md-4"},xx=["value"],$x={class:"col-12 col-md-4"},Tx={class:"form-label small d-flex justify-content-between align-items-center"},kx={key:0,class:"input-group input-group-sm"},Cx=["disabled"],Ex=["value"],_x={class:"col-12 col-md-4"},Px=["value"],Ax={class:"col-12 col-md-6"},Sx=["value"],Bx={class:"col-12 col-md-6"},Ix={class:"col-12"},Nx={class:"d-flex gap-2 flex-wrap"},Ox=["disabled"],Mx={key:0,class:"col-12"},Rx={class:"card border-success"},Fx={class:"card-body py-2"},Lx={class:"d-flex justify-content-between align-items-center"},Ux={class:"small text-muted"},Dx={class:"h5 mb-0 text-success font-monospace"},zx={key:0,class:"mt-1"},jx={class:"text-primary fw-bold"},Wx={class:"mt-1"},Vx={class:"text-muted"},Hx={key:0,class:"badge bg-info ms-2"},Gx={class:"d-flex gap-2"},qx=["disabled"],Kx={key:1,class:"col-12"},Zx={class:"alert alert-success py-2 mb-0 small d-flex justify-content-between align-items-center"},Yx={class:"ms-2 text-muted"},Jx={key:2,class:"col-12"},Qx={class:"alert alert-warning alert-dismissible fade show py-2 mb-0 small",role:"alert"},Ah=ut({__name:"LiquidityPoolQuery",setup(e){const t=$n(),n=fa(),s=os(),{chains:r,rpcUrl:o}=bt(t),{localWallets:a,targetToken:i,poolQueryState:l}=bt(s),{currentDex:d,currentDexName:u,currentFactoryAddress:f,currentRouterAddress:p,currentBaseTokens:h,selectedDexId:v,allDexConfigs:g}=bt(n),T=Q(t.selectedChainId),$=Q(o.value),x=Q(v.value),y=pe({get:()=>l.value.currentPrice,set:G=>s.updatePoolQueryState({currentPrice:G})}),m=pe({get:()=>l.value.marketCap,set:G=>s.updatePoolQueryState({marketCap:G})}),w=pe({get:()=>l.value.priceDisplay,set:G=>s.updatePoolQueryState({priceDisplay:G})}),C=pe({get:()=>l.value.isUpdating,set:G=>s.updatePoolQueryState({isUpdating:G})}),A=pe({get:()=>l.value.lastUpdateTime,set:G=>s.updatePoolQueryState({lastUpdateTime:G})}),B=pe({get:()=>l.value.isRoutedPrice,set:G=>s.updatePoolQueryState({isRoutedPrice:G})}),P=pe({get:()=>l.value.quoteTokenSymbol,set:G=>s.updatePoolQueryState({quoteTokenSymbol:G})}),b=pe({get:()=>l.value.selectedQuoteToken,set:G=>s.updatePoolQueryState({selectedQuoteToken:G})}),k=pe({get:()=>l.value.tokenAddress,set:G=>s.updatePoolQueryState({tokenAddress:G})}),M=pe({get:()=>l.value.tokenSymbol,set:G=>s.updatePoolQueryState({tokenSymbol:G})}),I=pe({get:()=>l.value.tokenName,set:G=>s.updatePoolQueryState({tokenName:G})}),Z=pe({get:()=>l.value.tokenDecimals,set:G=>s.updatePoolQueryState({tokenDecimals:G})}),z=Q(!1),L=Q(""),V=Q([]),R=Q(null),J=Q(!1),ae=Q(""),me=Q(!1),fe=Q(null),Ee=pe(()=>{const G=r.value.find(ee=>ee.id===T.value);return(G==null?void 0:G.rpcOptions)||[]});function Ie(G){try{return new URL(G).hostname}catch{return G}}function Pe(G){return G===0?"0":G>=1?G.toFixed(8).replace(/\.?0+$/,""):G.toFixed(30).replace(/(\.\d*?[1-9])0+$/,"$1").replace(/\.0+$/,"")}function we(G){return G>=1e3?G.toFixed(2):G>=1?G.toFixed(4):G.toFixed(6)}function j(){We(),y.value=null,m.value=null}const he=[{name:"PancakeSwap V2",factory:"0xcA143Ce32Fe78f1f7019d7d551a6402fC5350c73",initCodeHash:"0x00fb7f630766e6a796048ea87d01acd3068e8ff67d078148a3fa3f4a84f69bd5"},{name:"PancakeSwap V2 (alt)",factory:"0xcA143Ce0Fe65960E6Aa4D42C8D3cE161c2B6604f",initCodeHash:"0x00fb7f630766e6a796048ea87d01acd3068e8ff67d078148a3fa3f4a84f69bd5"},{name:"BiSwap",factory:"0x858E3312ed3A876947EA49d572A7C42DE08af7EE",initCodeHash:"0xfea293c909d87cd4153593f077b76bb7e94340200f4ee84211ae8e4f9bd7ffdf"},{name:"ApeSwap",factory:"0x0841BD0B734E4F5853f0dD8d7Ea041c241fb0Da6",initCodeHash:"0xf4ccce374816856d11f00e4069e7cada164065686fbef53c6167a63ec2fd8c5b"},{name:"BabySwap",factory:"0x86407bEa2078ea5f5EB5A52B2caA963bC1F889Da",initCodeHash:"0x48c8bec5512d397a5d512fbb7d83d515e7b6d91e9838730e97ab59429f581697"},{name:"MDEX",factory:"0x3CD1C46068dAEa5Ebb0d3f55F6915B10648062B8",initCodeHash:"0x0d994d996174b05cfc7bed897dc1b20b4c458fc8d64fe98bc78b3c64a6b4d093"}];function vt(G,ee,ie,Fe){const He=Ve(G),Ke=Ve(ee),Ze=Ve(ie),[Xt,en]=Ke.toLowerCase()<Ze.toLowerCase()?[Ke,Ze]:[Ze,Ke],Dt=nt(fd(["address","address"],[Xt,en])),qn=nt(fd(["bytes1","address","bytes32","bytes32"],["0xff",He,Dt,Fe]));return Ve("0x"+qn.slice(-40))}async function ot(G,ee,ie){for(const Fe of he){const He=vt(Fe.factory,ee,ie,Fe.initCodeHash);try{const Ke=await G.readContract({address:He,abi:bn,functionName:"getReserves"});if(Ke&&(Ke[0]>0n||Ke[1]>0n))return console.log(` [${Fe.name}]: ${He}`),{pairAddress:He,dexName:Fe.name}}catch{}}return console.log(" DEX "),null}function Gn(){if(!k.value||!M.value){alert("");return}s.setTargetToken({address:k.value,symbol:M.value,name:I.value||M.value,decimals:Z.value}),alert(` ${M.value} `)}function E(){s.clearTargetToken()}const S=pe(()=>{var G,ee,ie;return((ee=(G=s.targetToken)==null?void 0:G.address)==null?void 0:ee.toLowerCase())===((ie=k.value)==null?void 0:ie.toLowerCase())}),D=new Map,K=Q(0),q={"0x8516fc284aeeaa0374e66037bd2309349ff728ea":{name:"BUSD Token",symbol:"BUSD"},"0x4be45c88db35383f713abc1adfa816200e0b8b56":{name:"Tether USD",symbol:"USDT"}},Y=pe(()=>{const G=T.value,ee=n.chainDexMappings.find(ie=>ie.chainId===G);if(ee){const ie=g.value.find(Fe=>Fe.id===ee.dexId);return ie?[ie]:[]}return g.value}),le=pe(()=>(K.value,(h.value||[]).map(ee=>{const ie=D.get(ee.toLowerCase());return ie?{address:ee,display:`${ie.symbol} (${ie.name})`}:{address:ee,display:`${X(ee)} (...)`}}))),oe=pe(()=>b.value&&k.value&&!z.value);function re(){return T.value===97?rr:T.value===56?hr:T.value===66?_h:hr}function X(G){return G?`${G.slice(0,6)}...${G.slice(-4)}`:""}async function ye(G,ee){const ie=G.toLowerCase();if(D.has(ie))return D.get(ie);try{const[Fe,He]=await Promise.allSettled([ee.readContract({address:G,abi:je,functionName:"name"}),ee.readContract({address:G,abi:je,functionName:"symbol"})]),Ke=Fe.status==="fulfilled"?Fe.value:"",Ze=He.status==="fulfilled"?He.value:"";if(!Ke&&!Ze){const Dt={name:"Unknown Token",symbol:X(G).toUpperCase()};return D.set(ie,Dt),K.value++,Dt}let Xt={name:Ke||"Unknown Token",symbol:Ze||X(G).toUpperCase()};const en=q[ie];return en&&(Xt={name:en.name,symbol:en.symbol}),D.set(ie,Xt),K.value++,Xt}catch{const He={name:"Unknown Token",symbol:X(G).toUpperCase()};return D.set(ie,He),K.value++,He}}async function ce(){const G=h.value||[];if(G.length===0)return;const ee=r.value.find(Fe=>Fe.id===T.value);if(!ee)return;const ie=Xn({chain:re(),transport:et(ee.rpc)});await Promise.allSettled(G.map(Fe=>{const He=Fe.toLowerCase();return D.has(He)?Promise.resolve(D.get(He)):ye(Fe,ie)})),K.value++}async function ve(){We(),t.selectedChainId=T.value,s.setCurrentChainId(T.value);const G=r.value.find(ee=>ee.id===T.value);G&&(G.rpcOptions&&G.rpcOptions.length>0?($.value=G.rpcOptions[0].url,t.rpcUrl=G.rpcOptions[0].url):($.value=G.rpc,t.rpcUrl=G.rpc)),n.setDexByChainId(T.value),x.value=v.value,b.value="",k.value="",y.value=null,m.value=null,L.value="",D.clear(),K.value++,await ce()}function W(){t.rpcUrl=$.value,fe.value=null,console.log("RPC:",$.value)}function _(){ae.value&&(t.rpcUrl=ae.value,$.value=ae.value,fe.value=null,console.log("RPC:",ae.value))}async function U(){var G;if(ae.value){me.value=!0,fe.value=null;try{const ie=await Xn({transport:et(ae.value)}).getBlockNumber();fe.value={success:!0,message:`: ${ie}`},t.rpcUrl=ae.value,$.value=ae.value}catch(ee){fe.value={success:!1,message:`: ${((G=ee.message)==null?void 0:G.slice(0,50))||""}`}}finally{me.value=!1}}}async function de(){We(),n.setDex(x.value),b.value="",y.value=null,m.value=null,L.value="",await ce()}function $e(){We(),y.value=null,m.value=null,L.value=""}function Te(){We(),y.value=null,m.value=null,L.value=""}async function Me(){if(oe.value){We(),z.value=!0,L.value="";try{const G=r.value.find(Ze=>Ze.id===T.value);if(!G)throw new Error("");const ee=Xn({chain:re(),transport:et($.value||G.rpc)}),ie=await ye(k.value,ee),Fe=await ye(b.value,ee);ie?(M.value=ie.symbol,I.value=ie.name):(M.value="TOKEN",I.value="Unknown Token");try{const Ze=await ee.readContract({address:k.value,abi:je,functionName:"decimals"});Z.value=Number(Ze)}catch{Z.value=18}Fe?P.value=Fe.symbol:P.value="QUOTE";const He=new Ir($.value||G.rpc,f.value,h.value,p.value,T.value),Ke=await He.findTokenPair(k.value,b.value);if(!Ke)throw new Error("");Ke.isRouted&&Ke.routePath?(B.value=!0,V.value=Ke.routePath):(B.value=!1,V.value=[]);try{let Ze=BigInt(0),Xt=Ke.token0.toLowerCase();if(Ke.reserve0===BigInt(0)&&Ke.reserve1===BigInt(0)){console.log("pairInfo  0...");const dn=await ot(ee,k.value,b.value);if(dn){console.log(":",dn.pairAddress,":",dn.dexName);const Cr=await ee.readContract({address:dn.pairAddress,abi:bn,functionName:"getReserves"});console.log("reserve0:",Cr[0].toString()),console.log("reserve1:",Cr[1].toString());const Lo=await ee.readContract({address:dn.pairAddress,abi:bn,functionName:"token0"});console.log("token0:",Lo),Xt=Lo.toLowerCase();const Nh=b.value.toLowerCase();Xt===Nh?(Ze=Cr[0],console.log("quoteReserve = reserve0:",Ze.toString())):(Ze=Cr[1],console.log("quoteReserve = reserve1:",Ze.toString()))}else console.log("")}else{const dn=b.value.toLowerCase();Xt===dn?Ze=Ke.reserve0:Ze=Ke.reserve1}const Dt=10n**BigInt(18),qn=Number(Ze)/Number(Dt);m.value=qn,console.log(" BNB :",qn,P.value)}catch(Ze){console.error(":",Ze),m.value=null}ze(Ke.price),It(He,k.value)}catch(G){L.value=G.message||"",y.value=null,w.value=""}finally{z.value=!1}}}function ze(G){y.value=G,w.value=`${P.value}/${M.value}`,A.value=new Date().toLocaleTimeString()}function It(G,ee){We(),C.value=!0,L.value="",kr(G,ee),R.value=window.setInterval(async()=>{const ie=r.value.find(He=>He.id===T.value);if(!ie){We();return}const Fe=new Ir($.value||ie.rpc,f.value,h.value,p.value,T.value);await kr(Fe,ee)},3e3)}async function kr(G,ee){try{const ie=await G.findTokenPair(ee,b.value);if(!ie){L.value="...";return}ie.isRouted&&ie.routePath?(B.value=!0,V.value=ie.routePath):(B.value=!1,V.value=[]);try{let Fe=BigInt(0),He=ie.token0.toLowerCase();if(ie.reserve0===BigInt(0)&&ie.reserve1===BigInt(0)){const en=r.value.find(Dt=>Dt.id===T.value);if(en){const Dt=Xn({chain:re(),transport:et($.value||en.rpc)}),qn=await ot(Dt,ee,b.value);if(qn){const dn=await Dt.readContract({address:qn.pairAddress,abi:bn,functionName:"getReserves"});He=(await Dt.readContract({address:qn.pairAddress,abi:bn,functionName:"token0"})).toLowerCase();const Lo=b.value.toLowerCase();He===Lo?Fe=dn[0]:Fe=dn[1]}}}else{const en=b.value.toLowerCase();He===en?Fe=ie.reserve0:Fe=ie.reserve1}const Ze=10n**BigInt(18),Xt=Number(Fe)/Number(Ze);m.value=Xt}catch{}ze(ie.price),L.value=""}catch(ie){L.value=`: ${ie.message||""}`}}function We(){R.value!==null&&(clearInterval(R.value),R.value=null),C.value=!1}return Tt([T,x,b,()=>k.value],()=>{We()}),Zl(()=>{We()}),gr(async()=>{if(T.value=t.selectedChainId,$.value=o.value,x.value=v.value,s.setCurrentChainId(t.selectedChainId),await new Promise(G=>setTimeout(G,100)),await ce(),y.value!==null&&k.value&&!C.value){const G=r.value.find(ee=>ee.id===T.value);if(G){const ee=new Ir($.value||G.rpc,f.value,h.value,p.value,T.value);It(ee,k.value)}}}),df(async()=>{if(y.value!==null&&k.value&&!C.value){const G=r.value.find(ee=>ee.id===T.value);if(G){const ee=new Ir($.value||G.rpc,f.value,h.value,p.value,T.value);It(ee,k.value)}}}),Tt(h,async(G,ee)=>{G&&G.length>0&&G!==ee&&await ce()},{immediate:!1}),Tt(x,async()=>{await new Promise(G=>setTimeout(G,100)),await ce()}),(G,ee)=>(N(),F("div",null,[ee[21]||(ee[21]=c("div",{class:"d-flex justify-content-between align-items-center mb-3"},[c("h2",{class:"h6 mb-0"},"")],-1)),c("div",vx,[c("div",wx,[ee[8]||(ee[8]=c("label",{class:"form-label small"},"",-1)),ue(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":ee[0]||(ee[0]=ie=>T.value=ie),onChange:ve},[(N(!0),F(Oe,null,Je(te(r),ie=>(N(),F("option",{key:ie.id,value:ie.id},O(ie.name),9,xx))),128))],544),[[Ye,T.value]])]),c("div",$x,[c("label",Tx,[ee[9]||(ee[9]=c("span",null,"RPC",-1)),c("button",{class:"btn btn-link btn-sm p-0 text-decoration-none",onClick:ee[1]||(ee[1]=ie=>J.value=!J.value)},O(J.value?"":""),1)]),J.value?(N(),F("div",kx,[ue(c("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":ee[2]||(ee[2]=ie=>ae.value=ie),placeholder:"https://...",onChange:_},null,544),[[Ae,ae.value]]),c("button",{class:"btn btn-outline-secondary",type:"button",onClick:U,disabled:!ae.value||me.value},[c("i",{class:Se(["bi",me.value?"bi-hourglass-split":"bi-lightning"])},null,2)],8,Cx)])):ue((N(),F("select",{key:1,class:"form-select form-select-sm","onUpdate:modelValue":ee[3]||(ee[3]=ie=>$.value=ie),onChange:W},[(N(!0),F(Oe,null,Je(Ee.value,ie=>(N(),F("option",{key:ie.url,value:ie.url},O(ie.name)+" ("+O(Ie(ie.url))+") ",9,Ex))),128))],544)),[[Ye,$.value]]),fe.value?(N(),F("div",{key:2,class:Se(["small mt-1",fe.value.success?"text-success":"text-danger"])},O(fe.value.message),3)):be("",!0)]),c("div",_x,[ee[10]||(ee[10]=c("label",{class:"form-label small"},"",-1)),ue(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":ee[4]||(ee[4]=ie=>x.value=ie),onChange:de},[(N(!0),F(Oe,null,Je(Y.value,ie=>(N(),F("option",{key:ie.id,value:ie.id},O(ie.name),9,Px))),128))],544),[[Ye,x.value]])]),c("div",Ax,[ee[12]||(ee[12]=c("label",{class:"form-label small"},"",-1)),ue(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":ee[5]||(ee[5]=ie=>b.value=ie),onChange:$e},[ee[11]||(ee[11]=c("option",{value:""},"",-1)),(N(!0),F(Oe,null,Je(le.value,ie=>(N(),F("option",{key:ie.address,value:ie.address},O(ie.display),9,Sx))),128))],544),[[Ye,b.value]])]),c("div",Bx,[ee[13]||(ee[13]=c("label",{class:"form-label small"},"",-1)),ue(c("input",{class:"form-control form-control-sm","onUpdate:modelValue":ee[6]||(ee[6]=ie=>k.value=ie),placeholder:"0x...",onInput:Te},null,544),[[Ae,k.value]])]),c("div",Ix,[c("div",Nx,[c("button",{class:"btn btn-primary btn-sm",onClick:Me,disabled:!oe.value||z.value},[ee[14]||(ee[14]=c("i",{class:"bi bi-search me-1"},null,-1)),se(" "+O(z.value?"...":""),1)],8,Ox)])]),y.value!==null?(N(),F("div",Mx,[c("div",Rx,[c("div",Fx,[c("div",Lx,[c("div",null,[c("div",Ux," ("+O(w.value)+")",1),c("div",Dx,O(y.value!==null?Pe(y.value):"-"),1),m.value!==null?(N(),F("div",zx,[ee[15]||(ee[15]=c("span",{class:"small text-muted"},": ",-1)),c("span",jx,O(we(m.value))+" "+O(P.value),1)])):be("",!0),c("div",Wx,[c("small",Vx,O(A.value),1),B.value?(N(),F("span",Hx,"")):be("",!0)])]),c("div",Gx,[C.value?(N(),F("button",{key:0,class:"btn btn-outline-danger btn-sm",onClick:j},[...ee[16]||(ee[16]=[c("i",{class:"bi bi-stop-circle me-1"},null,-1),se(" ",-1)])])):be("",!0),c("button",{class:Se(["btn btn-sm",S.value?"btn-success":"btn-outline-primary"]),onClick:Gn,disabled:!M.value},[c("i",{class:Se(["bi me-1",S.value?"bi-check-circle":"bi-crosshair"])},null,2),se(" "+O(S.value?"":""),1)],10,qx)])])])])])):be("",!0),te(i)?(N(),F("div",Kx,[c("div",Zx,[c("span",null,[ee[17]||(ee[17]=c("i",{class:"bi bi-crosshair me-1"},null,-1)),ee[18]||(ee[18]=se(" : ",-1)),c("strong",null,O(te(i).symbol),1),se(" ("+O(te(i).name)+") ",1),c("code",Yx,O(X(te(i).address)),1)]),c("button",{class:"btn btn-outline-danger btn-sm",onClick:E},[...ee[19]||(ee[19]=[c("i",{class:"bi bi-x-lg me-1"},null,-1),se(" ",-1)])])])])):be("",!0),L.value?(N(),F("div",Jx,[c("div",Qx,[ee[20]||(ee[20]=c("i",{class:"bi bi-exclamation-triangle me-1"},null,-1)),se(" "+O(L.value)+" ",1),c("button",{type:"button",class:"btn-close",style:{padding:"0.5rem"},onClick:ee[7]||(ee[7]=ie=>L.value=""),"aria-label":"Close"})])])):be("",!0)])]))}}),Xx={class:"d-flex justify-content-between align-items-center"},e8={class:"text-muted small"},t8={class:"row g-2 mt-2"},n8={class:"col-12 col-md-4"},s8={class:"col-6 col-md-2"},r8={class:"col-6 col-md-3"},o8={class:"col-12 col-md-3 d-grid"},a8=["disabled"],i8={class:"row g-2 mt-2"},l8={class:"col-12"},c8={class:"form-check form-check-inline"},u8={key:0,class:"mt-3 pt-3 border-top"},d8={class:"row g-2 align-items-end"},f8={class:"col-12 col-md-5"},p8=["value"],h8={class:"col-6 col-md-3"},m8={class:"col-6 col-md-4 d-grid"},b8=["disabled"],g8={key:0},y8={key:1},v8={key:1,class:"alert alert-info small mt-2"},w8={key:2,class:"small text-muted mt-1"},x8=ut({__name:"WalletImportPanel",setup(e){const t=os(),n=$n(),{walletBatches:s}=bt(t),r=Q(null),o=Q("normal"),a=Q(""),i=Q(!0),l=Q(null),d=Q(!1),u=Q(""),f=Q("normal"),p=Q(!1),h=pe(()=>{const y=n.chains.find(m=>m.id===n.selectedChainId);return y?`${y.name} (${y.governanceToken})`:""});function v(y){var w;const m=y.target;r.value=((w=m.files)==null?void 0:w[0])??null,l.value=null}function g(y){const m=y.split(/\r?\n/).map(A=>A.trim()).filter(Boolean),w=[],C=/^(0x)?[0-9a-fA-F]{64}$/;for(const A of m){const B=A.split(",").map(P=>P.trim().replace(/^["']|["']$/g,""));for(const P of B)P.toLowerCase().includes("private")||P.toLowerCase().includes("key")||P.toLowerCase().includes("address")||P.toLowerCase()==="id"||P.toLowerCase()==="index"||C.test(P)&&w.push(P)}return w}function T(y){const m=y.split(/\r?\n/).map(C=>C.trim()).filter(Boolean),w=/^(0x)?[0-9a-fA-F]{64}$/;return m.filter(C=>w.test(C))}async function $(){if(!r.value){alert("");return}const y=await r.value.text(),m=r.value.name.toLowerCase();let w;if(m.endsWith(".csv")?w=g(y):w=T(y),w.length===0){alert("");return}if(l.value=t.importWalletsFromPrivateKeys(w,{walletType:o.value,remark:a.value}),i.value&&l.value.added>0)try{await t.createBatchFromPrivateKeys(w,a.value||"",o.value)}catch(C){console.error(":",C)}if(l.value.added>0){d.value=!0;try{await t.refreshAllBalances()}finally{d.value=!1}}}async function x(){if(!u.value){alert("");return}p.value=!0;try{const y=t.importWalletsFromBatch(u.value,f.value);l.value=y,y.added>0?(await t.refreshAllBalances(),alert(` ${y.added} ${y.duplicates>0?`${y.duplicates} `:""}`)):y.duplicates>0&&alert(`${y.duplicates} `)}catch(y){alert(y.message||"")}finally{p.value=!1}}return(y,m)=>(N(),F("div",null,[c("div",Xx,[m[5]||(m[5]=c("h2",{class:"h6 mb-0"},"",-1)),c("span",e8,""+O(h.value),1)]),c("div",t8,[c("div",n8,[c("input",{class:"form-control form-control-sm",type:"file",accept:".txt,.csv",onChange:v},null,32)]),c("div",s8,[ue(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":m[0]||(m[0]=w=>o.value=w)},[...m[6]||(m[6]=[c("option",{value:"main"},"",-1),c("option",{value:"normal"},"",-1)])],512),[[Ye,o.value]])]),c("div",r8,[ue(c("input",{class:"form-control form-control-sm","onUpdate:modelValue":m[1]||(m[1]=w=>a.value=w),placeholder:""},null,512),[[Ae,a.value]])]),c("div",o8,[c("button",{class:"btn btn-primary btn-sm",onClick:$,disabled:!r.value||d.value},O(d.value?"...":""),9,a8)])]),c("div",i8,[c("div",l8,[c("div",c8,[ue(c("input",{type:"checkbox",class:"form-check-input",id:"createBatchCheck","onUpdate:modelValue":m[2]||(m[2]=w=>i.value=w)},null,512),[[Dr,i.value]]),m[7]||(m[7]=c("label",{class:"form-check-label small",for:"createBatchCheck"},"  ",-1))])])]),m[13]||(m[13]=c("div",{class:"small text-muted mt-2"},"  .txt  .csv 64CSV ",-1)),te(s).length>0?(N(),F("div",u8,[m[12]||(m[12]=c("div",{class:"d-flex justify-content-between align-items-center mb-2"},[c("span",{class:"small fw-bold"},"")],-1)),c("div",d8,[c("div",f8,[ue(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":m[3]||(m[3]=w=>u.value=w)},[m[8]||(m[8]=c("option",{value:""},"--  --",-1)),(N(!0),F(Oe,null,Je(te(s),w=>(N(),F("option",{key:w.id,value:w.id},O(w.remark)+" ("+O(w.wallets.length)+" ) ",9,p8))),128))],512),[[Ye,u.value]])]),c("div",h8,[ue(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":m[4]||(m[4]=w=>f.value=w)},[...m[9]||(m[9]=[c("option",{value:"main"},"",-1),c("option",{value:"normal"},"",-1)])],512),[[Ye,f.value]])]),c("div",m8,[c("button",{class:"btn btn-outline-primary btn-sm",onClick:x,disabled:!u.value||p.value},[p.value?(N(),F("span",g8,[...m[10]||(m[10]=[c("span",{class:"spinner-border spinner-border-sm me-1"},null,-1),se("... ",-1)])])):(N(),F("span",y8,[...m[11]||(m[11]=[c("i",{class:"bi bi-box-arrow-in-down me-1"},null,-1),se(" ",-1)])]))],8,b8)])])])):be("",!0),l.value?(N(),F("div",v8,"  "+O(l.value.added)+" "+O(l.value.duplicates)+O(l.value.invalid!==void 0?` ${l.value.invalid}`:"")+" ",1)):be("",!0),d.value?(N(),F("div",w8,"...")):be("",!0)]))}}),$8={class:"wallet-batch-panel"},T8={class:"mb-3"},k8={class:"d-flex justify-content-between align-items-center mb-2"},C8={class:"badge bg-secondary"},E8={class:"row g-2 align-items-end"},_8={class:"col-auto"},P8={class:"col-auto"},A8={class:"col"},S8={class:"col-auto"},B8=["disabled"],I8={key:0},N8={key:1},O8={key:0,class:"batch-list"},M8={class:"card-body py-2 px-3"},R8={class:"d-flex justify-content-between align-items-center mb-2"},F8={class:"batch-info"},L8={class:"fw-bold"},U8={class:"badge bg-info ms-1"},D8={class:"text-muted small ms-2"},z8={key:0},j8={key:0,class:"badge bg-warning text-dark me-1"},W8={key:1,class:"badge bg-success"},V8={class:"d-flex flex-wrap gap-1"},H8=["onClick"],G8=["onClick"],q8=["onClick"],K8=["onClick","disabled"],Z8={key:0},Y8={key:1,class:"bi bi-wallet2 me-1"},J8=["onClick"],Q8=["onClick"],X8={key:0,class:"mt-2 pt-2 border-top"},e3={class:"d-flex justify-content-between align-items-center mb-2"},t3=["onClick"],n3={class:"wallet-list-scroll"},s3={class:"table table-sm table-striped mb-0"},r3={class:"text-muted"},o3={class:"font-monospace small"},a3={key:1,class:"text-center text-muted py-3"},i3={class:"modal-dialog modal-lg"},l3={class:"modal-content"},c3={class:"modal-header bg-warning"},u3={class:"modal-title"},d3={class:"modal-body"},f3={class:"table-responsive",style:{"max-height":"400px","overflow-y":"auto"}},p3={class:"table table-sm table-striped"},h3={class:"text-muted"},m3={class:"font-monospace small"},b3={class:"font-monospace small text-danger"},g3={class:"modal-footer"},y3={key:3,class:"modal-backdrop show"},v3=ut({__name:"WalletBatchPanel",setup(e){const t=os(),n=$n(),{walletBatches:s,targetToken:r}=bt(t),{currentGovernanceToken:o}=bt(n),a=Q(void 0),i=Q(""),l=Q("normal"),d=Q(!1),u=Q(null),f=Q(null),p=Q(!1),h=Q(null);async function v(){if(!a.value||a.value<1){alert("");return}d.value=!0;try{await t.generateWalletBatch(a.value,i.value,l.value),alert(` ${a.value} ${l.value==="main"?"":""}`),i.value=""}catch(P){alert(P.message||"")}finally{d.value=!1}}function g(P){u.value=u.value===P?null:P}function T(P){const b=prompt("",P.remark);b!==null&&b!==P.remark&&t.updateBatchRemark(P.id,b)}function $(P){h.value=P,p.value=!0}async function x(P){var b;f.value=P.id;try{const k=await t.refreshBatchBalances(P.id);k&&alert(`
${o.value}: ${k.totalNativeBalance}${k.totalTokenBalance?`
${((b=r.value)==null?void 0:b.symbol)||""}: ${k.totalTokenBalance}`:""}`)}catch(k){alert(k.message||"")}finally{f.value=null}}function y(P){t.exportBatchToFile(P)}function m(P){confirm(` "${P.remark}" 

`)&&t.deleteBatch(P.id)}function w(P){const b=P.wallets.map(k=>k.address).join(`
`);navigator.clipboard.writeText(b).then(()=>{alert("")})}function C(){if(!h.value)return;const P=h.value.wallets.map(b=>b.privateKey).join(`
`);navigator.clipboard.writeText(P).then(()=>{alert("")})}function A(P){return new Date(P).toLocaleString()}function B(P){return`${P.slice(0,10)}...${P.slice(-8)}`}return(P,b)=>{var k,M;return N(),F("div",$8,[c("div",T8,[c("div",k8,[b[6]||(b[6]=c("h6",{class:"mb-0"},[c("i",{class:"bi bi-collection me-1"}),se("")],-1)),c("span",C8,O(te(s).length)+" ",1)]),c("div",E8,[c("div",_8,[b[7]||(b[7]=c("label",{class:"form-label small mb-1"},"",-1)),ue(c("input",{type:"number",class:"form-control form-control-sm","onUpdate:modelValue":b[0]||(b[0]=I=>a.value=I),min:"1",max:"1000",placeholder:"",style:{width:"80px"}},null,512),[[Ae,a.value,void 0,{number:!0}]])]),c("div",P8,[b[9]||(b[9]=c("label",{class:"form-label small mb-1"},"",-1)),ue(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":b[1]||(b[1]=I=>l.value=I)},[...b[8]||(b[8]=[c("option",{value:"main"},"",-1),c("option",{value:"normal"},"",-1)])],512),[[Ye,l.value]])]),c("div",A8,[b[10]||(b[10]=c("label",{class:"form-label small mb-1"},"",-1)),ue(c("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":b[2]||(b[2]=I=>i.value=I),placeholder:""},null,512),[[Ae,i.value]])]),c("div",S8,[c("button",{class:"btn btn-primary btn-sm",onClick:v,disabled:d.value||!a.value||a.value<1},[d.value?(N(),F("span",I8,[...b[11]||(b[11]=[c("span",{class:"spinner-border spinner-border-sm me-1"},null,-1),se("... ",-1)])])):(N(),F("span",N8,[...b[12]||(b[12]=[c("i",{class:"bi bi-plus-circle me-1"},null,-1),se(" ",-1)])]))],8,B8)])]),b[13]||(b[13]=c("div",{class:"form-text small text-muted mt-1"},"  ",-1))]),te(s).length>0?(N(),F("div",O8,[(N(!0),F(Oe,null,Je(te(s),I=>(N(),F("div",{key:I.id,class:Se(["card mb-2 batch-card",{"border-primary":u.value===I.id}])},[c("div",M8,[c("div",R8,[c("div",F8,[c("span",L8,O(I.remark),1),c("span",{class:Se(["badge ms-2",I.walletType==="main"?"bg-danger":"bg-secondary"])},O(I.walletType==="main"?"":""),3),c("span",U8,O(I.wallets.length)+" ",1),c("span",D8,O(A(I.createdAt)),1)]),I.totalNativeBalance||I.totalTokenBalance?(N(),F("div",z8,[I.totalNativeBalance?(N(),F("span",j8,O(I.totalNativeBalance)+" "+O(te(o)),1)):be("",!0),I.totalTokenBalance&&te(r)?(N(),F("span",W8,O(I.totalTokenBalance)+" "+O(te(r).symbol),1)):be("",!0)])):be("",!0)]),c("div",V8,[c("button",{class:"btn btn-outline-secondary btn-sm",onClick:Z=>T(I),title:""},[...b[14]||(b[14]=[c("i",{class:"bi bi-pencil me-1"},null,-1),se(" ",-1)])],8,H8),c("button",{class:"btn btn-outline-info btn-sm",onClick:Z=>g(I.id),title:""},[...b[15]||(b[15]=[c("i",{class:"bi bi-eye me-1"},null,-1),se(" ",-1)])],8,G8),c("button",{class:"btn btn-outline-warning btn-sm",onClick:Z=>$(I),title:""},[...b[16]||(b[16]=[c("i",{class:"bi bi-key me-1"},null,-1),se(" ",-1)])],8,q8),c("button",{class:"btn btn-outline-primary btn-sm",onClick:Z=>x(I),disabled:f.value===I.id,title:""},[f.value===I.id?(N(),F("span",Z8,[...b[17]||(b[17]=[c("span",{class:"spinner-border spinner-border-sm me-1"},null,-1)])])):(N(),F("i",Y8)),b[18]||(b[18]=se(" ",-1))],8,K8),c("button",{class:"btn btn-outline-success btn-sm",onClick:Z=>y(I),title:""},[...b[19]||(b[19]=[c("i",{class:"bi bi-download me-1"},null,-1),se(" ",-1)])],8,J8),c("button",{class:"btn btn-outline-danger btn-sm",onClick:Z=>m(I),title:""},[...b[20]||(b[20]=[c("i",{class:"bi bi-trash me-1"},null,-1),se(" ",-1)])],8,Q8)]),u.value===I.id?(N(),F("div",X8,[c("div",e3,[b[22]||(b[22]=c("span",{class:"small text-muted"},"",-1)),c("button",{class:"btn btn-outline-primary btn-sm",onClick:Z=>w(I)},[...b[21]||(b[21]=[c("i",{class:"bi bi-clipboard me-1"},null,-1),se(" ",-1)])],8,t3)]),c("div",n3,[c("table",s3,[b[23]||(b[23]=c("thead",{class:"table-light"},[c("tr",null,[c("th",{style:{width:"40px"}},"#"),c("th",null,"")])],-1)),c("tbody",null,[(N(!0),F(Oe,null,Je(I.wallets,(Z,z)=>(N(),F("tr",{key:Z.address},[c("td",r3,O(z+1),1),c("td",o3,O(Z.address),1)]))),128))])])])])):be("",!0)])],2))),128))])):(N(),F("div",a3,[...b[24]||(b[24]=[c("i",{class:"bi bi-inbox fs-4"},null,-1),c("p",{class:"mb-0 mt-1 small"},"",-1)])])),p.value?(N(),F("div",{key:2,class:"modal show d-block",tabindex:"-1",onClick:b[5]||(b[5]=ar(I=>p.value=!1,["self"]))},[c("div",i3,[c("div",l3,[c("div",c3,[c("h5",u3,[b[25]||(b[25]=c("i",{class:"bi bi-exclamation-triangle me-2"},null,-1)),se(" - "+O((k=h.value)==null?void 0:k.remark),1)]),c("button",{type:"button",class:"btn-close",onClick:b[3]||(b[3]=I=>p.value=!1)})]),c("div",d3,[b[27]||(b[27]=c("div",{class:"alert alert-danger small"},[c("i",{class:"bi bi-shield-exclamation me-1"}),c("strong",null,""),se(" ")],-1)),c("div",f3,[c("table",p3,[b[26]||(b[26]=c("thead",{class:"table-light sticky-top"},[c("tr",null,[c("th",{style:{width:"40px"}},"#"),c("th",null,""),c("th",null,"")])],-1)),c("tbody",null,[(N(!0),F(Oe,null,Je((M=h.value)==null?void 0:M.wallets,(I,Z)=>(N(),F("tr",{key:I.address},[c("td",h3,O(Z+1),1),c("td",m3,O(B(I.address)),1),c("td",b3,O(I.privateKey),1)]))),128))])])])]),c("div",g3,[c("button",{class:"btn btn-outline-primary btn-sm",onClick:C},[...b[28]||(b[28]=[c("i",{class:"bi bi-clipboard me-1"},null,-1),se(" ",-1)])]),c("button",{type:"button",class:"btn btn-secondary btn-sm",onClick:b[4]||(b[4]=I=>p.value=!1)},"")])])])])):be("",!0),p.value?(N(),F("div",y3)):be("",!0)])}}}),w3=Jt(v3,[["__scopeId","data-v-1eebdee0"]]),x3={class:"wallet-table-container"},$3={class:"d-flex justify-content-between align-items-center mb-2 flex-wrap gap-2"},T3={class:"d-flex align-items-center gap-2"},k3={key:0,class:"badge bg-primary"},C3={key:1,class:"badge bg-warning text-dark"},E3={key:2,class:"badge bg-success"},_3={class:"d-flex gap-2 flex-wrap"},P3=["disabled"],A3={class:"input-group input-group-sm",style:{width:"auto"}},S3=["disabled"],B3={class:"d-flex justify-content-between align-items-center mb-2 flex-wrap gap-2"},I3={class:"d-flex gap-2 flex-wrap"},N3=["disabled"],O3=["disabled"],M3=["disabled"],R3=["disabled"],F3={class:"d-flex gap-2 flex-wrap"},L3={class:"modal fade",id:"genWalletModal",tabindex:"-1","aria-hidden":"true"},U3={class:"modal-dialog"},D3={class:"modal-content"},z3={class:"modal-body"},j3={class:"mb-3"},W3={class:"mb-3"},V3={class:"mb-3"},H3={key:0,class:"card mb-3 border-primary"},G3={class:"card-header bg-primary text-white d-flex justify-content-between align-items-center"},q3={class:"card-body"},K3={class:"mb-3"},Z3={class:"btn-group w-100",role:"group"},Y3={class:"form-text small mt-1"},J3={key:0},Q3={key:1},X3={key:2},e$={class:"row g-3 mb-3"},t$={class:"col-12 col-md-6"},n$={key:0,class:"mb-2"},s$=["value"],r$={class:"d-flex justify-content-between align-items-center mb-1"},o$={class:"form-label small fw-bold mb-0"},a$={class:"badge bg-secondary ms-1"},i$={class:"d-flex gap-2"},l$={class:"btn btn-outline-primary btn-sm"},c$={key:1,class:"invalid-feedback"},u$={class:"col-12 col-md-6"},d$={key:0,class:"mb-2"},f$=["value"],p$={class:"d-flex justify-content-between align-items-center mb-1"},h$={class:"form-label small fw-bold mb-0"},m$={class:"badge bg-secondary ms-1"},b$={class:"d-flex gap-2"},g$={class:"btn btn-outline-primary btn-sm"},y$={key:1,class:"invalid-feedback"},v$={class:"row g-2 align-items-end mb-3"},w$={class:"col-auto"},x$={class:"input-group input-group-sm"},$$=["disabled"],T$={class:"input-group-text"},k$={class:"col-auto"},C$={value:"native"},E$=["disabled"],_$={key:0,class:"col-auto"},P$={class:"form-check"},A$={class:"col-auto"},S$=["disabled"],B$={key:0},I$={key:1},N$={key:0,class:"mt-3"},O$={class:"d-flex justify-content-between align-items-center mb-2"},M$={class:"small mb-0"},R$={class:"badge bg-secondary ms-1"},F$={class:"badge bg-success ms-1"},L$={key:0,class:"badge bg-danger ms-1"},U$={class:"transfer-results-list border rounded",style:{"max-height":"250px","overflow-y":"auto"}},D$={class:"table table-sm table-striped mb-0"},z$={class:"small text-muted"},j$={class:"small"},W$={class:"text-primary"},V$={class:"small"},H$={class:"text-info"},G$={class:"small"},q$={key:0,class:"text-success fw-bold"},K$={key:1,class:"text-muted"},Z$={class:"small"},Y$=["href"],J$=["title"],Q$={key:2,class:"text-muted"},X$={class:"table-responsive"},e4={class:"table table-sm align-middle table-hover"},t4={class:"table-light"},n4={style:{width:"40px"}},s4=["checked","indeterminate"],r4=["checked","onChange"],o4={class:"small text-muted"},a4={class:"text-break",style:{"min-width":"220px"}},i4=["title"],l4={class:"text-break small",style:{"min-width":"140px"}},c4=["title"],u4={key:0},d4={key:1,class:"text-muted"},f4={key:0},p4={key:1,class:"text-muted"},h4={key:0,class:"text-center text-muted py-4"},m4=ut({__name:"WalletTable",setup(e){const t=/^(0x)?[0-9a-fA-F]{64}$/,n=os(),s=$n(),{localWallets:r,selectedWalletAddresses:o,selectedCount:a,isAllSelected:i,targetToken:l,walletBatches:d}=bt(n),{currentGovernanceToken:u}=bt(s),f=Q(!1),p=Q(""),h=Q(!1),v=Q(!1),g=Q([]),T=Q(5),$=Q("normal"),x=Q("");let y=null;const m=Q("oneToMany"),w=Q(""),C=Q(""),A=Q(.01),B=Q("native"),P=Q(!1),b=Q(""),k=Q(""),M=pe(()=>{const W=r.value.filter(de=>o.value.includes(de.address));let _=0,U=0;for(const de of W)de.nativeBalance&&de.nativeBalance!=="-"&&de.nativeBalance!=="Error"&&(_+=parseFloat(de.nativeBalance)||0),de.tokenBalance&&de.tokenBalance!=="-"&&de.tokenBalance!=="Error"&&(U+=parseFloat(de.tokenBalance)||0);return{totalNative:_.toFixed(6),totalToken:U.toFixed(6)}});Tt(m,W=>{W==="manyToMany"||W==="manyToOne"?P.value=!0:P.value=!1}),Tt(b,W=>{if(W){const _=d.value.find(U=>U.id===W);_&&(w.value=_.wallets.map(U=>U.address).join(`
`))}}),Tt(k,W=>{if(W){const _=d.value.find(U=>U.id===W);_&&(C.value=_.wallets.map(U=>U.address).join(`
`))}});const I=pe(()=>{const W={};if(b.value){const _=d.value.find(U=>U.id===b.value);if(_)for(const U of _.wallets)W[U.address.toLowerCase()]=U.privateKey}return W});function Z(W){return W.trim()?W.split(/[\n,;]/).map(_=>_.trim()).filter(_=>_.length>0):[]}function z(W){const _=[],U={};if(!W.trim())return{addresses:_,privateKeyMap:U};const de=W.split(/[\n,;]/).map($e=>$e.trim()).filter(Boolean);for(const $e of de)if(t.test($e))try{const Te=$e.startsWith("0x")?$e:`0x${$e}`,Me=ft(Te);_.push(Me.address),U[Me.address.toLowerCase()]=Te}catch{console.warn(":",$e.slice(0,10)+"...")}else/^0x[0-9a-fA-F]{40}$/.test($e)&&_.push($e);return{addresses:_,privateKeyMap:U}}async function L(W){var de;const _=W.target,U=(de=_.files)==null?void 0:de[0];if(U){try{const Te=(await U.text()).split(/\r?\n/).map(Me=>Me.trim()).filter(Boolean);w.value.trim()?w.value+=`
`+Te.join(`
`):w.value=Te.join(`
`)}catch{alert("")}_.value=""}}async function V(W){var de;const _=W.target,U=(de=_.files)==null?void 0:de[0];if(U){try{const Te=(await U.text()).split(/\r?\n/).map(Me=>Me.trim()).filter(Boolean);C.value.trim()?C.value+=`
`+Te.join(`
`):C.value=Te.join(`
`)}catch{alert("")}_.value=""}}const R=pe(()=>m.value==="manyToMany"?z(w.value).addresses:Z(w.value)),J=pe(()=>Z(C.value)),ae=pe(()=>m.value==="manyToMany"?z(w.value).privateKeyMap:{}),me=pe(()=>R.value.length),fe=pe(()=>J.value.length),Ee=pe(()=>{const W=R.value;if(W.length===0)return"";if(m.value==="manyToMany"){const de=w.value.split(/[\n,;]/).map(Te=>Te.trim()).filter(Boolean);for(const Te of de){const Me=/^0x[0-9a-fA-F]{40}$/.test(Te),ze=t.test(Te);if(!Me&&!ze)return""}const $e=W.filter(Te=>{if(I.value[Te.toLowerCase()]||ae.value[Te.toLowerCase()])return!0;const Me=n.localWallets.find(ze=>ze.address.toLowerCase()===Te.toLowerCase());return Me==null?void 0:Me.encrypted});return $e.length<W.length?`${W.length-$e.length} `:""}const _=W.filter(de=>!j(de));if(_.length>0)return`${_.length} `;const U=W.filter(de=>{if(I.value[de.toLowerCase()])return!0;const $e=n.localWallets.find(Te=>Te.address.toLowerCase()===de.toLowerCase());return $e==null?void 0:$e.encrypted});return U.length<W.length?`${W.length-U.length} `:m.value==="oneToMany"&&W.length>1?"":""}),Ie=pe(()=>{const W=J.value;if(W.length===0)return"";const _=W.filter(U=>!j(U));return _.length>0?`${_.length} `:m.value==="manyToOne"&&W.length>1?"":m.value==="manyToMany"&&me.value!==W.length?`: ${me.value}, : ${W.length}`:""}),Pe=pe(()=>!(me.value===0||fe.value===0||!P.value&&(!A.value||A.value<=0)||Ee.value||Ie.value||B.value==="token"&&!l.value));async function we(){var _,U;if(!Pe.value)return;const W=vt();if(W){alert(W);return}v.value=!0,g.value=[];try{const de={...I.value,...ae.value},$e=await n.batchTransferByAddresses(R.value,J.value,P.value?0:A.value,B.value,m.value,{privateKeyMap:de,transferAllBalance:P.value});g.value=$e;const Te=$e.filter(ze=>ze.success).length,Me=$e.filter(ze=>!ze.success).length;if(Me===0)alert(`  ${Te} `);else if(Te===0){const ze=((_=$e.find(It=>It.error))==null?void 0:_.error)||"";alert(`  ${Me} 

: ${ze}`)}else{const ze=((U=$e.find(It=>It.error))==null?void 0:U.error)||"";alert(` 

: ${Te} 
: ${Me} 

: ${ze}`)}}catch(de){alert(de.message||"")}finally{v.value=!1}}function j(W){if(!W)return!1;const _=W.trim();return/^0x[0-9a-fA-F]{40}$/.test(_)}function he(W){return n.getWalletTypeByAddress(W)==="main"}function vt(){if(m.value==="oneToMany"){const W=R.value[0];if(W&&!he(W))return""}else if(m.value==="manyToOne"){const W=J.value[0];if(W&&!he(W))return""}return null}function ot(W){return W?`${W.slice(0,6)}...${W.slice(-4)}`:""}function Gn(W){const _=n.currentChainId;return({56:"https://bscscan.com/tx/",97:"https://testnet.bscscan.com/tx/",66:"https://www.oklink.com/okc/tx/"}[_]||"https://bscscan.com/tx/")+W}function E(W){return W?W.length>30?W.slice(0,30)+"...":W:""}function S(W){return o.value.includes(W)}function D(W){n.toggleWalletSelection(W)}function K(){i.value?n.deselectAll():n.selectAll()}function q(){n.invertSelection()}function Y(){if(!p.value)return;const W=p.value.match(/^(\d+)\s*[-~]\s*(\d+)$/);if(W){const _=parseInt(W[1]),U=parseInt(W[2]);n.selectRangeOnly(_,U),p.value=""}else alert(' "1-20"  "1~20" ')}function le(){var Te;if(a.value===0)return;const W=n.selectedWallets,_=((Te=W[0])==null?void 0:Te.remark)||"",de=W.every(Me=>Me.remark===_)?_:"",$e=prompt(` ${a.value} 

`,de);$e!==null&&(n.updateSelectedWalletsRemark($e),alert(` ${a.value} `))}function oe(){a.value!==0&&confirm(` ${a.value} `)&&n.removeSelectedWallets()}async function re(){if(!f.value){f.value=!0;try{await n.refreshAllBalances(),l.value&&await n.refreshTargetTokenBalance()}finally{f.value=!1}}}function X(){confirm("")&&n.clearLocalWallets()}function ye(){const W=document.getElementById("genWalletModal");if(W){if(!y){const _=window.bootstrap;y=new _.Modal(W)}y.show()}}async function ce(){if(T.value<1||T.value>100){alert(" 1-100 ");return}try{await n.generateLocalWallets(T.value,$.value,x.value),y&&y.hide(),alert(` ${T.value} ${$.value==="main"?"":""}`),x.value=""}catch(W){alert(": "+W.message)}}async function ve(){if(!r.value||r.value.length===0){alert("");return}try{await n.exportPrivateKeys()}catch(W){alert(": "+W.message)}}return(W,_)=>(N(),F("div",x3,[c("div",$3,[c("div",T3,[_[19]||(_[19]=c("h6",{class:"mb-0"},"",-1)),te(a)>0?(N(),F("span",k3,"  "+O(te(a))+" / "+O(te(r).length),1)):be("",!0),te(a)>0?(N(),F("span",C3,O(M.value.totalNative)+" "+O(te(u)),1)):be("",!0),te(a)>0&&te(l)?(N(),F("span",E3,O(M.value.totalToken)+" "+O(te(l).symbol),1)):be("",!0)]),c("div",_3,[c("button",{class:"btn btn-outline-secondary btn-sm",onClick:K},[c("i",{class:Se(["bi",te(i)?"bi-check-square":"bi-square"])},null,2),se(" "+O(te(i)?"":""),1)]),c("button",{class:"btn btn-outline-secondary btn-sm",onClick:q,disabled:te(r).length===0},[..._[20]||(_[20]=[c("i",{class:"bi bi-arrow-repeat"},null,-1),se("  ",-1)])],8,P3),c("div",A3,[ue(c("input",{type:"text",class:"form-control",placeholder:" : 1-20","onUpdate:modelValue":_[0]||(_[0]=U=>p.value=U),style:{width:"90px"},onKeyup:ob(Y,["enter"])},null,544),[[Ae,p.value]]),c("button",{class:"btn btn-outline-secondary",onClick:Y,disabled:!p.value},"  ",8,S3)])])]),c("div",B3,[c("div",I3,[c("button",{class:"btn btn-outline-secondary btn-sm",onClick:ye},[..._[21]||(_[21]=[c("i",{class:"bi bi-plus-circle me-1"},null,-1),se(" ",-1)])]),c("button",{class:"btn btn-outline-info btn-sm",onClick:ve,disabled:!te(r)||te(r).length===0},[..._[22]||(_[22]=[c("i",{class:"bi bi-download me-1"},null,-1),se(" ",-1)])],8,N3),c("button",{class:"btn btn-outline-primary btn-sm",onClick:re,disabled:f.value},[_[23]||(_[23]=c("i",{class:"bi bi-arrow-clockwise me-1"},null,-1)),se(O(f.value?"":""),1)],8,O3),c("button",{class:"btn btn-outline-secondary btn-sm",onClick:le,disabled:te(a)===0},[_[24]||(_[24]=c("i",{class:"bi bi-pencil me-1"},null,-1)),se(" ("+O(te(a))+") ",1)],8,M3),c("button",{class:"btn btn-outline-danger btn-sm",onClick:oe,disabled:te(a)===0},[_[25]||(_[25]=c("i",{class:"bi bi-trash me-1"},null,-1)),se(" ("+O(te(a))+") ",1)],8,R3),c("button",{class:"btn btn-outline-danger btn-sm",onClick:X},[..._[26]||(_[26]=[c("i",{class:"bi bi-trash-fill me-1"},null,-1),se(" ",-1)])])]),c("div",F3,[c("button",{class:"btn btn-outline-success btn-sm",onClick:_[1]||(_[1]=U=>h.value=!h.value)},[..._[27]||(_[27]=[c("i",{class:"bi bi-send me-1"},null,-1),se(" ",-1)])])])]),c("div",L3,[c("div",U3,[c("div",D3,[_[33]||(_[33]=c("div",{class:"modal-header"},[c("h5",{class:"modal-title"},""),c("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),c("div",z3,[c("div",j3,[_[28]||(_[28]=c("label",{class:"form-label"},"",-1)),ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":_[2]||(_[2]=U=>T.value=U),min:"1",max:"100",placeholder:"5"},null,512),[[Ae,T.value,void 0,{number:!0}]])]),c("div",W3,[_[30]||(_[30]=c("label",{class:"form-label"},"",-1)),ue(c("select",{class:"form-select","onUpdate:modelValue":_[3]||(_[3]=U=>$.value=U)},[..._[29]||(_[29]=[c("option",{value:"normal"},"",-1),c("option",{value:"main"},"",-1)])],512),[[Ye,$.value]])]),c("div",V3,[_[31]||(_[31]=c("label",{class:"form-label"},"",-1)),ue(c("input",{type:"text",class:"form-control","onUpdate:modelValue":_[4]||(_[4]=U=>x.value=U),placeholder:""},null,512),[[Ae,x.value]])])]),c("div",{class:"modal-footer"},[_[32]||(_[32]=c("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"",-1)),c("button",{type:"button",class:"btn btn-primary",onClick:ce},"")])])])]),h.value?(N(),F("div",H3,[c("div",G3,[_[34]||(_[34]=c("span",null,[c("i",{class:"bi bi-send me-1"}),se("")],-1)),c("button",{type:"button",class:"btn-close btn-close-white",onClick:_[5]||(_[5]=U=>h.value=!1)})]),c("div",q3,[c("div",K3,[_[38]||(_[38]=c("label",{class:"form-label small fw-bold"},"",-1)),c("div",Z3,[ue(c("input",{type:"radio",class:"btn-check",name:"transferMode",id:"modeOneToMany",value:"oneToMany","onUpdate:modelValue":_[6]||(_[6]=U=>m.value=U)},null,512),[[gs,m.value]]),_[35]||(_[35]=c("label",{class:"btn btn-outline-primary",for:"modeOneToMany"},"",-1)),ue(c("input",{type:"radio",class:"btn-check",name:"transferMode",id:"modeManyToOne",value:"manyToOne","onUpdate:modelValue":_[7]||(_[7]=U=>m.value=U)},null,512),[[gs,m.value]]),_[36]||(_[36]=c("label",{class:"btn btn-outline-primary",for:"modeManyToOne"},"",-1)),ue(c("input",{type:"radio",class:"btn-check",name:"transferMode",id:"modeManyToMany",value:"manyToMany","onUpdate:modelValue":_[8]||(_[8]=U=>m.value=U)},null,512),[[gs,m.value]]),_[37]||(_[37]=c("label",{class:"btn btn-outline-primary",for:"modeManyToMany"},"",-1))]),c("div",Y3,[m.value==="oneToMany"?(N(),F("span",J3,"1")):m.value==="manyToOne"?(N(),F("span",Q3,"1")):(N(),F("span",X3,""))])]),c("div",e$,[c("div",t$,[te(d).length>0?(N(),F("div",n$,[_[40]||(_[40]=c("label",{class:"form-label small text-muted mb-1"},"",-1)),ue(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":_[9]||(_[9]=U=>b.value=U)},[_[39]||(_[39]=c("option",{value:""},"--  --",-1)),(N(!0),F(Oe,null,Je(te(d),U=>(N(),F("option",{key:U.id,value:U.id},O(U.remark)+" ("+O(U.wallets.length)+" ) ",9,s$))),128))],512),[[Ye,b.value]])])):be("",!0),c("div",r$,[c("label",o$,[_[41]||(_[41]=se("  ",-1)),c("span",a$,O(me.value)+" ",1)]),c("div",i$,[c("label",l$,[_[42]||(_[42]=c("i",{class:"bi bi-file-earmark-arrow-up me-1"},null,-1)),_[43]||(_[43]=se("TXT ",-1)),c("input",{type:"file",accept:".txt",class:"d-none",onChange:L},null,32)]),c("button",{class:"btn btn-outline-danger btn-sm",onClick:_[10]||(_[10]=U=>{w.value="",b.value=""})},[..._[44]||(_[44]=[c("i",{class:"bi bi-trash me-1"},null,-1),se(" ",-1)])])])]),ue(c("textarea",{class:Se(["form-control form-control-sm",{"is-invalid":Ee.value}]),"onUpdate:modelValue":_[11]||(_[11]=U=>w.value=U),rows:"6",placeholder:`0x1234...
0x5678...
`},null,2),[[Ae,w.value]]),Ee.value?(N(),F("div",c$,O(Ee.value),1)):be("",!0)]),c("div",u$,[te(d).length>0?(N(),F("div",d$,[_[46]||(_[46]=c("label",{class:"form-label small text-muted mb-1"},"",-1)),ue(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":_[12]||(_[12]=U=>k.value=U)},[_[45]||(_[45]=c("option",{value:""},"--  --",-1)),(N(!0),F(Oe,null,Je(te(d),U=>(N(),F("option",{key:U.id,value:U.id},O(U.remark)+" ("+O(U.wallets.length)+" ) ",9,f$))),128))],512),[[Ye,k.value]])])):be("",!0),c("div",p$,[c("label",h$,[_[47]||(_[47]=se("  ",-1)),c("span",m$,O(fe.value)+" ",1)]),c("div",b$,[c("label",g$,[_[48]||(_[48]=c("i",{class:"bi bi-file-earmark-arrow-up me-1"},null,-1)),_[49]||(_[49]=se("TXT ",-1)),c("input",{type:"file",accept:".txt",class:"d-none",onChange:V},null,32)]),c("button",{class:"btn btn-outline-danger btn-sm",onClick:_[13]||(_[13]=U=>{C.value="",k.value=""})},[..._[50]||(_[50]=[c("i",{class:"bi bi-trash me-1"},null,-1),se(" ",-1)])])])]),ue(c("textarea",{class:Se(["form-control form-control-sm",{"is-invalid":Ie.value}]),"onUpdate:modelValue":_[14]||(_[14]=U=>C.value=U),rows:"6",placeholder:`0xabcd...
0xefgh...
`},null,2),[[Ae,C.value]]),Ie.value?(N(),F("div",y$,O(Ie.value),1)):be("",!0)])]),c("div",v$,[c("div",w$,[_[51]||(_[51]=c("label",{class:"form-label small"},"",-1)),c("div",x$,[ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":_[15]||(_[15]=U=>A.value=U),placeholder:"0.01",step:"0.001",min:"0",disabled:P.value},null,8,$$),[[Ae,A.value,void 0,{number:!0}]]),c("span",T$,O(B.value==="token"&&te(l)?te(l).symbol:te(u)),1)])]),c("div",k$,[_[52]||(_[52]=c("label",{class:"form-label small"},"",-1)),ue(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":_[16]||(_[16]=U=>B.value=U)},[c("option",C$,O(te(u)),1),c("option",{value:"token",disabled:!te(l)},O(te(l)?te(l).symbol:""),9,E$)],512),[[Ye,B.value]])]),m.value==="manyToMany"||m.value==="manyToOne"?(N(),F("div",_$,[c("div",P$,[ue(c("input",{type:"checkbox",class:"form-check-input",id:"transferAllBalance","onUpdate:modelValue":_[17]||(_[17]=U=>P.value=U)},null,512),[[Dr,P.value]]),_[53]||(_[53]=c("label",{class:"form-check-label small",for:"transferAllBalance"},[se("  "),c("small",{class:"text-muted d-block"},"(gas)")],-1))])])):be("",!0),c("div",A$,[c("button",{class:"btn btn-primary btn-sm",onClick:we,disabled:!Pe.value||v.value},[v.value?(N(),F("span",B$,[..._[54]||(_[54]=[c("span",{class:"spinner-border spinner-border-sm me-1"},null,-1),se("... ",-1)])])):(N(),F("span",I$,[_[55]||(_[55]=c("i",{class:"bi bi-send me-1"},null,-1)),se(" ("+O(me.value)+"  "+O(fe.value)+") ",1)]))],8,S$)])]),g.value.length>0?(N(),F("div",N$,[c("div",O$,[c("h6",M$,[_[56]||(_[56]=c("i",{class:"bi bi-list-check me-1"},null,-1)),_[57]||(_[57]=se(" ",-1)),c("span",R$,O(g.value.length),1),c("span",F$,O(g.value.filter(U=>U.success).length)+" ",1),g.value.filter(U=>!U.success).length>0?(N(),F("span",L$,O(g.value.filter(U=>!U.success).length)+"  ",1)):be("",!0)]),c("button",{class:"btn btn-outline-secondary btn-sm",onClick:_[18]||(_[18]=U=>g.value=[])},[..._[58]||(_[58]=[c("i",{class:"bi bi-x-lg"},null,-1),se("  ",-1)])])]),c("div",U$,[c("table",D$,[_[62]||(_[62]=c("thead",{class:"table-light sticky-top"},[c("tr",null,[c("th",{style:{width:"30px"}},"#"),c("th",{style:{width:"40px"}},""),c("th",null,"From"),c("th",{style:{width:"30px"}}),c("th",null,"To"),c("th",null,""),c("th",null,"")])],-1)),c("tbody",null,[(N(!0),F(Oe,null,Je(g.value,(U,de)=>(N(),F("tr",{key:de,class:Se(U.success?"":"table-danger")},[c("td",z$,O(de+1),1),c("td",null,[c("i",{class:Se(["bi",U.success?"bi-check-circle-fill text-success":"bi-x-circle-fill text-danger"])},null,2)]),c("td",j$,[c("code",W$,O(ot(U.source||"-")),1)]),_[61]||(_[61]=c("td",{class:"text-center"},[c("i",{class:"bi bi-arrow-right text-muted"})],-1)),c("td",V$,[c("code",H$,O(ot(U.target||"-")),1)]),c("td",G$,[U.amount!==void 0?(N(),F("span",q$,O(A.value)+" "+O(B.value==="token"&&te(l)?te(l).symbol:te(u)),1)):(N(),F("span",K$,"-"))]),c("td",Z$,[U.hash?(N(),F("a",{key:0,href:Gn(U.hash),target:"_blank",class:"text-decoration-none"},[_[59]||(_[59]=c("i",{class:"bi bi-box-arrow-up-right me-1"},null,-1)),se(O(ot(U.hash)),1)],8,Y$)):U.error?(N(),F("span",{key:1,class:"text-danger",title:U.error},[_[60]||(_[60]=c("i",{class:"bi bi-exclamation-triangle me-1"},null,-1)),se(O(E(U.error)),1)],8,J$)):(N(),F("span",Q$,"-"))])],2))),128))])])])])):be("",!0)])])):be("",!0),c("div",X$,[c("table",e4,[c("thead",t4,[c("tr",null,[c("th",n4,[c("input",{type:"checkbox",class:"form-check-input",checked:te(i)&&te(r).length>0,indeterminate:te(a)>0&&!te(i),onChange:K},null,40,s4)]),_[63]||(_[63]=c("th",{style:{width:"50px"}},"#",-1)),_[64]||(_[64]=c("th",null,"",-1)),_[65]||(_[65]=c("th",null,"",-1)),_[66]||(_[66]=c("th",null,"",-1)),_[67]||(_[67]=c("th",null,"",-1)),_[68]||(_[68]=c("th",null,"",-1)),c("th",null,O(te(u))+" ",1),c("th",null,O(te(l)?te(l).symbol:"")+" ",1)])]),c("tbody",null,[(N(!0),F(Oe,null,Je(te(r),(U,de)=>(N(),F("tr",{key:U.address,class:Se({"table-primary":S(U.address)})},[c("td",null,[c("input",{type:"checkbox",class:"form-check-input",checked:S(U.address),onChange:$e=>D(U.address)},null,40,r4)]),c("td",null,O(de+1),1),c("td",null,[c("span",{class:Se(["badge",U.walletType==="main"?"bg-primary":"bg-secondary"])},O(U.walletType==="main"?"":""),3)]),c("td",null,[c("span",null,O(U.remark||"-"),1)]),c("td",o4,O(U.createdAt?new Date(U.createdAt).toLocaleString():"-"),1),c("td",a4,[c("span",{class:"font-monospace",title:U.address},O(U.address),9,i4)]),c("td",l4,[c("span",{class:"font-monospace text-muted",title:U.encrypted},O(U.encrypted?U.encrypted.slice(0,14)+"...":"-"),9,c4)]),c("td",null,[U.nativeBalance!==void 0?(N(),F("span",u4,O(U.nativeBalance),1)):(N(),F("span",d4,"-"))]),c("td",null,[te(l)&&U.tokenBalance!==void 0?(N(),F("span",f4,O(U.tokenBalance),1)):(N(),F("span",p4,"-"))])],2))),128))])]),te(r).length===0?(N(),F("div",h4,[..._[69]||(_[69]=[c("i",{class:"bi bi-wallet2 fs-1"},null,-1),c("p",{class:"mt-2"},"",-1)])])):be("",!0)])]))}}),b4=Jt(m4,[["__scopeId","data-v-939d1721"]]);function g4(e){switch(e){case 97:return rr;case 56:return hr;default:return hr}}const _d=new Map;async function y4(e,t){const n=t.toLowerCase(),s=await e.getTransactionCount({address:t,blockTag:"pending"}),r=_d.get(n)||0,o=Math.max(s,r);return _d.set(n,o+1),o}class v4{constructor(t,n,s){Nt(this,"chainId");Nt(this,"rpcUrl");Nt(this,"routerAddress");Nt(this,"publicClient");Nt(this,"chainConfig");this.chainId=t,this.rpcUrl=n,this.routerAddress=s,this.chainConfig=g4(t),this.publicClient=Xn({chain:this.chainConfig,transport:et(n)})}getWBNBAddress(){return Ol[this.chainId]||Ol[56]}getUSDTAddress(){return Ph[this.chainId]||null}getUSDCAddress(){return mx[this.chainId]||null}getSpendTokenAddress(t){return t==="USDT"?this.getUSDTAddress():t==="USDC"?this.getUSDCAddress():null}async getLatestNonce(t){try{return await y4(this.publicClient,t)}catch(n){return console.warn(" nonce :",n),0}}async checkAndApprove(t,n,s,r,o){try{const a=await this.publicClient.readContract({address:n,abi:je,functionName:"allowance",args:[s,r]});if(console.log(`: ${_e(a)}, : ${_e(o)}`),a<o){console.log("...");const i=await this.getLatestNonce(s),l=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),d=await t.writeContract({address:n,abi:je,functionName:"approve",args:[r,l],nonce:i});console.log(`: ${d}, nonce: ${i}`),await this.publicClient.waitForTransactionReceipt({hash:d}),console.log("")}return!0}catch(a){throw console.error(":",a),new Error(`: ${a.message}`)}}async getTokenDecimals(t){try{return await this.publicClient.readContract({address:t,abi:je,functionName:"decimals"})}catch{return 18}}async getTokenBalance(t,n){return await this.publicClient.readContract({address:t,abi:je,functionName:"balanceOf",args:[n]})}async getNativeBalance(t){return await this.publicClient.getBalance({address:t})}calculateMinAmountOut(t,n){const s=BigInt(Math.floor((100-n)*100));return t*s/BigInt(1e4)}async buyWithNative(t){try{const{privateKey:n,walletAddress:s,tokenAddress:r,amount:o,slippage:a,gasPrice:i,gasLimit:l,deadline:d=1200,balancePercent:u=100}=t,f=ft(n),p=tn({account:f,chain:this.chainConfig,transport:et(this.rpcUrl)}),v=[this.getWBNBAddress(),r],g=BigInt(Math.floor(Date.now()/1e3)+d),T=await this.getTokenDecimals(r),$=await this.getNativeBalance(s);let x;if(u<100){const b=dt("0.005"),k=$>b?$-b:BigInt(0);x=k*BigInt(u)/BigInt(100),console.log(` ${u}% : ${_e(k)} BNB, : ${_e(x)} BNB`)}else x=dt(o.toString()),console.log(` ${o} BNB  ${r}`);if($<x||x===BigInt(0))throw new Error(`BNB: ${_e($)}, : ${_e(x)}`);const y=await this.publicClient.readContract({address:this.routerAddress,abi:_n,functionName:"getAmountsOut",args:[x,v]}),m=y[y.length-1],w=this.calculateMinAmountOut(m,a);console.log(`: ${ke(m,T)}, : ${ke(w,T)}`);const C={address:this.routerAddress,abi:_n,functionName:"swapExactETHForTokensSupportingFeeOnTransferTokens",args:[w,v,s,g],value:x},A=await this.getLatestNonce(s);i&&(C.gasPrice=_t(i.toString(),9)),l&&(C.gas=BigInt(l)),C.nonce=A;const B=await p.writeContract(C);return console.log(`: ${B}`),(await this.publicClient.waitForTransactionReceipt({hash:B})).status==="success"?{success:!0,txHash:B,amountIn:o.toString(),amountOut:ke(m,T)}:{success:!1,txHash:B,error:""}}catch(n){return console.error(":",n),{success:!1,error:Zs(n)}}}async buyWithToken(t){try{const{privateKey:n,walletAddress:s,tokenAddress:r,spendToken:o,amount:a,slippage:i,gasPrice:l,gasLimit:d,deadline:u=1200,balancePercent:f=100}=t,p=this.getSpendTokenAddress(o);if(!p)return{success:!1,error:`: ${o}`};const h=ft(n),v=tn({account:h,chain:this.chainConfig,transport:et(this.rpcUrl)}),g=await this.getTokenDecimals(p),T=await this.getTokenDecimals(r),$=BigInt(Math.floor(Date.now()/1e3)+u),x=await this.getTokenBalance(p,s);let y;if(f<100?(y=x*BigInt(f)/BigInt(100),console.log(` ${f}% : ${ke(x,g)} ${o}, : ${ke(y,g)} ${o}`)):(y=_t(a.toString(),g),console.log(` ${a} ${o}  ${r}`)),x<y||y===BigInt(0))return{success:!1,error:`${o} : ${ke(x,g)}, : ${ke(y,g)}`};const m=[p,r];await this.checkAndApprove(v,p,s,this.routerAddress,y);const w=await this.publicClient.readContract({address:this.routerAddress,abi:_n,functionName:"getAmountsOut",args:[y,m]}),C=w[w.length-1],A=this.calculateMinAmountOut(C,i);console.log(`: ${ke(C,T)}, : ${ke(A,T)}`);const B={address:this.routerAddress,abi:_n,functionName:"swapExactTokensForTokensSupportingFeeOnTransferTokens",args:[y,A,m,s,$]},P=await this.getLatestNonce(s);l&&(B.gasPrice=_t(l.toString(),9)),d&&(B.gas=BigInt(d)),B.nonce=P;const b=await v.writeContract(B);return console.log(`: ${b}, nonce: ${P}`),(await this.publicClient.waitForTransactionReceipt({hash:b})).status==="success"?{success:!0,txHash:b,amountIn:a.toString(),amountOut:ke(C,T)}:{success:!1,txHash:b,error:""}}catch(n){return console.error(":",n),{success:!1,error:Zs(n)}}}async sellForToken(t){try{const{privateKey:n,walletAddress:s,tokenAddress:r,spendToken:o,amount:a,amountType:i,slippage:l,gasPrice:d,gasLimit:u,deadline:f=1200,balancePercent:p=100}=t,h=this.getSpendTokenAddress(o);if(!h)return{success:!1,error:`: ${o}`};const v=ft(n),g=tn({account:v,chain:this.chainConfig,transport:et(this.rpcUrl)}),T=await this.getTokenDecimals(r),$=await this.getTokenBalance(r,s);let x;if(p>0&&p<=100?(x=$*BigInt(p)/BigInt(100),console.log(` ${p}% : ${ke($,T)}, : ${ke(x,T)}`)):(x=_t(a.toString(),T),console.log(` ${r}  ${o}: ${a}`)),$<x||x===BigInt(0))return{success:!1,error:`: ${ke($,T)}, : ${ke(x,T)}`};const y=BigInt(Math.floor(Date.now()/1e3)+f),m=[r,h];await this.checkAndApprove(g,r,s,this.routerAddress,x);const w=await this.getTokenDecimals(h),C=await this.publicClient.readContract({address:this.routerAddress,abi:_n,functionName:"getAmountsOut",args:[x,m]}),A=C[C.length-1],B=this.calculateMinAmountOut(A,l);console.log(`: ${ke(A,w)} ${o}, : ${ke(B,w)} ${o}`);const P={address:this.routerAddress,abi:_n,functionName:"swapExactTokensForTokensSupportingFeeOnTransferTokens",args:[x,B,m,s,y]},b=await this.getLatestNonce(s);d&&(P.gasPrice=_t(d.toString(),9)),u&&(P.gas=BigInt(u)),P.nonce=b;const k=await g.writeContract(P);return console.log(`: ${k}, nonce: ${b}`),(await this.publicClient.waitForTransactionReceipt({hash:k})).status==="success"?{success:!0,txHash:k,amountIn:ke(x,T),amountOut:ke(A,w)}:{success:!1,txHash:k,error:""}}catch(n){return console.error(":",n),{success:!1,error:Zs(n)}}}async sellForNative(t){try{const{privateKey:n,walletAddress:s,tokenAddress:r,amount:o,amountType:a,slippage:i,gasPrice:l,gasLimit:d,deadline:u=1200,balancePercent:f=100}=t,p=ft(n),h=tn({account:p,chain:this.chainConfig,transport:et(this.rpcUrl)}),v=this.getWBNBAddress(),g=[r,v],T=BigInt(Math.floor(Date.now()/1e3)+u),$=await this.getTokenDecimals(r),x=await this.getTokenBalance(r,s);let y;if(f>0&&f<=100?(y=x*BigInt(f)/BigInt(100),console.log(` ${f}% : ${ke(x,$)}, : ${ke(y,$)}`)):(y=_t(o.toString(),$),console.log(` ${r}: ${o}`)),x<y||y===BigInt(0))throw new Error(`: ${ke(x,$)}, : ${ke(y,$)}`);console.log(`: ${ke(y,$)}`),await this.checkAndApprove(h,r,s,this.routerAddress,y);const m=await this.publicClient.readContract({address:this.routerAddress,abi:_n,functionName:"getAmountsOut",args:[y,g]}),w=m[m.length-1],C=this.calculateMinAmountOut(w,i);console.log(`: ${_e(w)} BNB, : ${_e(C)} BNB`);const A={address:this.routerAddress,abi:_n,functionName:"swapExactTokensForETHSupportingFeeOnTransferTokens",args:[y,C,g,s,T]},B=await this.getLatestNonce(s);l&&(A.gasPrice=_t(l.toString(),9)),d&&(A.gas=BigInt(d)),A.nonce=B;const P=await h.writeContract(A);return console.log(`: ${P}, nonce: ${B}`),(await this.publicClient.waitForTransactionReceipt({hash:P})).status==="success"?{success:!0,txHash:P,amountIn:ke(y,$),amountOut:_e(w)}:{success:!1,txHash:P,error:""}}catch(n){return console.error(":",n),{success:!1,error:Zs(n)}}}async executeTrade(t){const{mode:n,spendToken:s}=t;return n==="pump"?s==="BNB"||s==="tBNB"?this.buyWithNative(t):s==="USDT"||s==="USDC"?this.buyWithToken(t):{success:!1,error:`: ${s}`}:s==="BNB"||s==="tBNB"?this.sellForNative(t):s==="USDT"||s==="USDC"?this.sellForToken(t):{success:!1,error:`: ${s}`}}}function Sh(e,t,n){return new v4(e,t,n)}const w4={class:"card mb-3 border-warning"},x4={class:"card-header bg-warning text-dark d-flex justify-content-between align-items-center"},$4={class:"card-body"},T4={class:"d-flex align-items-center"},k4={key:0},C4={class:"text-muted"},E4={key:1},_4={class:"mb-3"},P4={class:"btn-group w-100",role:"group"},A4={key:0,class:"mb-3"},S4={class:"input-group"},B4={key:1,class:"mb-3"},I4={class:"row g-2"},N4={class:"col"},O4={class:"input-group"},M4={class:"col"},R4={class:"input-group"},F4={class:"mb-3"},L4={class:"row g-2"},U4={class:"col"},D4={class:"input-group input-group-sm"},z4={class:"col"},j4={class:"input-group input-group-sm"},W4={class:"form-text"},V4={class:"alert alert-info mb-3"},H4={class:"d-flex justify-content-between align-items-center"},G4=["disabled"],q4={class:"d-grid gap-2"},K4=["disabled"],Z4={key:0},Y4={key:1},J4={key:2,class:"mt-3"},Q4={class:"d-flex justify-content-between align-items-center mb-2"},X4={class:"small mb-0"},e9={class:"badge bg-secondary ms-1"},t9={class:"badge bg-success ms-1"},n9={key:0,class:"badge bg-danger ms-1"},s9={class:"results-list border rounded",style:{"max-height":"200px","overflow-y":"auto"}},r9={class:"table table-sm table-striped mb-0"},o9={class:"small text-muted"},a9={class:"small"},i9={class:"text-primary"},l9={class:"small"},c9={class:"badge bg-info"},u9={class:"small"},d9=["href"],f9=["title"],p9={key:2,class:"text-muted"},h9=ut({__name:"BatchSellPanel",emits:["close"],setup(e,{emit:t}){const n=os(),s=fa(),r=$n(),{targetToken:o,selectedCount:a,selectedWalletAddresses:i}=bt(n),l=Q("fixed"),d=Q(100),u=Q(10),f=Q(100),p=Q(!1),h=Q(!1),v=Q([]),g=Q(5),T=Q(1e3),$=pe(()=>{if(a.value===0)return"0";const b=(Math.ceil(a.value/g.value)-1)*T.value,k=Math.ceil(b/1e3);if(k<60)return`${k}`;const M=Math.floor(k/60),I=k%60;return`${M}${I}`}),x=pe(()=>!o.value||a.value===0?!1:l.value==="fixed"?d.value>0&&d.value<=100:u.value>0&&f.value>0&&u.value<f.value&&f.value<=100);async function y(){if(o.value){h.value=!0;try{await n.refreshTargetTokenBalance()}finally{h.value=!1}}}function m(P){const b=n.localWallets.find(k=>k.address.toLowerCase()===P.toLowerCase());return(b==null?void 0:b.encrypted)||null}async function w(){if(!x.value)return;const P=s.currentRouterAddress;if(!P||P==="0x0000000000000000000000000000000000000000"){alert("DEXRouter");return}p.value=!0,v.value=[];try{const b=i.value,k=o.value.address,M=r.selectedChainId,I=r.rpcUrl,Z=Sh(M,I,P),z=[];for(let R=0;R<b.length;R+=g.value)z.push(b.slice(R,R+g.value));console.log(` ${b.length}  ${z.length}  ${g.value} `);for(let R=0;R<z.length;R++){const J=z[R];console.log(` ${R+1}/${z.length}  ${J.length} `);const ae=J.map(async fe=>{let Ee;l.value==="fixed"?Ee=d.value:Ee=Math.random()*(f.value-u.value)+u.value;const Ie=m(fe);if(!Ie)return{wallet:fe,percent:Ee,success:!1,error:""};try{console.log(` ${fe.slice(0,10)}...  ${Ee.toFixed(1)}%`);const Pe=await Z.executeTrade({chainId:M,rpcUrl:I,routerAddress:P,privateKey:Ie,walletAddress:fe,tokenAddress:k,spendToken:r.currentGovernanceToken,amount:0,amountType:"quantity",mode:"dump",slippage:30,balancePercent:Ee});return Pe.success?(console.log(` ${fe.slice(0,10)}... : ${Pe.txHash}`),{wallet:fe,percent:Ee,success:!0,hash:Pe.txHash,amountIn:Pe.amountIn,amountOut:Pe.amountOut,error:null}):(console.error(` ${fe.slice(0,10)}... :`,Pe.error),{wallet:fe,percent:Ee,success:!1,error:Pe.error||""})}catch(Pe){return console.error(` ${fe.slice(0,10)}... :`,Pe),{wallet:fe,percent:Ee,success:!1,error:Pe.message||""}}}),me=await Promise.all(ae);v.value.push(...me),R<z.length-1&&(console.log(` ${T.value}ms ...`),await new Promise(fe=>setTimeout(fe,T.value)))}const L=v.value.filter(R=>R.success).length,V=v.value.filter(R=>!R.success).length;alert(V===0?` ${L} `:` ${L}  ${V} `),await n.refreshTargetTokenBalance()}catch(b){console.error(":",b),alert(`: ${b.message||""}`)}finally{p.value=!1}}function C(P){return P?`${P.slice(0,6)}...${P.slice(-4)}`:"-"}function A(P){const b=n.currentChainId;return({56:"https://bscscan.com/tx/",97:"https://testnet.bscscan.com/tx/",66:"https://www.oklink.com/okc/tx/"}[b]||"https://bscscan.com/tx/")+P}function B(P){return P?P.length>25?P.slice(0,25)+"...":P:""}return(P,b)=>(N(),F("div",w4,[c("div",x4,[b[9]||(b[9]=c("span",null,[c("i",{class:"bi bi-cart-dash me-1"}),se("")],-1)),c("button",{type:"button",class:"btn-close",onClick:b[0]||(b[0]=k=>P.$emit("close"))})]),c("div",$4,[c("div",{class:Se(["alert mb-3",te(o)?"alert-success":"alert-warning"])},[c("div",T4,[c("i",{class:Se(["bi me-2",te(o)?"bi-check-circle-fill":"bi-exclamation-triangle-fill"])},null,2),te(o)?(N(),F("div",k4,[b[10]||(b[10]=c("strong",null,"",-1)),se(O(te(o).symbol)+" ("+O(te(o).name)+") ",1),b[11]||(b[11]=c("br",null,null,-1)),c("small",C4,O(te(o).address),1)])):(N(),F("div",E4,[...b[12]||(b[12]=[c("strong",null,"",-1),c("br",null,null,-1),c("small",null,"",-1)])]))])],2),c("div",_4,[b[15]||(b[15]=c("label",{class:"form-label"},"",-1)),c("div",P4,[ue(c("input",{type:"radio",class:"btn-check",name:"sellMode",id:"sellModeFixed",value:"fixed","onUpdate:modelValue":b[1]||(b[1]=k=>l.value=k)},null,512),[[gs,l.value]]),b[13]||(b[13]=c("label",{class:"btn btn-outline-primary",for:"sellModeFixed"},[c("i",{class:"bi bi-percent me-1"}),se(" ")],-1)),ue(c("input",{type:"radio",class:"btn-check",name:"sellMode",id:"sellModeRange",value:"range","onUpdate:modelValue":b[2]||(b[2]=k=>l.value=k)},null,512),[[gs,l.value]]),b[14]||(b[14]=c("label",{class:"btn btn-outline-primary",for:"sellModeRange"},[c("i",{class:"bi bi-shuffle me-1"}),se(" ")],-1))])]),l.value==="fixed"?(N(),F("div",A4,[b[17]||(b[17]=c("label",{class:"form-label"},"",-1)),c("div",S4,[ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":b[3]||(b[3]=k=>d.value=k),min:"1",max:"100",placeholder:"50"},null,512),[[Ae,d.value,void 0,{number:!0}]]),b[16]||(b[16]=c("span",{class:"input-group-text"},"%",-1))]),b[18]||(b[18]=c("div",{class:"form-text"},"",-1))])):be("",!0),l.value==="range"?(N(),F("div",B4,[b[22]||(b[22]=c("label",{class:"form-label"},"",-1)),c("div",I4,[c("div",N4,[c("div",O4,[ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":b[4]||(b[4]=k=>u.value=k),min:"1",max:"99",placeholder:"10"},null,512),[[Ae,u.value,void 0,{number:!0}]]),b[19]||(b[19]=c("span",{class:"input-group-text"},"%",-1))])]),b[21]||(b[21]=c("div",{class:"col-auto d-flex align-items-center"},[c("span",{class:"text-muted"},"~")],-1)),c("div",M4,[c("div",R4,[ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":b[5]||(b[5]=k=>f.value=k),min:"2",max:"100",placeholder:"100"},null,512),[[Ae,f.value,void 0,{number:!0}]]),b[20]||(b[20]=c("span",{class:"input-group-text"},"%",-1))])])]),b[23]||(b[23]=c("div",{class:"form-text"},"",-1))])):be("",!0),c("div",F4,[b[27]||(b[27]=c("label",{class:"form-label"},"",-1)),c("div",L4,[c("div",U4,[c("div",D4,[b[24]||(b[24]=c("span",{class:"input-group-text"},"",-1)),ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":b[6]||(b[6]=k=>g.value=k),min:"1",max:"20",placeholder:"5"},null,512),[[Ae,g.value,void 0,{number:!0}]])])]),c("div",z4,[c("div",j4,[b[25]||(b[25]=c("span",{class:"input-group-text"},"",-1)),ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":b[7]||(b[7]=k=>T.value=k),min:"100",max:"10000",step:"100",placeholder:"1000"},null,512),[[Ae,T.value,void 0,{number:!0}]]),b[26]||(b[26]=c("span",{class:"input-group-text"},"ms",-1))])])]),c("div",W4,[se("  "+O(g.value)+"  "+O(T.value)+"ms",1),c("strong",null,O($.value),1)])]),c("div",V4,[c("div",H4,[c("span",null,[b[28]||(b[28]=c("i",{class:"bi bi-wallet2 me-1"},null,-1)),b[29]||(b[29]=se(" ",-1)),c("strong",null,O(te(a)),1),b[30]||(b[30]=se("  ",-1))]),c("button",{class:"btn btn-sm btn-outline-info",onClick:y,disabled:!te(o)||h.value},[c("i",{class:Se(["bi bi-arrow-clockwise me-1",{spin:h.value}])},null,2),se(" "+O(h.value?"":""),1)],8,G4)])]),c("div",q4,[c("button",{class:"btn btn-warning btn-lg",onClick:w,disabled:!x.value||p.value},[p.value?(N(),F("span",Z4,[...b[31]||(b[31]=[c("span",{class:"spinner-border spinner-border-sm me-1",role:"status"},null,-1),se(" ... ",-1)])])):(N(),F("span",Y4,[...b[32]||(b[32]=[c("i",{class:"bi bi-cart-dash me-1"},null,-1),se("  ",-1)])]))],8,K4)]),v.value.length>0?(N(),F("div",J4,[c("div",Q4,[c("h6",X4,[b[33]||(b[33]=c("i",{class:"bi bi-list-check me-1"},null,-1)),b[34]||(b[34]=se(" ",-1)),c("span",e9,O(v.value.length),1),c("span",t9,O(v.value.filter(k=>k.success).length)+" ",1),v.value.filter(k=>!k.success).length>0?(N(),F("span",n9,O(v.value.filter(k=>!k.success).length)+"  ",1)):be("",!0)]),c("button",{class:"btn btn-outline-secondary btn-sm",onClick:b[8]||(b[8]=k=>v.value=[])},[...b[35]||(b[35]=[c("i",{class:"bi bi-x-lg"},null,-1),se("  ",-1)])])]),c("div",s9,[c("table",r9,[b[38]||(b[38]=c("thead",{class:"table-light sticky-top"},[c("tr",null,[c("th",null,"#"),c("th",null,""),c("th",null,""),c("th",null,""),c("th",null,"")])],-1)),c("tbody",null,[(N(!0),F(Oe,null,Je(v.value,(k,M)=>{var I;return N(),F("tr",{key:M,class:Se(k.success?"":"table-danger")},[c("td",o9,O(M+1),1),c("td",null,[c("i",{class:Se(["bi",k.success?"bi-check-circle-fill text-success":"bi-x-circle-fill text-danger"])},null,2)]),c("td",a9,[c("code",i9,O(C(k.wallet)),1)]),c("td",l9,[c("span",c9,O((I=k.percent)==null?void 0:I.toFixed(1))+"%",1)]),c("td",u9,[k.hash?(N(),F("a",{key:0,href:A(k.hash),target:"_blank",class:"text-decoration-none"},[b[36]||(b[36]=c("i",{class:"bi bi-box-arrow-up-right me-1"},null,-1)),se(O(C(k.hash)),1)],8,d9)):k.error?(N(),F("span",{key:1,class:"text-danger",title:k.error},[b[37]||(b[37]=c("i",{class:"bi bi-exclamation-triangle me-1"},null,-1)),se(O(B(k.error)),1)],8,f9)):(N(),F("span",p9,"-"))])],2)}),128))])])])])):be("",!0)])]))}}),m9=Jt(h9,[["__scopeId","data-v-25ec2541"]]),b9={class:"container-fluid py-3"},g9={class:"row g-3"},y9={class:"col-12"},v9={class:"card shadow-sm"},w9={class:"card-body"},x9={class:"col-12"},$9={class:"card shadow-sm"},T9={class:"card-body"},k9={class:"col-12"},C9={class:"card shadow-sm"},E9={class:"card-body"},_9={class:"col-12"},P9={class:"card shadow-sm"},A9={class:"card-body"},S9={class:"d-flex justify-content-between align-items-center"},B9={class:"col-12"},I9={class:"card shadow-sm"},N9={class:"card-body wallet-table-wrapper"},O9=ut({name:"WalletManagePanel",__name:"WalletManagePanel",setup(e){const t=Q(!1);return(n,s)=>(N(),F("div",b9,[s[5]||(s[5]=c("h1",{class:"h4 mb-3"},"",-1)),c("div",g9,[c("div",y9,[c("div",v9,[c("div",w9,[tt(Ah)])])]),c("div",x9,[c("div",$9,[c("div",T9,[s[2]||(s[2]=c("h2",{class:"h6"},"",-1)),tt(x8)])])]),c("div",k9,[c("div",C9,[c("div",E9,[tt(w3)])])]),c("div",_9,[c("div",P9,[c("div",A9,[c("div",S9,[s[4]||(s[4]=c("h2",{class:"h6 mb-0"},"",-1)),c("button",{class:"btn btn-outline-warning btn-sm",onClick:s[0]||(s[0]=r=>t.value=!t.value)},[s[3]||(s[3]=c("i",{class:"bi bi-cart-dash me-1"},null,-1)),se(" "+O(t.value?"":""),1)])]),t.value?(N(),bs(m9,{key:0,class:"mt-3",onClose:s[1]||(s[1]=r=>t.value=!1)})):be("",!0)])])]),c("div",B9,[c("div",I9,[c("div",N9,[tt(b4)])])])])]))}}),Pd=Jt(O9,[["__scopeId","data-v-b2f244bb"]]),M9=ut({__name:"DexPanel",setup(e){const t=$n(),{rpcUrl:n}=bt(t);Q("0x3E38E2b2c9D6b6F7C0A7a7D54d80E9A5e6C0A5aF"),Q(""),Q(""),Q(.01);const s=Q("-");return pe(()=>s.value),(r,o)=>null}}),Fo=Na("task",()=>{const e=Q([]),t=Q(null),n=pe(()=>e.value.filter(b=>b.status==="running")),s=pe(()=>e.value.filter(b=>b.status==="paused")),r=pe(()=>e.value.length),o=pe(()=>t.value&&e.value.find(b=>b.id===t.value)||null);function a(){return`task_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function i(){return`log_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function l(b,k,M,I,Z){const z=e.value.find(L=>L.id===b);z&&(z.logs.push({id:i(),timestamp:Date.now(),type:k,message:M,walletAddress:I,txHash:Z}),z.logs.length>500&&(z.logs=z.logs.slice(-500)))}function d(b,k,M,I){const Z={id:a(),name:b,status:"stopped",mode:k,config:M,walletAddresses:I,logs:[],stats:{executedCount:0,spentAmount:0,elapsedTime:0}};return e.value.push(Z),t.value||(t.value=Z.id),l(Z.id,"info",` "${b}" : ${k==="pump"?"":""}: ${I.length}`),Z}function u(b,k,M){const{stopType:I,stopValue:Z}=b.config,{executedCount:z,spentAmount:L,startTime:V,elapsedTime:R}=b.stats;switch(I){case"count":return z>=Z;case"amount":return L>=Z;case"time":return R>=Z;case"price":return k===void 0?!1:b.mode==="pump"?k>=Z:k<=Z;case"marketcap":return M===void 0?!1:b.mode==="pump"?M>=Z:M<=Z;default:return!1}}function f(b,k){const M=b.localWallets.find(I=>I.address.toLowerCase()===k.toLowerCase());if(M!=null&&M.encrypted)return M.encrypted;for(const I of b.walletBatches){const Z=I.wallets.find(z=>z.address.toLowerCase()===k.toLowerCase());if(Z!=null&&Z.privateKey)return Z.privateKey}return null}async function p(b,k){const M=os(),I=$n(),Z=fa(),z=f(M,k);if(!z)return l(b.id,"error",` ${k.slice(0,10)}... `,k),!1;try{const L=I.selectedChainId,V=I.rpcUrl,R=Z.currentRouterAddress;if(!R||R==="0x0000000000000000000000000000000000000000")return l(b.id,"error","DEXRouter",k),!1;l(b.id,"info",`${b.mode==="pump"?"":""}...`,k);const J=Sh(L,V,R),ae=b.mode==="dump"?b.config.sellAll?100:b.config.balancePercent||100:b.config.balancePercent;b.mode==="dump"&&l(b.id,"info",`: ${ae}%`,k);const me={chainId:L,rpcUrl:V,routerAddress:R,privateKey:z,walletAddress:k,tokenAddress:b.config.tokenContract,spendToken:b.config.spendToken,amount:b.config.amount,amountType:b.config.amountType,mode:b.mode,slippage:30,gasPrice:b.config.gasPrice,gasLimit:b.config.gasLimit,balancePercent:ae},fe=await J.executeTrade(me);if(fe.success){b.stats.executedCount++,b.stats.spentAmount+=b.config.amount;const Ee=b.mode==="pump"?"":"",Ie=fe.amountOut?`${Ee}: ${fe.amountIn}, : ${fe.amountOut}`:`${Ee}: ${b.config.amount} ${b.config.spendToken}`;return l(b.id,"success",Ie,k,fe.txHash),!0}else return l(b.id,"error",`: ${fe.error}`,k,fe.txHash),!1}catch(L){return l(b.id,"error",`: ${L.message}`,k),!1}}async function h(b){try{const k=$n(),M=fa(),I=k.selectedChainId,Z=k.rpcUrl,z=M.currentFactoryAddress,L=M.currentBaseTokens;if(!z||!L||L.length===0)return;let V;if(b.config.poolType==="BNB"||b.config.poolType==="tBNB"?(V=L.find(Pe=>!0),!V&&L.length>0&&(V=L[0])):V=L[0],!V)return;const J=await new Ir(Z,z,L).findTokenPair(b.config.tokenContract,V);if(!J)return;const me=Xn({chain:I===97?rr:hr,transport:et(Z)}),Ee=J.token0.toLowerCase()===V.toLowerCase()?J.reserve0:J.reserve1;return Number(_e(Ee))}catch(k){console.error(":",k);return}}async function v(b){if(b.status!=="running")return;if(b.config.stopType==="marketcap"){const Z=await h(b);if(Z!==void 0){const z=b.mode==="pump"?"(>=)":"(<=)";if(l(b.id,"info",`: ${Z.toFixed(4)} BNB, : ${b.config.stopValue} BNB [${z}]`),u(b,void 0,Z)){x(b.id,"");return}}}const{walletMode:k}=b.config,M=b.walletAddresses;if(M.length===0){l(b.id,"warning","");return}if(k==="parallel"){l(b.id,"info",`${M.length} `);const Z=M.map((z,L)=>{const V=L*100;return new Promise(R=>{setTimeout(async()=>{await p(b,z),R()},V)})});await Promise.allSettled(Z)}else for(const Z of M){if(b.status!=="running")break;await p(b,Z);const z=await h(b);if(u(b,void 0,z)){x(b.id,"");return}}const I=await h(b);u(b,void 0,I)&&x(b.id,"")}function g(b){const k=e.value.find(I=>I.id===b);if(!k)return!1;if(k.walletAddresses.length===0)return l(k.id,"error",""),!1;k.status="running",k.stats.startTime=Date.now(),l(k.id,"info",`: ${k.config.interval}`),v(k);const M=k.config.interval*1e3;return k.intervalId=window.setInterval(()=>{k.status==="running"&&(k.stats.startTime&&(k.stats.elapsedTime=Math.floor((Date.now()-k.stats.startTime)/1e3)),v(k))},M),!0}function T(b){const k=e.value.find(M=>M.id===b);return!k||k.status!=="running"?!1:(k.status="paused",k.intervalId&&(clearInterval(k.intervalId),k.intervalId=void 0),l(k.id,"warning",""),!0)}function $(b){const k=e.value.find(M=>M.id===b);return!k||k.status!=="paused"?!1:g(b)}function x(b,k){const M=e.value.find(I=>I.id===b);return M?(M.status="stopped",M.intervalId&&(clearInterval(M.intervalId),M.intervalId=void 0),l(M.id,"info",`${k?`: ${k}`:""}`),!0):!1}function y(b){const k=e.value.findIndex(I=>I.id===b);return k===-1?!1:(e.value[k].status==="running"&&x(b),e.value.splice(k,1),t.value===b&&(t.value=e.value.length>0?e.value[0].id:null),!0)}function m(b,k){const M=e.value.find(I=>I.id===b);return M?M.status==="running"?(console.error(""),!1):(k.name!==void 0&&(M.name=k.name),k.config&&(M.config={...M.config,...k.config}),k.walletAddresses!==void 0&&(M.walletAddresses=k.walletAddresses),l(b,"info",""),!0):!1}function w(b){t.value=b}function C(b){const k=e.value.find(M=>M.id===b);k&&(k.logs=[],l(k.id,"info",""))}function A(){e.value.forEach(b=>{b.intervalId&&clearInterval(b.intervalId)}),e.value=[],t.value=null}function B(b){const{stopType:k,stopValue:M}=b.config;switch(k){case"count":return` ${M} `;case"amount":return` ${M} ${b.config.spendToken}`;case"time":return` ${M} `;case"price":return` ${M}`;case"marketcap":return` ${M} BNB`;default:return""}}function P(b){const{stopType:k,stopValue:M}=b.config,{executedCount:I,spentAmount:Z,elapsedTime:z}=b.stats;switch(k){case"count":return Math.min(I/M*100,100);case"amount":return Math.min(Z/M*100,100);case"time":return Math.min(z/M*100,100);case"price":return 0;case"marketcap":return 0;default:return 0}}return{tasks:e,activeLogTaskId:t,runningTasks:n,pausedTasks:s,taskCount:r,activeLogTask:o,createTask:d,startTask:g,pauseTask:T,resumeTask:$,stopTask:x,deleteTask:y,updateTask:m,setActiveLogTask:w,clearTaskLogs:C,clearAllTasks:A,addLog:l,getStopConditionText:B,getTaskProgress:P,checkStopCondition:u}}),R9={class:"d-flex justify-content-between align-items-center mb-2"},F9={class:"d-flex align-items-center gap-2"},L9=["checked"],U9={class:"small"},D9={class:"small text-muted mb-2"},z9={class:"d-flex flex-wrap gap-2"},j9={class:"mt-1"},W9={class:"me-2"},V9={key:0,class:"progress mb-2",style:{height:"4px"}},H9={class:"d-flex justify-content-between small text-muted mb-2"},G9={class:"d-flex gap-2 flex-wrap align-items-center"},q9={class:"d-flex gap-1"},K9={class:"d-flex gap-2"},Z9=ut({__name:"TaskCard",props:{task:{},selected:{type:Boolean}},emits:["toggle-select","edit"],setup(e,{emit:t}){const n=e,s=t,r=Fo(),{activeLogTaskId:o}=bt(r),a=pe(()=>o.value===n.task.id),i=pe(()=>{switch(n.task.status){case"running":return"border-success bg-success bg-opacity-10";case"paused":return"border-warning bg-warning bg-opacity-10";case"stopped":return"border-secondary";default:return""}}),l=pe(()=>{switch(n.task.status){case"running":return"bg-success";case"paused":return"bg-warning";case"stopped":return"bg-secondary";default:return"bg-secondary"}}),d=pe(()=>{switch(n.task.status){case"running":return"bi-play-circle-fill";case"paused":return"bi-pause-circle-fill";case"stopped":return"bi-stop-circle-fill";default:return"bi-circle"}}),u=pe(()=>{switch(n.task.status){case"running":return"";case"paused":return"";case"stopped":return"";default:return""}}),f=pe(()=>n.task.mode==="pump"?"bg-success":"bg-danger"),p=pe(()=>r.getStopConditionText(n.task)),h=pe(()=>r.getTaskProgress(n.task));function v(w){if(w<60)return`${w}s`;if(w<3600)return`${Math.floor(w/60)}m ${w%60}s`;const C=Math.floor(w/3600),A=Math.floor(w%3600/60);return`${C}h ${A}m`}function g(){n.task.status==="paused"?r.resumeTask(n.task.id):r.startTask(n.task.id)}function T(){r.pauseTask(n.task.id)}function $(){confirm(` "${n.task.name}" `)&&r.stopTask(n.task.id)}function x(){confirm(` "${n.task.name}" 

`)&&r.deleteTask(n.task.id)}function y(){r.setActiveLogTask(n.task.id)}function m(){s("edit",n.task)}return(w,C)=>(N(),F("div",{class:Se(["task-card border rounded p-2 mb-2",[i.value,{"border-info border-2":w.selected}]])},[c("div",R9,[c("div",F9,[c("input",{type:"checkbox",class:"form-check-input",checked:w.selected,onChange:C[0]||(C[0]=A=>w.$emit("toggle-select"))},null,40,L9),c("span",{class:Se(["badge",f.value])},O(w.task.mode==="pump"?"":""),3),c("strong",U9,O(w.task.name),1)]),c("span",{class:Se(["badge",l.value])},[c("i",{class:Se(["bi me-1",d.value])},null,2),se(" "+O(u.value),1)],2)]),c("div",D9,[c("div",z9,[c("span",null,[C[1]||(C[1]=c("i",{class:"bi bi-wallet2 me-1"},null,-1)),se(O(w.task.walletAddresses.length)+" ",1)]),c("span",null,[C[2]||(C[2]=c("i",{class:"bi bi-arrow-repeat me-1"},null,-1)),se(O(w.task.config.walletMode==="parallel"?"":""),1)]),c("span",null,[C[3]||(C[3]=c("i",{class:"bi bi-clock me-1"},null,-1)),se(O(w.task.config.interval)+"s",1)])]),c("div",j9,[c("span",W9,[C[4]||(C[4]=c("i",{class:"bi bi-stop-circle me-1"},null,-1)),se(O(p.value),1)])])]),w.task.config.stopType!=="price"?(N(),F("div",V9,[c("div",{class:Se(["progress-bar",w.task.status==="running"?"progress-bar-striped progress-bar-animated":""]),style:Ta({width:h.value+"%"})},null,6)])):be("",!0),c("div",H9,[c("span",null,": "+O(w.task.stats.executedCount)+" ",1),c("span",null,": "+O(w.task.stats.spentAmount.toFixed(4))+" "+O(w.task.config.spendToken),1),c("span",null,": "+O(v(w.task.stats.elapsedTime)),1)]),c("div",G9,[c("div",q9,[w.task.status==="stopped"||w.task.status==="paused"?(N(),F("button",{key:0,class:"btn btn-success btn-sm",onClick:g},[C[5]||(C[5]=c("i",{class:"bi bi-play-fill me-1"},null,-1)),se(" "+O(w.task.status==="paused"?"":""),1)])):be("",!0),w.task.status==="running"?(N(),F("button",{key:1,class:"btn btn-warning btn-sm",onClick:T},[...C[6]||(C[6]=[c("i",{class:"bi bi-pause-fill me-1"},null,-1),se(" ",-1)])])):be("",!0),w.task.status==="running"||w.task.status==="paused"?(N(),F("button",{key:2,class:"btn btn-danger btn-sm",onClick:$,title:""},[...C[7]||(C[7]=[c("i",{class:"bi bi-stop-fill me-1"},null,-1),se(" ",-1)])])):be("",!0)]),C[11]||(C[11]=c("div",{class:"flex-grow-1"},null,-1)),c("div",K9,[c("button",{class:Se(["btn btn-outline-secondary btn-sm",{active:a.value}]),onClick:y,title:""},[...C[8]||(C[8]=[c("i",{class:"bi bi-journal-text me-1"},null,-1),se(" ",-1)])],2),w.task.status==="paused"||w.task.status==="stopped"?(N(),F("button",{key:0,class:"btn btn-outline-primary btn-sm",onClick:m,title:""},[...C[9]||(C[9]=[c("i",{class:"bi bi-pencil me-1"},null,-1),se(" ",-1)])])):be("",!0),w.task.status==="stopped"?(N(),F("button",{key:1,class:"btn btn-outline-danger btn-sm",onClick:x,title:""},[...C[10]||(C[10]=[c("i",{class:"bi bi-trash me-1"},null,-1),se(" ",-1)])])):be("",!0)])])],2))}}),Y9=Jt(Z9,[["__scopeId","data-v-21d3c203"]]),J9={class:"task-config-form"},Q9={class:"row g-2 mb-3"},X9={class:"col-6"},eT={class:"col-6"},tT={class:"mb-3"},nT={class:"form-label small"},sT={key:0,class:"badge bg-success ms-1"},rT=["value","disabled","placeholder"],oT={key:0,class:"form-text small text-success"},aT={key:1,class:"form-text small text-warning"},iT={class:"row g-2 mb-3"},lT={class:"col-6"},cT=["value"],uT={class:"col-6"},dT={class:"form-label small"},fT=["value"],pT={class:"mb-3"},hT={class:"input-group input-group-sm"},mT={class:"input-group-text"},bT={class:"row g-2 mb-3"},gT={key:0,class:"col-4"},yT={class:"form-label small"},vT={class:"input-group input-group-sm"},wT=["disabled"],xT={class:"input-group-text"},$T={key:0,class:"form-text small text-warning"},TT={key:0,class:"mb-3"},kT={class:"form-check"},CT={class:"row g-2 mb-3"},ET={class:"col-5"},_T={class:"col-7"},PT={class:"form-label small"},AT={class:"input-group input-group-sm"},ST=["placeholder"],BT={class:"input-group-text"},IT={class:"mb-3"},NT={class:"input-group input-group-sm"},OT={class:"row g-2 mb-3"},MT={class:"col-6"},RT={class:"input-group input-group-sm"},FT={class:"col-6"},LT={class:"mb-3"},UT={class:"form-check form-check-inline"},DT={class:"form-check form-check-inline"},zT={class:"form-text small"},jT={class:"mb-3"},WT={class:"input-group input-group-sm"},VT={class:"form-text small"},HT={class:"mb-3"},GT={class:"form-label small"},qT={class:"badge bg-primary ms-1"},KT={class:"mb-2"},ZT={class:"form-check form-check-inline"},YT={class:"form-check-label small",for:"useLocalWallets"},JT={class:"form-check form-check-inline"},QT={key:0,class:"mb-2"},XT=["value"],ek={key:1,class:"alert alert-warning small py-2 mb-0"},tk={key:2,class:"small text-muted"},nk={key:0,class:"mb-1"},sk={key:0},rk={key:1},ok={key:0},ak={class:"d-grid"},ik=["disabled"],lk=ut({__name:"TaskConfigForm",setup(e){const t=Fo(),n=os(),s=$n(),{currentGovernanceToken:r}=bt(s),{selectedWalletAddresses:o,selectedCount:a,targetToken:i,walletBatches:l}=bt(n),d=Q(""),u=Q("pump"),f=Q(""),p=Q(""),h=Q(""),v=Q(0),g=Q("amount"),T=Q(100),$=Q("count"),x=Q(10),y=Q(1),m=Q(void 0),w=Q(void 0),C=Q(!0),A=Q("sequential"),B=Q(100),P=Q(!0),b=Q(!1),k=Q([]);Tt(r,we=>{p.value=we,h.value=we},{immediate:!0}),Tt(i,we=>{we&&(f.value=we.address)},{immediate:!0}),Tt(()=>t.taskCount,we=>{d.value||(d.value=`${we+1}`)},{immediate:!0});const M=pe(()=>o.value.slice(0,3)),I=pe(()=>l.value.filter(we=>k.value.includes(we.id))),Z=pe(()=>I.value.slice(0,2)),z=pe(()=>I.value.reduce((we,j)=>we+j.wallets.length,0)),L=pe(()=>{let we=0;return P.value&&(we+=a.value),b.value&&(we+=z.value),we}),V=pe(()=>{const we=new Set;return P.value&&o.value.forEach(j=>we.add(j.toLowerCase())),b.value&&I.value.forEach(j=>{j.wallets.forEach(he=>we.add(he.address.toLowerCase()))}),Array.from(we)}),R=pe(()=>d.value&&f.value&&p.value&&h.value&&(T.value>=0||u.value==="dump"&&C.value)&&x.value>0&&y.value>0&&L.value>0),J=pe(()=>{switch($.value){case"count":return"";case"amount":return"";case"time":return"";case"price":return"";case"marketcap":return"";default:return""}}),ae=pe(()=>{switch($.value){case"count":return"10";case"amount":return"1";case"time":return"60";case"price":return"0.001";case"marketcap":return"100";default:return""}}),me=pe(()=>{switch($.value){case"count":return"";case"amount":return h.value;case"time":return"";case"price":return r.value;case"marketcap":return r.value;default:return""}}),fe=pe(()=>u.value==="pump"?g.value==="amount"?"":"":(g.value==="amount","")),Ee=pe(()=>u.value==="pump"&&g.value==="amount"?h.value:"Token");function Ie(we){return we?`${we.slice(0,6)}...${we.slice(-4)}`:""}function Pe(){if(!R.value)return;const we={tokenContract:f.value,poolType:p.value,spendToken:h.value,targetPrice:v.value,targetMarketCap:$.value==="marketcap"?x.value:void 0,amountType:g.value,amount:T.value,stopType:$.value,stopValue:x.value,interval:y.value,gasPrice:m.value,gasLimit:w.value,sellAll:C.value,walletMode:A.value,balancePercent:C.value&&u.value==="dump"?100:B.value},j=t.createTask(d.value,u.value,we,[...V.value]);d.value=`${t.taskCount+1}`,k.value=[],alert(` "${j.name}" 

: ${V.value.length}
""`)}return(we,j)=>(N(),F("div",J9,[j[53]||(j[53]=c("h6",{class:"fw-semibold mb-3"},[c("i",{class:"bi bi-plus-circle me-1"}),se(" ")],-1)),c("form",{onSubmit:ar(Pe,["prevent"])},[c("div",Q9,[c("div",X9,[j[20]||(j[20]=c("label",{class:"form-label small"},"",-1)),ue(c("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":j[0]||(j[0]=he=>d.value=he),placeholder:"1"},null,512),[[Ae,d.value]])]),c("div",eT,[j[22]||(j[22]=c("label",{class:"form-label small"},"",-1)),ue(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":j[1]||(j[1]=he=>u.value=he)},[...j[21]||(j[21]=[c("option",{value:"pump"},"",-1),c("option",{value:"dump"},"",-1)])],512),[[Ye,u.value]])])]),c("div",tT,[c("label",nT,[j[23]||(j[23]=se("  ",-1)),te(i)?(N(),F("span",sT,"")):be("",!0)]),c("input",{type:"text",class:"form-control form-control-sm",value:f.value,onInput:j[2]||(j[2]=he=>f.value=he.target.value),disabled:!!te(i),placeholder:te(i)?"":""},null,40,rT),te(i)?(N(),F("div",oT,[j[24]||(j[24]=c("i",{class:"bi bi-check-circle me-1"},null,-1)),se(O(te(i).symbol)+" ("+O(te(i).name)+") ",1)])):(N(),F("div",aT,[...j[25]||(j[25]=[c("i",{class:"bi bi-exclamation-triangle me-1"},null,-1),se(" ",-1)])]))]),c("div",iT,[c("div",lT,[j[26]||(j[26]=c("label",{class:"form-label small"},"",-1)),ue(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":j[3]||(j[3]=he=>p.value=he),disabled:""},[c("option",{value:te(r)},O(te(r)),9,cT)],512),[[Ye,p.value]])]),c("div",uT,[c("label",dT,O(u.value==="pump"?"":""),1),ue(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":j[4]||(j[4]=he=>h.value=he),disabled:""},[c("option",{value:te(r)},O(te(r)),9,fT)],512),[[Ye,h.value]])])]),c("div",pT,[j[27]||(j[27]=c("label",{class:"form-label small"},"",-1)),c("div",hT,[ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":j[5]||(j[5]=he=>v.value=he),step:"0.000001",placeholder:"0.001"},null,512),[[Ae,v.value,void 0,{number:!0}]]),c("span",mT,O(te(r)),1)]),j[28]||(j[28]=c("div",{class:"form-text small"},'""',-1))]),c("div",bT,[u.value==="pump"?(N(),F("div",gT,[j[30]||(j[30]=c("label",{class:"form-label small"},"",-1)),ue(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":j[6]||(j[6]=he=>g.value=he)},[...j[29]||(j[29]=[c("option",{value:"amount"},"",-1),c("option",{value:"quantity"},"",-1)])],512),[[Ye,g.value]])])):be("",!0),c("div",{class:Se(u.value==="pump"?"col-8":"col-12")},[c("label",yT,O(fe.value),1),c("div",vT,[ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":j[7]||(j[7]=he=>T.value=he),step:"any",placeholder:"100",disabled:u.value==="dump"&&C.value},null,8,wT),[[Ae,T.value,void 0,{number:!0}]]),c("span",xT,O(Ee.value),1)]),u.value==="dump"?(N(),F("div",$T,[j[31]||(j[31]=c("i",{class:"bi bi-info-circle me-1"},null,-1)),se(" "+O(h.value)+" ",1)])):be("",!0)],2)]),u.value==="dump"?(N(),F("div",TT,[c("div",kT,[ue(c("input",{class:"form-check-input",type:"checkbox",id:"sellAllCheck","onUpdate:modelValue":j[8]||(j[8]=he=>C.value=he)},null,512),[[Dr,C.value]]),j[32]||(j[32]=c("label",{class:"form-check-label small",for:"sellAllCheck"},[c("i",{class:"bi bi-lightning-charge me-1"}),se(" ")],-1))]),j[33]||(j[33]=c("div",{class:"form-text small text-muted"}," 100% ",-1))])):be("",!0),c("div",CT,[c("div",ET,[j[35]||(j[35]=c("label",{class:"form-label small"},"",-1)),ue(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":j[9]||(j[9]=he=>$.value=he)},[...j[34]||(j[34]=[Of('<option value="count" data-v-aacb3463></option><option value="amount" data-v-aacb3463></option><option value="time" data-v-aacb3463>()</option><option value="price" data-v-aacb3463></option><option value="marketcap" data-v-aacb3463></option>',5)])],512),[[Ye,$.value]])]),c("div",_T,[c("label",PT,O(J.value),1),c("div",AT,[ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":j[10]||(j[10]=he=>x.value=he),placeholder:ae.value,step:"any"},null,8,ST),[[Ae,x.value,void 0,{number:!0}]]),c("span",BT,O(me.value),1)])])]),c("div",IT,[j[37]||(j[37]=c("label",{class:"form-label small"},"",-1)),c("div",NT,[ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":j[11]||(j[11]=he=>y.value=he),min:"1",placeholder:"1"},null,512),[[Ae,y.value,void 0,{number:!0}]]),j[36]||(j[36]=c("span",{class:"input-group-text"},"",-1))])]),c("div",OT,[c("div",MT,[j[39]||(j[39]=c("label",{class:"form-label small"},"Gas Price ()",-1)),c("div",RT,[ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":j[12]||(j[12]=he=>m.value=he),placeholder:""},null,512),[[Ae,m.value,void 0,{number:!0}]]),j[38]||(j[38]=c("span",{class:"input-group-text"},"Gwei",-1))])]),c("div",FT,[j[40]||(j[40]=c("label",{class:"form-label small"},"Gas Limit ()",-1)),ue(c("input",{type:"number",class:"form-control form-control-sm","onUpdate:modelValue":j[13]||(j[13]=he=>w.value=he),placeholder:""},null,512),[[Ae,w.value,void 0,{number:!0}]])])]),c("div",LT,[j[43]||(j[43]=c("label",{class:"form-label small"},"",-1)),c("div",null,[c("div",UT,[ue(c("input",{class:"form-check-input",type:"radio",id:"walletSequential",value:"sequential","onUpdate:modelValue":j[14]||(j[14]=he=>A.value=he)},null,512),[[gs,A.value]]),j[41]||(j[41]=c("label",{class:"form-check-label small",for:"walletSequential"},"",-1))]),c("div",DT,[ue(c("input",{class:"form-check-input",type:"radio",id:"walletParallel",value:"parallel","onUpdate:modelValue":j[15]||(j[15]=he=>A.value=he)},null,512),[[gs,A.value]]),j[42]||(j[42]=c("label",{class:"form-check-label small",for:"walletParallel"},"",-1))])]),c("div",zT,O(A.value==="sequential"?"":""),1)]),c("div",jT,[j[45]||(j[45]=c("label",{class:"form-label small"},[se("  "),c("i",{class:"bi bi-question-circle ms-1",title:"X%"})],-1)),c("div",WT,[ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":j[16]||(j[16]=he=>B.value=he),min:"1",max:"100",step:"1",placeholder:"100"},null,512),[[Ae,B.value,void 0,{number:!0}]]),j[44]||(j[44]=c("span",{class:"input-group-text"},"%",-1))]),c("div",VT,O(u.value==="pump"?` ${B.value||100}%  ${h.value} `:` ${B.value||100}% `),1)]),c("div",HT,[c("label",GT,[j[46]||(j[46]=se("  ",-1)),c("span",qT,O(L.value)+" ",1)]),c("div",KT,[c("div",ZT,[ue(c("input",{class:"form-check-input",type:"checkbox",id:"useLocalWallets","onUpdate:modelValue":j[17]||(j[17]=he=>P.value=he)},null,512),[[Dr,P.value]]),c("label",YT,"  ("+O(te(a))+") ",1)]),c("div",JT,[ue(c("input",{class:"form-check-input",type:"checkbox",id:"useBatchWallets","onUpdate:modelValue":j[18]||(j[18]=he=>b.value=he)},null,512),[[Dr,b.value]]),j[47]||(j[47]=c("label",{class:"form-check-label small",for:"useBatchWallets"},"  ",-1))])]),b.value?(N(),F("div",QT,[ue(c("select",{class:"form-select form-select-sm","onUpdate:modelValue":j[19]||(j[19]=he=>k.value=he),multiple:"",style:{height:"80px"}},[(N(!0),F(Oe,null,Je(te(l),he=>(N(),F("option",{key:he.id,value:he.id},O(he.remark)+" ("+O(he.wallets.length)+" - "+O(he.walletType==="main"?"":"")+") ",9,XT))),128))],512),[[Ye,k.value]]),j[48]||(j[48]=c("div",{class:"form-text small"},"Ctrl",-1))])):be("",!0),L.value===0?(N(),F("div",ek,[...j[49]||(j[49]=[c("i",{class:"bi bi-exclamation-triangle me-1"},null,-1),se("  ",-1)])])):(N(),F("div",tk,[P.value&&te(a)>0?(N(),F("div",nk,[j[50]||(j[50]=c("span",{class:"badge bg-secondary me-1"},"",-1)),(N(!0),F(Oe,null,Je(M.value,(he,vt)=>(N(),F("span",{key:he,class:"me-1"},O(Ie(he)),1))),128)),te(a)>3?(N(),F("span",sk,"...  "+O(te(a))+" ",1)):be("",!0)])):be("",!0),b.value&&z.value>0?(N(),F("div",rk,[j[51]||(j[51]=c("span",{class:"badge bg-info me-1"},"",-1)),(N(!0),F(Oe,null,Je(Z.value,he=>(N(),F("span",{key:he.id,class:"me-1"},O(he.remark)+"("+O(he.wallets.length)+") ",1))),128)),k.value.length>2?(N(),F("span",ok,"...  "+O(z.value)+" ",1)):be("",!0)])):be("",!0)]))]),c("div",ak,[c("button",{type:"submit",class:"btn btn-primary btn-sm",disabled:!R.value},[...j[52]||(j[52]=[c("i",{class:"bi bi-plus-lg me-1"},null,-1),se(" ",-1)])],8,ik)])],32)]))}}),ck=Jt(lk,[["__scopeId","data-v-aacb3463"]]),uk={class:"modal fade show d-block",tabindex:"-1"},dk={class:"modal-dialog modal-lg modal-dialog-scrollable"},fk={class:"modal-content"},pk={class:"modal-body"},hk={class:"mb-3"},mk={class:"row"},bk={class:"col-12 mb-3"},gk={class:"row"},yk={class:"col-md-6 mb-3"},vk={class:"col-md-6 mb-3"},wk={class:"row"},xk={class:"col-md-6 mb-3"},$k={class:"col-md-6 mb-3"},Tk={class:"row"},kk={class:"col-md-6 mb-3"},Ck={class:"col-md-6 mb-3"},Ek={class:"row"},_k={class:"col-md-6 mb-3"},Pk={class:"col-md-6 mb-3"},Ak={class:"row"},Sk={class:"col-md-6 mb-3"},Bk={class:"col-md-6 mb-3"},Ik={class:"mb-3"},Nk={class:"form-label"},Ok={class:"badge bg-secondary ms-1"},Mk=ut({__name:"TaskEditModal",props:{task:{}},emits:["close"],setup(e,{emit:t}){const n=e,s=t,r=Fo(),o=Q({name:"",tokenContract:"",amountType:"amount",amount:0,stopType:"count",stopValue:1,interval:5,sellThreshold:0,walletMode:"sequential",balancePercent:100,gasPrice:void 0,gasLimit:void 0,walletAddressesText:""}),a=pe(()=>o.value.walletAddressesText.split(`
`).map(u=>u.trim()).filter(u=>/^0x[0-9a-fA-F]{40}$/.test(u)).length);gr(()=>{const d=n.task;o.value={name:d.name,tokenContract:d.config.tokenContract,amountType:d.config.amountType,amount:d.config.amount,stopType:d.config.stopType,stopValue:d.config.stopValue,interval:d.config.interval,sellThreshold:d.config.sellThreshold,walletMode:d.config.walletMode,balancePercent:d.config.balancePercent||100,gasPrice:d.config.gasPrice,gasLimit:d.config.gasLimit,walletAddressesText:d.walletAddresses.join(`
`)}});function i(){s("close")}function l(){const d=o.value.walletAddressesText.split(`
`).map(p=>p.trim()).filter(p=>/^0x[0-9a-fA-F]{40}$/.test(p)),u={name:o.value.name,config:{tokenContract:o.value.tokenContract,amountType:o.value.amountType,amount:o.value.amount,stopType:o.value.stopType,stopValue:o.value.stopValue,interval:o.value.interval,sellThreshold:o.value.sellThreshold,walletMode:o.value.walletMode,balancePercent:o.value.balancePercent,gasPrice:o.value.gasPrice||void 0,gasLimit:o.value.gasLimit||void 0},walletAddresses:d};r.updateTask(n.task.id,u)?(alert(""),s("close")):alert("")}return(d,u)=>(N(),F(Oe,null,[c("div",{class:"modal-backdrop fade show",onClick:ar(i,["self"])}),c("div",uk,[c("div",dk,[c("div",fk,[c("div",{class:"modal-header"},[u[13]||(u[13]=c("h5",{class:"modal-title"},[c("i",{class:"bi bi-pencil-square me-2"}),se(" ")],-1)),c("button",{type:"button",class:"btn-close",onClick:i})]),c("div",pk,[c("form",{onSubmit:ar(l,["prevent"])},[c("div",hk,[u[14]||(u[14]=c("label",{class:"form-label"},"",-1)),ue(c("input",{type:"text",class:"form-control","onUpdate:modelValue":u[0]||(u[0]=f=>o.value.name=f),placeholder:""},null,512),[[Ae,o.value.name]])]),c("div",mk,[c("div",bk,[u[15]||(u[15]=c("label",{class:"form-label"},"",-1)),ue(c("input",{type:"text",class:"form-control font-monospace","onUpdate:modelValue":u[1]||(u[1]=f=>o.value.tokenContract=f),placeholder:"0x..."},null,512),[[Ae,o.value.tokenContract]])])]),c("div",gk,[c("div",yk,[u[17]||(u[17]=c("label",{class:"form-label"},"",-1)),ue(c("select",{class:"form-select","onUpdate:modelValue":u[2]||(u[2]=f=>o.value.amountType=f)},[...u[16]||(u[16]=[c("option",{value:"amount"},"",-1),c("option",{value:"quantity"},"",-1)])],512),[[Ye,o.value.amountType]])]),c("div",vk,[u[18]||(u[18]=c("label",{class:"form-label"},"/",-1)),ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":u[3]||(u[3]=f=>o.value.amount=f),min:"0",step:"0.0001"},null,512),[[Ae,o.value.amount,void 0,{number:!0}]])])]),c("div",wk,[c("div",xk,[u[20]||(u[20]=c("label",{class:"form-label"},"",-1)),ue(c("select",{class:"form-select","onUpdate:modelValue":u[4]||(u[4]=f=>o.value.stopType=f)},[...u[19]||(u[19]=[Of('<option value="count" data-v-e7db8c8c></option><option value="amount" data-v-e7db8c8c></option><option value="time" data-v-e7db8c8c>()</option><option value="price" data-v-e7db8c8c></option><option value="marketcap" data-v-e7db8c8c>(BNB)</option>',5)])],512),[[Ye,o.value.stopType]])]),c("div",$k,[u[21]||(u[21]=c("label",{class:"form-label"},"",-1)),ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":u[5]||(u[5]=f=>o.value.stopValue=f),min:"0",step:"0.0001"},null,512),[[Ae,o.value.stopValue,void 0,{number:!0}]])])]),c("div",Tk,[c("div",kk,[u[22]||(u[22]=c("label",{class:"form-label"},"()",-1)),ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":u[6]||(u[6]=f=>o.value.interval=f),min:"1",step:"1"},null,512),[[Ae,o.value.interval,void 0,{number:!0}]])]),c("div",Ck,[u[23]||(u[23]=c("label",{class:"form-label"},"(%)",-1)),ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":u[7]||(u[7]=f=>o.value.sellThreshold=f),min:"0",max:"100",step:"1"},null,512),[[Ae,o.value.sellThreshold,void 0,{number:!0}]])])]),c("div",Ek,[c("div",_k,[u[25]||(u[25]=c("label",{class:"form-label"},"",-1)),ue(c("select",{class:"form-select","onUpdate:modelValue":u[8]||(u[8]=f=>o.value.walletMode=f)},[...u[24]||(u[24]=[c("option",{value:"sequential"},"",-1),c("option",{value:"parallel"},"",-1)])],512),[[Ye,o.value.walletMode]])]),c("div",Pk,[u[26]||(u[26]=c("label",{class:"form-label"},"(%)",-1)),ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":u[9]||(u[9]=f=>o.value.balancePercent=f),min:"1",max:"100",step:"1"},null,512),[[Ae,o.value.balancePercent,void 0,{number:!0}]])])]),c("div",Ak,[c("div",Sk,[u[27]||(u[27]=c("label",{class:"form-label"},"Gas Price (Gwei)",-1)),ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":u[10]||(u[10]=f=>o.value.gasPrice=f),min:"0",step:"0.1",placeholder:""},null,512),[[Ae,o.value.gasPrice,void 0,{number:!0}]])]),c("div",Bk,[u[28]||(u[28]=c("label",{class:"form-label"},"Gas Limit",-1)),ue(c("input",{type:"number",class:"form-control","onUpdate:modelValue":u[11]||(u[11]=f=>o.value.gasLimit=f),min:"21000",step:"1000",placeholder:""},null,512),[[Ae,o.value.gasLimit,void 0,{number:!0}]])])]),c("div",Ik,[c("label",Nk,[u[29]||(u[29]=se("  ",-1)),c("span",Ok,O(a.value)+" ",1)]),ue(c("textarea",{class:"form-control font-monospace","onUpdate:modelValue":u[12]||(u[12]=f=>o.value.walletAddressesText=f),rows:"5",placeholder:`
0x1234...
0x5678...`},null,512),[[Ae,o.value.walletAddressesText]]),u[30]||(u[30]=c("div",{class:"form-text"},"",-1))])],32)]),c("div",{class:"modal-footer"},[c("button",{type:"button",class:"btn btn-secondary",onClick:i},"  "),c("button",{type:"button",class:"btn btn-primary",onClick:l},[...u[31]||(u[31]=[c("i",{class:"bi bi-check-lg me-1"},null,-1),se(" ",-1)])])])])])])],64))}}),Rk=Jt(Mk,[["__scopeId","data-v-e7db8c8c"]]),Fk={class:"task-list"},Lk={key:0,class:"mb-3"},Uk={class:"d-flex justify-content-between align-items-center mb-2"},Dk={class:"fw-semibold mb-0"},zk={class:"badge bg-primary ms-1"},jk={key:0,class:"badge bg-success ms-1"},Wk={key:1,class:"badge bg-info ms-1"},Vk={class:"d-flex justify-content-between align-items-center mb-2 flex-wrap gap-2"},Hk={class:"d-flex gap-2"},Gk=["disabled"],qk={class:"d-flex gap-2"},Kk=["disabled"],Zk=["disabled"],Yk={class:"task-cards-container",style:{"max-height":"300px","overflow-y":"auto"}},Jk={key:1,class:"text-center text-muted py-3 mb-3"},Qk=ut({__name:"TaskList",setup(e){const t=Fo(),{tasks:n,runningTasks:s}=bt(t),r=Q([]),o=Q(null),a=pe(()=>s.value.length),i=pe(()=>n.value.filter(x=>x.status==="stopped")),l=pe(()=>n.value.length>0&&r.value.length===n.value.length),d=pe(()=>n.value.filter(x=>r.value.includes(x.id)&&(x.status==="stopped"||x.status==="paused")).length),u=pe(()=>n.value.filter(x=>r.value.includes(x.id)&&(x.status==="running"||x.status==="paused")).length);function f(x){const y=r.value.indexOf(x);y>-1?r.value.splice(y,1):r.value.push(x)}function p(){l.value?r.value=[]:r.value=n.value.map(x=>x.id)}function h(){r.value=i.value.map(x=>x.id)}function v(){const x=n.value.filter(y=>r.value.includes(y.id)&&(y.status==="stopped"||y.status==="paused"));if(x.length!==0&&confirm(` ${x.length} `))for(const y of x)y.status==="paused"?t.resumeTask(y.id):t.startTask(y.id)}function g(){const x=n.value.filter(y=>r.value.includes(y.id)&&(y.status==="running"||y.status==="paused"));if(x.length!==0&&confirm(` ${x.length} `))for(const y of x)t.stopTask(y.id)}function T(x){o.value=x}function $(){o.value=null}return(x,y)=>(N(),F("div",Fk,[te(n).length>0?(N(),F("div",Lk,[c("div",Uk,[c("h6",Dk,[y[0]||(y[0]=c("i",{class:"bi bi-list-task me-1"},null,-1)),y[1]||(y[1]=se(" ",-1)),c("span",zk,O(te(n).length),1),a.value>0?(N(),F("span",jk,O(a.value)+" ",1)):be("",!0),r.value.length>0?(N(),F("span",Wk," "+O(r.value.length),1)):be("",!0)])]),c("div",Vk,[c("div",Hk,[c("button",{class:"btn btn-outline-secondary btn-sm",onClick:p},[c("i",{class:Se(["bi",l.value?"bi-check-square":"bi-square"])},null,2),se(" "+O(l.value?"":""),1)]),c("button",{class:"btn btn-outline-secondary btn-sm",onClick:h,disabled:i.value.length===0},[...y[2]||(y[2]=[c("i",{class:"bi bi-stop-circle me-1"},null,-1),se(" ",-1)])],8,Gk)]),c("div",qk,[c("button",{class:"btn btn-success btn-sm",onClick:v,disabled:d.value===0},[y[3]||(y[3]=c("i",{class:"bi bi-play-fill me-1"},null,-1)),se(" ("+O(d.value)+") ",1)],8,Kk),c("button",{class:"btn btn-danger btn-sm",onClick:g,disabled:u.value===0},[y[4]||(y[4]=c("i",{class:"bi bi-stop-fill me-1"},null,-1)),se(" ("+O(u.value)+") ",1)],8,Zk)])]),c("div",Yk,[(N(!0),F(Oe,null,Je(te(n),m=>(N(),bs(Y9,{key:m.id,task:m,selected:r.value.includes(m.id),onToggleSelect:w=>f(m.id),onEdit:T},null,8,["task","selected","onToggleSelect"]))),128))])])):(N(),F("div",Jk,[...y[5]||(y[5]=[c("i",{class:"bi bi-inbox fs-1 d-block mb-2"},null,-1),c("p",{class:"small mb-0"},"",-1)])])),y[6]||(y[6]=c("hr",{class:"my-3"},null,-1)),tt(ck),o.value?(N(),bs(Rk,{key:2,task:o.value,onClose:$},null,8,["task"])):be("",!0)]))}}),Xk=Jt(Qk,[["__scopeId","data-v-07f39980"]]),eC={class:"task-log-panel"},tC={class:"d-flex justify-content-between align-items-center mb-2"},nC={key:0,class:"btn-group btn-group-sm"},sC=["onClick","title"],rC={key:0,class:"mb-2 d-flex justify-content-between align-items-center"},oC={class:"small text-muted"},aC={key:0,class:"text-center text-muted py-4"},iC={key:1,class:"log-entries"},lC={class:"log-time text-muted me-2"},cC={class:"log-icon me-1"},uC={key:0,class:"log-wallet me-1"},dC={class:"text-primary"},fC={class:"log-message"},pC=["href"],hC=ut({__name:"TaskLogPanel",setup(e){const t=Fo(),n=$n(),{tasks:s,activeLogTaskId:r,activeLogTask:o}=bt(t),{selectedChainId:a}=bt(n),i=Q(null);Tt(()=>{var x;return(x=o.value)==null?void 0:x.logs.length},()=>{Ea(()=>{i.value&&(i.value.scrollTop=i.value.scrollHeight)})});function l(x){t.setActiveLogTask(x)}function d(){r.value&&t.clearTaskLogs(r.value)}function u(x){switch(x.status){case"running":return"bg-success";case"paused":return"bg-warning";case"stopped":return"bg-secondary";default:return"bg-secondary"}}function f(x){switch(x.status){case"running":return"";case"paused":return"";case"stopped":return"";default:return""}}function p(x){return x.mode==="pump"?"bg-success":"bg-danger"}function h(x){switch(x){case"success":return"text-success";case"error":return"text-danger";case"warning":return"text-warning";default:return""}}function v(x){switch(x){case"success":return"";case"error":return"";case"warning":return"";default:return""}}function g(x){return new Date(x).toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}function T(x){return x?`${x.slice(0,6)}...${x.slice(-4)}`:""}function $(x){return({56:"https://bscscan.com/tx/",97:"https://testnet.bscscan.com/tx/",66:"https://www.oklink.com/okc/tx/"}[a.value]||"https://bscscan.com/tx/")+x}return(x,y)=>(N(),F("div",eC,[c("div",tC,[y[0]||(y[0]=c("h6",{class:"fw-semibold mb-0"},[c("i",{class:"bi bi-journal-text me-1"}),se(" ")],-1)),te(s).length>0?(N(),F("div",nC,[(N(!0),F(Oe,null,Je(te(s),m=>(N(),F("button",{key:m.id,class:Se(["btn btn-outline-secondary",{active:te(r)===m.id}]),onClick:w=>l(m.id),title:m.name},[c("span",{class:Se(["badge me-1",u(m)])},O(f(m)),3),se(" "+O(m.name.length>6?m.name.slice(0,6)+"...":m.name),1)],10,sC))),128))])):be("",!0)]),te(o)?(N(),F("div",rC,[c("span",oC,[c("span",{class:Se(["badge",p(te(o))])},O(te(o).mode==="pump"?"":""),3),se(" "+O(te(o).name)+" - "+O(te(o).logs.length)+"  ",1)]),c("button",{class:"btn btn-outline-secondary btn-sm",onClick:d,title:""},[...y[1]||(y[1]=[c("i",{class:"bi bi-trash"},null,-1)])])])):be("",!0),c("div",{class:"log-container border rounded p-2",ref_key:"logContainer",ref:i},[!te(o)||te(o).logs.length===0?(N(),F("div",aC,[y[2]||(y[2]=c("i",{class:"bi bi-inbox fs-3 d-block mb-2"},null,-1)),c("small",null,O(te(o)?"":""),1)])):(N(),F("div",iC,[(N(!0),F(Oe,null,Je(te(o).logs,m=>(N(),F("div",{key:m.id,class:Se(["log-entry small py-1 border-bottom",h(m.type)])},[c("span",lC,O(g(m.timestamp)),1),c("span",cC,O(v(m.type)),1),m.walletAddress?(N(),F("span",uC,[c("code",dC,O(T(m.walletAddress)),1)])):be("",!0),c("span",fC,O(m.message),1),m.txHash?(N(),F("a",{key:1,href:$(m.txHash),target:"_blank",class:"ms-1 text-decoration-none",title:""},[...y[3]||(y[3]=[c("i",{class:"bi bi-box-arrow-up-right"},null,-1)])],8,pC)):be("",!0)],2))),128))]))],512)]))}}),mC=Jt(hC,[["__scopeId","data-v-54ae1df3"]]),bC={class:"container-fluid py-3"},gC={class:"row g-3"},yC={class:"col-lg-7"},vC={class:"card shadow-sm"},wC={class:"card-body"},xC={class:"col-lg-5"},$C={class:"card shadow-sm mb-3"},TC={class:"card-body"},kC={class:"card shadow-sm mb-3"},CC={class:"card-body"},EC={class:"card shadow-sm"},_C={class:"card-body"},PC=ut({name:"TaskManagePanel",__name:"TaskManagePanel",setup(e){return(t,n)=>(N(),F("div",bC,[n[0]||(n[0]=c("h1",{class:"h4 mb-3"},"",-1)),c("div",gC,[c("div",yC,[c("div",vC,[c("div",wC,[tt(Xk)])])]),c("div",xC,[c("div",$C,[c("div",TC,[tt(Ah)])]),c("div",kC,[c("div",CC,[tt(M9)])]),c("div",EC,[c("div",_C,[tt(mC)])])])])]))}}),AC={class:"container-fluid py-3"},SC={class:"d-flex align-items-center justify-content-between mb-3"},BC=["disabled"],IC={class:"row g-3"},NC={class:"col-lg-4"},OC={class:"card shadow-sm"},MC={class:"card-body"},RC=["value"],FC={key:0,class:"alert alert-danger py-2 mb-0"},LC=["disabled"],UC={class:"col-lg-8"},DC={class:"card shadow-sm"},zC={class:"card-body"},jC={key:0,class:"text-muted"},WC={key:1},VC={key:0,class:"alert alert-danger py-2"},HC={key:1,class:"text-muted"},GC={key:2,class:"table-responsive"},qC={class:"table table-sm align-middle"},KC=ut({__name:"UserManagement",setup(e){const t=Q([]),n=Q([]),s=Q(!1),r=Q(""),o=Q(""),a=wo({username:"",password:"",email:"",roleName:"trader"}),i=pe(()=>n.value.filter(f=>f.name!=="super_admin")),l=async()=>{var f,p;s.value=!0,r.value="";try{const h=await jr("/api/roles");n.value=((f=h.data)==null?void 0:f.roles)||[];const v=i.value;v.length&&!v.find(T=>T.name===a.roleName)&&(a.roleName=v[0].name);const g=await jr("/api/users");t.value=((p=g.data)==null?void 0:p.users)||[]}catch(h){r.value=(h==null?void 0:h.message)||""}finally{s.value=!1}},d=async()=>{o.value="",s.value=!0;try{await jr("/api/users",{method:"POST",body:JSON.stringify({username:a.username,password:a.password,email:a.email||void 0,roleName:a.roleName})}),a.username="",a.password="",a.email="",await l()}catch(f){o.value=(f==null?void 0:f.message)||""}finally{s.value=!1}},u=f=>{if(!f)return"-";const p=new Date(f);return Number.isNaN(p.getTime())?f:p.toLocaleString()};return gr(l),(f,p)=>(N(),F("div",AC,[c("div",SC,[p[4]||(p[4]=c("div",null,[c("h2",{class:"h5 mb-1"},""),c("div",{class:"text-muted small"},"")],-1)),c("button",{class:"btn btn-outline-secondary btn-sm",onClick:l,disabled:s.value},"  ",8,BC)]),c("div",IC,[c("div",NC,[c("div",OC,[c("div",MC,[p[9]||(p[9]=c("h3",{class:"h6 mb-3"},"",-1)),c("form",{class:"d-grid gap-3",onSubmit:ar(d,["prevent"])},[c("div",null,[p[5]||(p[5]=c("label",{class:"form-label"},"",-1)),ue(c("input",{"onUpdate:modelValue":p[0]||(p[0]=h=>a.username=h),class:"form-control",placeholder:"",required:""},null,512),[[Ae,a.username]])]),c("div",null,[p[6]||(p[6]=c("label",{class:"form-label"},"",-1)),ue(c("input",{"onUpdate:modelValue":p[1]||(p[1]=h=>a.password=h),class:"form-control",type:"password",placeholder:"",required:""},null,512),[[Ae,a.password]])]),c("div",null,[p[7]||(p[7]=c("label",{class:"form-label"},"",-1)),ue(c("input",{"onUpdate:modelValue":p[2]||(p[2]=h=>a.email=h),class:"form-control",type:"email",placeholder:"example@domain.com"},null,512),[[Ae,a.email]])]),c("div",null,[p[8]||(p[8]=c("label",{class:"form-label"},"",-1)),ue(c("select",{"onUpdate:modelValue":p[3]||(p[3]=h=>a.roleName=h),class:"form-select",required:""},[(N(!0),F(Oe,null,Je(i.value,h=>(N(),F("option",{key:h.name,value:h.name},O(h.displayName||h.name),9,RC))),128))],512),[[Ye,a.roleName]])]),o.value?(N(),F("div",FC,O(o.value),1)):be("",!0),c("button",{class:"btn btn-primary",type:"submit",disabled:s.value},O(s.value?"...":""),9,LC)],32)])])]),c("div",UC,[c("div",DC,[c("div",zC,[p[11]||(p[11]=c("h3",{class:"h6 mb-3"},"",-1)),s.value?(N(),F("div",jC,"...")):(N(),F("div",WC,[r.value?(N(),F("div",VC,O(r.value),1)):be("",!0),!t.value.length&&!r.value?(N(),F("div",HC,"")):(N(),F("div",GC,[c("table",qC,[p[10]||(p[10]=c("thead",null,[c("tr",null,[c("th",null,""),c("th",null,""),c("th",null,""),c("th",null,""),c("th",null,"")])],-1)),c("tbody",null,[(N(!0),F(Oe,null,Je(t.value,h=>{var v,g,T;return N(),F("tr",{key:h._id},[c("td",null,O(h.username),1),c("td",null,O(((v=h.role)==null?void 0:v.displayName)||((g=h.role)==null?void 0:g.name)||"-"),1),c("td",null,[c("span",{class:Se(["badge",h.isActive?"bg-success":"bg-secondary"])},O(h.isActive?"":""),3)]),c("td",null,O(((T=h.createdBy)==null?void 0:T.username)||"-"),1),c("td",null,O(u(h.createdAt)),1)])}),128))])])]))]))])])])])]))}}),ZC={},YC={class:"container-fluid py-3"};function JC(e,t){return N(),F("div",YC,[...t[0]||(t[0]=[c("div",{class:"card shadow-sm"},[c("div",{class:"card-body"},[c("h2",{class:"h5 mb-2"},""),c("p",{class:"text-muted mb-0"},"  ")])],-1)])])}const QC=Jt(ZC,[["render",JC]]),XC={key:1,class:"app-layout"},eE={class:"main-content"},tE={class:"d-flex align-items-center justify-content-between px-4 py-3 border-bottom bg-white"},nE={class:"fw-semibold"},sE={class:"text-muted small"},rE={class:"content-area"},oE=ut({__name:"App",setup(e){const t=yb,n=Q("wallet"),s=Q(!1),r=Q(null),o=Q(!1),a=Q(!1),i=pe(()=>vb),l=[{key:"wallet",label:"",icon:""},{key:"task",label:"",icon:""},{key:"users",label:"",icon:""},{key:"analysis",label:"",icon:""}],d=pe(()=>{const g=l.find(T=>T.key===n.value);return g?g.label:""}),u=pe(()=>{switch(n.value){case"wallet":return Pd;case"task":return PC;case"users":return KC;case"analysis":return QC;default:return Pd}}),f=g=>{n.value=g},p=async()=>{{a.value=!0;return}},h=g=>{localStorage.setItem("amm_token",g.token),r.value=g.user,o.value=!0,a.value=!0},v=async()=>{try{await jr("/api/auth/logout",{method:"POST"})}catch{}localStorage.removeItem("amm_token"),r.value=null,o.value=!1};return gr(p),(g,T)=>te(t)&&(!a.value||!o.value)?(N(),bs(Eb,{key:0,onLoggedIn:h})):(N(),F("div",XC,[tt(Ob,{items:l,"active-key":n.value,collapsed:s.value,onSelect:f,onToggleCollapse:T[0]||(T[0]=$=>s.value=!s.value)},null,8,["active-key","collapsed"]),c("main",eE,[c("header",tE,[c("div",null,[c("div",nE,O(d.value),1),c("div",sE,""+O(i.value),1)]),te(t)?(N(),F("button",{key:0,class:"btn btn-outline-secondary btn-sm",onClick:v},"")):be("",!0)]),c("section",rE,[(N(),bs(Om,{include:"WalletManagePanel,TaskManagePanel"},[(N(),bs(Vm(u.value)))],1024))])])]))}}),Bh=lb(oE),Ih=db();Bh.use(Ih);const aE=os(Ih);aE.init();Bh.mount("#app");export{H as B,Wr as H,Wv as a,Yt as b,Ja as c,Hy as d,Os as e,rn as f,uc as g,So as i,ti as l,at as s};
