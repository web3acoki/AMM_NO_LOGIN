var Mh=Object.defineProperty;var Oh=(e,t,n)=>t in e?Mh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var St=(e,t,n)=>Oh(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ol(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Oe={},Zs=[],vn=()=>{},Pd=()=>!1,va=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Rl=e=>e.startsWith("onUpdate:"),mt=Object.assign,Fl=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Rh=Object.prototype.hasOwnProperty,Se=(e,t)=>Rh.call(e,t),ge=Array.isArray,Ys=e=>br(e)==="[object Map]",mr=e=>br(e)==="[object Set]",qc=e=>br(e)==="[object Date]",Fh=e=>br(e)==="[object RegExp]",xe=e=>typeof e=="function",qe=e=>typeof e=="string",xn=e=>typeof e=="symbol",Fe=e=>e!==null&&typeof e=="object",Bd=e=>(Fe(e)||xe(e))&&xe(e.then)&&xe(e.catch),Sd=Object.prototype.toString,br=e=>Sd.call(e),Lh=e=>br(e).slice(8,-1),Id=e=>br(e)==="[object Object]",Ll=e=>qe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Nr=Ol(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wa=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Uh=/-\w/g,qt=wa(e=>e.replace(Uh,t=>t.slice(1).toUpperCase())),Dh=/\B([A-Z])/g,rs=wa(e=>e.replace(Dh,"-$1").toLowerCase()),xa=wa(e=>e.charAt(0).toUpperCase()+e.slice(1)),ai=wa(e=>e?`on${xa(e)}`:""),es=(e,t)=>!Object.is(e,t),Js=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Nd=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},ta=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Kc;const $a=()=>Kc||(Kc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ka(e){if(ge(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=qe(s)?Vh(s):ka(s);if(r)for(const o in r)t[o]=r[o]}return t}else if(qe(e)||Fe(e))return e}const zh=/;(?![^(]*\))/g,jh=/:([^]+)/,Wh=/\/\*[^]*?\*\//g;function Vh(e){const t={};return e.replace(Wh,"").split(zh).forEach(n=>{if(n){const s=n.split(jh);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function _e(e){let t="";if(qe(e))t=e;else if(ge(e))for(let n=0;n<e.length;n++){const s=_e(e[n]);s&&(t+=s+" ")}else if(Fe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Hh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Gh=Ol(Hh);function Md(e){return!!e||e===""}function qh(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=vs(e[s],t[s]);return n}function vs(e,t){if(e===t)return!0;let n=qc(e),s=qc(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=xn(e),s=xn(t),n||s)return e===t;if(n=ge(e),s=ge(t),n||s)return n&&s?qh(e,t):!1;if(n=Fe(e),s=Fe(t),n||s){if(!n||!s)return!1;const r=Object.keys(e).length,o=Object.keys(t).length;if(r!==o)return!1;for(const a in e){const i=e.hasOwnProperty(a),l=t.hasOwnProperty(a);if(i&&!l||!i&&l||!vs(e[a],t[a]))return!1}}return String(e)===String(t)}function Ul(e,t){return e.findIndex(n=>vs(n,t))}const Od=e=>!!(e&&e.__v_isRef===!0),L=e=>qe(e)?e:e==null?"":ge(e)||Fe(e)&&(e.toString===Sd||!xe(e.toString))?Od(e)?L(e.value):JSON.stringify(e,Rd,2):String(e),Rd=(e,t)=>Od(t)?Rd(e,t.value):Ys(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r],o)=>(n[ii(s,o)+" =>"]=r,n),{})}:mr(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>ii(n))}:xn(t)?ii(t):Fe(t)&&!ge(t)&&!Id(t)?String(t):t,ii=(e,t="")=>{var n;return xn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ft;class Fd{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ft,!t&&ft&&(this.index=(ft.scopes||(ft.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=ft;try{return ft=this,t()}finally{ft=n}}}on(){++this._on===1&&(this.prevScope=ft,ft=this)}off(){this._on>0&&--this._on===0&&(ft=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Ld(e){return new Fd(e)}function Ud(){return ft}function Kh(e,t=!1){ft&&ft.cleanups.push(e)}let Re;const li=new WeakSet;class Dd{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ft&&ft.active&&ft.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,li.has(this)&&(li.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||jd(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Zc(this),Wd(this);const t=Re,n=nn;Re=this,nn=!0;try{return this.fn()}finally{Vd(this),Re=t,nn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)jl(t);this.deps=this.depsTail=void 0,Zc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?li.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Di(this)&&this.run()}get dirty(){return Di(this)}}let zd=0,Mr,Or;function jd(e,t=!1){if(e.flags|=8,t){e.next=Or,Or=e;return}e.next=Mr,Mr=e}function Dl(){zd++}function zl(){if(--zd>0)return;if(Or){let t=Or;for(Or=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Mr;){let t=Mr;for(Mr=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function Wd(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Vd(e){let t,n=e.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),jl(s),Zh(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}e.deps=t,e.depsTail=n}function Di(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Hd(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Hd(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Vr)||(e.globalVersion=Vr,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Di(e))))return;e.flags|=2;const t=e.dep,n=Re,s=nn;Re=e,nn=!0;try{Wd(e);const r=e.fn(e._value);(t.version===0||es(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{Re=n,nn=s,Vd(e),e.flags&=-3}}function jl(e,t=!1){const{dep:n,prevSub:s,nextSub:r}=e;if(s&&(s.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)jl(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Zh(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let nn=!0;const Gd=[];function Ln(){Gd.push(nn),nn=!1}function Un(){const e=Gd.pop();nn=e===void 0?!0:e}function Zc(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Re;Re=void 0;try{t()}finally{Re=n}}}let Vr=0;class Yh{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Wl{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Re||!nn||Re===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Re)n=this.activeLink=new Yh(Re,this),Re.deps?(n.prevDep=Re.depsTail,Re.depsTail.nextDep=n,Re.depsTail=n):Re.deps=Re.depsTail=n,qd(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Re.depsTail,n.nextDep=void 0,Re.depsTail.nextDep=n,Re.depsTail=n,Re.deps===n&&(Re.deps=s)}return n}trigger(t){this.version++,Vr++,this.notify(t)}notify(t){Dl();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{zl()}}}function qd(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)qd(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const na=new WeakMap,ps=Symbol(""),zi=Symbol(""),Hr=Symbol("");function pt(e,t,n){if(nn&&Re){let s=na.get(e);s||na.set(e,s=new Map);let r=s.get(n);r||(s.set(n,r=new Wl),r.map=s,r.key=n),r.track()}}function Bn(e,t,n,s,r,o){const a=na.get(e);if(!a){Vr++;return}const i=l=>{l&&l.trigger()};if(Dl(),t==="clear")a.forEach(i);else{const l=ge(e),c=l&&Ll(n);if(l&&n==="length"){const u=Number(s);a.forEach((f,p)=>{(p==="length"||p===Hr||!xn(p)&&p>=u)&&i(f)})}else switch((n!==void 0||a.has(void 0))&&i(a.get(n)),c&&i(a.get(Hr)),t){case"add":l?c&&i(a.get("length")):(i(a.get(ps)),Ys(e)&&i(a.get(zi)));break;case"delete":l||(i(a.get(ps)),Ys(e)&&i(a.get(zi)));break;case"set":Ys(e)&&i(a.get(ps));break}}zl()}function Jh(e,t){const n=na.get(e);return n&&n.get(t)}function Ls(e){const t=Ae(e);return t===e?t:(pt(t,"iterate",Hr),Vt(e)?t:t.map(at))}function Ta(e){return pt(e=Ae(e),"iterate",Hr),e}const Qh={__proto__:null,[Symbol.iterator](){return ci(this,Symbol.iterator,at)},concat(...e){return Ls(this).concat(...e.map(t=>ge(t)?Ls(t):t))},entries(){return ci(this,"entries",e=>(e[1]=at(e[1]),e))},every(e,t){return Tn(this,"every",e,t,void 0,arguments)},filter(e,t){return Tn(this,"filter",e,t,n=>n.map(at),arguments)},find(e,t){return Tn(this,"find",e,t,at,arguments)},findIndex(e,t){return Tn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Tn(this,"findLast",e,t,at,arguments)},findLastIndex(e,t){return Tn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Tn(this,"forEach",e,t,void 0,arguments)},includes(...e){return ui(this,"includes",e)},indexOf(...e){return ui(this,"indexOf",e)},join(e){return Ls(this).join(e)},lastIndexOf(...e){return ui(this,"lastIndexOf",e)},map(e,t){return Tn(this,"map",e,t,void 0,arguments)},pop(){return _r(this,"pop")},push(...e){return _r(this,"push",e)},reduce(e,...t){return Yc(this,"reduce",e,t)},reduceRight(e,...t){return Yc(this,"reduceRight",e,t)},shift(){return _r(this,"shift")},some(e,t){return Tn(this,"some",e,t,void 0,arguments)},splice(...e){return _r(this,"splice",e)},toReversed(){return Ls(this).toReversed()},toSorted(e){return Ls(this).toSorted(e)},toSpliced(...e){return Ls(this).toSpliced(...e)},unshift(...e){return _r(this,"unshift",e)},values(){return ci(this,"values",at)}};function ci(e,t,n){const s=Ta(e),r=s[t]();return s!==e&&!Vt(e)&&(r._next=r.next,r.next=()=>{const o=r._next();return o.value&&(o.value=n(o.value)),o}),r}const Xh=Array.prototype;function Tn(e,t,n,s,r,o){const a=Ta(e),i=a!==e&&!Vt(e),l=a[t];if(l!==Xh[t]){const f=l.apply(e,o);return i?at(f):f}let c=n;a!==e&&(i?c=function(f,p){return n.call(this,at(f),p,e)}:n.length>2&&(c=function(f,p){return n.call(this,f,p,e)}));const u=l.call(a,c,s);return i&&r?r(u):u}function Yc(e,t,n,s){const r=Ta(e);let o=n;return r!==e&&(Vt(e)?n.length>3&&(o=function(a,i,l){return n.call(this,a,i,l,e)}):o=function(a,i,l){return n.call(this,a,at(i),l,e)}),r[t](o,...s)}function ui(e,t,n){const s=Ae(e);pt(s,"iterate",Hr);const r=s[t](...n);return(r===-1||r===!1)&&Gl(n[0])?(n[0]=Ae(n[0]),s[t](...n)):r}function _r(e,t,n=[]){Ln(),Dl();const s=Ae(e)[t].apply(e,n);return zl(),Un(),s}const em=Ol("__proto__,__v_isRef,__isVue"),Kd=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(xn));function tm(e){xn(e)||(e=String(e));const t=Ae(this);return pt(t,"has",e),t.hasOwnProperty(e)}class Zd{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return o;if(n==="__v_raw")return s===(r?o?dm:Xd:o?Qd:Jd).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const a=ge(t);if(!r){let l;if(a&&(l=Qh[n]))return l;if(n==="hasOwnProperty")return tm}const i=Reflect.get(t,n,Ve(t)?t:s);return(xn(n)?Kd.has(n):em(n))||(r||pt(t,"get",n),o)?i:Ve(i)?a&&Ll(n)?i:i.value:Fe(i)?r?ef(i):wo(i):i}}class Yd extends Zd{constructor(t=!1){super(!1,t)}set(t,n,s,r){let o=t[n];if(!this._isShallow){const l=ns(o);if(!Vt(s)&&!ns(s)&&(o=Ae(o),s=Ae(s)),!ge(t)&&Ve(o)&&!Ve(s))return l||(o.value=s),!0}const a=ge(t)&&Ll(n)?Number(n)<t.length:Se(t,n),i=Reflect.set(t,n,s,Ve(t)?t:r);return t===Ae(r)&&(a?es(s,o)&&Bn(t,"set",n,s):Bn(t,"add",n,s)),i}deleteProperty(t,n){const s=Se(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&s&&Bn(t,"delete",n,void 0),r}has(t,n){const s=Reflect.has(t,n);return(!xn(n)||!Kd.has(n))&&pt(t,"has",n),s}ownKeys(t){return pt(t,"iterate",ge(t)?"length":ps),Reflect.ownKeys(t)}}class nm extends Zd{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const sm=new Yd,rm=new nm,om=new Yd(!0);const ji=e=>e,Uo=e=>Reflect.getPrototypeOf(e);function am(e,t,n){return function(...s){const r=this.__v_raw,o=Ae(r),a=Ys(o),i=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,c=r[e](...s),u=n?ji:t?sa:at;return!t&&pt(o,"iterate",l?zi:ps),{next(){const{value:f,done:p}=c.next();return p?{value:f,done:p}:{value:i?[u(f[0]),u(f[1])]:u(f),done:p}},[Symbol.iterator](){return this}}}}function Do(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function im(e,t){const n={get(r){const o=this.__v_raw,a=Ae(o),i=Ae(r);e||(es(r,i)&&pt(a,"get",r),pt(a,"get",i));const{has:l}=Uo(a),c=t?ji:e?sa:at;if(l.call(a,r))return c(o.get(r));if(l.call(a,i))return c(o.get(i));o!==a&&o.get(r)},get size(){const r=this.__v_raw;return!e&&pt(Ae(r),"iterate",ps),r.size},has(r){const o=this.__v_raw,a=Ae(o),i=Ae(r);return e||(es(r,i)&&pt(a,"has",r),pt(a,"has",i)),r===i?o.has(r):o.has(r)||o.has(i)},forEach(r,o){const a=this,i=a.__v_raw,l=Ae(i),c=t?ji:e?sa:at;return!e&&pt(l,"iterate",ps),i.forEach((u,f)=>r.call(o,c(u),c(f),a))}};return mt(n,e?{add:Do("add"),set:Do("set"),delete:Do("delete"),clear:Do("clear")}:{add(r){!t&&!Vt(r)&&!ns(r)&&(r=Ae(r));const o=Ae(this);return Uo(o).has.call(o,r)||(o.add(r),Bn(o,"add",r,r)),this},set(r,o){!t&&!Vt(o)&&!ns(o)&&(o=Ae(o));const a=Ae(this),{has:i,get:l}=Uo(a);let c=i.call(a,r);c||(r=Ae(r),c=i.call(a,r));const u=l.call(a,r);return a.set(r,o),c?es(o,u)&&Bn(a,"set",r,o):Bn(a,"add",r,o),this},delete(r){const o=Ae(this),{has:a,get:i}=Uo(o);let l=a.call(o,r);l||(r=Ae(r),l=a.call(o,r)),i&&i.call(o,r);const c=o.delete(r);return l&&Bn(o,"delete",r,void 0),c},clear(){const r=Ae(this),o=r.size!==0,a=r.clear();return o&&Bn(r,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=am(r,e,t)}),n}function Vl(e,t){const n=im(e,t);return(s,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(Se(n,r)&&r in s?n:s,r,o)}const lm={get:Vl(!1,!1)},cm={get:Vl(!1,!0)},um={get:Vl(!0,!1)};const Jd=new WeakMap,Qd=new WeakMap,Xd=new WeakMap,dm=new WeakMap;function fm(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pm(e){return e.__v_skip||!Object.isExtensible(e)?0:fm(Lh(e))}function wo(e){return ns(e)?e:Hl(e,!1,sm,lm,Jd)}function hm(e){return Hl(e,!1,om,cm,Qd)}function ef(e){return Hl(e,!0,rm,um,Xd)}function Hl(e,t,n,s,r){if(!Fe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=pm(e);if(o===0)return e;const a=r.get(e);if(a)return a;const i=new Proxy(e,o===2?s:n);return r.set(e,i),i}function Mn(e){return ns(e)?Mn(e.__v_raw):!!(e&&e.__v_isReactive)}function ns(e){return!!(e&&e.__v_isReadonly)}function Vt(e){return!!(e&&e.__v_isShallow)}function Gl(e){return e?!!e.__v_raw:!1}function Ae(e){const t=e&&e.__v_raw;return t?Ae(t):e}function ql(e){return!Se(e,"__v_skip")&&Object.isExtensible(e)&&Nd(e,"__v_skip",!0),e}const at=e=>Fe(e)?wo(e):e,sa=e=>Fe(e)?ef(e):e;function Ve(e){return e?e.__v_isRef===!0:!1}function se(e){return mm(e,!1)}function mm(e,t){return Ve(e)?e:new bm(e,t)}class bm{constructor(t,n){this.dep=new Wl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ae(t),this._value=n?t:at(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||Vt(t)||ns(t);t=s?t:Ae(t),es(t,n)&&(this._rawValue=t,this._value=s?t:at(t),this.dep.trigger())}}function ee(e){return Ve(e)?e.value:e}const gm={get:(e,t,n)=>t==="__v_raw"?e:ee(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return Ve(r)&&!Ve(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function tf(e){return Mn(e)?e:new Proxy(e,gm)}function ym(e){const t=ge(e)?new Array(e.length):{};for(const n in e)t[n]=nf(e,n);return t}class vm{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Jh(Ae(this._object),this._key)}}class wm{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function xm(e,t,n){return Ve(e)?e:xe(e)?new wm(e):Fe(e)&&arguments.length>1?nf(e,t,n):se(e)}function nf(e,t,n){const s=e[t];return Ve(s)?s:new vm(e,t,n)}class $m{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Wl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Vr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Re!==this)return jd(this,!0),!0}get value(){const t=this.dep.track();return Hd(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function km(e,t,n=!1){let s,r;return xe(e)?s=e:(s=e.get,r=e.set),new $m(s,r,n)}const zo={},ra=new WeakMap;let ls;function Tm(e,t=!1,n=ls){if(n){let s=ra.get(n);s||ra.set(n,s=[]),s.push(e)}}function Cm(e,t,n=Oe){const{immediate:s,deep:r,once:o,scheduler:a,augmentJob:i,call:l}=n,c=m=>r?m:Vt(m)||r===!1||r===0?Sn(m,1):Sn(m);let u,f,p,h,g=!1,b=!1;if(Ve(e)?(f=()=>e.value,g=Vt(e)):Mn(e)?(f=()=>c(e),g=!0):ge(e)?(b=!0,g=e.some(m=>Mn(m)||Vt(m)),f=()=>e.map(m=>{if(Ve(m))return m.value;if(Mn(m))return c(m);if(xe(m))return l?l(m,2):m()})):xe(e)?t?f=l?()=>l(e,2):e:f=()=>{if(p){Ln();try{p()}finally{Un()}}const m=ls;ls=u;try{return l?l(e,3,[h]):e(h)}finally{ls=m}}:f=vn,t&&r){const m=f,v=r===!0?1/0:r;f=()=>Sn(m(),v)}const T=Ud(),$=()=>{u.stop(),T&&T.active&&Fl(T.effects,u)};if(o&&t){const m=t;t=(...v)=>{m(...v),$()}}let w=b?new Array(e.length).fill(zo):zo;const y=m=>{if(!(!(u.flags&1)||!u.dirty&&!m))if(t){const v=u.run();if(r||g||(b?v.some((_,I)=>es(_,w[I])):es(v,w))){p&&p();const _=ls;ls=u;try{const I=[v,w===zo?void 0:b&&w[0]===zo?[]:w,h];w=v,l?l(t,3,I):t(...I)}finally{ls=_}}}else u.run()};return i&&i(y),u=new Dd(f),u.scheduler=a?()=>a(y,!1):y,h=m=>Tm(m,!1,u),p=u.onStop=()=>{const m=ra.get(u);if(m){if(l)l(m,4);else for(const v of m)v();ra.delete(u)}},t?s?y(!0):w=u.run():a?a(y.bind(null,!0),!0):u.run(),$.pause=u.pause.bind(u),$.resume=u.resume.bind(u),$.stop=$,$}function Sn(e,t=1/0,n){if(t<=0||!Fe(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,Ve(e))Sn(e.value,t,n);else if(ge(e))for(let s=0;s<e.length;s++)Sn(e[s],t,n);else if(mr(e)||Ys(e))e.forEach(s=>{Sn(s,t,n)});else if(Id(e)){for(const s in e)Sn(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Sn(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function xo(e,t,n,s){try{return s?e(...s):e()}catch(r){Ca(r,t,n)}}function $n(e,t,n,s){if(xe(e)){const r=xo(e,t,n,s);return r&&Bd(r)&&r.catch(o=>{Ca(o,t,n)}),r}if(ge(e)){const r=[];for(let o=0;o<e.length;o++)r.push($n(e[o],t,n,s));return r}}function Ca(e,t,n,s=!0){const r=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||Oe;if(t){let i=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const u=i.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,l,c)===!1)return}i=i.parent}if(o){Ln(),xo(o,null,10,[e,l,c]),Un();return}}_m(e,n,r,s,a)}function _m(e,t,n,s=!0,r=!1){if(r)throw e;console.error(e)}const vt=[];let mn=-1;const Qs=[];let Jn=null,Ws=0;const sf=Promise.resolve();let oa=null;function _a(e){const t=oa||sf;return e?t.then(this?e.bind(this):e):t}function Em(e){let t=mn+1,n=vt.length;for(;t<n;){const s=t+n>>>1,r=vt[s],o=Gr(r);o<e||o===e&&r.flags&2?t=s+1:n=s}return t}function Kl(e){if(!(e.flags&1)){const t=Gr(e),n=vt[vt.length-1];!n||!(e.flags&2)&&t>=Gr(n)?vt.push(e):vt.splice(Em(t),0,e),e.flags|=1,rf()}}function rf(){oa||(oa=sf.then(af))}function Am(e){ge(e)?Qs.push(...e):Jn&&e.id===-1?Jn.splice(Ws+1,0,e):e.flags&1||(Qs.push(e),e.flags|=1),rf()}function Jc(e,t,n=mn+1){for(;n<vt.length;n++){const s=vt[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;vt.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function of(e){if(Qs.length){const t=[...new Set(Qs)].sort((n,s)=>Gr(n)-Gr(s));if(Qs.length=0,Jn){Jn.push(...t);return}for(Jn=t,Ws=0;Ws<Jn.length;Ws++){const n=Jn[Ws];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Jn=null,Ws=0}}const Gr=e=>e.id==null?e.flags&2?-1:1/0:e.id;function af(e){try{for(mn=0;mn<vt.length;mn++){const t=vt[mn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),xo(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;mn<vt.length;mn++){const t=vt[mn];t&&(t.flags&=-2)}mn=-1,vt.length=0,of(),oa=null,(vt.length||Qs.length)&&af()}}let Nt=null,lf=null;function aa(e){const t=Nt;return Nt=e,lf=e&&e.type.__scopeId||null,t}function Pm(e,t=Nt,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&iu(-1);const o=aa(t);let a;try{a=e(...r)}finally{aa(o),s._d&&iu(1)}return a};return s._n=!0,s._c=!0,s._d=!0,s}function ue(e,t){if(Nt===null)return e;const n=Sa(Nt),s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,a,i,l=Oe]=t[r];o&&(xe(o)&&(o={mounted:o,updated:o}),o.deep&&Sn(a),s.push({dir:o,instance:n,value:a,oldValue:void 0,arg:i,modifiers:l}))}return e}function os(e,t,n,s){const r=e.dirs,o=t&&t.dirs;for(let a=0;a<r.length;a++){const i=r[a];o&&(i.oldValue=o[a].value);let l=i.dir[s];l&&(Ln(),$n(l,n,8,[e.el,i,e,t]),Un())}}const Bm=Symbol("_vte"),Sm=e=>e.__isTeleport,Im=Symbol("_leaveCb");function Ea(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ea(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function lt(e,t){return xe(e)?mt({name:e.name},t,{setup:e}):e}function cf(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const ia=new WeakMap;function Rr(e,t,n,s,r=!1){if(ge(e)){e.forEach((g,b)=>Rr(g,t&&(ge(t)?t[b]:t),n,s,r));return}if(Xs(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Rr(e,t,n,s.component.subTree);return}const o=s.shapeFlag&4?Sa(s.component):s.el,a=r?null:o,{i,r:l}=e,c=t&&t.r,u=i.refs===Oe?i.refs={}:i.refs,f=i.setupState,p=Ae(f),h=f===Oe?Pd:g=>Se(p,g);if(c!=null&&c!==l){if(Qc(t),qe(c))u[c]=null,h(c)&&(f[c]=null);else if(Ve(c)){c.value=null;const g=t;g.k&&(u[g.k]=null)}}if(xe(l))xo(l,i,12,[a,u]);else{const g=qe(l),b=Ve(l);if(g||b){const T=()=>{if(e.f){const $=g?h(l)?f[l]:u[l]:l.value;if(r)ge($)&&Fl($,o);else if(ge($))$.includes(o)||$.push(o);else if(g)u[l]=[o],h(l)&&(f[l]=u[l]);else{const w=[o];l.value=w,e.k&&(u[e.k]=w)}}else g?(u[l]=a,h(l)&&(f[l]=a)):b&&(l.value=a,e.k&&(u[e.k]=a))};if(a){const $=()=>{T(),ia.delete(e)};$.id=-1,ia.set(e,$),ot($,n)}else Qc(e),T()}}}function Qc(e){const t=ia.get(e);t&&(t.flags|=8,ia.delete(e))}$a().requestIdleCallback;$a().cancelIdleCallback;const Xs=e=>!!e.type.__asyncLoader,uf=e=>e.type.__isKeepAlive,Nm={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=ec(),s=n.ctx;if(!s.renderer)return()=>{const w=t.default&&t.default();return w&&w.length===1?w[0]:w};const r=new Map,o=new Set;let a=null;const i=n.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:f}}}=s,p=f("div");s.activate=(w,y,m,v,_)=>{const I=w.component;c(w,y,m,0,i),l(I.vnode,w,y,m,I,i,v,w.slotScopeIds,_),ot(()=>{I.isDeactivated=!1,I.a&&Js(I.a);const B=w.props&&w.props.onVnodeMounted;B&&jt(B,I.parent,w)},i)},s.deactivate=w=>{const y=w.component;ca(y.m),ca(y.a),c(w,p,null,1,i),ot(()=>{y.da&&Js(y.da);const m=w.props&&w.props.onVnodeUnmounted;m&&jt(m,y.parent,w),y.isDeactivated=!0},i)};function h(w){di(w),u(w,n,i,!0)}function g(w){r.forEach((y,m)=>{const v=Ki(y.type);v&&!w(v)&&b(m)})}function b(w){const y=r.get(w);y&&(!a||!Vs(y,a))?h(y):a&&di(a),r.delete(w),o.delete(w)}_t(()=>[e.include,e.exclude],([w,y])=>{w&&g(m=>Br(w,m)),y&&g(m=>!Br(y,m))},{flush:"post",deep:!0});let T=null;const $=()=>{T!=null&&(ua(n.subTree.type)?ot(()=>{r.set(T,jo(n.subTree))},n.subTree.suspense):r.set(T,jo(n.subTree)))};return gr($),pf($),hf(()=>{r.forEach(w=>{const{subTree:y,suspense:m}=n,v=jo(y);if(w.type===v.type&&w.key===v.key){di(v);const _=v.component.da;_&&ot(_,m);return}h(w)})}),()=>{if(T=null,!t.default)return a=null;const w=t.default(),y=w[0];if(w.length>1)return a=null,w;if(!Ql(y)||!(y.shapeFlag&4)&&!(y.shapeFlag&128))return a=null,y;let m=jo(y);if(m.type===Dn)return a=null,m;const v=m.type,_=Ki(Xs(m)?m.type.__asyncResolved||{}:v),{include:I,exclude:B,max:C}=e;if(I&&(!_||!Br(I,_))||B&&_&&Br(B,_))return m.shapeFlag&=-257,a=m,y;const k=m.key==null?v:m.key,x=r.get(k);return m.el&&(m=ws(m),y.shapeFlag&128&&(y.ssContent=m)),T=k,x?(m.el=x.el,m.component=x.component,m.transition&&Ea(m,m.transition),m.shapeFlag|=512,o.delete(k),o.add(k)):(o.add(k),C&&o.size>parseInt(C,10)&&b(o.values().next().value)),m.shapeFlag|=256,a=m,ua(y.type)?y:m}}},Mm=Nm;function Br(e,t){return ge(e)?e.some(n=>Br(n,t)):qe(e)?e.split(",").includes(t):Fh(e)?(e.lastIndex=0,e.test(t)):!1}function df(e,t){ff(e,"a",t)}function Om(e,t){ff(e,"da",t)}function ff(e,t,n=ht){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Aa(t,s,n),n){let r=n.parent;for(;r&&r.parent;)uf(r.parent.vnode)&&Rm(s,t,n,r),r=r.parent}}function Rm(e,t,n,s){const r=Aa(t,e,s,!0);Zl(()=>{Fl(s[t],r)},n)}function di(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function jo(e){return e.shapeFlag&128?e.ssContent:e}function Aa(e,t,n=ht,s=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...a)=>{Ln();const i=$o(n),l=$n(t,n,e,a);return i(),Un(),l});return s?r.unshift(o):r.push(o),o}}const Vn=e=>(t,n=ht)=>{(!Kr||e==="sp")&&Aa(e,(...s)=>t(...s),n)},Fm=Vn("bm"),gr=Vn("m"),Lm=Vn("bu"),pf=Vn("u"),hf=Vn("bum"),Zl=Vn("um"),Um=Vn("sp"),Dm=Vn("rtg"),zm=Vn("rtc");function jm(e,t=ht){Aa("ec",e,t)}const Wm="components",mf=Symbol.for("v-ndc");function Vm(e){return qe(e)?Hm(Wm,e,!1)||e:e||mf}function Hm(e,t,n=!0,s=!1){const r=Nt||ht;if(r){const o=r.type;{const i=Ki(o,!1);if(i&&(i===t||i===qt(t)||i===xa(qt(t))))return o}const a=Xc(r[e]||o[e],t)||Xc(r.appContext[e],t);return!a&&s?o:a}}function Xc(e,t){return e&&(e[t]||e[qt(t)]||e[xa(qt(t))])}function je(e,t,n,s){let r;const o=n,a=ge(e);if(a||qe(e)){const i=a&&Mn(e);let l=!1,c=!1;i&&(l=!Vt(e),c=ns(e),e=Ta(e)),r=new Array(e.length);for(let u=0,f=e.length;u<f;u++)r[u]=t(l?c?sa(at(e[u])):at(e[u]):e[u],u,void 0,o)}else if(typeof e=="number"){r=new Array(e);for(let i=0;i<e;i++)r[i]=t(i+1,i,void 0,o)}else if(Fe(e))if(e[Symbol.iterator])r=Array.from(e,(i,l)=>t(i,l,void 0,o));else{const i=Object.keys(e);r=new Array(i.length);for(let l=0,c=i.length;l<c;l++){const u=i[l];r[l]=t(e[u],u,l,o)}}else r=[];return r}const Wi=e=>e?Of(e)?Sa(e):Wi(e.parent):null,Fr=mt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Wi(e.parent),$root:e=>Wi(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>gf(e),$forceUpdate:e=>e.f||(e.f=()=>{Kl(e.update)}),$nextTick:e=>e.n||(e.n=_a.bind(e.proxy)),$watch:e=>h1.bind(e)}),fi=(e,t)=>e!==Oe&&!e.__isScriptSetup&&Se(e,t),Gm={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:o,accessCache:a,type:i,appContext:l}=e;let c;if(t[0]!=="$"){const h=a[t];if(h!==void 0)switch(h){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return o[t]}else{if(fi(s,t))return a[t]=1,s[t];if(r!==Oe&&Se(r,t))return a[t]=2,r[t];if((c=e.propsOptions[0])&&Se(c,t))return a[t]=3,o[t];if(n!==Oe&&Se(n,t))return a[t]=4,n[t];Vi&&(a[t]=0)}}const u=Fr[t];let f,p;if(u)return t==="$attrs"&&pt(e.attrs,"get",""),u(e);if((f=i.__cssModules)&&(f=f[t]))return f;if(n!==Oe&&Se(n,t))return a[t]=4,n[t];if(p=l.config.globalProperties,Se(p,t))return p[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:o}=e;return fi(r,t)?(r[t]=n,!0):s!==Oe&&Se(s,t)?(s[t]=n,!0):Se(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:o,type:a}},i){let l,c;return!!(n[i]||e!==Oe&&i[0]!=="$"&&Se(e,i)||fi(t,i)||(l=o[0])&&Se(l,i)||Se(s,i)||Se(Fr,i)||Se(r.config.globalProperties,i)||(c=a.__cssModules)&&c[i])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Se(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function eu(e){return ge(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Vi=!0;function qm(e){const t=gf(e),n=e.proxy,s=e.ctx;Vi=!1,t.beforeCreate&&tu(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:a,watch:i,provide:l,inject:c,created:u,beforeMount:f,mounted:p,beforeUpdate:h,updated:g,activated:b,deactivated:T,beforeDestroy:$,beforeUnmount:w,destroyed:y,unmounted:m,render:v,renderTracked:_,renderTriggered:I,errorCaptured:B,serverPrefetch:C,expose:k,inheritAttrs:x,components:M,directives:D,filters:S}=t;if(c&&Km(c,s,null),a)for(const j in a){const z=a[j];xe(z)&&(s[j]=z.bind(n))}if(r){const j=r.call(n,n);Fe(j)&&(e.data=wo(j))}if(Vi=!0,o)for(const j in o){const z=o[j],Z=xe(z)?z.bind(n,n):xe(z.get)?z.get.bind(n,n):vn,K=!xe(z)&&xe(z.set)?z.set.bind(n):vn,A=de({get:Z,set:K});Object.defineProperty(s,j,{enumerable:!0,configurable:!0,get:()=>A.value,set:P=>A.value=P})}if(i)for(const j in i)bf(i[j],s,n,j);if(l){const j=xe(l)?l.call(n):l;Reflect.ownKeys(j).forEach(z=>{e1(z,j[z])})}u&&tu(u,e,"c");function F(j,z){ge(z)?z.forEach(Z=>j(Z.bind(n))):z&&j(z.bind(n))}if(F(Fm,f),F(gr,p),F(Lm,h),F(pf,g),F(df,b),F(Om,T),F(jm,B),F(zm,_),F(Dm,I),F(hf,w),F(Zl,m),F(Um,C),ge(k))if(k.length){const j=e.exposed||(e.exposed={});k.forEach(z=>{Object.defineProperty(j,z,{get:()=>n[z],set:Z=>n[z]=Z,enumerable:!0})})}else e.exposed||(e.exposed={});v&&e.render===vn&&(e.render=v),x!=null&&(e.inheritAttrs=x),M&&(e.components=M),D&&(e.directives=D),C&&cf(e)}function Km(e,t,n=vn){ge(e)&&(e=Hi(e));for(const s in e){const r=e[s];let o;Fe(r)?"default"in r?o=Lr(r.from||s,r.default,!0):o=Lr(r.from||s):o=Lr(r),Ve(o)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[s]=o}}function tu(e,t,n){$n(ge(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function bf(e,t,n,s){let r=s.includes(".")?Bf(n,s):()=>n[s];if(qe(e)){const o=t[e];xe(o)&&_t(r,o)}else if(xe(e))_t(r,e.bind(n));else if(Fe(e))if(ge(e))e.forEach(o=>bf(o,t,n,s));else{const o=xe(e.handler)?e.handler.bind(n):t[e.handler];xe(o)&&_t(r,o,e)}}function gf(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:a}}=e.appContext,i=o.get(t);let l;return i?l=i:!r.length&&!n&&!s?l=t:(l={},r.length&&r.forEach(c=>la(l,c,a,!0)),la(l,t,a)),Fe(t)&&o.set(t,l),l}function la(e,t,n,s=!1){const{mixins:r,extends:o}=t;o&&la(e,o,n,!0),r&&r.forEach(a=>la(e,a,n,!0));for(const a in t)if(!(s&&a==="expose")){const i=Zm[a]||n&&n[a];e[a]=i?i(e[a],t[a]):t[a]}return e}const Zm={data:nu,props:su,emits:su,methods:Sr,computed:Sr,beforeCreate:yt,created:yt,beforeMount:yt,mounted:yt,beforeUpdate:yt,updated:yt,beforeDestroy:yt,beforeUnmount:yt,destroyed:yt,unmounted:yt,activated:yt,deactivated:yt,errorCaptured:yt,serverPrefetch:yt,components:Sr,directives:Sr,watch:Jm,provide:nu,inject:Ym};function nu(e,t){return t?e?function(){return mt(xe(e)?e.call(this,this):e,xe(t)?t.call(this,this):t)}:t:e}function Ym(e,t){return Sr(Hi(e),Hi(t))}function Hi(e){if(ge(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function yt(e,t){return e?[...new Set([].concat(e,t))]:t}function Sr(e,t){return e?mt(Object.create(null),e,t):t}function su(e,t){return e?ge(e)&&ge(t)?[...new Set([...e,...t])]:mt(Object.create(null),eu(e),eu(t??{})):t}function Jm(e,t){if(!e)return t;if(!t)return e;const n=mt(Object.create(null),e);for(const s in t)n[s]=yt(e[s],t[s]);return n}function yf(){return{app:null,config:{isNativeTag:Pd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Qm=0;function Xm(e,t){return function(s,r=null){xe(s)||(s=mt({},s)),r!=null&&!Fe(r)&&(r=null);const o=yf(),a=new WeakSet,i=[];let l=!1;const c=o.app={_uid:Qm++,_component:s,_props:r,_container:null,_context:o,_instance:null,version:O1,get config(){return o.config},set config(u){},use(u,...f){return a.has(u)||(u&&xe(u.install)?(a.add(u),u.install(c,...f)):xe(u)&&(a.add(u),u(c,...f))),c},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),c},component(u,f){return f?(o.components[u]=f,c):o.components[u]},directive(u,f){return f?(o.directives[u]=f,c):o.directives[u]},mount(u,f,p){if(!l){const h=c._ceVNode||Xe(s,r);return h.appContext=o,p===!0?p="svg":p===!1&&(p=void 0),e(h,u,p),l=!0,c._container=u,u.__vue_app__=c,Sa(h.component)}},onUnmount(u){i.push(u)},unmount(){l&&($n(i,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,f){return o.provides[u]=f,c},runWithContext(u){const f=hs;hs=c;try{return u()}finally{hs=f}}};return c}}let hs=null;function e1(e,t){if(ht){let n=ht.provides;const s=ht.parent&&ht.parent.provides;s===n&&(n=ht.provides=Object.create(s)),n[e]=t}}function Lr(e,t,n=!1){const s=ec();if(s||hs){let r=hs?hs._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&xe(t)?t.call(s&&s.proxy):t}}function t1(){return!!(ec()||hs)}const vf={},wf=()=>Object.create(vf),xf=e=>Object.getPrototypeOf(e)===vf;function n1(e,t,n,s=!1){const r={},o=wf();e.propsDefaults=Object.create(null),$f(e,t,r,o);for(const a in e.propsOptions[0])a in r||(r[a]=void 0);n?e.props=s?r:hm(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function s1(e,t,n,s){const{props:r,attrs:o,vnode:{patchFlag:a}}=e,i=Ae(r),[l]=e.propsOptions;let c=!1;if((s||a>0)&&!(a&16)){if(a&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let p=u[f];if(Pa(e.emitsOptions,p))continue;const h=t[p];if(l)if(Se(o,p))h!==o[p]&&(o[p]=h,c=!0);else{const g=qt(p);r[g]=Gi(l,i,g,h,e,!1)}else h!==o[p]&&(o[p]=h,c=!0)}}}else{$f(e,t,r,o)&&(c=!0);let u;for(const f in i)(!t||!Se(t,f)&&((u=rs(f))===f||!Se(t,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(r[f]=Gi(l,i,f,void 0,e,!0)):delete r[f]);if(o!==i)for(const f in o)(!t||!Se(t,f))&&(delete o[f],c=!0)}c&&Bn(e.attrs,"set","")}function $f(e,t,n,s){const[r,o]=e.propsOptions;let a=!1,i;if(t)for(let l in t){if(Nr(l))continue;const c=t[l];let u;r&&Se(r,u=qt(l))?!o||!o.includes(u)?n[u]=c:(i||(i={}))[u]=c:Pa(e.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,a=!0)}if(o){const l=Ae(n),c=i||Oe;for(let u=0;u<o.length;u++){const f=o[u];n[f]=Gi(r,l,f,c[f],e,!Se(c,f))}}return a}function Gi(e,t,n,s,r,o){const a=e[n];if(a!=null){const i=Se(a,"default");if(i&&s===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&xe(l)){const{propsDefaults:c}=r;if(n in c)s=c[n];else{const u=$o(r);s=c[n]=l.call(null,t),u()}}else s=l;r.ce&&r.ce._setProp(n,s)}a[0]&&(o&&!i?s=!1:a[1]&&(s===""||s===rs(n))&&(s=!0))}return s}const r1=new WeakMap;function kf(e,t,n=!1){const s=n?r1:t.propsCache,r=s.get(e);if(r)return r;const o=e.props,a={},i=[];let l=!1;if(!xe(e)){const u=f=>{l=!0;const[p,h]=kf(f,t,!0);mt(a,p),h&&i.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!l)return Fe(e)&&s.set(e,Zs),Zs;if(ge(o))for(let u=0;u<o.length;u++){const f=qt(o[u]);ru(f)&&(a[f]=Oe)}else if(o)for(const u in o){const f=qt(u);if(ru(f)){const p=o[u],h=a[f]=ge(p)||xe(p)?{type:p}:mt({},p),g=h.type;let b=!1,T=!0;if(ge(g))for(let $=0;$<g.length;++$){const w=g[$],y=xe(w)&&w.name;if(y==="Boolean"){b=!0;break}else y==="String"&&(T=!1)}else b=xe(g)&&g.name==="Boolean";h[0]=b,h[1]=T,(b||Se(h,"default"))&&i.push(f)}}const c=[a,i];return Fe(e)&&s.set(e,c),c}function ru(e){return e[0]!=="$"&&!Nr(e)}const Yl=e=>e==="_"||e==="_ctx"||e==="$stable",Jl=e=>ge(e)?e.map(bn):[bn(e)],o1=(e,t,n)=>{if(t._n)return t;const s=Pm((...r)=>Jl(t(...r)),n);return s._c=!1,s},Tf=(e,t,n)=>{const s=e._ctx;for(const r in e){if(Yl(r))continue;const o=e[r];if(xe(o))t[r]=o1(r,o,s);else if(o!=null){const a=Jl(o);t[r]=()=>a}}},Cf=(e,t)=>{const n=Jl(t);e.slots.default=()=>n},_f=(e,t,n)=>{for(const s in t)(n||!Yl(s))&&(e[s]=t[s])},a1=(e,t,n)=>{const s=e.slots=wf();if(e.vnode.shapeFlag&32){const r=t._;r?(_f(s,t,n),n&&Nd(s,"_",r,!0)):Tf(t,s)}else t&&Cf(e,t)},i1=(e,t,n)=>{const{vnode:s,slots:r}=e;let o=!0,a=Oe;if(s.shapeFlag&32){const i=t._;i?n&&i===1?o=!1:_f(r,t,n):(o=!t.$stable,Tf(t,r)),a=t}else t&&(Cf(e,t),a={default:1});if(o)for(const i in r)!Yl(i)&&a[i]==null&&delete r[i]},ot=$1;function l1(e){return c1(e)}function c1(e,t){const n=$a();n.__VUE__=!0;const{insert:s,remove:r,patchProp:o,createElement:a,createText:i,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:p,setScopeId:h=vn,insertStaticContent:g}=e,b=(E,N,W,Y=null,q=null,Q=null,ie=void 0,oe=null,re=!!N.dynamicChildren)=>{if(E===N)return;E&&!Vs(E,N)&&(Y=ke(E),P(E,q,Q,!0),E=null),N.patchFlag===-2&&(re=!1,N.dynamicChildren=null);const{type:te,ref:he,shapeFlag:le}=N;switch(te){case Ba:T(E,N,W,Y);break;case Dn:$(E,N,W,Y);break;case Yo:E==null&&w(N,W,Y,ie);break;case Pe:M(E,N,W,Y,q,Q,ie,oe,re);break;default:le&1?v(E,N,W,Y,q,Q,ie,oe,re):le&6?D(E,N,W,Y,q,Q,ie,oe,re):(le&64||le&128)&&te.process(E,N,W,Y,q,Q,ie,oe,re,gt)}he!=null&&q?Rr(he,E&&E.ref,Q,N||E,!N):he==null&&E&&E.ref!=null&&Rr(E.ref,null,Q,E,!0)},T=(E,N,W,Y)=>{if(E==null)s(N.el=i(N.children),W,Y);else{const q=N.el=E.el;N.children!==E.children&&c(q,N.children)}},$=(E,N,W,Y)=>{E==null?s(N.el=l(N.children||""),W,Y):N.el=E.el},w=(E,N,W,Y)=>{[E.el,E.anchor]=g(E.children,N,W,Y,E.el,E.anchor)},y=({el:E,anchor:N},W,Y)=>{let q;for(;E&&E!==N;)q=p(E),s(E,W,Y),E=q;s(N,W,Y)},m=({el:E,anchor:N})=>{let W;for(;E&&E!==N;)W=p(E),r(E),E=W;r(N)},v=(E,N,W,Y,q,Q,ie,oe,re)=>{N.type==="svg"?ie="svg":N.type==="math"&&(ie="mathml"),E==null?_(N,W,Y,q,Q,ie,oe,re):C(E,N,q,Q,ie,oe,re)},_=(E,N,W,Y,q,Q,ie,oe)=>{let re,te;const{props:he,shapeFlag:le,transition:me,dirs:ve}=E;if(re=E.el=a(E.type,Q,he&&he.is,he),le&8?u(re,E.children):le&16&&B(E.children,re,null,Y,q,pi(E,Q),ie,oe),ve&&os(E,null,Y,"created"),I(re,E,E.scopeId,ie,Y),he){for(const Ie in he)Ie!=="value"&&!Nr(Ie)&&o(re,Ie,null,he[Ie],Q,Y);"value"in he&&o(re,"value",null,he.value,Q),(te=he.onVnodeBeforeMount)&&jt(te,Y,E)}ve&&os(E,null,Y,"beforeMount");const Ee=u1(q,me);Ee&&me.beforeEnter(re),s(re,N,W),((te=he&&he.onVnodeMounted)||Ee||ve)&&ot(()=>{te&&jt(te,Y,E),Ee&&me.enter(re),ve&&os(E,null,Y,"mounted")},q)},I=(E,N,W,Y,q)=>{if(W&&h(E,W),Y)for(let Q=0;Q<Y.length;Q++)h(E,Y[Q]);if(q){let Q=q.subTree;if(N===Q||ua(Q.type)&&(Q.ssContent===N||Q.ssFallback===N)){const ie=q.vnode;I(E,ie,ie.scopeId,ie.slotScopeIds,q.parent)}}},B=(E,N,W,Y,q,Q,ie,oe,re=0)=>{for(let te=re;te<E.length;te++){const he=E[te]=oe?Qn(E[te]):bn(E[te]);b(null,he,N,W,Y,q,Q,ie,oe)}},C=(E,N,W,Y,q,Q,ie)=>{const oe=N.el=E.el;let{patchFlag:re,dynamicChildren:te,dirs:he}=N;re|=E.patchFlag&16;const le=E.props||Oe,me=N.props||Oe;let ve;if(W&&as(W,!1),(ve=me.onVnodeBeforeUpdate)&&jt(ve,W,N,E),he&&os(N,E,W,"beforeUpdate"),W&&as(W,!0),(le.innerHTML&&me.innerHTML==null||le.textContent&&me.textContent==null)&&u(oe,""),te?k(E.dynamicChildren,te,oe,W,Y,pi(N,q),Q):ie||z(E,N,oe,null,W,Y,pi(N,q),Q,!1),re>0){if(re&16)x(oe,le,me,W,q);else if(re&2&&le.class!==me.class&&o(oe,"class",null,me.class,q),re&4&&o(oe,"style",le.style,me.style,q),re&8){const Ee=N.dynamicProps;for(let Ie=0;Ie<Ee.length;Ie++){const Be=Ee[Ie],ct=le[Be],ut=me[Be];(ut!==ct||Be==="value")&&o(oe,Be,ct,ut,q,W)}}re&1&&E.children!==N.children&&u(oe,N.children)}else!ie&&te==null&&x(oe,le,me,W,q);((ve=me.onVnodeUpdated)||he)&&ot(()=>{ve&&jt(ve,W,N,E),he&&os(N,E,W,"updated")},Y)},k=(E,N,W,Y,q,Q,ie)=>{for(let oe=0;oe<N.length;oe++){const re=E[oe],te=N[oe],he=re.el&&(re.type===Pe||!Vs(re,te)||re.shapeFlag&198)?f(re.el):W;b(re,te,he,null,Y,q,Q,ie,!0)}},x=(E,N,W,Y,q)=>{if(N!==W){if(N!==Oe)for(const Q in N)!Nr(Q)&&!(Q in W)&&o(E,Q,N[Q],null,q,Y);for(const Q in W){if(Nr(Q))continue;const ie=W[Q],oe=N[Q];ie!==oe&&Q!=="value"&&o(E,Q,oe,ie,q,Y)}"value"in W&&o(E,"value",N.value,W.value,q)}},M=(E,N,W,Y,q,Q,ie,oe,re)=>{const te=N.el=E?E.el:i(""),he=N.anchor=E?E.anchor:i("");let{patchFlag:le,dynamicChildren:me,slotScopeIds:ve}=N;ve&&(oe=oe?oe.concat(ve):ve),E==null?(s(te,W,Y),s(he,W,Y),B(N.children||[],W,he,q,Q,ie,oe,re)):le>0&&le&64&&me&&E.dynamicChildren?(k(E.dynamicChildren,me,W,q,Q,ie,oe),(N.key!=null||q&&N===q.subTree)&&Ef(E,N,!0)):z(E,N,W,he,q,Q,ie,oe,re)},D=(E,N,W,Y,q,Q,ie,oe,re)=>{N.slotScopeIds=oe,E==null?N.shapeFlag&512?q.ctx.activate(N,W,Y,ie,re):S(N,W,Y,q,Q,ie,re):O(E,N,re)},S=(E,N,W,Y,q,Q,ie)=>{const oe=E.component=P1(E,Y,q);if(uf(E)&&(oe.ctx.renderer=gt),B1(oe,!1,ie),oe.asyncDep){if(q&&q.registerDep(oe,F,ie),!E.el){const re=oe.subTree=Xe(Dn);$(null,re,N,W),E.placeholder=re.el}}else F(oe,E,N,W,q,Q,ie)},O=(E,N,W)=>{const Y=N.component=E.component;if(w1(E,N,W))if(Y.asyncDep&&!Y.asyncResolved){j(Y,N,W);return}else Y.next=N,Y.update();else N.el=E.el,Y.vnode=N},F=(E,N,W,Y,q,Q,ie)=>{const oe=()=>{if(E.isMounted){let{next:le,bu:me,u:ve,parent:Ee,vnode:Ie}=E;{const Bt=Af(E);if(Bt){le&&(le.el=Ie.el,j(E,le,ie)),Bt.asyncDep.then(()=>{E.isUnmounted||oe()});return}}let Be=le,ct;as(E,!1),le?(le.el=Ie.el,j(E,le,ie)):le=Ie,me&&Js(me),(ct=le.props&&le.props.onVnodeBeforeUpdate)&&jt(ct,Ee,le,Ie),as(E,!0);const ut=ou(E),Ut=E.subTree;E.subTree=ut,b(Ut,ut,f(Ut.el),ke(Ut),E,q,Q),le.el=ut.el,Be===null&&x1(E,ut.el),ve&&ot(ve,q),(ct=le.props&&le.props.onVnodeUpdated)&&ot(()=>jt(ct,Ee,le,Ie),q)}else{let le;const{el:me,props:ve}=N,{bm:Ee,m:Ie,parent:Be,root:ct,type:ut}=E,Ut=Xs(N);as(E,!1),Ee&&Js(Ee),!Ut&&(le=ve&&ve.onVnodeBeforeMount)&&jt(le,Be,N),as(E,!0);{ct.ce&&ct.ce._def.shadowRoot!==!1&&ct.ce._injectChildStyle(ut);const Bt=E.subTree=ou(E);b(null,Bt,W,Y,E,q,Q),N.el=Bt.el}if(Ie&&ot(Ie,q),!Ut&&(le=ve&&ve.onVnodeMounted)){const Bt=N;ot(()=>jt(le,Be,Bt),q)}(N.shapeFlag&256||Be&&Xs(Be.vnode)&&Be.vnode.shapeFlag&256)&&E.a&&ot(E.a,q),E.isMounted=!0,N=W=Y=null}};E.scope.on();const re=E.effect=new Dd(oe);E.scope.off();const te=E.update=re.run.bind(re),he=E.job=re.runIfDirty.bind(re);he.i=E,he.id=E.uid,re.scheduler=()=>Kl(he),as(E,!0),te()},j=(E,N,W)=>{N.component=E;const Y=E.vnode.props;E.vnode=N,E.next=null,s1(E,N.props,Y,W),i1(E,N.children,W),Ln(),Jc(E),Un()},z=(E,N,W,Y,q,Q,ie,oe,re=!1)=>{const te=E&&E.children,he=E?E.shapeFlag:0,le=N.children,{patchFlag:me,shapeFlag:ve}=N;if(me>0){if(me&128){K(te,le,W,Y,q,Q,ie,oe,re);return}else if(me&256){Z(te,le,W,Y,q,Q,ie,oe,re);return}}ve&8?(he&16&&be(te,q,Q),le!==te&&u(W,le)):he&16?ve&16?K(te,le,W,Y,q,Q,ie,oe,re):be(te,q,Q,!0):(he&8&&u(W,""),ve&16&&B(le,W,Y,q,Q,ie,oe,re))},Z=(E,N,W,Y,q,Q,ie,oe,re)=>{E=E||Zs,N=N||Zs;const te=E.length,he=N.length,le=Math.min(te,he);let me;for(me=0;me<le;me++){const ve=N[me]=re?Qn(N[me]):bn(N[me]);b(E[me],ve,W,null,q,Q,ie,oe,re)}te>he?be(E,q,Q,!0,!1,le):B(N,W,Y,q,Q,ie,oe,re,le)},K=(E,N,W,Y,q,Q,ie,oe,re)=>{let te=0;const he=N.length;let le=E.length-1,me=he-1;for(;te<=le&&te<=me;){const ve=E[te],Ee=N[te]=re?Qn(N[te]):bn(N[te]);if(Vs(ve,Ee))b(ve,Ee,W,null,q,Q,ie,oe,re);else break;te++}for(;te<=le&&te<=me;){const ve=E[le],Ee=N[me]=re?Qn(N[me]):bn(N[me]);if(Vs(ve,Ee))b(ve,Ee,W,null,q,Q,ie,oe,re);else break;le--,me--}if(te>le){if(te<=me){const ve=me+1,Ee=ve<he?N[ve].el:Y;for(;te<=me;)b(null,N[te]=re?Qn(N[te]):bn(N[te]),W,Ee,q,Q,ie,oe,re),te++}}else if(te>me)for(;te<=le;)P(E[te],q,Q,!0),te++;else{const ve=te,Ee=te,Ie=new Map;for(te=Ee;te<=me;te++){const Ue=N[te]=re?Qn(N[te]):bn(N[te]);Ue.key!=null&&Ie.set(Ue.key,te)}let Be,ct=0;const ut=me-Ee+1;let Ut=!1,Bt=0;const kn=new Array(ut);for(te=0;te<ut;te++)kn[te]=0;for(te=ve;te<=le;te++){const Ue=E[te];if(ct>=ut){P(Ue,q,Q,!0);continue}let G;if(Ue.key!=null)G=Ie.get(Ue.key);else for(Be=Ee;Be<=me;Be++)if(kn[Be-Ee]===0&&Vs(Ue,N[Be])){G=Be;break}G===void 0?P(Ue,q,Q,!0):(kn[G-Ee]=te+1,G>=Bt?Bt=G:Ut=!0,b(Ue,N[G],W,null,q,Q,ie,oe,re),ct++)}const Tr=Ut?d1(kn):Zs;for(Be=Tr.length-1,te=ut-1;te>=0;te--){const Ue=Ee+te,G=N[Ue],X=N[Ue+1],ae=Ue+1<he?X.el||X.placeholder:Y;kn[te]===0?b(null,G,W,ae,q,Q,ie,oe,re):Ut&&(Be<0||te!==Tr[Be]?A(G,W,ae,2):Be--)}}},A=(E,N,W,Y,q=null)=>{const{el:Q,type:ie,transition:oe,children:re,shapeFlag:te}=E;if(te&6){A(E.component.subTree,N,W,Y);return}if(te&128){E.suspense.move(N,W,Y);return}if(te&64){ie.move(E,N,W,gt);return}if(ie===Pe){s(Q,N,W);for(let le=0;le<re.length;le++)A(re[le],N,W,Y);s(E.anchor,N,W);return}if(ie===Yo){y(E,N,W);return}if(Y!==2&&te&1&&oe)if(Y===0)oe.beforeEnter(Q),s(Q,N,W),ot(()=>oe.enter(Q),q);else{const{leave:le,delayLeave:me,afterLeave:ve}=oe,Ee=()=>{E.ctx.isUnmounted?r(Q):s(Q,N,W)},Ie=()=>{Q._isLeaving&&Q[Im](!0),le(Q,()=>{Ee(),ve&&ve()})};me?me(Q,Ee,Ie):Ie()}else s(Q,N,W)},P=(E,N,W,Y=!1,q=!1)=>{const{type:Q,props:ie,ref:oe,children:re,dynamicChildren:te,shapeFlag:he,patchFlag:le,dirs:me,cacheIndex:ve}=E;if(le===-2&&(q=!1),oe!=null&&(Ln(),Rr(oe,null,W,E,!0),Un()),ve!=null&&(N.renderCache[ve]=void 0),he&256){N.ctx.deactivate(E);return}const Ee=he&1&&me,Ie=!Xs(E);let Be;if(Ie&&(Be=ie&&ie.onVnodeBeforeUnmount)&&jt(Be,N,E),he&6)ce(E.component,W,Y);else{if(he&128){E.suspense.unmount(W,Y);return}Ee&&os(E,null,N,"beforeUnmount"),he&64?E.type.remove(E,N,W,gt,Y):te&&!te.hasOnce&&(Q!==Pe||le>0&&le&64)?be(te,N,W,!1,!0):(Q===Pe&&le&384||!q&&he&16)&&be(re,N,W),Y&&V(E)}(Ie&&(Be=ie&&ie.onVnodeUnmounted)||Ee)&&ot(()=>{Be&&jt(Be,N,E),Ee&&os(E,null,N,"unmounted")},W)},V=E=>{const{type:N,el:W,anchor:Y,transition:q}=E;if(N===Pe){ye(W,Y);return}if(N===Yo){m(E);return}const Q=()=>{r(W),q&&!q.persisted&&q.afterLeave&&q.afterLeave()};if(E.shapeFlag&1&&q&&!q.persisted){const{leave:ie,delayLeave:oe}=q,re=()=>ie(W,Q);oe?oe(E.el,Q,re):re()}else Q()},ye=(E,N)=>{let W;for(;E!==N;)W=p(E),r(E),E=W;r(N)},ce=(E,N,W)=>{const{bum:Y,scope:q,job:Q,subTree:ie,um:oe,m:re,a:te}=E;ca(re),ca(te),Y&&Js(Y),q.stop(),Q&&(Q.flags|=8,P(ie,E,N,W)),oe&&ot(oe,N),ot(()=>{E.isUnmounted=!0},N)},be=(E,N,W,Y=!1,q=!1,Q=0)=>{for(let ie=Q;ie<E.length;ie++)P(E[ie],N,W,Y,q)},ke=E=>{if(E.shapeFlag&6)return ke(E.component.subTree);if(E.shapeFlag&128)return E.suspense.next();const N=p(E.anchor||E.el),W=N&&N[Bm];return W?p(W):N};let Me=!1;const tt=(E,N,W)=>{E==null?N._vnode&&P(N._vnode,null,null,!0):b(N._vnode||null,E,N,null,null,null,W),N._vnode=E,Me||(Me=!0,Jc(),of(),Me=!1)},gt={p:b,um:P,m:A,r:V,mt:S,mc:B,pc:z,pbc:k,n:ke,o:e};return{render:tt,hydrate:void 0,createApp:Xm(tt)}}function pi({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function as({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function u1(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ef(e,t,n=!1){const s=e.children,r=t.children;if(ge(s)&&ge(r))for(let o=0;o<s.length;o++){const a=s[o];let i=r[o];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=r[o]=Qn(r[o]),i.el=a.el),!n&&i.patchFlag!==-2&&Ef(a,i)),i.type===Ba&&i.patchFlag!==-1&&(i.el=a.el),i.type===Dn&&!i.el&&(i.el=a.el)}}function d1(e){const t=e.slice(),n=[0];let s,r,o,a,i;const l=e.length;for(s=0;s<l;s++){const c=e[s];if(c!==0){if(r=n[n.length-1],e[r]<c){t[s]=r,n.push(s);continue}for(o=0,a=n.length-1;o<a;)i=o+a>>1,e[n[i]]<c?o=i+1:a=i;c<e[n[o]]&&(o>0&&(t[s]=n[o-1]),n[o]=s)}}for(o=n.length,a=n[o-1];o-- >0;)n[o]=a,a=t[a];return n}function Af(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Af(t)}function ca(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const f1=Symbol.for("v-scx"),p1=()=>Lr(f1);function _t(e,t,n){return Pf(e,t,n)}function Pf(e,t,n=Oe){const{immediate:s,deep:r,flush:o,once:a}=n,i=mt({},n),l=t&&s||!t&&o!=="post";let c;if(Kr){if(o==="sync"){const h=p1();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=vn,h.resume=vn,h.pause=vn,h}}const u=ht;i.call=(h,g,b)=>$n(h,u,g,b);let f=!1;o==="post"?i.scheduler=h=>{ot(h,u&&u.suspense)}:o!=="sync"&&(f=!0,i.scheduler=(h,g)=>{g?h():Kl(h)}),i.augmentJob=h=>{t&&(h.flags|=4),f&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const p=Cm(e,t,i);return Kr&&(c?c.push(p):l&&p()),p}function h1(e,t,n){const s=this.proxy,r=qe(e)?e.includes(".")?Bf(s,e):()=>s[e]:e.bind(s,s);let o;xe(t)?o=t:(o=t.handler,n=t);const a=$o(this),i=Pf(r,o.bind(s),n);return a(),i}function Bf(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const m1=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${qt(t)}Modifiers`]||e[`${rs(t)}Modifiers`];function b1(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Oe;let r=n;const o=t.startsWith("update:"),a=o&&m1(s,t.slice(7));a&&(a.trim&&(r=n.map(u=>qe(u)?u.trim():u)),a.number&&(r=n.map(ta)));let i,l=s[i=ai(t)]||s[i=ai(qt(t))];!l&&o&&(l=s[i=ai(rs(t))]),l&&$n(l,e,6,r);const c=s[i+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,$n(c,e,6,r)}}const g1=new WeakMap;function Sf(e,t,n=!1){const s=n?g1:t.emitsCache,r=s.get(e);if(r!==void 0)return r;const o=e.emits;let a={},i=!1;if(!xe(e)){const l=c=>{const u=Sf(c,t,!0);u&&(i=!0,mt(a,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!i?(Fe(e)&&s.set(e,null),null):(ge(o)?o.forEach(l=>a[l]=null):mt(a,o),Fe(e)&&s.set(e,a),a)}function Pa(e,t){return!e||!va(t)?!1:(t=t.slice(2).replace(/Once$/,""),Se(e,t[0].toLowerCase()+t.slice(1))||Se(e,rs(t))||Se(e,t))}function ou(e){const{type:t,vnode:n,proxy:s,withProxy:r,propsOptions:[o],slots:a,attrs:i,emit:l,render:c,renderCache:u,props:f,data:p,setupState:h,ctx:g,inheritAttrs:b}=e,T=aa(e);let $,w;try{if(n.shapeFlag&4){const m=r||s,v=m;$=bn(c.call(v,m,u,f,h,p,g)),w=i}else{const m=t;$=bn(m.length>1?m(f,{attrs:i,slots:a,emit:l}):m(f,null)),w=t.props?i:y1(i)}}catch(m){Ur.length=0,Ca(m,e,1),$=Xe(Dn)}let y=$;if(w&&b!==!1){const m=Object.keys(w),{shapeFlag:v}=y;m.length&&v&7&&(o&&m.some(Rl)&&(w=v1(w,o)),y=ws(y,w,!1,!0))}return n.dirs&&(y=ws(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&Ea(y,n.transition),$=y,aa(T),$}const y1=e=>{let t;for(const n in e)(n==="class"||n==="style"||va(n))&&((t||(t={}))[n]=e[n]);return t},v1=(e,t)=>{const n={};for(const s in e)(!Rl(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function w1(e,t,n){const{props:s,children:r,component:o}=e,{props:a,children:i,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?au(s,a,c):!!a;if(l&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const p=u[f];if(a[p]!==s[p]&&!Pa(c,p))return!0}}}else return(r||i)&&(!i||!i.$stable)?!0:s===a?!1:s?a?au(s,a,c):!0:!!a;return!1}function au(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const o=s[r];if(t[o]!==e[o]&&!Pa(n,o))return!0}return!1}function x1({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const ua=e=>e.__isSuspense;function $1(e,t){t&&t.pendingBranch?ge(e)?t.effects.push(...e):t.effects.push(e):Am(e)}const Pe=Symbol.for("v-fgt"),Ba=Symbol.for("v-txt"),Dn=Symbol.for("v-cmt"),Yo=Symbol.for("v-stc"),Ur=[];let Mt=null;function R(e=!1){Ur.push(Mt=e?null:[])}function k1(){Ur.pop(),Mt=Ur[Ur.length-1]||null}let qr=1;function iu(e,t=!1){qr+=e,e<0&&Mt&&t&&(Mt.hasOnce=!0)}function If(e){return e.dynamicChildren=qr>0?Mt||Zs:null,k1(),qr>0&&Mt&&Mt.push(e),e}function U(e,t,n,s,r,o){return If(d(e,t,n,s,r,o,!0))}function ms(e,t,n,s,r){return If(Xe(e,t,n,s,r,!0))}function Ql(e){return e?e.__v_isVNode===!0:!1}function Vs(e,t){return e.type===t.type&&e.key===t.key}const Nf=({key:e})=>e??null,Jo=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?qe(e)||Ve(e)||xe(e)?{i:Nt,r:e,k:t,f:!!n}:e:null);function d(e,t=null,n=null,s=0,r=null,o=e===Pe?0:1,a=!1,i=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Nf(t),ref:t&&Jo(t),scopeId:lf,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Nt};return i?(Xl(l,n),o&128&&e.normalize(l)):n&&(l.shapeFlag|=qe(n)?8:16),qr>0&&!a&&Mt&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Mt.push(l),l}const Xe=T1;function T1(e,t=null,n=null,s=0,r=null,o=!1){if((!e||e===mf)&&(e=Dn),Ql(e)){const i=ws(e,t,!0);return n&&Xl(i,n),qr>0&&!o&&Mt&&(i.shapeFlag&6?Mt[Mt.indexOf(e)]=i:Mt.push(i)),i.patchFlag=-2,i}if(M1(e)&&(e=e.__vccOpts),t){t=C1(t);let{class:i,style:l}=t;i&&!qe(i)&&(t.class=_e(i)),Fe(l)&&(Gl(l)&&!ge(l)&&(l=mt({},l)),t.style=ka(l))}const a=qe(e)?1:ua(e)?128:Sm(e)?64:Fe(e)?4:xe(e)?2:0;return d(e,t,n,s,r,a,o,!0)}function C1(e){return e?Gl(e)||xf(e)?mt({},e):e:null}function ws(e,t,n=!1,s=!1){const{props:r,ref:o,patchFlag:a,children:i,transition:l}=e,c=t?_1(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Nf(c),ref:t&&t.ref?n&&o?ge(o)?o.concat(Jo(t)):[o,Jo(t)]:Jo(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Pe?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ws(e.ssContent),ssFallback:e.ssFallback&&ws(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&s&&Ea(u,l.clone(u)),u}function J(e=" ",t=0){return Xe(Ba,null,e,t)}function Mf(e,t){const n=Xe(Yo,null,e);return n.staticCount=t,n}function fe(e="",t=!1){return t?(R(),ms(Dn,null,e)):Xe(Dn,null,e)}function bn(e){return e==null||typeof e=="boolean"?Xe(Dn):ge(e)?Xe(Pe,null,e.slice()):Ql(e)?Qn(e):Xe(Ba,null,String(e))}function Qn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ws(e)}function Xl(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(ge(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),Xl(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!xf(t)?t._ctx=Nt:r===3&&Nt&&(Nt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else xe(t)?(t={default:t,_ctx:Nt},n=32):(t=String(t),s&64?(n=16,t=[J(t)]):n=8);e.children=t,e.shapeFlag|=n}function _1(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=_e([t.class,s.class]));else if(r==="style")t.style=ka([t.style,s.style]);else if(va(r)){const o=t[r],a=s[r];a&&o!==a&&!(ge(o)&&o.includes(a))&&(t[r]=o?[].concat(o,a):a)}else r!==""&&(t[r]=s[r])}return t}function jt(e,t,n,s=null){$n(e,t,7,[n,s])}const E1=yf();let A1=0;function P1(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||E1,o={uid:A1++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Fd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:kf(s,r),emitsOptions:Sf(s,r),emit:null,emitted:null,propsDefaults:Oe,inheritAttrs:s.inheritAttrs,ctx:Oe,data:Oe,props:Oe,attrs:Oe,slots:Oe,refs:Oe,setupState:Oe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=b1.bind(null,o),e.ce&&e.ce(o),o}let ht=null;const ec=()=>ht||Nt;let da,qi;{const e=$a(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),o=>{r.length>1?r.forEach(a=>a(o)):r[0](o)}};da=t("__VUE_INSTANCE_SETTERS__",n=>ht=n),qi=t("__VUE_SSR_SETTERS__",n=>Kr=n)}const $o=e=>{const t=ht;return da(e),e.scope.on(),()=>{e.scope.off(),da(t)}},lu=()=>{ht&&ht.scope.off(),da(null)};function Of(e){return e.vnode.shapeFlag&4}let Kr=!1;function B1(e,t=!1,n=!1){t&&qi(t);const{props:s,children:r}=e.vnode,o=Of(e);n1(e,s,o,t),a1(e,r,n||t);const a=o?S1(e,t):void 0;return t&&qi(!1),a}function S1(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Gm);const{setup:s}=n;if(s){Ln();const r=e.setupContext=s.length>1?N1(e):null,o=$o(e),a=xo(s,e,0,[e.props,r]),i=Bd(a);if(Un(),o(),(i||e.sp)&&!Xs(e)&&cf(e),i){if(a.then(lu,lu),t)return a.then(l=>{cu(e,l)}).catch(l=>{Ca(l,e,0)});e.asyncDep=a}else cu(e,a)}else Rf(e)}function cu(e,t,n){xe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Fe(t)&&(e.setupState=tf(t)),Rf(e)}function Rf(e,t,n){const s=e.type;e.render||(e.render=s.render||vn);{const r=$o(e);Ln();try{qm(e)}finally{Un(),r()}}}const I1={get(e,t){return pt(e,"get",""),e[t]}};function N1(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,I1),slots:e.slots,emit:e.emit,expose:t}}function Sa(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(tf(ql(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Fr)return Fr[n](e)},has(t,n){return n in t||n in Fr}})):e.proxy}function Ki(e,t=!0){return xe(e)?e.displayName||e.name:e.name||t&&e.__name}function M1(e){return xe(e)&&"__vccOpts"in e}const de=(e,t)=>km(e,t,Kr),O1="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Zi;const uu=typeof window<"u"&&window.trustedTypes;if(uu)try{Zi=uu.createPolicy("vue",{createHTML:e=>e})}catch{}const Ff=Zi?e=>Zi.createHTML(e):e=>e,R1="http://www.w3.org/2000/svg",F1="http://www.w3.org/1998/Math/MathML",An=typeof document<"u"?document:null,du=An&&An.createElement("template"),L1={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?An.createElementNS(R1,e):t==="mathml"?An.createElementNS(F1,e):n?An.createElement(e,{is:n}):An.createElement(e);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>An.createTextNode(e),createComment:e=>An.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>An.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,o){const a=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{du.innerHTML=Ff(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const i=du.content;if(s==="svg"||s==="mathml"){const l=i.firstChild;for(;l.firstChild;)i.appendChild(l.firstChild);i.removeChild(l)}t.insertBefore(i,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},U1=Symbol("_vtc");function D1(e,t,n){const s=e[U1];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const fu=Symbol("_vod"),z1=Symbol("_vsh"),j1=Symbol(""),W1=/(?:^|;)\s*display\s*:/;function V1(e,t,n){const s=e.style,r=qe(n);let o=!1;if(n&&!r){if(t)if(qe(t))for(const a of t.split(";")){const i=a.slice(0,a.indexOf(":")).trim();n[i]==null&&Qo(s,i,"")}else for(const a in t)n[a]==null&&Qo(s,a,"");for(const a in n)a==="display"&&(o=!0),Qo(s,a,n[a])}else if(r){if(t!==n){const a=s[j1];a&&(n+=";"+a),s.cssText=n,o=W1.test(n)}}else t&&e.removeAttribute("style");fu in e&&(e[fu]=o?s.display:"",e[z1]&&(s.display="none"))}const pu=/\s*!important$/;function Qo(e,t,n){if(ge(n))n.forEach(s=>Qo(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=H1(e,t);pu.test(n)?e.setProperty(rs(s),n.replace(pu,""),"important"):e[s]=n}}const hu=["Webkit","Moz","ms"],hi={};function H1(e,t){const n=hi[t];if(n)return n;let s=qt(t);if(s!=="filter"&&s in e)return hi[t]=s;s=xa(s);for(let r=0;r<hu.length;r++){const o=hu[r]+s;if(o in e)return hi[t]=o}return t}const mu="http://www.w3.org/1999/xlink";function bu(e,t,n,s,r,o=Gh(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(mu,t.slice(6,t.length)):e.setAttributeNS(mu,t,n):n==null||o&&!Md(n)?e.removeAttribute(t):e.setAttribute(t,o?"":xn(n)?String(n):n)}function gu(e,t,n,s,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Ff(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const i=o==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(i!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const i=typeof e[t];i==="boolean"?n=Md(n):n==null&&i==="string"?(n="",a=!0):i==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(r||t)}function In(e,t,n,s){e.addEventListener(t,n,s)}function G1(e,t,n,s){e.removeEventListener(t,n,s)}const yu=Symbol("_vei");function q1(e,t,n,s,r=null){const o=e[yu]||(e[yu]={}),a=o[t];if(s&&a)a.value=s;else{const[i,l]=K1(t);if(s){const c=o[t]=J1(s,r);In(e,i,c,l)}else a&&(G1(e,i,a,l),o[t]=void 0)}}const vu=/(?:Once|Passive|Capture)$/;function K1(e){let t;if(vu.test(e)){t={};let s;for(;s=e.match(vu);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):rs(e.slice(2)),t]}let mi=0;const Z1=Promise.resolve(),Y1=()=>mi||(Z1.then(()=>mi=0),mi=Date.now());function J1(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;$n(Q1(s,n.value),t,5,[s])};return n.value=e,n.attached=Y1(),n}function Q1(e,t){if(ge(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const wu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,X1=(e,t,n,s,r,o)=>{const a=r==="svg";t==="class"?D1(e,s,a):t==="style"?V1(e,n,s):va(t)?Rl(t)||q1(e,t,n,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):eb(e,t,s,a))?(gu(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&bu(e,t,s,a,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!qe(s))?gu(e,qt(t),s,o,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),bu(e,t,s,a))};function eb(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&wu(t)&&xe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return wu(t)&&qe(n)?!1:t in e}const ss=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ge(t)?n=>Js(t,n):t};function tb(e){e.target.composing=!0}function xu(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ht=Symbol("_assign"),Ce={created(e,{modifiers:{lazy:t,trim:n,number:s}},r){e[Ht]=ss(r);const o=s||r.props&&r.props.type==="number";In(e,t?"change":"input",a=>{if(a.target.composing)return;let i=e.value;n&&(i=i.trim()),o&&(i=ta(i)),e[Ht](i)}),n&&In(e,"change",()=>{e.value=e.value.trim()}),t||(In(e,"compositionstart",tb),In(e,"compositionend",xu),In(e,"change",xu))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:r,number:o}},a){if(e[Ht]=ss(a),e.composing)return;const i=(o||e.type==="number")&&!/^0\d/.test(e.value)?ta(e.value):e.value,l=t??"";i!==l&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||r&&e.value.trim()===l)||(e.value=l))}},er={deep:!0,created(e,t,n){e[Ht]=ss(n),In(e,"change",()=>{const s=e._modelValue,r=or(e),o=e.checked,a=e[Ht];if(ge(s)){const i=Ul(s,r),l=i!==-1;if(o&&!l)a(s.concat(r));else if(!o&&l){const c=[...s];c.splice(i,1),a(c)}}else if(mr(s)){const i=new Set(s);o?i.add(r):i.delete(r),a(i)}else a(Lf(e,o))})},mounted:$u,beforeUpdate(e,t,n){e[Ht]=ss(n),$u(e,t,n)}};function $u(e,{value:t,oldValue:n},s){e._modelValue=t;let r;if(ge(t))r=Ul(t,s.props.value)>-1;else if(mr(t))r=t.has(s.props.value);else{if(t===n)return;r=vs(t,Lf(e,!0))}e.checked!==r&&(e.checked=r)}const Dr={created(e,{value:t},n){e.checked=vs(t,n.props.value),e[Ht]=ss(n),In(e,"change",()=>{e[Ht](or(e))})},beforeUpdate(e,{value:t,oldValue:n},s){e[Ht]=ss(s),t!==n&&(e.checked=vs(t,s.props.value))}},st={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const r=mr(t);In(e,"change",()=>{const o=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?ta(or(a)):or(a));e[Ht](e.multiple?r?new Set(o):o:o[0]),e._assigning=!0,_a(()=>{e._assigning=!1})}),e[Ht]=ss(s)},mounted(e,{value:t}){ku(e,t)},beforeUpdate(e,t,n){e[Ht]=ss(n)},updated(e,{value:t}){e._assigning||ku(e,t)}};function ku(e,t){const n=e.multiple,s=ge(t);if(!(n&&!s&&!mr(t))){for(let r=0,o=e.options.length;r<o;r++){const a=e.options[r],i=or(a);if(n)if(s){const l=typeof i;l==="string"||l==="number"?a.selected=t.some(c=>String(c)===String(i)):a.selected=Ul(t,i)>-1}else a.selected=t.has(i);else if(vs(or(a),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function or(e){return"_value"in e?e._value:e.value}function Lf(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const nb=["ctrl","shift","alt","meta"],sb={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>nb.some(n=>e[`${n}Key`]&&!t.includes(n))},ar=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(r,...o)=>{for(let a=0;a<t.length;a++){const i=sb[t[a]];if(i&&i(r,t))return}return e(r,...o)})},rb={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ob=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=r=>{if(!("key"in r))return;const o=rs(r.key);if(t.some(a=>a===o||rb[a]===o))return e(r)})},ab=mt({patchProp:X1},L1);let Tu;function ib(){return Tu||(Tu=l1(ab))}const lb=(...e)=>{const t=ib().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=ub(s);if(!r)return;const o=t._component;!xe(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const a=n(r,!1,cb(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},t};function cb(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function ub(e){return qe(e)?document.querySelector(e):e}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Uf;const Ia=e=>Uf=e,Df=Symbol();function Yi(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var zr;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(zr||(zr={}));function db(){const e=Ld(!0),t=e.run(()=>se({}));let n=[],s=[];const r=ql({install(o){Ia(r),r._a=o,o.provide(Df,r),o.config.globalProperties.$pinia=r,s.forEach(a=>n.push(a)),s=[]},use(o){return this._a?n.push(o):s.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const zf=()=>{};function Cu(e,t,n,s=zf){e.push(t);const r=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),s())};return!n&&Ud()&&Kh(r),r}function Us(e,...t){e.slice().forEach(n=>{n(...t)})}const fb=e=>e(),_u=Symbol(),bi=Symbol();function Ji(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,s)=>e.set(s,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],r=e[n];Yi(r)&&Yi(s)&&e.hasOwnProperty(n)&&!Ve(s)&&!Mn(s)?e[n]=Ji(r,s):e[n]=s}return e}const pb=Symbol();function hb(e){return!Yi(e)||!e.hasOwnProperty(pb)}const{assign:Yn}=Object;function mb(e){return!!(Ve(e)&&e.effect)}function bb(e,t,n,s){const{state:r,actions:o,getters:a}=t,i=n.state.value[e];let l;function c(){i||(n.state.value[e]=r?r():{});const u=ym(n.state.value[e]);return Yn(u,o,Object.keys(a||{}).reduce((f,p)=>(f[p]=ql(de(()=>{Ia(n);const h=n._s.get(e);return a[p].call(h,h)})),f),{}))}return l=jf(e,c,t,n,s,!0),l}function jf(e,t,n={},s,r,o){let a;const i=Yn({actions:{}},n),l={deep:!0};let c,u,f=[],p=[],h;const g=s.state.value[e];!o&&!g&&(s.state.value[e]={}),se({});let b;function T(B){let C;c=u=!1,typeof B=="function"?(B(s.state.value[e]),C={type:zr.patchFunction,storeId:e,events:h}):(Ji(s.state.value[e],B),C={type:zr.patchObject,payload:B,storeId:e,events:h});const k=b=Symbol();_a().then(()=>{b===k&&(c=!0)}),u=!0,Us(f,C,s.state.value[e])}const $=o?function(){const{state:C}=n,k=C?C():{};this.$patch(x=>{Yn(x,k)})}:zf;function w(){a.stop(),f=[],p=[],s._s.delete(e)}const y=(B,C="")=>{if(_u in B)return B[bi]=C,B;const k=function(){Ia(s);const x=Array.from(arguments),M=[],D=[];function S(j){M.push(j)}function O(j){D.push(j)}Us(p,{args:x,name:k[bi],store:v,after:S,onError:O});let F;try{F=B.apply(this&&this.$id===e?this:v,x)}catch(j){throw Us(D,j),j}return F instanceof Promise?F.then(j=>(Us(M,j),j)).catch(j=>(Us(D,j),Promise.reject(j))):(Us(M,F),F)};return k[_u]=!0,k[bi]=C,k},m={_p:s,$id:e,$onAction:Cu.bind(null,p),$patch:T,$reset:$,$subscribe(B,C={}){const k=Cu(f,B,C.detached,()=>x()),x=a.run(()=>_t(()=>s.state.value[e],M=>{(C.flush==="sync"?u:c)&&B({storeId:e,type:zr.direct,events:h},M)},Yn({},l,C)));return k},$dispose:w},v=wo(m);s._s.set(e,v);const I=(s._a&&s._a.runWithContext||fb)(()=>s._e.run(()=>(a=Ld()).run(()=>t({action:y}))));for(const B in I){const C=I[B];if(Ve(C)&&!mb(C)||Mn(C))o||(g&&hb(C)&&(Ve(C)?C.value=g[B]:Ji(C,g[B])),s.state.value[e][B]=C);else if(typeof C=="function"){const k=y(C,B);I[B]=k,i.actions[B]=C}}return Yn(v,I),Yn(Ae(v),I),Object.defineProperty(v,"$state",{get:()=>s.state.value[e],set:B=>{T(C=>{Yn(C,B)})}}),s._p.forEach(B=>{Yn(v,a.run(()=>B({store:v,app:s._a,pinia:s,options:i})))}),g&&o&&n.hydrate&&n.hydrate(v.$state,g),c=!0,u=!0,v}/*! #__NO_SIDE_EFFECTS__ */function Na(e,t,n){let s,r;const o=typeof t=="function";typeof e=="string"?(s=e,r=o?n:t):(r=e,s=e.id);function a(i,l){const c=t1();return i=i||(c?Lr(Df,null):null),i&&Ia(i),i=Uf,i._s.has(s)||(o?jf(s,t,r,i):bb(s,r,i)),i._s.get(s)}return a.$id=s,a}function it(e){{const t=Ae(e),n={};for(const s in t){const r=t[s];r.effect?n[s]=de({get:()=>e[s],set(o){e[s]=o}}):(Ve(r)||Mn(r))&&(n[s]=xm(e,s))}return n}}const gb="http://localhost:5177";async function jr(e,t={}){const n=localStorage.getItem("amm_token"),s=new Headers(t.headers||{});s.has("Content-Type")||s.set("Content-Type","application/json"),n&&s.set("Authorization",`Bearer ${n}`);const r=await fetch(`${gb}${e}`,{...t,headers:s,credentials:"include"}),o=await r.json().catch(()=>({}));if(!r.ok){const a=o.message||o.error||"";throw new Error(a)}return o}const yb=!1,vb="",wb={class:"login-page d-flex align-items-center justify-content-center bg-light"},xb={class:"card shadow-sm login-card"},$b={class:"card-body"},kb={key:0,class:"alert alert-danger py-2 mb-0"},Tb=["disabled"],Cb=lt({__name:"LoginView",emits:["logged-in"],setup(e,{emit:t}){const n=t,s=se(""),r=se(""),o=se(!1),a=se(""),i=async()=>{var l,c;o.value=!0,a.value="";try{const u=await jr("/api/auth/login",{method:"POST",body:JSON.stringify({username:s.value.trim(),password:r.value})}),f=(l=u.data)==null?void 0:l.token;if(!f)throw new Error("");n("logged-in",{user:(c=u.data)==null?void 0:c.user,token:f})}catch(u){a.value=(u==null?void 0:u.message)||""}finally{o.value=!1}};return(l,c)=>(R(),U("div",wb,[d("div",xb,[d("div",$b,[c[4]||(c[4]=d("h1",{class:"h5 mb-3"},"AMM ",-1)),c[5]||(c[5]=d("p",{class:"text-muted small mb-4"},"",-1)),d("form",{onSubmit:ar(i,["prevent"]),class:"d-grid gap-3"},[d("div",null,[c[2]||(c[2]=d("label",{class:"form-label"},"",-1)),ue(d("input",{"onUpdate:modelValue":c[0]||(c[0]=u=>s.value=u),type:"text",class:"form-control",placeholder:"",autocomplete:"username",required:""},null,512),[[Ce,s.value]])]),d("div",null,[c[3]||(c[3]=d("label",{class:"form-label"},"",-1)),ue(d("input",{"onUpdate:modelValue":c[1]||(c[1]=u=>r.value=u),type:"password",class:"form-control",placeholder:"",autocomplete:"current-password",required:""},null,512),[[Ce,r.value]])]),a.value?(R(),U("div",kb,L(a.value),1)):fe("",!0),d("button",{class:"btn btn-primary",type:"submit",disabled:o.value},L(o.value?"...":""),9,Tb)],32)])])]))}}),Ft=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},_b=Ft(Cb,[["__scopeId","data-v-f863e756"]]),Eb={class:"sidebar-header p-3 d-flex justify-content-between align-items-center"},Ab={key:0},Pb=["title"],Bb={class:"nav flex-column gap-1 p-2 flex-grow-1"},Sb=["onClick","title"],Ib={key:0},Nb=lt({__name:"Sidebar",props:{items:{},activeKey:{},collapsed:{type:Boolean}},emits:["select","toggle-collapse"],setup(e){return(t,n)=>(R(),U("div",{class:_e(["sidebar d-flex flex-column",{"sidebar-collapsed":t.collapsed}])},[d("div",Eb,[t.collapsed?fe("",!0):(R(),U("div",Ab,[...n[1]||(n[1]=[d("div",{class:"fw-semibold fs-5"},"AMM ",-1),d("div",{class:"text-muted small"},"",-1)])])),d("button",{class:"btn btn-sm btn-light",onClick:n[0]||(n[0]=s=>t.$emit("toggle-collapse")),title:t.collapsed?"":""},[d("i",{class:_e(["bi",t.collapsed?"bi-chevron-right":"bi-chevron-left"])},null,2)],8,Pb)]),d("nav",Bb,[(R(!0),U(Pe,null,je(t.items,s=>(R(),U("button",{key:s.key,class:_e(["btn text-start sidebar-item",s.key===t.activeKey?"btn-primary":"btn-light"]),type:"button",onClick:r=>t.$emit("select",s.key),title:t.collapsed?s.label:""},[d("span",{class:_e(t.collapsed?"":"me-2")},L(s.icon),3),t.collapsed?fe("",!0):(R(),U("span",Ib,L(s.label),1))],10,Sb))),128))])],2))}}),Mb=Ft(Nb,[["__scopeId","data-v-b7caf48c"]]),sn=Na("chain",{state:()=>({chains:[{id:97,name:"BSC Testnet",rpc:"https://bsc-testnet.publicnode.com",governanceToken:"BNB",rpcOptions:[{name:"1",url:"https://bsc-testnet.publicnode.com"},{name:"2",url:"https://data-seed-prebsc-1-s1.binance.org:8545"}]},{id:56,name:"BSC Mainnet",rpc:"https://bsc-dataseed.binance.org",governanceToken:"BNB",rpcOptions:[{name:"Binance1",url:"https://bsc-dataseed.binance.org"},{name:"Binance2",url:"https://bsc-dataseed1.binance.org"},{name:"Binance3",url:"https://bsc-dataseed2.binance.org"},{name:"Binance4",url:"https://bsc-dataseed3.binance.org"},{name:"Binance5",url:"https://bsc-dataseed4.binance.org"},{name:"PublicNode",url:"https://bsc.publicnode.com"},{name:"NodeReal",url:"https://bsc-mainnet.nodereal.io/v1/64a9df0874fb4a93b9d0a3849de012d3"},{name:"",url:"https://meme.bsc.blockrazor.xyz"}]},{id:66,name:"OKX Chain",rpc:"https://exchainrpc.okex.org",governanceToken:"OKB",rpcOptions:[{name:"",url:"https://exchainrpc.okex.org"}]}],selectedChainId:56,selectedDex:"pancake-v2",rpcUrl:"https://bsc-dataseed.binance.org",customRpcUrl:""}),getters:{selectedChain:e=>e.chains.find(t=>t.id===e.selectedChainId),currentGovernanceToken:e=>{const t=e.chains.find(n=>n.id===e.selectedChainId);return(t==null?void 0:t.governanceToken)||"BNB"},effectiveRpcUrl:e=>e.customRpcUrl||e.rpcUrl},actions:{setCustomRpc(e){this.customRpcUrl=e,console.log("RPC:",e||"()")},clearCustomRpc(){this.customRpcUrl="",console.log("RPC:",this.rpcUrl)}}}),fa=Na("dex",{state:()=>({dexConfigs:[{id:"pancake-v2-testnet",name:"PancakeSwap V2 Testnet",factoryAddress:"0x6725F303b657a9451d8BA641348b6761A6CC7a17",routerAddress:"0xD99D1c33F9fC3444f8101754aBC46c52416550D1",baseTokens:["0xae13d989daC2f0dEbFf460aC112a837C89BAa7cd"]},{id:"pancake-v2-mainnet",name:"PancakeSwap V2 Mainnet",factoryAddress:"0xcA143Ce0Fe65960E6Aa4D42C8D3cE161c2B6604f",routerAddress:"0x10ED43C718714eb63d5aA57B78B54704E256024E",baseTokens:["0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c"]},{id:"okx-swap",name:"OKX Swap",factoryAddress:"0x0000000000000000000000000000000000000000",routerAddress:"0x0000000000000000000000000000000000000000",baseTokens:["0x8F8526dbfd6E38E3D8307702cA8469Bae6C56C15"]}],chainDexMappings:[{chainId:97,dexId:"pancake-v2-testnet"},{chainId:56,dexId:"pancake-v2-mainnet"},{chainId:66,dexId:"okx-swap"}],selectedDexId:"pancake-v2-mainnet"}),getters:{getDexByChainId:e=>t=>{const n=e.chainDexMappings.find(s=>s.chainId===t);return n?e.dexConfigs.find(s=>s.id===n.dexId):null},currentDex:e=>e.dexConfigs.find(t=>t.id===e.selectedDexId),currentDexId:e=>e.selectedDexId,currentDexName:e=>{const t=e.dexConfigs.find(n=>n.id===e.selectedDexId);return(t==null?void 0:t.name)||""},currentFactoryAddress:e=>{const t=e.dexConfigs.find(n=>n.id===e.selectedDexId);return(t==null?void 0:t.factoryAddress)||""},currentRouterAddress:e=>{const t=e.dexConfigs.find(n=>n.id===e.selectedDexId);return(t==null?void 0:t.routerAddress)||""},currentBaseTokens:e=>{const t=e.dexConfigs.find(n=>n.id===e.selectedDexId);return(t==null?void 0:t.baseTokens)||[]},allDexConfigs:e=>e.dexConfigs},actions:{setDexByChainId(e){const t=this.chainDexMappings.find(n=>n.chainId===e);t&&(this.selectedDexId=t.dexId,console.log(` ${e}  DEX: ${t.dexId}`))},setDex(e){this.selectedDexId=e}}}),Ob="1.1.0";let At=class Qi extends Error{constructor(t,n={}){var a;const s=n.cause instanceof Qi?n.cause.details:(a=n.cause)!=null&&a.message?n.cause.message:n.details,r=n.cause instanceof Qi&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...r?[`Docs: https://abitype.dev${r}`]:[],...s?[`Details: ${s}`]:[],`Version: abitype@${Ob}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=s,this.docsPath=r,this.metaMessages=n.metaMessages,this.shortMessage=t}};function Hn(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const Wf=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Vf=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Hf=/^\(.+?\).*?$/,Eu=/^tuple(?<array>(\[(\d*)\])*)$/;function Xi(e){let t=e.type;if(Eu.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let r=0;r<n;r++){const o=e.components[r];t+=Xi(o),r<n-1&&(t+=", ")}const s=Hn(Eu,e.type);return t+=`)${(s==null?void 0:s.array)??""}`,Xi({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Hs(e){let t="";const n=e.length;for(let s=0;s<n;s++){const r=e[s];t+=Xi(r),s!==n-1&&(t+=", ")}return t}function pa(e){var t;return e.type==="function"?`function ${e.name}(${Hs(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${Hs(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Hs(e.inputs)})`:e.type==="error"?`error ${e.name}(${Hs(e.inputs)})`:e.type==="constructor"?`constructor(${Hs(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Gf=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Rb(e){return Gf.test(e)}function Fb(e){return Hn(Gf,e)}const qf=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Lb(e){return qf.test(e)}function Ub(e){return Hn(qf,e)}const Kf=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Db(e){return Kf.test(e)}function zb(e){return Hn(Kf,e)}const Zf=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Ma(e){return Zf.test(e)}function jb(e){return Hn(Zf,e)}const Yf=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Wb(e){return Yf.test(e)}function Vb(e){return Hn(Yf,e)}const Jf=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Hb(e){return Jf.test(e)}function Gb(e){return Hn(Jf,e)}const qb=/^receive\(\) external payable$/;function Kb(e){return qb.test(e)}const Au=new Set(["memory","indexed","storage","calldata"]),Zb=new Set(["indexed"]),el=new Set(["calldata","memory","storage"]);class Yb extends At{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Jb extends At{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Qb extends At{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Xb extends At{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class eg extends At{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class tg extends At{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class ng extends At{constructor({param:t,type:n,modifier:s}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${s}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class sg extends At{constructor({param:t,type:n,modifier:s}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${s}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${s}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class rg extends At{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class yr extends At{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class og extends At{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class ag extends At{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class ig extends At{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class lg extends At{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function cg(e,t,n){let s="";if(n)for(const r of Object.entries(n)){if(!r)continue;let o="";for(const a of r[1])o+=`[${a.type}${a.name?`:${a.name}`:""}]`;s+=`(${r[0]}{${o}})`}return t?`${t}:${e}${s}`:e}const gi=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function tl(e,t={}){if(Db(e))return ug(e,t);if(Lb(e))return dg(e,t);if(Rb(e))return fg(e,t);if(Wb(e))return pg(e,t);if(Hb(e))return hg(e);if(Kb(e))return{type:"receive",stateMutability:"payable"};throw new og({signature:e})}function ug(e,t={}){const n=zb(e);if(!n)throw new yr({signature:e,type:"function"});const s=It(n.parameters),r=[],o=s.length;for(let i=0;i<o;i++)r.push(zn(s[i],{modifiers:el,structs:t,type:"function"}));const a=[];if(n.returns){const i=It(n.returns),l=i.length;for(let c=0;c<l;c++)a.push(zn(i[c],{modifiers:el,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:r,outputs:a}}function dg(e,t={}){const n=Ub(e);if(!n)throw new yr({signature:e,type:"event"});const s=It(n.parameters),r=[],o=s.length;for(let a=0;a<o;a++)r.push(zn(s[a],{modifiers:Zb,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:r}}function fg(e,t={}){const n=Fb(e);if(!n)throw new yr({signature:e,type:"error"});const s=It(n.parameters),r=[],o=s.length;for(let a=0;a<o;a++)r.push(zn(s[a],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:r}}function pg(e,t={}){const n=Vb(e);if(!n)throw new yr({signature:e,type:"constructor"});const s=It(n.parameters),r=[],o=s.length;for(let a=0;a<o;a++)r.push(zn(s[a],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:r}}function hg(e){const t=Gb(e);if(!t)throw new yr({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const mg=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,bg=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,gg=/^u?int$/;function zn(e,t){var f,p;const n=cg(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(gi.has(n))return gi.get(n);const s=Hf.test(e),r=Hn(s?bg:mg,e);if(!r)throw new eg({param:e});if(r.name&&vg(r.name))throw new tg({param:e,name:r.name});const o=r.name?{name:r.name}:{},a=r.modifier==="indexed"?{indexed:!0}:{},i=(t==null?void 0:t.structs)??{};let l,c={};if(s){l="tuple";const h=It(r.type),g=[],b=h.length;for(let T=0;T<b;T++)g.push(zn(h[T],{structs:i}));c={components:g}}else if(r.type in i)l="tuple",c={components:i[r.type]};else if(gg.test(r.type))l=`${r.type}256`;else if(r.type==="address payable")l="address";else if(l=r.type,(t==null?void 0:t.type)!=="struct"&&!Qf(l))throw new Qb({type:l});if(r.modifier){if(!((p=(f=t==null?void 0:t.modifiers)==null?void 0:f.has)!=null&&p.call(f,r.modifier)))throw new ng({param:e,type:t==null?void 0:t.type,modifier:r.modifier});if(el.has(r.modifier)&&!wg(l,!!r.array))throw new sg({param:e,type:t==null?void 0:t.type,modifier:r.modifier})}const u={type:`${l}${r.array??""}`,...o,...a,...c};return gi.set(n,u),u}function It(e,t=[],n="",s=0){const r=e.trim().length;for(let o=0;o<r;o++){const a=e[o],i=e.slice(o+1);switch(a){case",":return s===0?It(i,[...t,n.trim()]):It(i,t,`${n}${a}`,s);case"(":return It(i,t,`${n}${a}`,s+1);case")":return It(i,t,`${n}${a}`,s-1);default:return It(i,t,`${n}${a}`,s)}}if(n==="")return t;if(s!==0)throw new lg({current:n,depth:s});return t.push(n.trim()),t}function Qf(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Wf.test(e)||Vf.test(e)}const yg=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function vg(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Wf.test(e)||Vf.test(e)||yg.test(e)}function wg(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function tc(e){const t={},n=e.length;for(let a=0;a<n;a++){const i=e[a];if(!Ma(i))continue;const l=jb(i);if(!l)throw new yr({signature:i,type:"struct"});const c=l.properties.split(";"),u=[],f=c.length;for(let p=0;p<f;p++){const g=c[p].trim();if(!g)continue;const b=zn(g,{type:"struct"});u.push(b)}if(!u.length)throw new ag({signature:i});t[l.name]=u}const s={},r=Object.entries(t),o=r.length;for(let a=0;a<o;a++){const[i,l]=r[a];s[i]=Xf(l,t)}return s}const xg=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Xf(e,t,n=new Set){const s=[],r=e.length;for(let o=0;o<r;o++){const a=e[o];if(Hf.test(a.type))s.push(a);else{const l=Hn(xg,a.type);if(!(l!=null&&l.type))throw new rg({abiParameter:a});const{array:c,type:u}=l;if(u in t){if(n.has(u))throw new ig({type:u});s.push({...a,type:`tuple${c??""}`,components:Xf(t[u]??[],t,new Set([...n,u]))})}else if(Qf(u))s.push(a);else throw new Jb({type:u})}}return s}function e0(e){const t=tc(e),n=[],s=e.length;for(let r=0;r<s;r++){const o=e[r];Ma(o)||n.push(tl(o,t))}return n}function Pu(e){let t;if(typeof e=="string")t=tl(e);else{const n=tc(e),s=e.length;for(let r=0;r<s;r++){const o=e[r];if(!Ma(o)){t=tl(o,n);break}}}if(!t)throw new Yb({signature:e});return t}function Bu(e){const t=[];if(typeof e=="string"){const n=It(e),s=n.length;for(let r=0;r<s;r++)t.push(zn(n[r],{modifiers:Au}))}else{const n=tc(e),s=e.length;for(let r=0;r<s;r++){const o=e[r];if(Ma(o))continue;const a=It(o),i=a.length;for(let l=0;l<i;l++)t.push(zn(a[l],{modifiers:Au,structs:n}))}}if(t.length===0)throw new Xb({params:e});return t}function pe(e,t,n){const s=e[t.name];if(typeof s=="function")return s;const r=e[n];return typeof r=="function"?r:o=>t(e,o)}function rn(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Ig(e.type);return`${e.name}(${Oa(e.inputs,{includeName:t})})`}function Oa(e,{includeName:t=!1}={}){return e?e.map(n=>$g(n,{includeName:t})).join(t?", ":","):""}function $g(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Oa(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function on(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function We(e){return on(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const t0="2.37.5";let Er={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${t0}`},H=class nl extends Error{constructor(t,n={}){var i;const s=(()=>{var l;return n.cause instanceof nl?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),r=n.cause instanceof nl&&n.cause.docsPath||n.docsPath,o=(i=Er.getDocsUrl)==null?void 0:i.call(Er,{...n,docsPath:r}),a=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...s?[`Details: ${s}`]:[],...Er.version?[`Version: ${Er.version}`]:[]].join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=s,this.docsPath=r,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=t0}walk(t){return n0(this,t)}};function n0(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?n0(e.cause,t):t?null:e}class kg extends H{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class Su extends H{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class s0 extends H{constructor({data:t,params:n,size:s}){super([`Data size of ${s} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Oa(n,{includeName:!0})})`,`Data:   ${t} (${s} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=s}}class ko extends H{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class Tg extends H{constructor({expectedLength:t,givenLength:n,type:s}){super([`ABI encoding array length mismatch for type ${s}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class Cg extends H{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${We(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class r0 extends H{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class _g extends H{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Iu extends H{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class o0 extends H{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class Eg extends H{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class a0 extends H{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Nu extends H{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class ir extends H{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class i0 extends H{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class Ag extends H{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class Pg extends H{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${rn(t.abiItem)}\`, and`,`\`${n.type}\` in \`${rn(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let l0=class extends H{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class Zr extends H{constructor({abiItem:t,data:n,params:s,size:r}){super([`Data size of ${r} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Oa(s,{includeName:!0})})`,`Data:   ${n} (${r} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=s,this.size=r}}class Ra extends H{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${rn(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Bg extends H{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Sg extends H{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let c0=class extends H{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class Ig extends H{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class Ng extends H{constructor(t){super(`Type "${t}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}class Mg extends H{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let u0=class extends H{constructor({offset:t,position:n,size:s}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${s}).`,{name:"SliceOffsetOutOfBoundsError"})}},d0=class extends H{constructor({size:t,targetSize:n,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class Mu extends H{constructor({size:t,targetSize:n,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} is expected to be ${n} ${s} long, but is ${t} ${s} long.`,{name:"InvalidBytesLengthError"})}}function On(e,{dir:t,size:n=32}={}){return typeof e=="string"?ts(e,{dir:t,size:n}):Og(e,{dir:t,size:n})}function ts(e,{dir:t,size:n=32}={}){if(n===null)return e;const s=e.replace("0x","");if(s.length>n*2)throw new d0({size:Math.ceil(s.length/2),targetSize:n,type:"hex"});return`0x${s[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function Og(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new d0({size:e.length,targetSize:n,type:"bytes"});const s=new Uint8Array(n);for(let r=0;r<n;r++){const o=t==="right";s[o?r:n-r-1]=e[o?r:e.length-r-1]}return s}let f0=class extends H{constructor({max:t,min:n,signed:s,size:r,value:o}){super(`Number "${o}" is not in safe ${r?`${r*8}-bit ${s?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},Rg=class extends H{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class Fg extends H{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Lg=class extends H{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function Gt(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,s=0;for(let r=0;r<n.length-1&&n[t==="left"?r:n.length-r-1].toString()==="0";r++)s++;return n=t==="left"?n.slice(s):n.slice(0,n.length-s),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function dn(e,{size:t}){if(We(e)>t)throw new Lg({givenSize:We(e),maxSize:t})}function Ot(e,t={}){const{signed:n}=t;t.size&&dn(e,{size:t.size});const s=BigInt(e);if(!n)return s;const r=(e.length-2)/2,o=(1n<<BigInt(r)*8n-1n)-1n;return s<=o?s:s-BigInt(`0x${"f".padStart(r*2,"f")}`)-1n}function Ug(e,t={}){let n=e;if(t.size&&(dn(n,{size:t.size}),n=Gt(n)),Gt(n)==="0x00")return!1;if(Gt(n)==="0x01")return!0;throw new Fg(n)}function Kt(e,t={}){return Number(Ot(e,t))}const Dg=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Zt(e,t={}){return typeof e=="number"||typeof e=="bigint"?ne(e,t):typeof e=="string"?xs(e,t):typeof e=="boolean"?nc(e,t):Je(e,t)}function nc(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(dn(n,{size:t.size}),On(n,{size:t.size})):n}function Je(e,t={}){let n="";for(let r=0;r<e.length;r++)n+=Dg[e[r]];const s=`0x${n}`;return typeof t.size=="number"?(dn(s,{size:t.size}),On(s,{dir:"right",size:t.size})):s}function ne(e,t={}){const{signed:n,size:s}=t,r=BigInt(e);let o;s?n?o=(1n<<BigInt(s)*8n-1n)-1n:o=2n**(BigInt(s)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof o=="bigint"&&n?-o-1n:0;if(o&&r>o||r<a){const l=typeof e=="bigint"?"n":"";throw new f0({max:o?`${o}${l}`:void 0,min:`${a}${l}`,signed:n,size:s,value:`${e}${l}`})}const i=`0x${(n&&r<0?(1n<<BigInt(s*8))+BigInt(r):r).toString(16)}`;return s?On(i,{size:s}):i}const zg=new TextEncoder;function xs(e,t={}){const n=zg.encode(e);return Je(n,t)}const jg=new TextEncoder;function vr(e,t={}){return typeof e=="number"||typeof e=="bigint"?Vg(e,t):typeof e=="boolean"?Wg(e,t):on(e)?an(e,t):bs(e,t)}function Wg(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(dn(n,{size:t.size}),On(n,{size:t.size})):n}const Cn={zero:48,nine:57,A:65,F:70,a:97,f:102};function Ou(e){if(e>=Cn.zero&&e<=Cn.nine)return e-Cn.zero;if(e>=Cn.A&&e<=Cn.F)return e-(Cn.A-10);if(e>=Cn.a&&e<=Cn.f)return e-(Cn.a-10)}function an(e,t={}){let n=e;t.size&&(dn(n,{size:t.size}),n=On(n,{dir:"right",size:t.size}));let s=n.slice(2);s.length%2&&(s=`0${s}`);const r=s.length/2,o=new Uint8Array(r);for(let a=0,i=0;a<r;a++){const l=Ou(s.charCodeAt(i++)),c=Ou(s.charCodeAt(i++));if(l===void 0||c===void 0)throw new H(`Invalid byte sequence ("${s[i-2]}${s[i-1]}" in "${s}").`);o[a]=l*16+c}return o}function Vg(e,t){const n=ne(e,t);return an(n)}function bs(e,t={}){const n=jg.encode(e);return typeof t.size=="number"?(dn(n,{size:t.size}),On(n,{dir:"right",size:t.size})):n}const Wo=BigInt(2**32-1),Ru=BigInt(32);function Hg(e,t=!1){return t?{h:Number(e&Wo),l:Number(e>>Ru&Wo)}:{h:Number(e>>Ru&Wo)|0,l:Number(e&Wo)|0}}function Gg(e,t=!1){const n=e.length;let s=new Uint32Array(n),r=new Uint32Array(n);for(let o=0;o<n;o++){const{h:a,l:i}=Hg(e[o],t);[s[o],r[o]]=[a,i]}return[s,r]}const qg=(e,t,n)=>e<<n|t>>>32-n,Kg=(e,t,n)=>t<<n|e>>>32-n,Zg=(e,t,n)=>t<<n-32|e>>>64-n,Yg=(e,t,n)=>e<<n-32|t>>>64-n,Ds=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Jg(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Yr(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function $s(e,...t){if(!Jg(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Qg(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Yr(e.outputLen),Yr(e.blockLen)}function lr(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function p0(e,t){$s(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Xg(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function cr(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function yi(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function pn(e,t){return e<<32-t|e>>>t}const ey=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function ty(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function ny(e){for(let t=0;t<e.length;t++)e[t]=ty(e[t]);return e}const Fu=ey?e=>e:ny;function sy(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Fa(e){return typeof e=="string"&&(e=sy(e)),$s(e),e}function ry(...e){let t=0;for(let s=0;s<e.length;s++){const r=e[s];$s(r),t+=r.length}const n=new Uint8Array(t);for(let s=0,r=0;s<e.length;s++){const o=e[s];n.set(o,r),r+=o.length}return n}class sc{}function h0(e){const t=s=>e().update(Fa(s)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function oy(e=32){if(Ds&&typeof Ds.getRandomValues=="function")return Ds.getRandomValues(new Uint8Array(e));if(Ds&&typeof Ds.randomBytes=="function")return Uint8Array.from(Ds.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const ay=BigInt(0),Ar=BigInt(1),iy=BigInt(2),ly=BigInt(7),cy=BigInt(256),uy=BigInt(113),m0=[],b0=[],g0=[];for(let e=0,t=Ar,n=1,s=0;e<24;e++){[n,s]=[s,(2*n+3*s)%5],m0.push(2*(5*s+n)),b0.push((e+1)*(e+2)/2%64);let r=ay;for(let o=0;o<7;o++)t=(t<<Ar^(t>>ly)*uy)%cy,t&iy&&(r^=Ar<<(Ar<<BigInt(o))-Ar);g0.push(r)}const y0=Gg(g0,!0),dy=y0[0],fy=y0[1],Lu=(e,t,n)=>n>32?Zg(e,t,n):qg(e,t,n),Uu=(e,t,n)=>n>32?Yg(e,t,n):Kg(e,t,n);function py(e,t=24){const n=new Uint32Array(10);for(let s=24-t;s<24;s++){for(let a=0;a<10;a++)n[a]=e[a]^e[a+10]^e[a+20]^e[a+30]^e[a+40];for(let a=0;a<10;a+=2){const i=(a+8)%10,l=(a+2)%10,c=n[l],u=n[l+1],f=Lu(c,u,1)^n[i],p=Uu(c,u,1)^n[i+1];for(let h=0;h<50;h+=10)e[a+h]^=f,e[a+h+1]^=p}let r=e[2],o=e[3];for(let a=0;a<24;a++){const i=b0[a],l=Lu(r,o,i),c=Uu(r,o,i),u=m0[a];r=e[u],o=e[u+1],e[u]=l,e[u+1]=c}for(let a=0;a<50;a+=10){for(let i=0;i<10;i++)n[i]=e[a+i];for(let i=0;i<10;i++)e[a+i]^=~n[(i+2)%10]&n[(i+4)%10]}e[0]^=dy[s],e[1]^=fy[s]}cr(n)}class rc extends sc{constructor(t,n,s,r=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=s,this.enableXOF=r,this.rounds=o,Yr(s),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Xg(this.state)}clone(){return this._cloneInto()}keccak(){Fu(this.state32),py(this.state32,this.rounds),Fu(this.state32),this.posOut=0,this.pos=0}update(t){lr(this),t=Fa(t),$s(t);const{blockLen:n,state:s}=this,r=t.length;for(let o=0;o<r;){const a=Math.min(n-this.pos,r-o);for(let i=0;i<a;i++)s[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:s,blockLen:r}=this;t[s]^=n,n&128&&s===r-1&&this.keccak(),t[r-1]^=128,this.keccak()}writeInto(t){lr(this,!1),$s(t),this.finish();const n=this.state,{blockLen:s}=this;for(let r=0,o=t.length;r<o;){this.posOut>=s&&this.keccak();const a=Math.min(s-this.posOut,o-r);t.set(n.subarray(this.posOut,this.posOut+a),r),this.posOut+=a,r+=a}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Yr(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(p0(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,cr(this.state)}_cloneInto(t){const{blockLen:n,suffix:s,outputLen:r,rounds:o,enableXOF:a}=this;return t||(t=new rc(n,s,r,a,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=s,t.outputLen=r,t.enableXOF=a,t.destroyed=this.destroyed,t}}const hy=(e,t,n)=>h0(()=>new rc(t,e,n)),v0=hy(1,136,256/8);function Ye(e,t){const n=t||"hex",s=v0(on(e,{strict:!1})?vr(e):e);return n==="bytes"?s:Zt(s)}const my=e=>Ye(vr(e));function by(e){return my(e)}function gy(e){let t=!0,n="",s=0,r="",o=!1;for(let a=0;a<e.length;a++){const i=e[a];if(["(",")",","].includes(i)&&(t=!0),i==="("&&s++,i===")"&&s--,!!t){if(s===0){if(i===" "&&["event","function",""].includes(r))r="";else if(r+=i,i===")"){o=!0;break}continue}if(i===" "){e[a-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}r+=i,n+=i}}if(!o)throw new H("Unable to normalize signature.");return r}const yy=e=>{const t=typeof e=="string"?e:pa(e);return gy(t)};function w0(e){return by(yy(e))}const La=w0;let bt=class extends H{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Ua=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const s=this.keys().next().value;s&&this.delete(s)}return this}};const vi=new Ua(8192);function To(e,t){if(vi.has(`${e}.${t}`))return vi.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),s=Ye(bs(n),"bytes"),r=n.split("");for(let a=0;a<40;a+=2)s[a>>1]>>4>=8&&r[a]&&(r[a]=r[a].toUpperCase()),(s[a>>1]&15)>=8&&r[a+1]&&(r[a+1]=r[a+1].toUpperCase());const o=`0x${r.join("")}`;return vi.set(`${e}.${t}`,o),o}function De(e,t){if(!Qe(e,{strict:!1}))throw new bt({address:e});return To(e,t)}const vy=/^0x[a-fA-F0-9]{40}$/,wi=new Ua(8192);function Qe(e,t){const{strict:n=!0}=t??{},s=`${e}.${n}`;if(wi.has(s))return wi.get(s);const r=vy.test(e)?e.toLowerCase()===e?!0:n?To(e)===e:!0:!1;return wi.set(s,r),r}function Yt(e){return typeof e[0]=="string"?Jt(e):wy(e)}function wy(e){let t=0;for(const r of e)t+=r.length;const n=new Uint8Array(t);let s=0;for(const r of e)n.set(r,s),s+=r.length;return n}function Jt(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function ks(e,t,n,{strict:s}={}){return on(e,{strict:!1})?sl(e,t,n,{strict:s}):k0(e,t,n,{strict:s})}function x0(e,t){if(typeof t=="number"&&t>0&&t>We(e)-1)throw new u0({offset:t,position:"start",size:We(e)})}function $0(e,t,n){if(typeof t=="number"&&typeof n=="number"&&We(e)!==n-t)throw new u0({offset:n,position:"end",size:We(e)})}function k0(e,t,n,{strict:s}={}){x0(e,t);const r=e.slice(t,n);return s&&$0(r,t,n),r}function sl(e,t,n,{strict:s}={}){x0(e,t);const r=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&$0(r,t,n),r}const xy=/^(.*)\[([0-9]*)\]$/,T0=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,oc=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Is(e,t){if(e.length!==t.length)throw new r0({expectedLength:e.length,givenLength:t.length});const n=$y({params:e,values:t}),s=ic(n);return s.length===0?"0x":s}function $y({params:e,values:t}){const n=[];for(let s=0;s<e.length;s++)n.push(ac({param:e[s],value:t[s]}));return n}function ac({param:e,value:t}){const n=lc(e.type);if(n){const[s,r]=n;return Ty(t,{length:s,param:{...e,type:r}})}if(e.type==="tuple")return Py(t,{param:e});if(e.type==="address")return ky(t);if(e.type==="bool")return _y(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const s=e.type.startsWith("int"),[,,r="256"]=oc.exec(e.type)??[];return Ey(t,{signed:s,size:Number(r)})}if(e.type.startsWith("bytes"))return Cy(t,{param:e});if(e.type==="string")return Ay(t);throw new Bg(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function ic(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:a,encoded:i}=e[o];a?t+=32:t+=We(i)}const n=[],s=[];let r=0;for(let o=0;o<e.length;o++){const{dynamic:a,encoded:i}=e[o];a?(n.push(ne(t+r,{size:32})),s.push(i),r+=We(i)):n.push(i)}return Yt([...n,...s])}function ky(e){if(!Qe(e))throw new bt({address:e});return{dynamic:!1,encoded:ts(e.toLowerCase())}}function Ty(e,{length:t,param:n}){const s=t===null;if(!Array.isArray(e))throw new c0(e);if(!s&&e.length!==t)throw new Tg({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let r=!1;const o=[];for(let a=0;a<e.length;a++){const i=ac({param:n,value:e[a]});i.dynamic&&(r=!0),o.push(i)}if(s||r){const a=ic(o);if(s){const i=ne(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?Yt([i,a]):i}}if(r)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:Yt(o.map(({encoded:a})=>a))}}function Cy(e,{param:t}){const[,n]=t.type.split("bytes"),s=We(e);if(!n){let r=e;return s%32!==0&&(r=ts(r,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:Yt([ts(ne(s,{size:32})),r])}}if(s!==Number.parseInt(n,10))throw new Cg({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:ts(e,{dir:"right"})}}function _y(e){if(typeof e!="boolean")throw new H(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:ts(nc(e))}}function Ey(e,{signed:t,size:n=256}){if(typeof n=="number"){const s=2n**(BigInt(n)-(t?1n:0n))-1n,r=t?-s-1n:0n;if(e>s||e<r)throw new f0({max:s.toString(),min:r.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:ne(e,{size:32,signed:t})}}function Ay(e){const t=xs(e),n=Math.ceil(We(t)/32),s=[];for(let r=0;r<n;r++)s.push(ts(ks(t,r*32,(r+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Yt([ts(ne(We(t),{size:32})),...s])}}function Py(e,{param:t}){let n=!1;const s=[];for(let r=0;r<t.components.length;r++){const o=t.components[r],a=Array.isArray(e)?r:o.name,i=ac({param:o,value:e[a]});s.push(i),i.dynamic&&(n=!0)}return{dynamic:n,encoded:n?ic(s):Yt(s.map(({encoded:r})=>r))}}function lc(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const Co=e=>ks(w0(e),0,4);function Ns(e){const{abi:t,args:n=[],name:s}=e,r=on(s,{strict:!1}),o=t.filter(i=>r?i.type==="function"?Co(i)===s:i.type==="event"?La(i)===s:!1:"name"in i&&i.name===s);if(o.length===0)return;if(o.length===1)return o[0];let a;for(const i of o){if(!("inputs"in i))continue;if(!n||n.length===0){if(!i.inputs||i.inputs.length===0)return i;continue}if(!i.inputs||i.inputs.length===0||i.inputs.length!==n.length)continue;if(n.every((c,u)=>{const f="inputs"in i&&i.inputs[u];return f?rl(c,f):!1})){if(a&&"inputs"in a&&a.inputs){const c=C0(i.inputs,a.inputs,n);if(c)throw new Pg({abiItem:i,type:c[0]},{abiItem:a,type:c[1]})}a=i}}return a||o[0]}function rl(e,t){const n=typeof e,s=t.type;switch(s){case"address":return Qe(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return s==="tuple"&&"components"in t?Object.values(t.components).every((r,o)=>rl(Object.values(e)[o],r)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(s)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(s)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(s)?Array.isArray(e)&&e.every(r=>rl(r,{...t,type:s.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function C0(e,t,n){for(const s in e){const r=e[s],o=t[s];if(r.type==="tuple"&&o.type==="tuple"&&"components"in r&&"components"in o)return C0(r.components,o.components,n[s]);const a=[r.type,o.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?Qe(n[s],{strict:!1}):a.includes("address")&&a.includes("bytes")?Qe(n[s],{strict:!1}):!1)return a}}const Du="/docs/contract/encodeEventTopics";function _o(e){var l;const{abi:t,eventName:n,args:s}=e;let r=t[0];if(n){const c=Ns({abi:t,name:n});if(!c)throw new Nu(n,{docsPath:Du});r=c}if(r.type!=="event")throw new Nu(void 0,{docsPath:Du});const o=rn(r),a=La(o);let i=[];if(s&&"inputs"in r){const c=(l=r.inputs)==null?void 0:l.filter(f=>"indexed"in f&&f.indexed),u=Array.isArray(s)?s:Object.values(s).length>0?(c==null?void 0:c.map(f=>s[f.name]))??[]:[];u.length>0&&(i=(c==null?void 0:c.map((f,p)=>Array.isArray(u[p])?u[p].map((h,g)=>zu({param:f,value:u[p][g]})):typeof u[p]<"u"&&u[p]!==null?zu({param:f,value:u[p]}):null))??[])}return[a,...i]}function zu({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return Ye(vr(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Mg(e.type);return Is([e],[t])}function Da(e,{method:t}){var s,r;const n={};return e.transport.type==="fallback"&&((r=(s=e.transport).onResponse)==null||r.call(s,({method:o,response:a,status:i,transport:l})=>{i==="success"&&t===o&&(n[a]=l.request)})),o=>n[o]||e.request}async function _0(e,t){const{address:n,abi:s,args:r,eventName:o,fromBlock:a,strict:i,toBlock:l}=t,c=Da(e,{method:"eth_newFilter"}),u=o?_o({abi:s,args:r,eventName:o}):void 0,f=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof a=="bigint"?ne(a):a,toBlock:typeof l=="bigint"?ne(l):l,topics:u}]});return{abi:s,args:r,eventName:o,id:f,request:c(f),strict:!!i,type:"event"}}function Ke(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const ju="/docs/contract/encodeFunctionData";function By(e){const{abi:t,args:n,functionName:s}=e;let r=t[0];if(s){const o=Ns({abi:t,args:n,name:s});if(!o)throw new ir(s,{docsPath:ju});r=o}if(r.type!=="function")throw new ir(void 0,{docsPath:ju});return{abi:[r],functionName:Co(rn(r))}}function $t(e){const{args:t}=e,{abi:n,functionName:s}=(()=>{var i;return e.abi.length===1&&((i=e.functionName)!=null&&i.startsWith("0x"))?e:By(e)})(),r=n[0],o=s,a="inputs"in r&&r.inputs?Is(r.inputs,t??[]):void 0;return Jt([o,a??"0x"])}const Sy={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},E0={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Iy={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let Wu=class extends H{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},A0=class extends H{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},Ny=class extends H{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const My={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Ny({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new A0({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Wu({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Wu({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function cc(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(My);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Oy(e,t={}){typeof t.size<"u"&&dn(e,{size:t.size});const n=Je(e,t);return Ot(n,t)}function Ry(e,t={}){let n=e;if(typeof t.size<"u"&&(dn(n,{size:t.size}),n=Gt(n)),n.length>1||n[0]>1)throw new Rg(n);return!!n[0]}function Rn(e,t={}){typeof t.size<"u"&&dn(e,{size:t.size});const n=Je(e,t);return Kt(n,t)}function Fy(e,t={}){let n=e;return typeof t.size<"u"&&(dn(n,{size:t.size}),n=Gt(n,{dir:"right"})),new TextDecoder().decode(n)}function Eo(e,t){const n=typeof t=="string"?an(t):t,s=cc(n);if(We(n)===0&&e.length>0)throw new ko;if(We(t)&&We(t)<32)throw new s0({data:typeof t=="string"?t:Je(t),params:e,size:We(t)});let r=0;const o=[];for(let a=0;a<e.length;++a){const i=e[a];s.setPosition(r);const[l,c]=tr(s,i,{staticPosition:0});r+=c,o.push(l)}return o}function tr(e,t,{staticPosition:n}){const s=lc(t.type);if(s){const[r,o]=s;return Uy(e,{...t,type:o},{length:r,staticPosition:n})}if(t.type==="tuple")return Wy(e,t,{staticPosition:n});if(t.type==="address")return Ly(e);if(t.type==="bool")return Dy(e);if(t.type.startsWith("bytes"))return zy(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return jy(e,t);if(t.type==="string")return Vy(e,{staticPosition:n});throw new Sg(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Vu=32,ol=32;function Ly(e){const t=e.readBytes(32);return[To(Je(k0(t,-20))),32]}function Uy(e,t,{length:n,staticPosition:s}){if(!n){const a=Rn(e.readBytes(ol)),i=s+a,l=i+Vu;e.setPosition(i);const c=Rn(e.readBytes(Vu)),u=Jr(t);let f=0;const p=[];for(let h=0;h<c;++h){e.setPosition(l+(u?h*32:f));const[g,b]=tr(e,t,{staticPosition:l});f+=b,p.push(g)}return e.setPosition(s+32),[p,32]}if(Jr(t)){const a=Rn(e.readBytes(ol)),i=s+a,l=[];for(let c=0;c<n;++c){e.setPosition(i+c*32);const[u]=tr(e,t,{staticPosition:i});l.push(u)}return e.setPosition(s+32),[l,32]}let r=0;const o=[];for(let a=0;a<n;++a){const[i,l]=tr(e,t,{staticPosition:s+r});r+=l,o.push(i)}return[o,r]}function Dy(e){return[Ry(e.readBytes(32),{size:32}),32]}function zy(e,t,{staticPosition:n}){const[s,r]=t.type.split("bytes");if(!r){const a=Rn(e.readBytes(32));e.setPosition(n+a);const i=Rn(e.readBytes(32));if(i===0)return e.setPosition(n+32),["0x",32];const l=e.readBytes(i);return e.setPosition(n+32),[Je(l),32]}return[Je(e.readBytes(Number.parseInt(r,10),32)),32]}function jy(e,t){const n=t.type.startsWith("int"),s=Number.parseInt(t.type.split("int")[1]||"256",10),r=e.readBytes(32);return[s>48?Oy(r,{signed:n}):Rn(r,{signed:n}),32]}function Wy(e,t,{staticPosition:n}){const s=t.components.length===0||t.components.some(({name:a})=>!a),r=s?[]:{};let o=0;if(Jr(t)){const a=Rn(e.readBytes(ol)),i=n+a;for(let l=0;l<t.components.length;++l){const c=t.components[l];e.setPosition(i+o);const[u,f]=tr(e,c,{staticPosition:i});o+=f,r[s?l:c==null?void 0:c.name]=u}return e.setPosition(n+32),[r,32]}for(let a=0;a<t.components.length;++a){const i=t.components[a],[l,c]=tr(e,i,{staticPosition:n});r[s?a:i==null?void 0:i.name]=l,o+=c}return[r,o]}function Vy(e,{staticPosition:t}){const n=Rn(e.readBytes(32)),s=t+n;e.setPosition(s);const r=Rn(e.readBytes(32));if(r===0)return e.setPosition(t+32),["",32];const o=e.readBytes(r,32),a=Fy(Gt(o));return e.setPosition(t+32),[a,32]}function Jr(e){var s;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(s=e.components)==null?void 0:s.some(Jr);const n=lc(e.type);return!!(n&&Jr({...e,type:n[1]}))}function Hy(e){const{abi:t,data:n}=e,s=ks(n,0,4);if(s==="0x")throw new ko;const o=[...t||[],E0,Iy].find(a=>a.type==="error"&&s===Co(rn(a)));if(!o)throw new o0(s,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?Eo(o.inputs,ks(n,4)):void 0,errorName:o.name}}const et=(e,t,n)=>JSON.stringify(e,(s,r)=>typeof r=="bigint"?r.toString():r,n);function P0({abiItem:e,args:t,includeFunctionName:n=!0,includeName:s=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((r,o)=>`${s&&r.name?`${r.name}: `:""}${typeof t[o]=="object"?et(t[o]):t[o]}`).join(", ")})`}const B0={gwei:9,wei:18},Gy={ether:-9,wei:9};function we(e,t){let n=e.toString();const s=n.startsWith("-");s&&(n=n.slice(1)),n=n.padStart(t,"0");let[r,o]=[n.slice(0,n.length-t),n.slice(n.length-t)];return o=o.replace(/(0+)$/,""),`${s?"-":""}${r||"0"}${o?`.${o}`:""}`}function $e(e,t="wei"){return we(e,B0[t])}function Et(e,t="wei"){return we(e,Gy[t])}class qy extends H{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Ky extends H{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Hu(e){return e.reduce((t,{slot:n,value:s})=>`${t}        ${n}: ${s}
`,"")}function Zy(e){return e.reduce((t,{address:n,...s})=>{let r=`${t}    ${n}:
`;return s.nonce&&(r+=`      nonce: ${s.nonce}
`),s.balance&&(r+=`      balance: ${s.balance}
`),s.code&&(r+=`      code: ${s.code}
`),s.state&&(r+=`      state:
`,r+=Hu(s.state)),s.stateDiff&&(r+=`      stateDiff:
`,r+=Hu(s.stateDiff)),r},`  State Override:
`).slice(0,-1)}function Ao(e){const t=Object.entries(e).map(([s,r])=>r===void 0||r===!1?null:[s,r]).filter(Boolean),n=t.reduce((s,[r])=>Math.max(s,r.length),0);return t.map(([s,r])=>`  ${`${s}:`.padEnd(n+1)}  ${r}`).join(`
`)}class Yy extends H{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class Jy extends H{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class Qy extends H{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Ao(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Xy extends H{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class e6 extends H{constructor(t,{account:n,docsPath:s,chain:r,data:o,gas:a,gasPrice:i,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:f,value:p}){var g;const h=Ao({chain:r&&`${r==null?void 0:r.name} (id: ${r==null?void 0:r.id})`,from:n==null?void 0:n.address,to:f,value:typeof p<"u"&&`${$e(p)} ${((g=r==null?void 0:r.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof i<"u"&&`${Et(i)} gwei`,maxFeePerGas:typeof l<"u"&&`${Et(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Et(c)} gwei`,nonce:u});super(t.shortMessage,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class S0 extends H{constructor({blockHash:t,blockNumber:n,blockTag:s,hash:r,index:o}){let a="Transaction";s&&o!==void 0&&(a=`Transaction at block time "${s}" at index "${o}"`),t&&o!==void 0&&(a=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(a=`Transaction at block number "${n}" at index "${o}"`),r&&(a=`Transaction with hash "${r}"`),super(`${a} could not be found.`,{name:"TransactionNotFoundError"})}}class I0 extends H{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class t6 extends H{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const n6=e=>e,uc=e=>e;class N0 extends H{constructor(t,{account:n,docsPath:s,chain:r,data:o,gas:a,gasPrice:i,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:f,value:p,stateOverride:h}){var T;const g=n?Ke(n):void 0;let b=Ao({from:g==null?void 0:g.address,to:f,value:typeof p<"u"&&`${$e(p)} ${((T=r==null?void 0:r.nativeCurrency)==null?void 0:T.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof i<"u"&&`${Et(i)} gwei`,maxFeePerGas:typeof l<"u"&&`${Et(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Et(c)} gwei`,nonce:u});h&&(b+=`
${Zy(h)}`),super(t.shortMessage,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",b].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class M0 extends H{constructor(t,{abi:n,args:s,contractAddress:r,docsPath:o,functionName:a,sender:i}){const l=Ns({abi:n,args:s,name:a}),c=l?P0({abiItem:l,args:s,includeFunctionName:!1,includeName:!1}):void 0,u=l?rn(l,{includeName:!0}):void 0,f=Ao({address:r&&n6(r),function:u,args:c&&c!=="()"&&`${[...Array((a==null?void 0:a.length)??0).keys()].map(()=>" ").join("")}${c}`,sender:i});super(t.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],f&&"Contract Call:",f].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=s,this.cause=t,this.contractAddress=r,this.functionName=a,this.sender=i}}class al extends H{constructor({abi:t,data:n,functionName:s,message:r}){let o,a,i,l;if(n&&n!=="0x")try{a=Hy({abi:t,data:n});const{abiItem:u,errorName:f,args:p}=a;if(f==="Error")l=p[0];else if(f==="Panic"){const[h]=p;l=Sy[h]}else{const h=u?rn(u,{includeName:!0}):void 0,g=u&&p?P0({abiItem:u,args:p,includeFunctionName:!1,includeName:!1}):void 0;i=[h?`Error: ${h}`:"",g&&g!=="()"?`       ${[...Array((f==null?void 0:f.length)??0).keys()].map(()=>" ").join("")}${g}`:""]}}catch(u){o=u}else r&&(l=r);let c;o instanceof o0&&(c=o.signature,i=[`Unable to decode signature "${c}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${c}.`]),super(l&&l!=="execution reverted"||c?[`The contract function "${s}" reverted with the following ${c?"signature":"reason"}:`,l||c].join(`
`):`The contract function "${s}" reverted.`,{cause:o,metaMessages:i,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.raw=n,this.reason=l,this.signature=c}}class s6 extends H{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class r6 extends H{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class za extends H{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class Wr extends H{constructor({body:t,cause:n,details:s,headers:r,status:o,url:a}){super("HTTP request failed.",{cause:n,details:s,metaMessages:[o&&`Status: ${o}`,`URL: ${uc(a)}`,t&&`Request body: ${et(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=r,this.status=o,this.url=a}}class dc extends H{constructor({body:t,error:n,url:s}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${uc(s)}`,`Request body: ${et(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class Gu extends H{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${uc(n)}`,`Request body: ${et(t)}`],name:"TimeoutError"})}}const o6=-1;class Pt extends H{constructor(t,{code:n,docsPath:s,metaMessages:r,name:o,shortMessage:a}){super(a,{cause:t,docsPath:s,metaMessages:r||(t==null?void 0:t.metaMessages),name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||t.name,this.code=t instanceof dc?t.code:n??o6}}class Lt extends Pt{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Qr extends Pt{constructor(t){super(t,{code:Qr.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Qr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Xr extends Pt{constructor(t){super(t,{code:Xr.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Xr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class eo extends Pt{constructor(t,{method:n}={}){super(t,{code:eo.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(eo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class to extends Pt{constructor(t){super(t,{code:to.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(to,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Ts extends Pt{constructor(t){super(t,{code:Ts.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Ts,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Cs extends Pt{constructor(t){super(t,{code:Cs.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Cs,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class no extends Pt{constructor(t){super(t,{code:no.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(no,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class so extends Pt{constructor(t){super(t,{code:so.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(so,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class ur extends Pt{constructor(t){super(t,{code:ur.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(ur,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class us extends Pt{constructor(t,{method:n}={}){super(t,{code:us.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(us,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class dr extends Pt{constructor(t){super(t,{code:dr.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(dr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class ro extends Pt{constructor(t){super(t,{code:ro.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(ro,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class gs extends Lt{constructor(t){super(t,{code:gs.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(gs,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class oo extends Lt{constructor(t){super(t,{code:oo.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(oo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class ao extends Lt{constructor(t,{method:n}={}){super(t,{code:ao.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(ao,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class io extends Lt{constructor(t){super(t,{code:io.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(io,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class lo extends Lt{constructor(t){super(t,{code:lo.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(lo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class co extends Lt{constructor(t){super(t,{code:co.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(co,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class fr extends Lt{constructor(t){super(t,{code:fr.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(fr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class uo extends Lt{constructor(t){super(t,{code:uo.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(uo,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class fo extends Lt{constructor(t){super(t,{code:fo.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(fo,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class po extends Lt{constructor(t){super(t,{code:po.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(po,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class ho extends Lt{constructor(t){super(t,{code:ho.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(ho,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class mo extends Lt{constructor(t){super(t,{code:mo.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(mo,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class pr extends Lt{constructor(t){super(t,{code:pr.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(pr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class a6 extends Pt{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const i6=3;function _s(e,{abi:t,address:n,args:s,docsPath:r,functionName:o,sender:a}){const i=e instanceof za?e:e instanceof H?e.walk(g=>"data"in g)||e.walk():{},{code:l,data:c,details:u,message:f,shortMessage:p}=i,h=e instanceof ko?new s6({functionName:o}):[i6,Ts.code].includes(l)&&(c||u||f||p)?new al({abi:t,data:typeof c=="object"?c.data:c,functionName:o,message:i instanceof dc?u:p??f}):e;return new M0(h,{abi:t,args:s,contractAddress:n,docsPath:r,functionName:o,sender:a})}function O0(e){const t=Ye(`0x${e.substring(4)}`).substring(26);return To(`0x${t}`)}const l6="modulepreload",c6=function(e){return"/"+e},qu={},R0=function(t,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),i=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=c6(l),l in qu)return;qu[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":l6,c||(f.as="script"),f.crossOrigin="",f.href=l,i&&f.setAttribute("nonce",i),document.head.appendChild(f),c)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(a){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a}return r.then(a=>{for(const i of a||[])i.status==="rejected"&&o(i.reason);return t().catch(o)})};async function u6({hash:e,signature:t}){const n=on(e)?e:Zt(e),{secp256k1:s}=await R0(async()=>{const{secp256k1:a}=await Promise.resolve().then(()=>Gw);return{secp256k1:a}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:c,s:u,v:f,yParity:p}=t,h=Number(p??f),g=Ku(h);return new s.Signature(Ot(c),Ot(u)).addRecoveryBit(g)}const a=on(t)?t:Zt(t);if(We(a)!==65)throw new Error("invalid signature length");const i=Kt(`0x${a.slice(130)}`),l=Ku(i);return s.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Ku(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function F0({hash:e,signature:t}){return O0(await u6({hash:e,signature:t}))}function Es(e,t="hex"){const n=L0(e),s=cc(new Uint8Array(n.length));return n.encode(s),t==="hex"?Je(s.bytes):s.bytes}function L0(e){return Array.isArray(e)?d6(e.map(t=>L0(t))):f6(e)}function d6(e){const t=e.reduce((r,o)=>r+o.length,0),n=U0(t);return{length:t<=55?1+t:1+n+t,encode(r){t<=55?r.pushByte(192+t):(r.pushByte(247+n),n===1?r.pushUint8(t):n===2?r.pushUint16(t):n===3?r.pushUint24(t):r.pushUint32(t));for(const{encode:o}of e)o(r)}}}function f6(e){const t=typeof e=="string"?an(e):e,n=U0(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(r){t.length===1&&t[0]<128?r.pushBytes(t):t.length<=55?(r.pushByte(128+t.length),r.pushBytes(t)):(r.pushByte(183+n),n===1?r.pushUint8(t.length):n===2?r.pushUint16(t.length):n===3?r.pushUint24(t.length):r.pushUint32(t.length),r.pushBytes(t))}}}function U0(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new H("Length is too large.")}function D0(e){const{chainId:t,nonce:n,to:s}=e,r=e.contractAddress??e.address,o=Ye(Jt(["0x05",Es([t?ne(t):"0x",r,n?ne(n):"0x"])]));return s==="bytes"?an(o):o}async function fc(e){const{authorization:t,signature:n}=e;return F0({hash:D0(t),signature:n??t})}class p6 extends H{constructor(t,{account:n,docsPath:s,chain:r,data:o,gas:a,gasPrice:i,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:f,value:p}){var g;const h=Ao({from:n==null?void 0:n.address,to:f,value:typeof p<"u"&&`${$e(p)} ${((g=r==null?void 0:r.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof i<"u"&&`${Et(i)} gwei`,maxFeePerGas:typeof l<"u"&&`${Et(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Et(c)} gwei`,nonce:u});super(t.shortMessage,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class ds extends H{constructor({cause:t,message:n}={}){var r;const s=(r=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:r.replace("execution reverted","");super(`Execution reverted ${s?`with reason: ${s}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(ds,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(ds,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class As extends H{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Et(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(As,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class il extends H{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Et(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(il,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class ll extends H{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(ll,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class cl extends H{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(cl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class ul extends H{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(ul,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class dl extends H{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(dl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class fl extends H{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(fl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class pl extends H{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(pl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class hl extends H{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(hl,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class bo extends H{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:s}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Et(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${s?` = ${Et(s)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(bo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Po extends H{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function ja(e,t){const n=(e.details||"").toLowerCase(),s=e instanceof H?e.walk(r=>(r==null?void 0:r.code)===ds.code):e;return s instanceof H?new ds({cause:e,message:s.details}):ds.nodeMessage.test(n)?new ds({cause:e,message:e.details}):As.nodeMessage.test(n)?new As({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):il.nodeMessage.test(n)?new il({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):ll.nodeMessage.test(n)?new ll({cause:e,nonce:t==null?void 0:t.nonce}):cl.nodeMessage.test(n)?new cl({cause:e,nonce:t==null?void 0:t.nonce}):ul.nodeMessage.test(n)?new ul({cause:e,nonce:t==null?void 0:t.nonce}):dl.nodeMessage.test(n)?new dl({cause:e}):fl.nodeMessage.test(n)?new fl({cause:e,gas:t==null?void 0:t.gas}):pl.nodeMessage.test(n)?new pl({cause:e,gas:t==null?void 0:t.gas}):hl.nodeMessage.test(n)?new hl({cause:e}):bo.nodeMessage.test(n)?new bo({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Po({cause:e})}function h6(e,{docsPath:t,...n}){const s=(()=>{const r=ja(e,n);return r instanceof Po?e:r})();return new p6(s,{docsPath:t,...n})}function Wa(e,{format:t}){if(!t)return{};const n={};function s(o){const a=Object.keys(o);for(const i of a)i in e&&(n[i]=e[i]),o[i]&&typeof o[i]=="object"&&!Array.isArray(o[i])&&s(o[i])}const r=t(e||{});return s(r),n}const m6={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function wr(e){const t={};return typeof e.authorizationList<"u"&&(t.authorizationList=b6(e.authorizationList)),typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(n=>Je(n)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=ne(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=ne(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=ne(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=ne(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=ne(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=ne(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=m6[e.type]),typeof e.value<"u"&&(t.value=ne(e.value)),t}function b6(e){return e.map(t=>({address:t.address,r:t.r?ne(BigInt(t.r)):t.r,s:t.s?ne(BigInt(t.s)):t.s,chainId:ne(t.chainId),nonce:ne(t.nonce),...typeof t.yParity<"u"?{yParity:ne(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:ne(t.v)}:{}}))}function Zu(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:s})=>{if(n.length!==66)throw new Mu({size:n.length,targetSize:66,type:"hex"});if(s.length!==66)throw new Mu({size:s.length,targetSize:66,type:"hex"});return t[n]=s,t},{})}function g6(e){const{balance:t,nonce:n,state:s,stateDiff:r,code:o}=e,a={};if(o!==void 0&&(a.code=o),t!==void 0&&(a.balance=ne(t)),n!==void 0&&(a.nonce=ne(n)),s!==void 0&&(a.state=Zu(s)),r!==void 0){if(a.state)throw new Ky;a.stateDiff=Zu(r)}return a}function pc(e){if(!e)return;const t={};for(const{address:n,...s}of e){if(!Qe(n,{strict:!1}))throw new bt({address:n});if(t[n])throw new qy({address:n});t[n]=g6(s)}return t}const Va=2n**256n-1n;function Ms(e){const{account:t,gasPrice:n,maxFeePerGas:s,maxPriorityFeePerGas:r,to:o}=e,a=t?Ke(t):void 0;if(a&&!Qe(a.address))throw new bt({address:a.address});if(o&&!Qe(o))throw new bt({address:o});if(typeof n<"u"&&(typeof s<"u"||typeof r<"u"))throw new Yy;if(s&&s>Va)throw new As({maxFeePerGas:s});if(r&&s&&r>s)throw new bo({maxFeePerGas:s,maxPriorityFeePerGas:r})}class y6 extends H{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class hc extends H{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class v6 extends H{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Et(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class z0 extends H{constructor({blockHash:t,blockNumber:n}){let s="Block";t&&(s=`Block at hash "${t}"`),n&&(s=`Block at number "${n}"`),super(`${s} could not be found.`,{name:"BlockNotFoundError"})}}const j0={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function W0(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Kt(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Kt(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?j0[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=w6(e.authorizationList)),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}function w6(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function V0(e){const t=(e.transactions??[]).map(n=>typeof n=="string"?n:W0(n));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function yn(e,{blockHash:t,blockNumber:n,blockTag:s=e.experimental_blockTag??"latest",includeTransactions:r}={}){var c,u,f;const o=r??!1,a=n!==void 0?ne(n):void 0;let i=null;if(t?i=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):i=await e.request({method:"eth_getBlockByNumber",params:[a||s,o]},{dedupe:!!a}),!i)throw new z0({blockHash:t,blockNumber:n});return(((f=(u=(c=e.chain)==null?void 0:c.formatters)==null?void 0:u.block)==null?void 0:f.format)||V0)(i)}async function mc(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function x6(e,t){return H0(e,t)}async function H0(e,t){var o,a;const{block:n,chain:s=e.chain,request:r}=t||{};try{const i=((o=s==null?void 0:s.fees)==null?void 0:o.maxPriorityFeePerGas)??((a=s==null?void 0:s.fees)==null?void 0:a.defaultPriorityFee);if(typeof i=="function"){const c=n||await pe(e,yn,"getBlock")({}),u=await i({block:c,client:e,request:r});if(u===null)throw new Error;return u}if(typeof i<"u")return i;const l=await e.request({method:"eth_maxPriorityFeePerGas"});return Ot(l)}catch{const[i,l]=await Promise.all([n?Promise.resolve(n):pe(e,yn,"getBlock")({}),pe(e,mc,"getGasPrice")({})]);if(typeof i.baseFeePerGas!="bigint")throw new hc;const c=l-i.baseFeePerGas;return c<0n?0n:c}}async function $6(e,t){return ml(e,t)}async function ml(e,t){var p,h;const{block:n,chain:s=e.chain,request:r,type:o="eip1559"}=t||{},a=await(async()=>{var g,b;return typeof((g=s==null?void 0:s.fees)==null?void 0:g.baseFeeMultiplier)=="function"?s.fees.baseFeeMultiplier({block:n,client:e,request:r}):((b=s==null?void 0:s.fees)==null?void 0:b.baseFeeMultiplier)??1.2})();if(a<1)throw new y6;const l=10**(((p=a.toString().split(".")[1])==null?void 0:p.length)??0),c=g=>g*BigInt(Math.ceil(a*l))/BigInt(l),u=n||await pe(e,yn,"getBlock")({});if(typeof((h=s==null?void 0:s.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const g=await s.fees.estimateFeesPerGas({block:n,client:e,multiply:c,request:r,type:o});if(g!==null)return g}if(o==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new hc;const g=typeof(r==null?void 0:r.maxPriorityFeePerGas)=="bigint"?r.maxPriorityFeePerGas:await H0(e,{block:u,chain:s,request:r}),b=c(u.baseFeePerGas);return{maxFeePerGas:(r==null?void 0:r.maxFeePerGas)??b+g,maxPriorityFeePerGas:g}}return{gasPrice:(r==null?void 0:r.gasPrice)??c(await pe(e,mc,"getGasPrice")({}))}}async function bc(e,{address:t,blockTag:n="latest",blockNumber:s}){const r=await e.request({method:"eth_getTransactionCount",params:[t,typeof s=="bigint"?ne(s):n]},{dedupe:!!s});return Kt(r)}function gc(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),s=typeof e.blobs[0]=="string"?e.blobs.map(o=>an(o)):e.blobs,r=[];for(const o of s)r.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?r:r.map(o=>Je(o))}function yc(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),s=typeof e.blobs[0]=="string"?e.blobs.map(a=>an(a)):e.blobs,r=typeof e.commitments[0]=="string"?e.commitments.map(a=>an(a)):e.commitments,o=[];for(let a=0;a<s.length;a++){const i=s[a],l=r[a];o.push(Uint8Array.from(t.computeBlobKzgProof(i,l)))}return n==="bytes"?o:o.map(a=>Je(a))}function k6(e,t,n,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,s);const r=BigInt(32),o=BigInt(4294967295),a=Number(n>>r&o),i=Number(n&o),l=s?4:0,c=s?0:4;e.setUint32(t+l,a,s),e.setUint32(t+c,i,s)}function T6(e,t,n){return e&t^~e&n}function C6(e,t,n){return e&t^e&n^t&n}class _6 extends sc{constructor(t,n,s,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=s,this.isLE=r,this.buffer=new Uint8Array(t),this.view=yi(this.buffer)}update(t){lr(this),t=Fa(t),$s(t);const{view:n,buffer:s,blockLen:r}=this,o=t.length;for(let a=0;a<o;){const i=Math.min(r-this.pos,o-a);if(i===r){const l=yi(t);for(;r<=o-a;a+=r)this.process(l,a);continue}s.set(t.subarray(a,a+i),this.pos),this.pos+=i,a+=i,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){lr(this),p0(t,this),this.finished=!0;const{buffer:n,view:s,blockLen:r,isLE:o}=this;let{pos:a}=this;n[a++]=128,cr(this.buffer.subarray(a)),this.padOffset>r-a&&(this.process(s,0),a=0);for(let f=a;f<r;f++)n[f]=0;k6(s,r-8,BigInt(this.length*8),o),this.process(s,0);const i=yi(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)i.setUint32(4*f,u[f],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const s=t.slice(0,n);return this.destroy(),s}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:s,length:r,finished:o,destroyed:a,pos:i}=this;return t.destroyed=a,t.finished=o,t.length=r,t.pos=i,r%n&&t.buffer.set(s),t}clone(){return this._cloneInto()}}const Kn=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),E6=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Zn=new Uint32Array(64);class A6 extends _6{constructor(t=32){super(64,t,8,!1),this.A=Kn[0]|0,this.B=Kn[1]|0,this.C=Kn[2]|0,this.D=Kn[3]|0,this.E=Kn[4]|0,this.F=Kn[5]|0,this.G=Kn[6]|0,this.H=Kn[7]|0}get(){const{A:t,B:n,C:s,D:r,E:o,F:a,G:i,H:l}=this;return[t,n,s,r,o,a,i,l]}set(t,n,s,r,o,a,i,l){this.A=t|0,this.B=n|0,this.C=s|0,this.D=r|0,this.E=o|0,this.F=a|0,this.G=i|0,this.H=l|0}process(t,n){for(let f=0;f<16;f++,n+=4)Zn[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const p=Zn[f-15],h=Zn[f-2],g=pn(p,7)^pn(p,18)^p>>>3,b=pn(h,17)^pn(h,19)^h>>>10;Zn[f]=b+Zn[f-7]+g+Zn[f-16]|0}let{A:s,B:r,C:o,D:a,E:i,F:l,G:c,H:u}=this;for(let f=0;f<64;f++){const p=pn(i,6)^pn(i,11)^pn(i,25),h=u+p+T6(i,l,c)+E6[f]+Zn[f]|0,b=(pn(s,2)^pn(s,13)^pn(s,22))+C6(s,r,o)|0;u=c,c=l,l=i,i=a+h|0,a=o,o=r,r=s,s=h+b|0}s=s+this.A|0,r=r+this.B|0,o=o+this.C|0,a=a+this.D|0,i=i+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(s,r,o,a,i,l,c,u)}roundClean(){cr(Zn)}destroy(){this.set(0,0,0,0,0,0,0,0),cr(this.buffer)}}const G0=h0(()=>new A6),P6=G0;function B6(e,t){return P6(on(e,{strict:!1})?vr(e):e)}function S6(e){const{commitment:t,version:n=1}=e,s=e.to??(typeof t=="string"?"hex":"bytes"),r=B6(t);return r.set([n],0),s==="bytes"?r:Je(r)}function q0(e){const{commitments:t,version:n}=e,s=e.to??(typeof t[0]=="string"?"hex":"bytes"),r=[];for(const o of t)r.push(S6({commitment:o,to:s,version:n}));return r}const Yu=6,K0=32,vc=4096,Z0=K0*vc,Ju=Z0*Yu-1-1*vc*Yu,Y0=1;class I6 extends H{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class J0 extends H{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class N6 extends H{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class M6 extends H{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${Y0}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function O6(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?an(e.data):e.data,s=We(n);if(!s)throw new J0;if(s>Ju)throw new I6({maxSize:Ju,size:s});const r=[];let o=!0,a=0;for(;o;){const i=cc(new Uint8Array(Z0));let l=0;for(;l<vc;){const c=n.slice(a,a+(K0-1));if(i.pushByte(0),i.pushBytes(c),c.length<31){i.pushByte(128),o=!1;break}l++,a+=31}r.push(i)}return t==="bytes"?r.map(i=>i.bytes):r.map(i=>Je(i.bytes))}function Q0(e){const{data:t,kzg:n,to:s}=e,r=e.blobs??O6({data:t,to:s}),o=e.commitments??gc({blobs:r,kzg:n,to:s}),a=e.proofs??yc({blobs:r,commitments:o,kzg:n,to:s}),i=[];for(let l=0;l<r.length;l++)i.push({blob:r[l],commitment:o[l],proof:a[l]});return i}function X0(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Qy({transaction:e})}async function xr(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Kt(t)}const ep=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Qu=new Map;async function Ha(e,t){const{account:n=e.account,blobs:s,chain:r,gas:o,kzg:a,nonce:i,nonceManager:l,parameters:c=ep,type:u}=t,f=n&&Ke(n),p={...t,...f?{from:f==null?void 0:f.address}:{}};let h;async function g(){return h||(h=await pe(e,yn,"getBlock")({blockTag:"latest"}),h)}let b;async function T(){return b||(r?r.id:typeof t.chainId<"u"?t.chainId:(b=await pe(e,xr,"getChainId")({}),b))}if(c.includes("nonce")&&typeof i>"u"&&f)if(l){const $=await T();p.nonce=await l.consume({address:f.address,chainId:$,client:e})}else p.nonce=await pe(e,bc,"getTransactionCount")({address:f.address,blockTag:"pending"});if((c.includes("blobVersionedHashes")||c.includes("sidecars"))&&s&&a){const $=gc({blobs:s,kzg:a});if(c.includes("blobVersionedHashes")){const w=q0({commitments:$,to:"hex"});p.blobVersionedHashes=w}if(c.includes("sidecars")){const w=yc({blobs:s,commitments:$,kzg:a}),y=Q0({blobs:s,commitments:$,proofs:w,to:"hex"});p.sidecars=y}}if(c.includes("chainId")&&(p.chainId=await T()),(c.includes("fees")||c.includes("type"))&&typeof u>"u")try{p.type=X0(p)}catch{let $=Qu.get(e.uid);if(typeof $>"u"){const w=await g();$=typeof(w==null?void 0:w.baseFeePerGas)=="bigint",Qu.set(e.uid,$)}p.type=$?"eip1559":"legacy"}if(c.includes("fees"))if(p.type!=="legacy"&&p.type!=="eip2930"){if(typeof p.maxFeePerGas>"u"||typeof p.maxPriorityFeePerGas>"u"){const $=await g(),{maxFeePerGas:w,maxPriorityFeePerGas:y}=await ml(e,{block:$,chain:r,request:p});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<y)throw new v6({maxPriorityFeePerGas:y});p.maxPriorityFeePerGas=y,p.maxFeePerGas=w}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new hc;if(typeof t.gasPrice>"u"){const $=await g(),{gasPrice:w}=await ml(e,{block:$,chain:r,request:p,type:"legacy"});p.gasPrice=w}}return c.includes("gas")&&typeof o>"u"&&(p.gas=await pe(e,wc,"estimateGas")({...p,account:f&&{address:f.address,type:"json-rpc"}})),Ms(p),delete p.parameters,p}async function tp(e,{address:t,blockNumber:n,blockTag:s=e.experimental_blockTag??"latest"}){const r=typeof n=="bigint"?ne(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,r||s]});return BigInt(o)}async function wc(e,t){var r,o,a;const{account:n=e.account}=t,s=n?Ke(n):void 0;try{let S=function(F){const{block:j,request:z,rpcStateOverride:Z}=F;return e.request({method:"eth_estimateGas",params:Z?[z,j??e.experimental_blockTag??"latest",Z]:j?[z,j]:[z]})};const{accessList:i,authorizationList:l,blobs:c,blobVersionedHashes:u,blockNumber:f,blockTag:p,data:h,gas:g,gasPrice:b,maxFeePerBlobGas:T,maxFeePerGas:$,maxPriorityFeePerGas:w,nonce:y,value:m,stateOverride:v,..._}=await Ha(e,{...t,parameters:(s==null?void 0:s.type)==="local"?void 0:["blobVersionedHashes"]}),B=(typeof f=="bigint"?ne(f):void 0)||p,C=pc(v),k=await(async()=>{if(_.to)return _.to;if(l&&l.length>0)return await fc({authorization:l[0]}).catch(()=>{throw new H("`to` is required. Could not infer from `authorizationList`")})})();Ms(t);const x=(a=(o=(r=e.chain)==null?void 0:r.formatters)==null?void 0:o.transactionRequest)==null?void 0:a.format,D=(x||wr)({...Wa(_,{format:x}),from:s==null?void 0:s.address,accessList:i,authorizationList:l,blobs:c,blobVersionedHashes:u,data:h,gas:g,gasPrice:b,maxFeePerBlobGas:T,maxFeePerGas:$,maxPriorityFeePerGas:w,nonce:y,to:k,value:m});let O=BigInt(await S({block:B,request:D,rpcStateOverride:C}));if(l){const F=await tp(e,{address:D.from}),j=await Promise.all(l.map(async z=>{const{address:Z}=z,K=await S({block:B,request:{authorizationList:void 0,data:h,from:s==null?void 0:s.address,to:Z,value:ne(F)},rpcStateOverride:C}).catch(()=>100000n);return 2n*BigInt(K)}));O+=j.reduce((z,Z)=>z+Z,0n)}return O}catch(i){throw h6(i,{...t,account:s,chain:e.chain})}}async function R6(e,t){const{abi:n,address:s,args:r,functionName:o,dataSuffix:a,...i}=t,l=$t({abi:n,args:r,functionName:o});try{return await pe(e,wc,"estimateGas")({data:`${l}${a?a.replace("0x",""):""}`,to:s,...i})}catch(c){const u=i.account?Ke(i.account):void 0;throw _s(c,{abi:n,address:s,args:r,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:u==null?void 0:u.address})}}function Bo(e,t){if(!Qe(e,{strict:!1}))throw new bt({address:e});if(!Qe(t,{strict:!1}))throw new bt({address:t});return e.toLowerCase()===t.toLowerCase()}const Xu="/docs/contract/decodeEventLog";function xc(e){const{abi:t,data:n,strict:s,topics:r}=e,o=s??!0,[a,...i]=r;if(!a)throw new Eg({docsPath:Xu});const l=t.find(b=>b.type==="event"&&a===La(rn(b)));if(!(l&&"name"in l)||l.type!=="event")throw new a0(a,{docsPath:Xu});const{name:c,inputs:u}=l,f=u==null?void 0:u.some(b=>!("name"in b&&b.name)),p=f?[]:{},h=u.map((b,T)=>[b,T]).filter(([b])=>"indexed"in b&&b.indexed);for(let b=0;b<h.length;b++){const[T,$]=h[b],w=i[b];if(!w)throw new Ra({abiItem:l,param:T});p[f?$:T.name||$]=F6({param:T,value:w})}const g=u.filter(b=>!("indexed"in b&&b.indexed));if(g.length>0){if(n&&n!=="0x")try{const b=Eo(g,n);if(b)if(f)for(let T=0;T<u.length;T++)p[T]=p[T]??b.shift();else for(let T=0;T<g.length;T++)p[g[T].name]=b[T]}catch(b){if(o)throw b instanceof s0||b instanceof A0?new Zr({abiItem:l,data:n,params:g,size:We(n)}):b}else if(o)throw new Zr({abiItem:l,data:"0x",params:g,size:0})}return{eventName:c,args:Object.values(p).length>0?p:void 0}}function F6({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Eo([e],t)||[])[0]}function $c(e){const{abi:t,args:n,logs:s,strict:r=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return s.map(a=>{var i;try{const l=t.find(u=>u.type==="event"&&a.topics[0]===La(u));if(!l)return null;const c=xc({...a,abi:[l],strict:r});return o&&!o.includes(c.eventName)||!L6({args:c.args,inputs:l.inputs,matchArgs:n})?null:{...c,...a}}catch(l){let c,u;if(l instanceof a0)return null;if(l instanceof Zr||l instanceof Ra){if(r)return null;c=l.abiItem.name,u=(i=l.abiItem.inputs)==null?void 0:i.some(f=>!("name"in f&&f.name))}return{...a,args:u?[]:{},eventName:c}}}).filter(Boolean)}function L6(e){const{args:t,inputs:n,matchArgs:s}=e;if(!s)return!0;if(!t)return!1;function r(o,a,i){try{return o.type==="address"?Bo(a,i):o.type==="string"||o.type==="bytes"?Ye(vr(a))===i:a===i}catch{return!1}}return Array.isArray(t)&&Array.isArray(s)?s.every((o,a)=>{if(o==null)return!0;const i=n[a];return i?(Array.isArray(o)?o:[o]).some(c=>r(i,c,t[a])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof s=="object"&&!Array.isArray(s)?Object.entries(s).every(([o,a])=>{if(a==null)return!0;const i=n.find(c=>c.name===o);return i?(Array.isArray(a)?a:[a]).some(c=>r(i,c,t[o])):!1}):!1}function jn(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function kc(e,{address:t,blockHash:n,fromBlock:s,toBlock:r,event:o,events:a,args:i,strict:l}={}){const c=l??!1,u=a??(o?[o]:void 0);let f=[];u&&(f=[u.flatMap(b=>_o({abi:[b],eventName:b.name,args:a?void 0:i}))],o&&(f=f[0]));let p;n?p=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,blockHash:n}]}):p=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,fromBlock:typeof s=="bigint"?ne(s):s,toBlock:typeof r=="bigint"?ne(r):r}]});const h=p.map(g=>jn(g));return u?$c({abi:u,args:i,logs:h,strict:c}):h}async function np(e,t){const{abi:n,address:s,args:r,blockHash:o,eventName:a,fromBlock:i,toBlock:l,strict:c}=t,u=a?Ns({abi:n,name:a}):void 0,f=u?void 0:n.filter(p=>p.type==="event");return pe(e,kc,"getLogs")({address:s,args:r,blockHash:o,event:u,events:f,fromBlock:i,toBlock:l,strict:c})}const xi="/docs/contract/decodeFunctionResult";function Os(e){const{abi:t,args:n,functionName:s,data:r}=e;let o=t[0];if(s){const i=Ns({abi:t,args:n,name:s});if(!i)throw new ir(s,{docsPath:xi});o=i}if(o.type!=="function")throw new ir(void 0,{docsPath:xi});if(!o.outputs)throw new i0(o.name,{docsPath:xi});const a=Eo(o.outputs,r);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Tc=BigInt(0),bl=BigInt(1);function So(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Cc(e){if(!So(e))throw new Error("Uint8Array expected")}function go(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Vo(e){const t=e.toString(16);return t.length&1?"0"+t:t}function sp(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Tc:BigInt("0x"+e)}const rp=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",U6=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function yo(e){if(Cc(e),rp)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=U6[e[n]];return t}const _n={_0:48,_9:57,A:65,F:70,a:97,f:102};function ed(e){if(e>=_n._0&&e<=_n._9)return e-_n._0;if(e>=_n.A&&e<=_n.F)return e-(_n.A-10);if(e>=_n.a&&e<=_n.f)return e-(_n.a-10)}function ha(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(rp)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const s=new Uint8Array(n);for(let r=0,o=0;r<n;r++,o+=2){const a=ed(e.charCodeAt(o)),i=ed(e.charCodeAt(o+1));if(a===void 0||i===void 0){const l=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}s[r]=a*16+i}return s}function ys(e){return sp(yo(e))}function op(e){return Cc(e),sp(yo(Uint8Array.from(e).reverse()))}function Io(e,t){return ha(e.toString(16).padStart(t*2,"0"))}function ap(e,t){return Io(e,t).reverse()}function Wt(e,t,n){let s;if(typeof t=="string")try{s=ha(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(So(t))s=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const r=s.length;if(typeof n=="number"&&r!==n)throw new Error(e+" of length "+n+" expected, got "+r);return s}function ma(...e){let t=0;for(let s=0;s<e.length;s++){const r=e[s];Cc(r),t+=r.length}const n=new Uint8Array(t);for(let s=0,r=0;s<e.length;s++){const o=e[s];n.set(o,r),r+=o.length}return n}const $i=e=>typeof e=="bigint"&&Tc<=e;function _c(e,t,n){return $i(e)&&$i(t)&&$i(n)&&t<=e&&e<n}function nr(e,t,n,s){if(!_c(t,n,s))throw new Error("expected valid "+e+": "+n+" <= n < "+s+", got "+t)}function D6(e){let t;for(t=0;e>Tc;e>>=bl,t+=1);return t}const Ga=e=>(bl<<BigInt(e))-bl,ki=e=>new Uint8Array(e),td=e=>Uint8Array.from(e);function z6(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let s=ki(e),r=ki(e),o=0;const a=()=>{s.fill(1),r.fill(0),o=0},i=(...f)=>n(r,s,...f),l=(f=ki(0))=>{r=i(td([0]),f),s=i(),f.length!==0&&(r=i(td([1]),f),s=i())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<t;){s=i();const h=s.slice();p.push(h),f+=s.length}return ma(...p)};return(f,p)=>{a(),l(f);let h;for(;!(h=p(c()));)l();return a(),h}}const j6={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||So(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function qa(e,t,n={}){const s=(r,o,a)=>{const i=j6[o];if(typeof i!="function")throw new Error("invalid validator function");const l=e[r];if(!(a&&l===void 0)&&!i(l,e))throw new Error("param "+String(r)+" is invalid. Expected "+o+", got "+l)};for(const[r,o]of Object.entries(t))s(r,o,!1);for(const[r,o]of Object.entries(n))s(r,o,!0);return e}function nd(e){const t=new WeakMap;return(n,...s)=>{const r=t.get(n);if(r!==void 0)return r;const o=e(n,...s);return t.set(n,o),o}}const W6="0.1.1";function V6(){return W6}class Te extends Error{constructor(t,n={}){const s=(()=>{var l;if(n.cause instanceof Te){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),r=n.cause instanceof Te&&n.cause.docsPath||n.docsPath,a=`https://oxlib.sh${r??""}`,i=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...s||r?["",s?`Details: ${s}`:void 0,r?`See: ${a}`:void 0]:[]].filter(l=>typeof l=="string").join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${V6()}`}),this.cause=n.cause,this.details=s,this.docs=a,this.docsPath=r,this.shortMessage=t}walk(t){return ip(this,t)}}function ip(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?ip(e.cause,t):t?null:e}function No(e,t){if(Gs(e)>t)throw new iv({givenSize:Gs(e),maxSize:t})}const En={zero:48,nine:57,A:65,F:70,a:97,f:102};function sd(e){if(e>=En.zero&&e<=En.nine)return e-En.zero;if(e>=En.A&&e<=En.F)return e-(En.A-10);if(e>=En.a&&e<=En.f)return e-(En.a-10)}function H6(e,t={}){const{dir:n,size:s=32}=t;if(s===0)return e;if(e.length>s)throw new lv({size:e.length,targetSize:s,type:"Bytes"});const r=new Uint8Array(s);for(let o=0;o<s;o++){const a=n==="right";r[a?o:s-o-1]=e[a?o:e.length-o-1]}return r}function lp(e,t={}){const{dir:n="left"}=t;let s=e,r=0;for(let o=0;o<s.length-1&&s[n==="left"?o:s.length-o-1].toString()==="0";o++)r++;return s=n==="left"?s.slice(r):s.slice(0,s.length-r),s}function Ka(e,t){if(Rt(e)>t)throw new hv({givenSize:Rt(e),maxSize:t})}function G6(e,t){if(typeof t=="number"&&t>0&&t>Rt(e)-1)throw new gp({offset:t,position:"start",size:Rt(e)})}function q6(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Rt(e)!==n-t)throw new gp({offset:n,position:"end",size:Rt(e)})}function cp(e,t={}){const{dir:n,size:s=32}=t;if(s===0)return e;const r=e.replace("0x","");if(r.length>s*2)throw new mv({size:Math.ceil(r.length/2),targetSize:s,type:"Hex"});return`0x${r[n==="right"?"padEnd":"padStart"](s*2,"0")}`}const K6="#__bigint";function up(e,t,n){return JSON.stringify(e,(s,r)=>typeof r=="bigint"?r.toString()+K6:r,n)}const Z6=new TextDecoder,Y6=new TextEncoder;function J6(e){return e instanceof Uint8Array?e:typeof e=="string"?dp(e):Q6(e)}function Q6(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function dp(e,t={}){const{size:n}=t;let s=e;n&&(Ka(e,n),s=Bs(e,n));let r=s.slice(2);r.length%2&&(r=`0${r}`);const o=r.length/2,a=new Uint8Array(o);for(let i=0,l=0;i<o;i++){const c=sd(r.charCodeAt(l++)),u=sd(r.charCodeAt(l++));if(c===void 0||u===void 0)throw new Te(`Invalid byte sequence ("${r[l-2]}${r[l-1]}" in "${r}").`);a[i]=c*16+u}return a}function X6(e,t={}){const{size:n}=t,s=Y6.encode(e);return typeof n=="number"?(No(s,n),ev(s,n)):s}function ev(e,t){return H6(e,{dir:"right",size:t})}function Gs(e){return e.length}function tv(e,t,n,s={}){const{strict:r}=s;return e.slice(t,n)}function nv(e,t={}){const{size:n}=t;typeof n<"u"&&No(e,n);const s=cn(e,t);return hp(s,t)}function sv(e,t={}){const{size:n}=t;let s=e;if(typeof n<"u"&&(No(s,n),s=fp(s)),s.length>1||s[0]>1)throw new av(s);return!!s[0]}function Fn(e,t={}){const{size:n}=t;typeof n<"u"&&No(e,n);const s=cn(e,t);return mp(s,t)}function rv(e,t={}){const{size:n}=t;let s=e;return typeof n<"u"&&(No(s,n),s=ov(s)),Z6.decode(s)}function fp(e){return lp(e,{dir:"left"})}function ov(e){return lp(e,{dir:"right"})}class av extends Te{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let iv=class extends Te{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},lv=class extends Te{constructor({size:t,targetSize:n,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const cv=new TextEncoder,uv=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function dv(e,t={}){const{strict:n=!1}=t;if(!e)throw new rd(e);if(typeof e!="string")throw new rd(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new od(e);if(!e.startsWith("0x"))throw new od(e)}function ln(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function fv(e){return e instanceof Uint8Array?cn(e):Array.isArray(e)?cn(new Uint8Array(e)):e}function pp(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Ka(n,t.size),Ps(n,t.size)):n}function cn(e,t={}){let n="";for(let r=0;r<e.length;r++)n+=uv[e[r]];const s=`0x${n}`;return typeof t.size=="number"?(Ka(s,t.size),Bs(s,t.size)):s}function wt(e,t={}){const{signed:n,size:s}=t,r=BigInt(e);let o;s?n?o=(1n<<BigInt(s)*8n-1n)-1n:o=2n**(BigInt(s)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof o=="bigint"&&n?-o-1n:0;if(o&&r>o||r<a){const c=typeof e=="bigint"?"n":"";throw new bp({max:o?`${o}${c}`:void 0,min:`${a}${c}`,signed:n,size:s,value:`${e}${c}`})}const l=`0x${(n&&r<0?(1n<<BigInt(s*8))+BigInt(r):r).toString(16)}`;return s?Ps(l,s):l}function Ec(e,t={}){return cn(cv.encode(e),t)}function Ps(e,t){return cp(e,{dir:"left",size:t})}function Bs(e,t){return cp(e,{dir:"right",size:t})}function wn(e,t,n,s={}){const{strict:r}=s;G6(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&q6(o,t,n),o}function Rt(e){return Math.ceil((e.length-2)/2)}function hp(e,t={}){const{signed:n}=t;t.size&&Ka(e,t.size);const s=BigInt(e);if(!n)return s;const r=(e.length-2)/2,o=(1n<<BigInt(r)*8n)-1n,a=o>>1n;return s<=a?s:s-o-1n}function mp(e,t={}){const{signed:n,size:s}=t;return Number(!n&&!s?e:hp(e,t))}function pv(e,t={}){const{strict:n=!1}=t;try{return dv(e,{strict:n}),!0}catch{return!1}}class bp extends Te{constructor({max:t,min:n,signed:s,size:r,value:o}){super(`Number \`${o}\` is not in safe${r?` ${r*8}-bit`:""}${s?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class rd extends Te{constructor(t){super(`Value \`${typeof t=="object"?up(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class od extends Te{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class hv extends Te{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class gp extends Te{constructor({offset:t,position:n,size:s}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${s}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class mv extends Te{constructor({size:t,targetSize:n,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function bv(e){return{address:e.address,amount:wt(e.amount),index:wt(e.index),validatorIndex:wt(e.validatorIndex)}}function yp(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:wt(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:wt(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:wt(e.gasLimit)},...typeof e.number=="bigint"&&{number:wt(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:wt(e.prevRandao)},...typeof e.time=="bigint"&&{time:wt(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(bv)}}}const ba=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],gl=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],vp=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],wp=[...vp,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],gv=[...vp,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],ad=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],id=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],xp=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],ld=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],yv="0x82ad56cb",$p="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",vv="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",wv="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Ac="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class yl extends H{constructor({blockNumber:t,chain:n,contract:s}){super(`Chain "${n.name}" does not support contract "${s.name}".`,{metaMessages:["This could be due to any of the following:",...t&&s.blockCreated&&s.blockCreated>t?[`- The contract "${s.name}" was not deployed until block ${s.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${s.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class xv extends H{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class $v extends H{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class kp extends H{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Za extends H{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const Ti="/docs/contract/encodeDeployData";function Ya(e){const{abi:t,args:n,bytecode:s}=e;if(!n||n.length===0)return s;const r=t.find(a=>"type"in a&&a.type==="constructor");if(!r)throw new kg({docsPath:Ti});if(!("inputs"in r))throw new Su({docsPath:Ti});if(!r.inputs||r.inputs.length===0)throw new Su({docsPath:Ti});const o=Is(r.inputs,n);return Jt([s,o])}function $r({blockNumber:e,chain:t,contract:n}){var r;const s=(r=t==null?void 0:t.contracts)==null?void 0:r[n];if(!s)throw new yl({chain:t,contract:{name:n}});if(e&&s.blockCreated&&s.blockCreated>e)throw new yl({blockNumber:e,chain:t,contract:{name:n,blockCreated:s.blockCreated}});return s.address}function Tp(e,{docsPath:t,...n}){const s=(()=>{const r=ja(e,n);return r instanceof Po?e:r})();return new N0(s,{docsPath:t,...n})}function Pc(){let e=()=>{},t=()=>{};return{promise:new Promise((s,r)=>{e=s,t=r}),resolve:e,reject:t}}const Ci=new Map;function Cp({fn:e,id:t,shouldSplitBatch:n,wait:s=0,sort:r}){const o=async()=>{const u=l();a();const f=u.map(({args:p})=>p);f.length!==0&&e(f).then(p=>{r&&Array.isArray(p)&&p.sort(r);for(let h=0;h<u.length;h++){const{resolve:g}=u[h];g==null||g([p[h],p])}}).catch(p=>{for(let h=0;h<u.length;h++){const{reject:g}=u[h];g==null||g(p)}})},a=()=>Ci.delete(t),i=()=>l().map(({args:u})=>u),l=()=>Ci.get(t)||[],c=u=>Ci.set(t,[...l(),u]);return{flush:a,async schedule(u){const{promise:f,resolve:p,reject:h}=Pc();return(n==null?void 0:n([...i(),u]))&&o(),l().length>0?(c({args:u,resolve:p,reject:h}),f):(c({args:u,resolve:p,reject:h}),setTimeout(o,s),f)}}}async function Ja(e,t){var D,S,O,F;const{account:n=e.account,authorizationList:s,batch:r=!!((D=e.batch)!=null&&D.multicall),blockNumber:o,blockTag:a=e.experimental_blockTag??"latest",accessList:i,blobs:l,blockOverrides:c,code:u,data:f,factory:p,factoryData:h,gas:g,gasPrice:b,maxFeePerBlobGas:T,maxFeePerGas:$,maxPriorityFeePerGas:w,nonce:y,to:m,value:v,stateOverride:_,...I}=t,B=n?Ke(n):void 0;if(u&&(p||h))throw new H("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&m)throw new H("Cannot provide both `code` & `to` as parameters.");const C=u&&f,k=p&&h&&m&&f,x=C||k,M=C?_p({code:u,data:f}):k?Cv({data:f,factory:p,factoryData:h,to:m}):f;try{Ms(t);const z=(typeof o=="bigint"?ne(o):void 0)||a,Z=c?yp(c):void 0,K=pc(_),A=(F=(O=(S=e.chain)==null?void 0:S.formatters)==null?void 0:O.transactionRequest)==null?void 0:F.format,V=(A||wr)({...Wa(I,{format:A}),from:B==null?void 0:B.address,accessList:i,authorizationList:s,blobs:l,data:M,gas:g,gasPrice:b,maxFeePerBlobGas:T,maxFeePerGas:$,maxPriorityFeePerGas:w,nonce:y,to:x?void 0:m,value:v});if(r&&kv({request:V})&&!K&&!Z)try{return await Tv(e,{...V,blockNumber:o,blockTag:a})}catch(be){if(!(be instanceof kp)&&!(be instanceof yl))throw be}const ye=(()=>{const be=[V,z];return K&&Z?[...be,K,Z]:K?[...be,K]:Z?[...be,{},Z]:be})(),ce=await e.request({method:"eth_call",params:ye});return ce==="0x"?{data:void 0}:{data:ce}}catch(j){const z=_v(j),{offchainLookup:Z,offchainLookupSignature:K}=await R0(async()=>{const{offchainLookup:A,offchainLookupSignature:P}=await import("./ccip-DWK7rgH4.js");return{offchainLookup:A,offchainLookupSignature:P}},[]);if(e.ccipRead!==!1&&(z==null?void 0:z.slice(0,10))===K&&m)return{data:await Z(e,{data:z,to:m})};throw x&&(z==null?void 0:z.slice(0,10))==="0x101bb98d"?new r6({factory:p}):Tp(j,{...t,account:B,chain:e.chain})}}function kv({request:e}){const{data:t,to:n,...s}=e;return!(!t||t.startsWith(yv)||!n||Object.values(s).filter(r=>typeof r<"u").length>0)}async function Tv(e,t){var b;const{batchSize:n=1024,deployless:s=!1,wait:r=0}=typeof((b=e.batch)==null?void 0:b.multicall)=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:a=e.experimental_blockTag??"latest",data:i,to:l}=t,c=(()=>{if(s)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return $r({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new kp})(),f=(typeof o=="bigint"?ne(o):void 0)||a,{schedule:p}=Cp({id:`${e.uid}.${f}`,wait:r,shouldSplitBatch(T){return T.reduce((w,{data:y})=>w+(y.length-2),0)>n*2},fn:async T=>{const $=T.map(m=>({allowFailure:!0,callData:m.data,target:m.to})),w=$t({abi:ba,args:[$],functionName:"aggregate3"}),y=await e.request({method:"eth_call",params:[{...c===null?{data:_p({code:Ac,data:w})}:{to:c,data:w}},f]});return Os({abi:ba,args:[$],functionName:"aggregate3",data:y||"0x"})}}),[{returnData:h,success:g}]=await p({data:i,to:l});if(!g)throw new za({data:h});return h==="0x"?{data:void 0}:{data:h}}function _p(e){const{code:t,data:n}=e;return Ya({abi:e0(["constructor(bytes, bytes)"]),bytecode:$p,args:[t,n]})}function Cv(e){const{data:t,factory:n,factoryData:s,to:r}=e;return Ya({abi:e0(["constructor(address, bytes, address, bytes)"]),bytecode:vv,args:[r,t,n,s]})}function _v(e){var n;if(!(e instanceof H))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function un(e,t){const{abi:n,address:s,args:r,functionName:o,...a}=t,i=$t({abi:n,args:r,functionName:o});try{const{data:l}=await pe(e,Ja,"call")({...a,data:i,to:s});return Os({abi:n,args:r,functionName:o,data:l||"0x"})}catch(l){throw _s(l,{abi:n,address:s,args:r,docsPath:"/docs/contract/readContract",functionName:o})}}async function Ev(e,t){const{abi:n,address:s,args:r,dataSuffix:o,functionName:a,...i}=t,l=i.account?Ke(i.account):e.account,c=$t({abi:n,args:r,functionName:a});try{const{data:u}=await pe(e,Ja,"call")({batch:!1,data:`${c}${o?o.replace("0x",""):""}`,to:s,...i,account:l}),f=Os({abi:n,args:r,functionName:a,data:u||"0x"}),p=n.filter(h=>"name"in h&&h.name===t.functionName);return{result:f,request:{abi:p,address:s,args:r,dataSuffix:o,functionName:a,...i,account:l}}}catch(u){throw _s(u,{abi:n,address:s,args:r,docsPath:"/docs/contract/simulateContract",functionName:a,sender:l==null?void 0:l.address})}}const _i=new Map,cd=new Map;let Av=0;function Wn(e,t,n){const s=++Av,r=()=>_i.get(e)||[],o=()=>{const u=r();_i.set(e,u.filter(f=>f.id!==s))},a=()=>{const u=r();if(!u.some(p=>p.id===s))return;const f=cd.get(e);if(u.length===1&&f){const p=f();p instanceof Promise&&p.catch(()=>{})}o()},i=r();if(_i.set(e,[...i,{id:s,fns:t}]),i&&i.length>0)return a;const l={};for(const u in t)l[u]=(...f)=>{var h,g;const p=r();if(p.length!==0)for(const b of p)(g=(h=b.fns)[u])==null||g.call(h,...f)};const c=n(l);return typeof c=="function"&&cd.set(e,c),a}async function ga(e){return new Promise(t=>setTimeout(t,e))}function kr(e,{emitOnBegin:t,initialWaitTime:n,interval:s}){let r=!0;const o=()=>r=!1;return(async()=>{let i;t&&(i=await e({unpoll:o}));const l=await(n==null?void 0:n(i))??s;await ga(l);const c=async()=>{r&&(await e({unpoll:o}),await ga(s),c())};c()})(),o}const Pv=new Map,Bv=new Map;function Sv(e){const t=(r,o)=>({clear:()=>o.delete(r),get:()=>o.get(r),set:a=>o.set(r,a)}),n=t(e,Pv),s=t(e,Bv);return{clear:()=>{n.clear(),s.clear()},promise:n,response:s}}async function Iv(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const s=Sv(t),r=s.response.get();if(r&&n>0&&Date.now()-r.created.getTime()<n)return r.data;let o=s.promise.get();o||(o=e(),s.promise.set(o));try{const a=await o;return s.response.set({created:new Date,data:a}),a}finally{s.promise.clear()}}const Nv=e=>`blockNumber.${e}`;async function Mo(e,{cacheTime:t=e.cacheTime}={}){const n=await Iv(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Nv(e.uid),cacheTime:t});return BigInt(n)}async function Qa(e,{filter:t}){const n="strict"in t&&t.strict,s=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof s[0]=="string")return s;const r=s.map(o=>jn(o));return!("abi"in t)||!t.abi?r:$c({abi:t.abi,logs:r,strict:n})}async function Xa(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Mv(e,t){const{abi:n,address:s,args:r,batch:o=!0,eventName:a,fromBlock:i,onError:l,onLogs:c,poll:u,pollingInterval:f=e.pollingInterval,strict:p}=t;return(typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const T=p??!1,$=et(["watchContractEvent",s,r,o,e.uid,a,f,T,i]);return Wn($,{onLogs:c,onError:l},w=>{let y;i!==void 0&&(y=i-1n);let m,v=!1;const _=kr(async()=>{var I;if(!v){try{m=await pe(e,_0,"createContractEventFilter")({abi:n,address:s,args:r,eventName:a,strict:T,fromBlock:i})}catch{}v=!0;return}try{let B;if(m)B=await pe(e,Qa,"getFilterChanges")({filter:m});else{const C=await pe(e,Mo,"getBlockNumber")({});y&&y<C?B=await pe(e,np,"getContractEvents")({abi:n,address:s,args:r,eventName:a,fromBlock:y+1n,toBlock:C,strict:T}):B=[],y=C}if(B.length===0)return;if(o)w.onLogs(B);else for(const C of B)w.onLogs([C])}catch(B){m&&B instanceof Cs&&(v=!1),(I=w.onError)==null||I.call(w,B)}},{emitOnBegin:!0,interval:f});return async()=>{m&&await pe(e,Xa,"uninstallFilter")({filter:m}),_()}})})():(()=>{const T=p??!1,$=et(["watchContractEvent",s,r,o,e.uid,a,f,T]);let w=!0,y=()=>w=!1;return Wn($,{onLogs:c,onError:l},m=>((async()=>{try{const v=(()=>{if(e.transport.type==="fallback"){const B=e.transport.transports.find(C=>C.config.type==="webSocket"||C.config.type==="ipc");return B?B.value:e.transport}return e.transport})(),_=a?_o({abi:n,eventName:a,args:r}):[],{unsubscribe:I}=await v.subscribe({params:["logs",{address:s,topics:_}],onData(B){var k;if(!w)return;const C=B.result;try{const{eventName:x,args:M}=xc({abi:n,data:C.data,topics:C.topics,strict:p}),D=jn(C,{args:M,eventName:x});m.onLogs([D])}catch(x){let M,D;if(x instanceof Zr||x instanceof Ra){if(p)return;M=x.abiItem.name,D=(k=x.abiItem.inputs)==null?void 0:k.some(O=>!("name"in O&&O.name))}const S=jn(C,{args:D?[]:{},eventName:M});m.onLogs([S])}},onError(B){var C;(C=m.onError)==null||C.call(m,B)}});y=I,w||y()}catch(v){l==null||l(v)}})(),()=>y()))})()}class Rs extends H{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class Xo extends H{constructor({docsPath:t,metaMessages:n,type:s}){super(`Account type "${s}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function Ep({chain:e,currentChainId:t}){if(!e)throw new $v;if(t!==e.id)throw new xv({chain:e,currentChainId:t})}function Ap(e,{docsPath:t,...n}){const s=(()=>{const r=ja(e,n);return r instanceof Po?e:r})();return new e6(s,{docsPath:t,...n})}async function Bc(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const Ei=new Ua(128);async function ei(e,t){var w,y,m,v;const{account:n=e.account,chain:s=e.chain,accessList:r,authorizationList:o,blobs:a,data:i,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:h,type:g,value:b,...T}=t;if(typeof n>"u")throw new Rs({docsPath:"/docs/actions/wallet/sendTransaction"});const $=n?Ke(n):null;try{Ms(t);const _=await(async()=>{if(t.to)return t.to;if(t.to!==null&&o&&o.length>0)return await fc({authorization:o[0]}).catch(()=>{throw new H("`to` is required. Could not infer from `authorizationList`.")})})();if(($==null?void 0:$.type)==="json-rpc"||$===null){let I;s!==null&&(I=await pe(e,xr,"getChainId")({}),Ep({currentChainId:I,chain:s}));const B=(m=(y=(w=e.chain)==null?void 0:w.formatters)==null?void 0:y.transactionRequest)==null?void 0:m.format,k=(B||wr)({...Wa(T,{format:B}),accessList:r,authorizationList:o,blobs:a,chainId:I,data:i,from:$==null?void 0:$.address,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:h,to:_,type:g,value:b}),x=Ei.get(e.uid),M=x?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:M,params:[k]},{retryCount:0})}catch(D){if(x===!1)throw D;const S=D;if(S.name==="InvalidInputRpcError"||S.name==="InvalidParamsRpcError"||S.name==="MethodNotFoundRpcError"||S.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[k]},{retryCount:0}).then(O=>(Ei.set(e.uid,!0),O)).catch(O=>{const F=O;throw F.name==="MethodNotFoundRpcError"||F.name==="MethodNotSupportedRpcError"?(Ei.set(e.uid,!1),S):F});throw S}}if(($==null?void 0:$.type)==="local"){const I=await pe(e,Ha,"prepareTransactionRequest")({account:$,accessList:r,authorizationList:o,blobs:a,chain:s,data:i,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:h,nonceManager:$.nonceManager,parameters:[...ep,"sidecars"],type:g,value:b,...T,to:_}),B=(v=s==null?void 0:s.serializers)==null?void 0:v.transaction,C=await $.signTransaction(I,{serializer:B});return await pe(e,Bc,"sendRawTransaction")({serializedTransaction:C})}throw($==null?void 0:$.type)==="smart"?new Xo({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Xo({docsPath:"/docs/actions/wallet/sendTransaction",type:$==null?void 0:$.type})}catch(_){throw _ instanceof Xo?_:Ap(_,{...t,account:$,chain:t.chain||void 0})}}async function Ov(e,t){const{abi:n,account:s=e.account,address:r,args:o,dataSuffix:a,functionName:i,...l}=t;if(typeof s>"u")throw new Rs({docsPath:"/docs/contract/writeContract"});const c=s?Ke(s):null,u=$t({abi:n,args:o,functionName:i});try{return await pe(e,ei,"sendTransaction")({data:`${u}${a?a.replace("0x",""):""}`,to:r,account:c,...l})}catch(f){throw _s(f,{abi:n,address:r,args:o,docsPath:"/docs/contract/writeContract",functionName:i,sender:c==null?void 0:c.address})}}class Rv extends H{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}function ya(e,{delay:t=100,retryCount:n=2,shouldRetry:s=()=>!0}={}){return new Promise((r,o)=>{const a=async({count:i=0}={})=>{const l=async({error:c})=>{const u=typeof t=="function"?t({count:i,error:c}):t;u&&await ga(u),a({count:i+1})};try{const c=await e();r(c)}catch(c){if(i<n&&await s({count:i,error:c}))return l({error:c});o(c)}};a()})}const Pp={"0x0":"reverted","0x1":"success"};function Fv(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>jn(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Kt(e.transactionIndex):null,status:e.status?Pp[e.status]:null,type:e.type?j0[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const Bp="0x5792579257925792579257925792579257925792579257925792579257925792",Sp=ne(0,{size:32});async function Lv(e,t){const{account:n=e.account,capabilities:s,chain:r=e.chain,experimental_fallback:o,experimental_fallbackDelay:a=32,forceAtomic:i=!1,id:l,version:c="2.0.0"}=t,u=n?Ke(n):null,f=t.calls.map(p=>{const h=p,g=h.abi?$t({abi:h.abi,functionName:h.functionName,args:h.args}):h.data;return{data:h.dataSuffix&&g?Yt([g,h.dataSuffix]):g,to:h.to,value:h.value?ne(h.value):void 0}});try{const p=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:i,calls:f,capabilities:s,chainId:ne(r.id),from:u==null?void 0:u.address,id:l,version:c}]},{retryCount:0});return typeof p=="string"?{id:p}:p}catch(p){const h=p;if(o&&(h.name==="MethodNotFoundRpcError"||h.name==="MethodNotSupportedRpcError"||h.name==="UnknownRpcError"||h.details.toLowerCase().includes("does not exist / is not available")||h.details.toLowerCase().includes("missing or invalid. request()")||h.details.toLowerCase().includes("did not match any variant of untagged enum")||h.details.toLowerCase().includes("account upgraded to unsupported contract")||h.details.toLowerCase().includes("eip-7702 not supported")||h.details.toLowerCase().includes("unsupported wc_ method")||h.details.toLowerCase().includes("feature toggled misconfigured"))){if(s&&Object.values(s).some(w=>!w.optional)){const w="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new fr(new H(w,{details:w}))}if(i&&f.length>1){const $="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new pr(new H($,{details:$}))}const g=[];for(const $ of f){const w=ei(e,{account:u,chain:r,data:$.data,to:$.to,value:$.value?Ot($.value):void 0});g.push(w),a>0&&await new Promise(y=>setTimeout(y,a))}const b=await Promise.allSettled(g);if(b.every($=>$.status==="rejected"))throw b[0].reason;const T=b.map($=>$.status==="fulfilled"?$.value:Sp);return{id:Yt([...T,ne(r.id,{size:32}),Bp])}}throw Ap(p,{...t,account:u,chain:t.chain})}}async function Ip(e,t){async function n(u){if(u.endsWith(Bp.slice(2))){const p=Gt(sl(u,-64,-32)),h=sl(u,0,-64).slice(2).match(/.{1,64}/g),g=await Promise.all(h.map(T=>Sp.slice(2)!==T?e.request({method:"eth_getTransactionReceipt",params:[`0x${T}`]},{dedupe:!0}):void 0)),b=g.some(T=>T===null)?100:g.every(T=>(T==null?void 0:T.status)==="0x1")?200:g.every(T=>(T==null?void 0:T.status)==="0x0")?500:600;return{atomic:!1,chainId:Kt(p),receipts:g.filter(Boolean),status:b,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:s=!1,chainId:r,receipts:o,version:a="2.0.0",...i}=await n(t.id),[l,c]=(()=>{const u=i.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...i,atomic:s,chainId:r?Kt(r):void 0,receipts:(o==null?void 0:o.map(u=>({...u,blockNumber:Ot(u.blockNumber),gasUsed:Ot(u.gasUsed),status:Pp[u.status]})))??[],statusCode:c,status:l,version:a}}async function Uv(e,t){const{id:n,pollingInterval:s=e.pollingInterval,status:r=({statusCode:b})=>b===200||b>=300,retryCount:o=4,retryDelay:a=({count:b})=>~~(1<<b)*200,timeout:i=6e4,throwOnFailure:l=!1}=t,c=et(["waitForCallsStatus",e.uid,n]),{promise:u,resolve:f,reject:p}=Pc();let h;const g=Wn(c,{resolve:f,reject:p},b=>{const T=kr(async()=>{const $=w=>{clearTimeout(h),T(),w(),g()};try{const w=await ya(async()=>{const y=await pe(e,Ip,"getCallsStatus")({id:n});if(l&&y.status==="failure")throw new Rv(y);return y},{retryCount:o,delay:a});if(!r(w))return;$(()=>b.resolve(w))}catch(w){$(()=>b.reject(w))}},{interval:s,emitOnBegin:!0});return T});return h=i?setTimeout(()=>{g(),clearTimeout(h),p(new Dv({id:n}))},i):void 0,await u}class Dv extends H{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const vl=256;let Ho=vl,Go;function Np(e=11){if(!Go||Ho+e>vl*2){Go="",Ho=0;for(let t=0;t<vl;t++)Go+=(256+Math.random()*256|0).toString(16).substring(1)}return Go.substring(Ho,Ho+++e)}function Mp(e){const{batch:t,chain:n,ccipRead:s,key:r="base",name:o="Base Client",type:a="base"}=e,i=e.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),l=(n==null?void 0:n.blockTime)??12e3,c=Math.min(Math.max(Math.floor(l/2),500),4e3),u=e.pollingInterval??c,f=e.cacheTime??u,p=e.account?Ke(e.account):void 0,{config:h,request:g,value:b}=e.transport({chain:n,pollingInterval:u}),T={...h,...b},$={account:p,batch:t,cacheTime:f,ccipRead:s,chain:n,key:r,name:o,pollingInterval:u,request:g,transport:T,type:a,uid:Np(),...i?{experimental_blockTag:i}:{}};function w(y){return m=>{const v=m(y);for(const I in $)delete v[I];const _={...y,...v};return Object.assign(_,{extend:w(_)})}}return Object.assign($,{extend:w($)})}function Sc(e){var n,s,r,o,a,i;if(!(e instanceof H))return!1;const t=e.walk(l=>l instanceof al);return t instanceof al?((n=t.data)==null?void 0:n.errorName)==="HttpError"||((s=t.data)==null?void 0:s.errorName)==="ResolverError"||((r=t.data)==null?void 0:r.errorName)==="ResolverNotContract"||((o=t.data)==null?void 0:o.errorName)==="ResolverNotFound"||((a=t.data)==null?void 0:a.errorName)==="ReverseAddressMismatch"||((i=t.data)==null?void 0:i.errorName)==="UnsupportedResolverProfile":!1}function zv(e){const{abi:t,data:n}=e,s=ks(n,0,4),r=t.find(o=>o.type==="function"&&s===Co(rn(o)));if(!r)throw new Ag(s,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:r.name,args:"inputs"in r&&r.inputs&&r.inputs.length>0?Eo(r.inputs,ks(n,4)):void 0}}const Ai="/docs/contract/encodeErrorResult";function ud(e){const{abi:t,errorName:n,args:s}=e;let r=t[0];if(n){const l=Ns({abi:t,args:s,name:n});if(!l)throw new Iu(n,{docsPath:Ai});r=l}if(r.type!=="error")throw new Iu(void 0,{docsPath:Ai});const o=rn(r),a=Co(o);let i="0x";if(s&&s.length>0){if(!r.inputs)throw new _g(r.name,{docsPath:Ai});i=Is(r.inputs,s)}return Jt([a,i])}const Pi="/docs/contract/encodeFunctionResult";function jv(e){const{abi:t,functionName:n,result:s}=e;let r=t[0];if(n){const a=Ns({abi:t,name:n});if(!a)throw new ir(n,{docsPath:Pi});r=a}if(r.type!=="function")throw new ir(void 0,{docsPath:Pi});if(!r.outputs)throw new i0(r.name,{docsPath:Pi});const o=(()=>{if(r.outputs.length===0)return[];if(r.outputs.length===1)return[s];if(Array.isArray(s))return s;throw new c0(s)})();return Is(r.outputs,o)}const ti="x-batch-gateway:true";async function Wv(e){const{data:t,ccipRequest:n}=e,{args:[s]}=zv({abi:gl,data:t}),r=[],o=[];return await Promise.all(s.map(async(a,i)=>{try{o[i]=a.urls.includes(ti)?await Wv({data:a.data,ccipRequest:n}):await n(a),r[i]=!1}catch(l){r[i]=!0,o[i]=Vv(l)}})),jv({abi:gl,functionName:"query",result:[r,o]})}function Vv(e){return e.name==="HttpRequestError"&&e.status?ud({abi:gl,errorName:"HttpError",args:[e.status,e.shortMessage]}):ud({abi:[E0],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function Op(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return on(t)?t:null}function wl(e){let t=new Uint8Array(32).fill(0);if(!e)return Je(t);const n=e.split(".");for(let s=n.length-1;s>=0;s-=1){const r=Op(n[s]),o=r?vr(r):Ye(bs(n[s]),"bytes");t=Ye(Yt([t,o]),"bytes")}return Je(t)}function Hv(e){return`[${e.slice(2)}]`}function Gv(e){const t=new Uint8Array(32).fill(0);return e?Op(e)||Ye(bs(e)):Je(t)}function Ic(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(bs(t).byteLength+2);let s=0;const r=t.split(".");for(let o=0;o<r.length;o++){let a=bs(r[o]);a.byteLength>255&&(a=bs(Hv(Gv(r[o])))),n[s]=a.length,n.set(a,s+1),s+=a.length+1}return n.byteLength!==s+1?n.slice(0,s+1):n}async function qv(e,t){const{blockNumber:n,blockTag:s,coinType:r,name:o,gatewayUrls:a,strict:i}=t,{chain:l}=e,c=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return $r({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})(),u=l==null?void 0:l.ensTlds;if(u&&!u.some(p=>o.endsWith(p)))return null;const f=r!=null?[wl(o),BigInt(r)]:[wl(o)];try{const p=$t({abi:id,functionName:"addr",args:f}),h={address:c,abi:wp,functionName:"resolveWithGateways",args:[Zt(Ic(o)),p,a??[ti]],blockNumber:n,blockTag:s},b=await pe(e,un,"readContract")(h);if(b[0]==="0x")return null;const T=Os({abi:id,args:f,functionName:"addr",data:b[0]});return T==="0x"||Gt(T)==="0x00"?null:T}catch(p){if(i)throw p;if(Sc(p))return null;throw p}}class Kv extends H{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class Pr extends H{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Nc extends H{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Zv extends H{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Yv=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Jv=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Qv=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Xv=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function e5(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const s=new Image;s.onload=()=>{n(!0)},s.onerror=()=>{n(!1)},s.src=e})}}function dd(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Rp({uri:e,gatewayUrls:t}){const n=Qv.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const s=dd(t==null?void 0:t.ipfs,"https://ipfs.io"),r=dd(t==null?void 0:t.arweave,"https://arweave.net"),o=e.match(Yv),{protocol:a,subpath:i,target:l,subtarget:c=""}=(o==null?void 0:o.groups)||{},u=a==="ipns:/"||i==="ipns/",f=a==="ipfs:/"||i==="ipfs/"||Jv.test(e);if(e.startsWith("http")&&!u&&!f){let h=e;return t!=null&&t.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((u||f)&&l)return{uri:`${s}/${u?"ipns":"ipfs"}/${l}${c}`,isOnChain:!1,isEncoded:!1};if(a==="ar:/"&&l)return{uri:`${r}/${l}${c||""}`,isOnChain:!1,isEncoded:!1};let p=e.replace(Xv,"");if(p.startsWith("<svg")&&(p=`data:image/svg+xml;base64,${btoa(p)}`),p.startsWith("data:")||p.startsWith("{"))return{uri:p,isOnChain:!0,isEncoded:!1};throw new Nc({uri:e})}function Fp(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Kv({data:e});return e.image||e.image_url||e.image_data}async function t5({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(r=>r.json());return await Mc({gatewayUrls:e,uri:Fp(n)})}catch{throw new Nc({uri:t})}}async function Mc({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:s}=Rp({uri:t,gatewayUrls:e});if(s||await e5(n))return n;throw new Nc({uri:t})}function n5(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,s,r]=t.split("/"),[o,a]=n.split(":"),[i,l]=s.split(":");if(!o||o.toLowerCase()!=="eip155")throw new Pr({reason:"Only EIP-155 supported"});if(!a)throw new Pr({reason:"Chain ID not found"});if(!l)throw new Pr({reason:"Contract address not found"});if(!r)throw new Pr({reason:"Token ID not found"});if(!i)throw new Pr({reason:"ERC namespace not found"});return{chainID:Number.parseInt(a,10),namespace:i.toLowerCase(),contractAddress:l,tokenID:r}}async function s5(e,{nft:t}){if(t.namespace==="erc721")return un(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return un(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Zv({namespace:t.namespace})}async function r5(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?o5(e,{gatewayUrls:t,record:n}):Mc({uri:n,gatewayUrls:t})}async function o5(e,{gatewayUrls:t,record:n}){const s=n5(n),r=await s5(e,{nft:s}),{uri:o,isOnChain:a,isEncoded:i}=Rp({uri:r,gatewayUrls:t});if(a&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const c=i?atob(o.replace("data:application/json;base64,","")):o,u=JSON.parse(c);return Mc({uri:Fp(u),gatewayUrls:t})}let l=s.tokenID;return s.namespace==="erc1155"&&(l=l.replace("0x","").padStart(64,"0")),t5({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,l)})}async function Lp(e,t){const{blockNumber:n,blockTag:s,key:r,name:o,gatewayUrls:a,strict:i}=t,{chain:l}=e,c=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return $r({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})(),u=l==null?void 0:l.ensTlds;if(u&&!u.some(f=>o.endsWith(f)))return null;try{const f={address:c,abi:wp,args:[Zt(Ic(o)),$t({abi:ad,functionName:"text",args:[wl(o),r]}),a??[ti]],functionName:"resolveWithGateways",blockNumber:n,blockTag:s},h=await pe(e,un,"readContract")(f);if(h[0]==="0x")return null;const g=Os({abi:ad,functionName:"text",data:h[0]});return g===""?null:g}catch(f){if(i)throw f;if(Sc(f))return null;throw f}}async function a5(e,{blockNumber:t,blockTag:n,assetGatewayUrls:s,name:r,gatewayUrls:o,strict:a,universalResolverAddress:i}){const l=await pe(e,Lp,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:r,universalResolverAddress:i,gatewayUrls:o,strict:a});if(!l)return null;try{return await r5(e,{record:l,gatewayUrls:s})}catch{return null}}async function i5(e,t){const{address:n,blockNumber:s,blockTag:r,coinType:o=60n,gatewayUrls:a,strict:i}=t,{chain:l}=e,c=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return $r({blockNumber:s,chain:l,contract:"ensUniversalResolver"})})();try{const u={address:c,abi:gv,args:[n,o,a??[ti]],functionName:"reverseWithGateways",blockNumber:s,blockTag:r},f=pe(e,un,"readContract"),[p]=await f(u);return p||null}catch(u){if(i)throw u;if(Sc(u))return null;throw u}}async function l5(e,t){const{blockNumber:n,blockTag:s,name:r}=t,{chain:o}=e,a=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return $r({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),i=o==null?void 0:o.ensTlds;if(i&&!i.some(c=>r.endsWith(c)))throw new Error(`${r} is not a valid ENS TLD (${i==null?void 0:i.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[l]=await pe(e,un,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Zt(Ic(r))],blockNumber:n,blockTag:s});return l}async function Up(e,t){var T,$,w;const{account:n=e.account,blockNumber:s,blockTag:r="latest",blobs:o,data:a,gas:i,gasPrice:l,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:f,to:p,value:h,...g}=t,b=n?Ke(n):void 0;try{Ms(t);const m=(typeof s=="bigint"?ne(s):void 0)||r,v=(w=($=(T=e.chain)==null?void 0:T.formatters)==null?void 0:$.transactionRequest)==null?void 0:w.format,I=(v||wr)({...Wa(g,{format:v}),from:b==null?void 0:b.address,blobs:o,data:a,gas:i,gasPrice:l,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:f,to:p,value:h}),B=await e.request({method:"eth_createAccessList",params:[I,m]});return{accessList:B.accessList,gasUsed:BigInt(B.gasUsed)}}catch(y){throw Tp(y,{...t,account:b,chain:e.chain})}}async function c5(e){const t=Da(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function Dp(e,{address:t,args:n,event:s,events:r,fromBlock:o,strict:a,toBlock:i}={}){const l=r??(s?[s]:void 0),c=Da(e,{method:"eth_newFilter"});let u=[];l&&(u=[l.flatMap(h=>_o({abi:[h],eventName:h.name,args:n}))],s&&(u=u[0]));const f=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?ne(o):o,toBlock:typeof i=="bigint"?ne(i):i,...u.length?{topics:u}:{}}]});return{abi:l,args:n,eventName:s?s.name:void 0,fromBlock:o,id:f,request:c(f),strict:!!a,toBlock:i,type:"event"}}async function zp(e){const t=Da(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function u5(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function d5(e,{blockHash:t,blockNumber:n,blockTag:s="latest"}={}){const r=n!==void 0?ne(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[r||s]},{dedupe:!!r}),Kt(o)}async function xl(e,{address:t,blockNumber:n,blockTag:s="latest"}){const r=n!==void 0?ne(n):void 0,o=await e.request({method:"eth_getCode",params:[t,r||s]},{dedupe:!!r});if(o!=="0x")return o}class f5 extends H{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function p5(e,t){const{address:n,factory:s,factoryData:r}=t;try{const[o,a,i,l,c,u,f]=await pe(e,un,"readContract")({abi:h5,address:n,functionName:"eip712Domain",factory:s,factoryData:r});return{domain:{name:a,version:i,chainId:Number(l),verifyingContract:c,salt:u},extensions:f,fields:o}}catch(o){const a=o;throw a.name==="ContractFunctionExecutionError"&&a.cause.name==="ContractFunctionZeroDataError"?new f5({address:n}):a}}const h5=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function m5(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(s=>BigInt(s)))}}async function b5(e,{blockCount:t,blockNumber:n,blockTag:s="latest",rewardPercentiles:r}){const o=typeof n=="bigint"?ne(n):void 0,a=await e.request({method:"eth_feeHistory",params:[ne(t),o||s,r]},{dedupe:!!o});return m5(a)}async function g5(e,{filter:t}){const n=t.strict??!1,r=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>jn(o));return t.abi?$c({abi:t.abi,logs:r,strict:n}):r}function fd(e,t){if(e.length!==t.length)throw new r0({expectedLength:e.length,givenLength:t.length});const n=[];for(let s=0;s<e.length;s++){const r=e[s],o=t[s];n.push(jp(r,o))}return Jt(n)}function jp(e,t,n=!1){if(e==="address"){const a=t;if(!Qe(a))throw new bt({address:a});return On(a.toLowerCase(),{size:n?32:null})}if(e==="string")return xs(t);if(e==="bytes")return t;if(e==="bool")return On(nc(t),{size:n?32:1});const s=e.match(oc);if(s){const[a,i,l="256"]=s,c=Number.parseInt(l,10)/8;return ne(t,{size:n?32:c,signed:i==="int"})}const r=e.match(T0);if(r){const[a,i]=r;if(Number.parseInt(i,10)!==(t.length-2)/2)throw new l0({expectedSize:Number.parseInt(i,10),givenSize:(t.length-2)/2});return On(t,{dir:"right",size:n?32:null})}const o=e.match(xy);if(o&&Array.isArray(t)){const[a,i]=o,l=[];for(let c=0;c<t.length;c++)l.push(jp(i,t[c],!0));return l.length===0?"0x":Jt(l)}throw new Ng(e)}function y5(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:s}=n,r=n.address;if(!Qe(r))throw new bt({address:r});if(s<0)throw new Za({chainId:s})}Oc(e)}function v5(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new J0;for(const n of t){const s=We(n),r=Kt(ks(n,0,1));if(s!==32)throw new N6({hash:n,size:s});if(r!==Y0)throw new M6({hash:n,version:r})}}Oc(e)}function Oc(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:s,to:r}=e;if(t<=0)throw new Za({chainId:t});if(r&&!Qe(r))throw new bt({address:r});if(s&&s>Va)throw new As({maxFeePerGas:s});if(n&&s&&n>s)throw new bo({maxFeePerGas:s,maxPriorityFeePerGas:n})}function w5(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:s,maxFeePerGas:r,to:o}=e;if(t<=0)throw new Za({chainId:t});if(o&&!Qe(o))throw new bt({address:o});if(n||r)throw new H("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(s&&s>Va)throw new As({maxFeePerGas:s})}function x5(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:s,maxFeePerGas:r,to:o}=e;if(o&&!Qe(o))throw new bt({address:o});if(typeof t<"u"&&t<=0)throw new Za({chainId:t});if(n||r)throw new H("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(s&&s>Va)throw new As({maxFeePerGas:s})}function ni(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:s,storageKeys:r}=e[n];for(let o=0;o<r.length;o++)if(r[o].length-2!==64)throw new Xy({storageKey:r[o]});if(!Qe(s,{strict:!1}))throw new bt({address:s});t.push([s,r])}return t}function $5(e,t){const n=X0(e);return n==="eip1559"?C5(e,t):n==="eip2930"?_5(e,t):n==="eip4844"?T5(e,t):n==="eip7702"?k5(e,t):E5(e,t)}function k5(e,t){const{authorizationList:n,chainId:s,gas:r,nonce:o,to:a,value:i,maxFeePerGas:l,maxPriorityFeePerGas:c,accessList:u,data:f}=e;y5(e);const p=ni(u),h=A5(n);return Jt(["0x04",Es([ne(s),o?ne(o):"0x",c?ne(c):"0x",l?ne(l):"0x",r?ne(r):"0x",a??"0x",i?ne(i):"0x",f??"0x",p,h,...Oo(e,t)])])}function T5(e,t){const{chainId:n,gas:s,nonce:r,to:o,value:a,maxFeePerBlobGas:i,maxFeePerGas:l,maxPriorityFeePerGas:c,accessList:u,data:f}=e;v5(e);let p=e.blobVersionedHashes,h=e.sidecars;if(e.blobs&&(typeof p>"u"||typeof h>"u")){const y=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(_=>Je(_)),m=e.kzg,v=gc({blobs:y,kzg:m});if(typeof p>"u"&&(p=q0({commitments:v})),typeof h>"u"){const _=yc({blobs:y,commitments:v,kzg:m});h=Q0({blobs:y,commitments:v,proofs:_})}}const g=ni(u),b=[ne(n),r?ne(r):"0x",c?ne(c):"0x",l?ne(l):"0x",s?ne(s):"0x",o??"0x",a?ne(a):"0x",f??"0x",g,i?ne(i):"0x",p??[],...Oo(e,t)],T=[],$=[],w=[];if(h)for(let y=0;y<h.length;y++){const{blob:m,commitment:v,proof:_}=h[y];T.push(m),$.push(v),w.push(_)}return Jt(["0x03",Es(h?[b,T,$,w]:b)])}function C5(e,t){const{chainId:n,gas:s,nonce:r,to:o,value:a,maxFeePerGas:i,maxPriorityFeePerGas:l,accessList:c,data:u}=e;Oc(e);const f=ni(c),p=[ne(n),r?ne(r):"0x",l?ne(l):"0x",i?ne(i):"0x",s?ne(s):"0x",o??"0x",a?ne(a):"0x",u??"0x",f,...Oo(e,t)];return Jt(["0x02",Es(p)])}function _5(e,t){const{chainId:n,gas:s,data:r,nonce:o,to:a,value:i,accessList:l,gasPrice:c}=e;w5(e);const u=ni(l),f=[ne(n),o?ne(o):"0x",c?ne(c):"0x",s?ne(s):"0x",a??"0x",i?ne(i):"0x",r??"0x",u,...Oo(e,t)];return Jt(["0x01",Es(f)])}function E5(e,t){const{chainId:n=0,gas:s,data:r,nonce:o,to:a,value:i,gasPrice:l}=e;x5(e);let c=[o?ne(o):"0x",l?ne(l):"0x",s?ne(s):"0x",a??"0x",i?ne(i):"0x",r??"0x"];if(t){const u=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const h=27n+(t.v===27n?0n:1n);if(t.v!==h)throw new Jy({v:t.v});return h})(),f=Gt(t.r),p=Gt(t.s);c=[...c,ne(u),f==="0x00"?"0x":f,p==="0x00"?"0x":p]}else n>0&&(c=[...c,ne(n),"0x","0x"]);return Es(c)}function Oo(e,t){const n=t??e,{v:s,yParity:r}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof s>"u"&&typeof r>"u")return[];const o=Gt(n.r),a=Gt(n.s);return[typeof r=="number"?r?ne(1):"0x":s===0n?"0x":s===1n?ne(1):s===27n?"0x":ne(1),o==="0x00"?"0x":o,a==="0x00"?"0x":a]}function A5(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:s,nonce:r,...o}=n,a=n.address;t.push([s?Zt(s):"0x",a,r?Zt(r):"0x",...Oo({},o)])}return t}async function P5({address:e,authorization:t,signature:n}){return Bo(De(e),await fc({authorization:t,signature:n}))}const qo=new Ua(8192);function B5(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(qo.get(n))return qo.get(n);const s=e().finally(()=>qo.delete(n));return qo.set(n,s),s}function S5(e,t={}){return async(n,s={})=>{var f;const{dedupe:r=!1,methods:o,retryDelay:a=150,retryCount:i=3,uid:l}={...t,...s},{method:c}=n;if((f=o==null?void 0:o.exclude)!=null&&f.includes(c))throw new us(new Error("method not supported"),{method:c});if(o!=null&&o.include&&!o.include.includes(c))throw new us(new Error("method not supported"),{method:c});const u=r?xs(`${l}.${et(n)}`):void 0;return B5(()=>ya(async()=>{try{return await e(n)}catch(p){const h=p;switch(h.code){case Qr.code:throw new Qr(h);case Xr.code:throw new Xr(h);case eo.code:throw new eo(h,{method:n.method});case to.code:throw new to(h);case Ts.code:throw new Ts(h);case Cs.code:throw new Cs(h);case no.code:throw new no(h);case so.code:throw new so(h);case ur.code:throw new ur(h);case us.code:throw new us(h,{method:n.method});case dr.code:throw new dr(h);case ro.code:throw new ro(h);case gs.code:throw new gs(h);case oo.code:throw new oo(h);case ao.code:throw new ao(h);case io.code:throw new io(h);case lo.code:throw new lo(h);case co.code:throw new co(h);case fr.code:throw new fr(h);case uo.code:throw new uo(h);case fo.code:throw new fo(h);case po.code:throw new po(h);case ho.code:throw new ho(h);case mo.code:throw new mo(h);case pr.code:throw new pr(h);case 5e3:throw new gs(h);default:throw p instanceof H?p:new a6(h)}}},{delay:({count:p,error:h})=>{var g;if(h&&h instanceof Wr){const b=(g=h==null?void 0:h.headers)==null?void 0:g.get("Retry-After");if(b!=null&&b.match(/\d/))return Number.parseInt(b,10)*1e3}return~~(1<<p)*a},retryCount:i,shouldRetry:({error:p})=>I5(p)}),{enabled:r,id:u})}}function I5(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===dr.code||e.code===Ts.code:e instanceof Wr&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function Rc(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}function N5(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:s}){return new Promise((r,o)=>{(async()=>{let a;try{const i=new AbortController;n>0&&(a=setTimeout(()=>{s&&i.abort()},n)),r(await e({signal:(i==null?void 0:i.signal)||null}))}catch(i){(i==null?void 0:i.name)==="AbortError"&&o(t),o(i)}finally{clearTimeout(a)}})()})}function M5(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const pd=M5();function O5(e,t={}){return{async request(n){var p;const{body:s,fetchFn:r=t.fetchFn??fetch,onRequest:o=t.onRequest,onResponse:a=t.onResponse,timeout:i=t.timeout??1e4}=n,l={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:f}=l;try{const h=await N5(async({signal:b})=>{const T={...l,body:Array.isArray(s)?et(s.map(m=>({jsonrpc:"2.0",id:m.id??pd.take(),...m}))):et({jsonrpc:"2.0",id:s.id??pd.take(),...s}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:f||(i>0?b:null)},$=new Request(e,T),w=await(o==null?void 0:o($,T))??{...T,url:e};return await r(w.url??e,w)},{errorInstance:new Gu({body:s,url:e}),timeout:i,signal:!0});a&&await a(h);let g;if((p=h.headers.get("Content-Type"))!=null&&p.startsWith("application/json"))g=await h.json();else{g=await h.text();try{g=JSON.parse(g||"{}")}catch(b){if(h.ok)throw b;g={error:g}}}if(!h.ok)throw new Wr({body:s,details:et(g.error)||h.statusText,headers:h.headers,status:h.status,url:e});return g}catch(h){throw h instanceof Wr||h instanceof Gu?h:new Wr({body:s,cause:h,url:e})}}}}const R5=`Ethereum Signed Message:
`;function F5(e){const t=typeof e=="string"?xs(e):typeof e.raw=="string"?e.raw:Je(e.raw),n=xs(`${R5}${We(t)}`);return Yt([n,t])}function Fc(e,t){return Ye(F5(e),t)}class L5 extends H{constructor({domain:t}){super(`Invalid domain "${et(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class U5 extends H{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class D5 extends H{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function z5(e){const{domain:t,message:n,primaryType:s,types:r}=e,o=(l,c)=>{const u={...c};for(const f of l){const{name:p,type:h}=f;h==="address"&&(u[p]=u[p].toLowerCase())}return u},a=r.EIP712Domain?t?o(r.EIP712Domain,t):{}:{},i=(()=>{if(s!=="EIP712Domain")return o(r[s],n)})();return et({domain:a,message:i,primaryType:s,types:r})}function Wp(e){const{domain:t,message:n,primaryType:s,types:r}=e,o=(a,i)=>{for(const l of a){const{name:c,type:u}=l,f=i[c],p=u.match(oc);if(p&&(typeof f=="number"||typeof f=="bigint")){const[b,T,$]=p;ne(f,{signed:T==="int",size:Number.parseInt($,10)/8})}if(u==="address"&&typeof f=="string"&&!Qe(f))throw new bt({address:f});const h=u.match(T0);if(h){const[b,T]=h;if(T&&We(f)!==Number.parseInt(T,10))throw new l0({expectedSize:Number.parseInt(T,10),givenSize:We(f)})}const g=r[u];g&&(j5(u),o(g,f))}};if(r.EIP712Domain&&t){if(typeof t!="object")throw new L5({domain:t});o(r.EIP712Domain,t)}if(s!=="EIP712Domain")if(r[s])o(r[s],n);else throw new U5({primaryType:s,types:r})}function Vp({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},(typeof(e==null?void 0:e.chainId)=="number"||typeof(e==null?void 0:e.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function j5(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new D5({type:e})}function Hp(e){const{domain:t={},message:n,primaryType:s}=e,r={EIP712Domain:Vp({domain:t}),...e.types};Wp({domain:t,message:n,primaryType:s,types:r});const o=["0x1901"];return t&&o.push(W5({domain:t,types:r})),s!=="EIP712Domain"&&o.push(Gp({data:n,primaryType:s,types:r})),Ye(Yt(o))}function W5({domain:e,types:t}){return Gp({data:e,primaryType:"EIP712Domain",types:t})}function Gp({data:e,primaryType:t,types:n}){const s=qp({data:e,primaryType:t,types:n});return Ye(s)}function qp({data:e,primaryType:t,types:n}){const s=[{type:"bytes32"}],r=[V5({primaryType:t,types:n})];for(const o of n[t]){const[a,i]=Zp({types:n,name:o.name,type:o.type,value:e[o.name]});s.push(a),r.push(i)}return Is(s,r)}function V5({primaryType:e,types:t}){const n=Zt(H5({primaryType:e,types:t}));return Ye(n)}function H5({primaryType:e,types:t}){let n="";const s=Kp({primaryType:e,types:t});s.delete(e);const r=[e,...Array.from(s).sort()];for(const o of r)n+=`${o}(${t[o].map(({name:a,type:i})=>`${i} ${a}`).join(",")})`;return n}function Kp({primaryType:e,types:t},n=new Set){const s=e.match(/^\w*/u),r=s==null?void 0:s[0];if(n.has(r)||t[r]===void 0)return n;n.add(r);for(const o of t[r])Kp({primaryType:o.type,types:t},n);return n}function Zp({types:e,name:t,type:n,value:s}){if(e[n]!==void 0)return[{type:"bytes32"},Ye(qp({data:s,primaryType:n,types:e}))];if(n==="bytes")return s=`0x${(s.length%2?"0":"")+s.slice(2)}`,[{type:"bytes32"},Ye(s)];if(n==="string")return[{type:"bytes32"},Ye(Zt(s))];if(n.lastIndexOf("]")===n.length-1){const r=n.slice(0,n.lastIndexOf("[")),o=s.map(a=>Zp({name:t,type:r,types:e,value:a}));return[{type:"bytes32"},Ye(Is(o.map(([a])=>a),o.map(([,a])=>a)))]}return[{type:n},s]}class G5 extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const s=this.keys().next().value;s&&this.delete(s)}return this}}const q5={checksum:new G5(8192)},Bi=q5.checksum;function Yp(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,s=v0(J6(e));return n==="Bytes"?s:cn(s)}const K5=/^0x[a-fA-F0-9]{40}$/;function si(e,t={}){const{strict:n=!0}=t;if(!K5.test(e))throw new hd({address:e,cause:new Z5});if(n){if(e.toLowerCase()===e)return;if(Jp(e)!==e)throw new hd({address:e,cause:new Y5})}}function Jp(e){if(Bi.has(e))return Bi.get(e);si(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Yp(X6(t),{as:"Bytes"}),s=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(n[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const r=`0x${s.join("")}`;return Bi.set(e,r),r}function $l(e,t={}){const{strict:n=!0}=t??{};try{return si(e,{strict:n}),!0}catch{return!1}}class hd extends Te{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Z5 extends Te{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Y5 extends Te{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const J5=/^(.*)\[([0-9]*)\]$/,Q5=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Qp=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,md=2n**256n-1n;function sr(e,t,n){const{checksumAddress:s,staticPosition:r}=n,o=Dc(t.type);if(o){const[a,i]=o;return ew(e,{...t,type:i},{checksumAddress:s,length:a,staticPosition:r})}if(t.type==="tuple")return rw(e,t,{checksumAddress:s,staticPosition:r});if(t.type==="address")return X5(e,{checksum:s});if(t.type==="bool")return tw(e);if(t.type.startsWith("bytes"))return nw(e,t,{staticPosition:r});if(t.type.startsWith("uint")||t.type.startsWith("int"))return sw(e,t);if(t.type==="string")return ow(e,{staticPosition:r});throw new jc(t.type)}const bd=32,kl=32;function X5(e,t={}){const{checksum:n=!1}=t,s=e.readBytes(32);return[(o=>n?Jp(o):o)(cn(tv(s,-20))),32]}function ew(e,t,n){const{checksumAddress:s,length:r,staticPosition:o}=n;if(!r){const l=Fn(e.readBytes(kl)),c=o+l,u=c+bd;e.setPosition(c);const f=Fn(e.readBytes(bd)),p=vo(t);let h=0;const g=[];for(let b=0;b<f;++b){e.setPosition(u+(p?b*32:h));const[T,$]=sr(e,t,{checksumAddress:s,staticPosition:u});h+=$,g.push(T)}return e.setPosition(o+32),[g,32]}if(vo(t)){const l=Fn(e.readBytes(kl)),c=o+l,u=[];for(let f=0;f<r;++f){e.setPosition(c+f*32);const[p]=sr(e,t,{checksumAddress:s,staticPosition:c});u.push(p)}return e.setPosition(o+32),[u,32]}let a=0;const i=[];for(let l=0;l<r;++l){const[c,u]=sr(e,t,{checksumAddress:s,staticPosition:o+a});a+=u,i.push(c)}return[i,a]}function tw(e){return[sv(e.readBytes(32),{size:32}),32]}function nw(e,t,{staticPosition:n}){const[s,r]=t.type.split("bytes");if(!r){const a=Fn(e.readBytes(32));e.setPosition(n+a);const i=Fn(e.readBytes(32));if(i===0)return e.setPosition(n+32),["0x",32];const l=e.readBytes(i);return e.setPosition(n+32),[cn(l),32]}return[cn(e.readBytes(Number.parseInt(r,10),32)),32]}function sw(e,t){const n=t.type.startsWith("int"),s=Number.parseInt(t.type.split("int")[1]||"256",10),r=e.readBytes(32);return[s>48?nv(r,{signed:n}):Fn(r,{signed:n}),32]}function rw(e,t,n){const{checksumAddress:s,staticPosition:r}=n,o=t.components.length===0||t.components.some(({name:l})=>!l),a=o?[]:{};let i=0;if(vo(t)){const l=Fn(e.readBytes(kl)),c=r+l;for(let u=0;u<t.components.length;++u){const f=t.components[u];e.setPosition(c+i);const[p,h]=sr(e,f,{checksumAddress:s,staticPosition:c});i+=h,a[o?u:f==null?void 0:f.name]=p}return e.setPosition(r+32),[a,32]}for(let l=0;l<t.components.length;++l){const c=t.components[l],[u,f]=sr(e,c,{checksumAddress:s,staticPosition:r});a[o?l:c==null?void 0:c.name]=u,i+=f}return[a,i]}function ow(e,{staticPosition:t}){const n=Fn(e.readBytes(32)),s=t+n;e.setPosition(s);const r=Fn(e.readBytes(32));if(r===0)return e.setPosition(t+32),["",32];const o=e.readBytes(r,32),a=rv(fp(o));return e.setPosition(t+32),[a,32]}function aw({checksumAddress:e,parameters:t,values:n}){const s=[];for(let r=0;r<t.length;r++)s.push(Lc({checksumAddress:e,parameter:t[r],value:n[r]}));return s}function Lc({checksumAddress:e=!1,parameter:t,value:n}){const s=t,r=Dc(s.type);if(r){const[o,a]=r;return lw(n,{checksumAddress:e,length:o,parameter:{...s,type:a}})}if(s.type==="tuple")return pw(n,{checksumAddress:e,parameter:s});if(s.type==="address")return iw(n,{checksum:e});if(s.type==="bool")return uw(n);if(s.type.startsWith("uint")||s.type.startsWith("int")){const o=s.type.startsWith("int"),[,,a="256"]=Qp.exec(s.type)??[];return dw(n,{signed:o,size:Number(a)})}if(s.type.startsWith("bytes"))return cw(n,{type:s.type});if(s.type==="string")return fw(n);throw new jc(s.type)}function Uc(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:a,encoded:i}=e[o];a?t+=32:t+=Rt(i)}const n=[],s=[];let r=0;for(let o=0;o<e.length;o++){const{dynamic:a,encoded:i}=e[o];a?(n.push(wt(t+r,{size:32})),s.push(i),r+=Rt(i)):n.push(i)}return ln(...n,...s)}function iw(e,t){const{checksum:n=!1}=t;return si(e,{strict:n}),{dynamic:!1,encoded:Ps(e.toLowerCase())}}function lw(e,t){const{checksumAddress:n,length:s,parameter:r}=t,o=s===null;if(!Array.isArray(e))throw new $w(e);if(!o&&e.length!==s)throw new xw({expectedLength:s,givenLength:e.length,type:`${r.type}[${s}]`});let a=!1;const i=[];for(let l=0;l<e.length;l++){const c=Lc({checksumAddress:n,parameter:r,value:e[l]});c.dynamic&&(a=!0),i.push(c)}if(o||a){const l=Uc(i);if(o){const c=wt(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?ln(c,l):c}}if(a)return{dynamic:!0,encoded:l}}return{dynamic:!1,encoded:ln(...i.map(({encoded:l})=>l))}}function cw(e,{type:t}){const[,n]=t.split("bytes"),s=Rt(e);if(!n){let r=e;return s%32!==0&&(r=Bs(r,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:ln(Ps(wt(s,{size:32})),r)}}if(s!==Number.parseInt(n,10))throw new eh({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Bs(e)}}function uw(e){if(typeof e!="boolean")throw new Te(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ps(pp(e))}}function dw(e,{signed:t,size:n}){if(typeof n=="number"){const s=2n**(BigInt(n)-(t?1n:0n))-1n,r=t?-s-1n:0n;if(e>s||e<r)throw new bp({max:s.toString(),min:r.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:wt(e,{size:32,signed:t})}}function fw(e){const t=Ec(e),n=Math.ceil(Rt(t)/32),s=[];for(let r=0;r<n;r++)s.push(Bs(wn(t,r*32,(r+1)*32)));return{dynamic:!0,encoded:ln(Bs(wt(Rt(t),{size:32})),...s)}}function pw(e,t){const{checksumAddress:n,parameter:s}=t;let r=!1;const o=[];for(let a=0;a<s.components.length;a++){const i=s.components[a],l=Array.isArray(e)?a:i.name,c=Lc({checksumAddress:n,parameter:i,value:e[l]});o.push(c),c.dynamic&&(r=!0)}return{dynamic:r,encoded:r?Uc(o):ln(...o.map(({encoded:a})=>a))}}function Dc(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function vo(e){var s;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(s=e.components)==null?void 0:s.some(vo);const n=Dc(e.type);return!!(n&&vo({...e,type:n[1]}))}const hw={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new gw({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new bw({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new gd({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new gd({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function mw(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(hw);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class gd extends Te{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class bw extends Te{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class gw extends Te{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function yw(e,t,n={}){const{as:s="Array",checksumAddress:r=!1}=n,o=typeof t=="string"?dp(t):t,a=mw(o);if(Gs(o)===0&&e.length>0)throw new ww;if(Gs(o)&&Gs(o)<32)throw new vw({data:typeof t=="string"?t:cn(t),parameters:e,size:Gs(o)});let i=0;const l=s==="Array"?[]:{};for(let c=0;c<e.length;++c){const u=e[c];a.setPosition(i);const[f,p]=sr(a,u,{checksumAddress:r,staticPosition:0});i+=p,s==="Array"?l.push(f):l[u.name??c]=f}return l}function zc(e,t,n){const{checksumAddress:s=!1}={};if(e.length!==t.length)throw new th({expectedLength:e.length,givenLength:t.length});const r=aw({checksumAddress:s,parameters:e,values:t}),o=Uc(r);return o.length===0?"0x":o}function Tl(e,t){if(e.length!==t.length)throw new th({expectedLength:e.length,givenLength:t.length});const n=[];for(let s=0;s<e.length;s++){const r=e[s],o=t[s];n.push(Tl.encode(r,o))}return ln(...n)}(function(e){function t(n,s,r=!1){if(n==="address"){const l=s;return si(l),Ps(l.toLowerCase(),r?32:0)}if(n==="string")return Ec(s);if(n==="bytes")return s;if(n==="bool")return Ps(pp(s),r?32:1);const o=n.match(Qp);if(o){const[l,c,u="256"]=o,f=Number.parseInt(u,10)/8;return wt(s,{size:r?32:f,signed:c==="int"})}const a=n.match(Q5);if(a){const[l,c]=a;if(Number.parseInt(c,10)!==(s.length-2)/2)throw new eh({expectedSize:Number.parseInt(c,10),value:s});return Bs(s,r?32:0)}const i=n.match(J5);if(i&&Array.isArray(s)){const[l,c]=i,u=[];for(let f=0;f<s.length;f++)u.push(t(c,s[f],!0));return u.length===0?"0x":ln(...u)}throw new jc(n)}e.encode=t})(Tl||(Tl={}));function Xp(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?Bu(e):e}class vw extends Te{constructor({data:t,parameters:n,size:s}){super(`Data size of ${s} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Hs(n)})`,`Data:   ${t} (${s} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class ww extends Te{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class xw extends Te{constructor({expectedLength:t,givenLength:n,type:s}){super(`Array length mismatch for type \`${s}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class eh extends Te{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Rt(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class th extends Te{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class $w extends Te{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class jc extends Te{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class nh extends sc{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Qg(t);const s=Fa(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(s.length>r?t.create().update(s).digest():s);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=t.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),cr(o)}update(t){return lr(this),this.iHash.update(t),this}digestInto(t){lr(this),$s(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:s,finished:r,destroyed:o,blockLen:a,outputLen:i}=this;return t=t,t.finished=r,t.destroyed=o,t.blockLen=a,t.outputLen=i,t.oHash=n._cloneInto(t.oHash),t.iHash=s._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const sh=(e,t,n)=>new nh(e,t).update(n).digest();sh.create=(e,t)=>new nh(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ct=BigInt(0),xt=BigInt(1),fs=BigInt(2),kw=BigInt(3),rh=BigInt(4),oh=BigInt(5),ah=BigInt(8);function kt(e,t){const n=e%t;return n>=Ct?n:t+n}function zt(e,t,n){let s=e;for(;t-- >Ct;)s*=s,s%=n;return s}function Cl(e,t){if(e===Ct)throw new Error("invert: expected non-zero number");if(t<=Ct)throw new Error("invert: expected positive modulus, got "+t);let n=kt(e,t),s=t,r=Ct,o=xt;for(;n!==Ct;){const i=s/n,l=s%n,c=r-o*i;s=n,n=l,r=o,o=c}if(s!==xt)throw new Error("invert: does not exist");return kt(r,t)}function ih(e,t){const n=(e.ORDER+xt)/rh,s=e.pow(t,n);if(!e.eql(e.sqr(s),t))throw new Error("Cannot find square root");return s}function Tw(e,t){const n=(e.ORDER-oh)/ah,s=e.mul(t,fs),r=e.pow(s,n),o=e.mul(t,r),a=e.mul(e.mul(o,fs),r),i=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(i),t))throw new Error("Cannot find square root");return i}function Cw(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-xt,n=0;for(;t%fs===Ct;)t/=fs,n++;let s=fs;const r=Wc(e);for(;yd(r,s)===1;)if(s++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return ih;let o=r.pow(s,t);const a=(t+xt)/fs;return function(l,c){if(l.is0(c))return c;if(yd(l,c)!==1)throw new Error("Cannot find square root");let u=n,f=l.mul(l.ONE,o),p=l.pow(c,t),h=l.pow(c,a);for(;!l.eql(p,l.ONE);){if(l.is0(p))return l.ZERO;let g=1,b=l.sqr(p);for(;!l.eql(b,l.ONE);)if(g++,b=l.sqr(b),g===u)throw new Error("Cannot find square root");const T=xt<<BigInt(u-g-1),$=l.pow(f,T);u=g,f=l.sqr($),p=l.mul(p,f),h=l.mul(h,$)}return h}}function _w(e){return e%rh===kw?ih:e%ah===oh?Tw:Cw(e)}const Ew=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Aw(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Ew.reduce((s,r)=>(s[r]="function",s),t);return qa(e,n)}function Pw(e,t,n){if(n<Ct)throw new Error("invalid exponent, negatives unsupported");if(n===Ct)return e.ONE;if(n===xt)return t;let s=e.ONE,r=t;for(;n>Ct;)n&xt&&(s=e.mul(s,r)),r=e.sqr(r),n>>=xt;return s}function lh(e,t,n=!1){const s=new Array(t.length).fill(n?e.ZERO:void 0),r=t.reduce((a,i,l)=>e.is0(i)?a:(s[l]=a,e.mul(a,i)),e.ONE),o=e.inv(r);return t.reduceRight((a,i,l)=>e.is0(i)?a:(s[l]=e.mul(a,s[l]),e.mul(a,i)),o),s}function yd(e,t){const n=(e.ORDER-xt)/fs,s=e.pow(t,n),r=e.eql(s,e.ONE),o=e.eql(s,e.ZERO),a=e.eql(s,e.neg(e.ONE));if(!r&&!o&&!a)throw new Error("invalid Legendre symbol result");return r?1:o?0:-1}function ch(e,t){t!==void 0&&Yr(t);const n=t!==void 0?t:e.toString(2).length,s=Math.ceil(n/8);return{nBitLength:n,nByteLength:s}}function Wc(e,t,n=!1,s={}){if(e<=Ct)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:r,nByteLength:o}=ch(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const i=Object.freeze({ORDER:e,isLE:n,BITS:r,BYTES:o,MASK:Ga(r),ZERO:Ct,ONE:xt,create:l=>kt(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Ct<=l&&l<e},is0:l=>l===Ct,isOdd:l=>(l&xt)===xt,neg:l=>kt(-l,e),eql:(l,c)=>l===c,sqr:l=>kt(l*l,e),add:(l,c)=>kt(l+c,e),sub:(l,c)=>kt(l-c,e),mul:(l,c)=>kt(l*c,e),pow:(l,c)=>Pw(i,l,c),div:(l,c)=>kt(l*Cl(c,e),e),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>Cl(l,e),sqrt:s.sqrt||(l=>(a||(a=_w(e)),a(i,l))),toBytes:l=>n?ap(l,o):Io(l,o),fromBytes:l=>{if(l.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+l.length);return n?op(l):ys(l)},invertBatch:l=>lh(i,l),cmov:(l,c,u)=>u?c:l});return Object.freeze(i)}function uh(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function dh(e){const t=uh(e);return t+Math.ceil(t/2)}function Bw(e,t,n=!1){const s=e.length,r=uh(t),o=dh(t);if(s<16||s<o||s>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+s);const a=n?op(e):ys(e),i=kt(a,t-xt)+xt;return n?ap(i,r):Io(i,r)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vd=BigInt(0),_l=BigInt(1);function Si(e,t){const n=t.negate();return e?n:t}function fh(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Ii(e,t){fh(e,t);const n=Math.ceil(t/e)+1,s=2**(e-1),r=2**e,o=Ga(e),a=BigInt(e);return{windows:n,windowSize:s,mask:o,maxNumber:r,shiftBy:a}}function wd(e,t,n){const{windowSize:s,mask:r,maxNumber:o,shiftBy:a}=n;let i=Number(e&r),l=e>>a;i>s&&(i-=o,l+=_l);const c=t*s,u=c+Math.abs(i)-1,f=i===0,p=i<0,h=t%2!==0;return{nextN:l,offset:u,isZero:f,isNeg:p,isNegF:h,offsetF:c}}function Sw(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,s)=>{if(!(n instanceof t))throw new Error("invalid point at index "+s)})}function Iw(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,s)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+s)})}const Ni=new WeakMap,ph=new WeakMap;function Mi(e){return ph.get(e)||1}function Nw(e,t){return{constTimeNegate:Si,hasPrecomputes(n){return Mi(n)!==1},unsafeLadder(n,s,r=e.ZERO){let o=n;for(;s>vd;)s&_l&&(r=r.add(o)),o=o.double(),s>>=_l;return r},precomputeWindow(n,s){const{windows:r,windowSize:o}=Ii(s,t),a=[];let i=n,l=i;for(let c=0;c<r;c++){l=i,a.push(l);for(let u=1;u<o;u++)l=l.add(i),a.push(l);i=l.double()}return a},wNAF(n,s,r){let o=e.ZERO,a=e.BASE;const i=Ii(n,t);for(let l=0;l<i.windows;l++){const{nextN:c,offset:u,isZero:f,isNeg:p,isNegF:h,offsetF:g}=wd(r,l,i);r=c,f?a=a.add(Si(h,s[g])):o=o.add(Si(p,s[u]))}return{p:o,f:a}},wNAFUnsafe(n,s,r,o=e.ZERO){const a=Ii(n,t);for(let i=0;i<a.windows&&r!==vd;i++){const{nextN:l,offset:c,isZero:u,isNeg:f}=wd(r,i,a);if(r=l,!u){const p=s[c];o=o.add(f?p.negate():p)}}return o},getPrecomputes(n,s,r){let o=Ni.get(s);return o||(o=this.precomputeWindow(s,n),n!==1&&Ni.set(s,r(o))),o},wNAFCached(n,s,r){const o=Mi(n);return this.wNAF(o,this.getPrecomputes(o,n,r),s)},wNAFCachedUnsafe(n,s,r,o){const a=Mi(n);return a===1?this.unsafeLadder(n,s,o):this.wNAFUnsafe(a,this.getPrecomputes(a,n,r),s,o)},setWindowSize(n,s){fh(s,t),ph.set(n,s),Ni.delete(n)}}}function Mw(e,t,n,s){Sw(n,e),Iw(s,t);const r=n.length,o=s.length;if(r!==o)throw new Error("arrays of points and scalars must have equal length");const a=e.ZERO,i=D6(BigInt(r));let l=1;i>12?l=i-3:i>4?l=i-2:i>0&&(l=2);const c=Ga(l),u=new Array(Number(c)+1).fill(a),f=Math.floor((t.BITS-1)/l)*l;let p=a;for(let h=f;h>=0;h-=l){u.fill(a);for(let b=0;b<o;b++){const T=s[b],$=Number(T>>BigInt(h)&c);u[$]=u[$].add(n[b])}let g=a;for(let b=u.length-1,T=a;b>0;b--)T=T.add(u[b]),g=g.add(T);if(p=p.add(g),h!==0)for(let b=0;b<l;b++)p=p.double()}return p}function hh(e){return Aw(e.Fp),qa(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ch(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function xd(e){e.lowS!==void 0&&go("lowS",e.lowS),e.prehash!==void 0&&go("prehash",e.prehash)}function Ow(e){const t=hh(e);qa(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:s,a:r}=t;if(n){if(!s.eql(r,s.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class Rw extends Error{constructor(t=""){super(t)}}const Pn={Err:Rw,_tlv:{encode:(e,t)=>{const{Err:n}=Pn;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const s=t.length/2,r=Vo(s);if(r.length/2&128)throw new n("tlv.encode: long form length too big");const o=s>127?Vo(r.length/2|128):"";return Vo(e)+o+r+t},decode(e,t){const{Err:n}=Pn;let s=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[s++]!==e)throw new n("tlv.decode: wrong tlv");const r=t[s++],o=!!(r&128);let a=0;if(!o)a=r;else{const l=r&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=t.subarray(s,s+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of c)a=a<<8|u;if(s+=l,a<128)throw new n("tlv.decode(long): not minimal encoding")}const i=t.subarray(s,s+a);if(i.length!==a)throw new n("tlv.decode: wrong value length");return{v:i,l:t.subarray(s+a)}}},_int:{encode(e){const{Err:t}=Pn;if(e<Nn)throw new t("integer: negative integers are not allowed");let n=Vo(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Pn;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return ys(e)}},toSig(e){const{Err:t,_int:n,_tlv:s}=Pn,r=Wt("signature",e),{v:o,l:a}=s.decode(48,r);if(a.length)throw new t("invalid signature: left bytes after parsing");const{v:i,l}=s.decode(2,o),{v:c,l:u}=s.decode(2,l);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(i),s:n.decode(c)}},hexFromSig(e){const{_tlv:t,_int:n}=Pn,s=t.encode(2,n.encode(e.r)),r=t.encode(2,n.encode(e.s)),o=s+r;return t.encode(48,o)}};function Oi(e,t){return yo(Io(e,t))}const Nn=BigInt(0),nt=BigInt(1);BigInt(2);const Ri=BigInt(3),Fw=BigInt(4);function Lw(e){const t=Ow(e),{Fp:n}=t,s=Wc(t.n,t.nBitLength),r=t.toBytes||((y,m,v)=>{const _=m.toAffine();return ma(Uint8Array.from([4]),n.toBytes(_.x),n.toBytes(_.y))}),o=t.fromBytes||(y=>{const m=y.subarray(1),v=n.fromBytes(m.subarray(0,n.BYTES)),_=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:v,y:_}});function a(y){const{a:m,b:v}=t,_=n.sqr(y),I=n.mul(_,y);return n.add(n.add(I,n.mul(y,m)),v)}function i(y,m){const v=n.sqr(m),_=a(y);return n.eql(v,_)}if(!i(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const l=n.mul(n.pow(t.a,Ri),Fw),c=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(l,c)))throw new Error("bad curve params: a or b");function u(y){return _c(y,nt,t.n)}function f(y){const{allowedPrivateKeyLengths:m,nByteLength:v,wrapPrivateKey:_,n:I}=t;if(m&&typeof y!="bigint"){if(So(y)&&(y=yo(y)),typeof y!="string"||!m.includes(y.length))throw new Error("invalid private key");y=y.padStart(v*2,"0")}let B;try{B=typeof y=="bigint"?y:ys(Wt("private key",y,v))}catch{throw new Error("invalid private key, expected hex or "+v+" bytes, got "+typeof y)}return _&&(B=kt(B,I)),nr("private key",B,nt,I),B}function p(y){if(!(y instanceof b))throw new Error("ProjectivePoint expected")}const h=nd((y,m)=>{const{px:v,py:_,pz:I}=y;if(n.eql(I,n.ONE))return{x:v,y:_};const B=y.is0();m==null&&(m=B?n.ONE:n.inv(I));const C=n.mul(v,m),k=n.mul(_,m),x=n.mul(I,m);if(B)return{x:n.ZERO,y:n.ZERO};if(!n.eql(x,n.ONE))throw new Error("invZ was invalid");return{x:C,y:k}}),g=nd(y=>{if(y.is0()){if(t.allowInfinityPoint&&!n.is0(y.py))return;throw new Error("bad point: ZERO")}const{x:m,y:v}=y.toAffine();if(!n.isValid(m)||!n.isValid(v))throw new Error("bad point: x or y not FE");if(!i(m,v))throw new Error("bad point: equation left != right");if(!y.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class b{constructor(m,v,_){if(m==null||!n.isValid(m))throw new Error("x required");if(v==null||!n.isValid(v)||n.is0(v))throw new Error("y required");if(_==null||!n.isValid(_))throw new Error("z required");this.px=m,this.py=v,this.pz=_,Object.freeze(this)}static fromAffine(m){const{x:v,y:_}=m||{};if(!m||!n.isValid(v)||!n.isValid(_))throw new Error("invalid affine point");if(m instanceof b)throw new Error("projective point not allowed");const I=B=>n.eql(B,n.ZERO);return I(v)&&I(_)?b.ZERO:new b(v,_,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const v=lh(n,m.map(_=>_.pz));return m.map((_,I)=>_.toAffine(v[I])).map(b.fromAffine)}static fromHex(m){const v=b.fromAffine(o(Wt("pointHex",m)));return v.assertValidity(),v}static fromPrivateKey(m){return b.BASE.multiply(f(m))}static msm(m,v){return Mw(b,s,m,v)}_setWindowSize(m){w.setWindowSize(this,m)}assertValidity(){g(this)}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){p(m);const{px:v,py:_,pz:I}=this,{px:B,py:C,pz:k}=m,x=n.eql(n.mul(v,k),n.mul(B,I)),M=n.eql(n.mul(_,k),n.mul(C,I));return x&&M}negate(){return new b(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b:v}=t,_=n.mul(v,Ri),{px:I,py:B,pz:C}=this;let k=n.ZERO,x=n.ZERO,M=n.ZERO,D=n.mul(I,I),S=n.mul(B,B),O=n.mul(C,C),F=n.mul(I,B);return F=n.add(F,F),M=n.mul(I,C),M=n.add(M,M),k=n.mul(m,M),x=n.mul(_,O),x=n.add(k,x),k=n.sub(S,x),x=n.add(S,x),x=n.mul(k,x),k=n.mul(F,k),M=n.mul(_,M),O=n.mul(m,O),F=n.sub(D,O),F=n.mul(m,F),F=n.add(F,M),M=n.add(D,D),D=n.add(M,D),D=n.add(D,O),D=n.mul(D,F),x=n.add(x,D),O=n.mul(B,C),O=n.add(O,O),D=n.mul(O,F),k=n.sub(k,D),M=n.mul(O,S),M=n.add(M,M),M=n.add(M,M),new b(k,x,M)}add(m){p(m);const{px:v,py:_,pz:I}=this,{px:B,py:C,pz:k}=m;let x=n.ZERO,M=n.ZERO,D=n.ZERO;const S=t.a,O=n.mul(t.b,Ri);let F=n.mul(v,B),j=n.mul(_,C),z=n.mul(I,k),Z=n.add(v,_),K=n.add(B,C);Z=n.mul(Z,K),K=n.add(F,j),Z=n.sub(Z,K),K=n.add(v,I);let A=n.add(B,k);return K=n.mul(K,A),A=n.add(F,z),K=n.sub(K,A),A=n.add(_,I),x=n.add(C,k),A=n.mul(A,x),x=n.add(j,z),A=n.sub(A,x),D=n.mul(S,K),x=n.mul(O,z),D=n.add(x,D),x=n.sub(j,D),D=n.add(j,D),M=n.mul(x,D),j=n.add(F,F),j=n.add(j,F),z=n.mul(S,z),K=n.mul(O,K),j=n.add(j,z),z=n.sub(F,z),z=n.mul(S,z),K=n.add(K,z),F=n.mul(j,K),M=n.add(M,F),F=n.mul(A,K),x=n.mul(Z,x),x=n.sub(x,F),F=n.mul(Z,j),D=n.mul(A,D),D=n.add(D,F),new b(x,M,D)}subtract(m){return this.add(m.negate())}is0(){return this.equals(b.ZERO)}wNAF(m){return w.wNAFCached(this,m,b.normalizeZ)}multiplyUnsafe(m){const{endo:v,n:_}=t;nr("scalar",m,Nn,_);const I=b.ZERO;if(m===Nn)return I;if(this.is0()||m===nt)return this;if(!v||w.hasPrecomputes(this))return w.wNAFCachedUnsafe(this,m,b.normalizeZ);let{k1neg:B,k1:C,k2neg:k,k2:x}=v.splitScalar(m),M=I,D=I,S=this;for(;C>Nn||x>Nn;)C&nt&&(M=M.add(S)),x&nt&&(D=D.add(S)),S=S.double(),C>>=nt,x>>=nt;return B&&(M=M.negate()),k&&(D=D.negate()),D=new b(n.mul(D.px,v.beta),D.py,D.pz),M.add(D)}multiply(m){const{endo:v,n:_}=t;nr("scalar",m,nt,_);let I,B;if(v){const{k1neg:C,k1:k,k2neg:x,k2:M}=v.splitScalar(m);let{p:D,f:S}=this.wNAF(k),{p:O,f:F}=this.wNAF(M);D=w.constTimeNegate(C,D),O=w.constTimeNegate(x,O),O=new b(n.mul(O.px,v.beta),O.py,O.pz),I=D.add(O),B=S.add(F)}else{const{p:C,f:k}=this.wNAF(m);I=C,B=k}return b.normalizeZ([I,B])[0]}multiplyAndAddUnsafe(m,v,_){const I=b.BASE,B=(k,x)=>x===Nn||x===nt||!k.equals(I)?k.multiplyUnsafe(x):k.multiply(x),C=B(this,v).add(B(m,_));return C.is0()?void 0:C}toAffine(m){return h(this,m)}isTorsionFree(){const{h:m,isTorsionFree:v}=t;if(m===nt)return!0;if(v)return v(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:v}=t;return m===nt?this:v?v(b,this):this.multiplyUnsafe(t.h)}toRawBytes(m=!0){return go("isCompressed",m),this.assertValidity(),r(b,this,m)}toHex(m=!0){return go("isCompressed",m),yo(this.toRawBytes(m))}}b.BASE=new b(t.Gx,t.Gy,n.ONE),b.ZERO=new b(n.ZERO,n.ONE,n.ZERO);const{endo:T,nBitLength:$}=t,w=Nw(b,T?Math.ceil($/2):$);return{CURVE:t,ProjectivePoint:b,normPrivateKeyToScalar:f,weierstrassEquation:a,isWithinCurveOrder:u}}function Uw(e){const t=hh(e);return qa(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Dw(e){const t=Uw(e),{Fp:n,n:s,nByteLength:r,nBitLength:o}=t,a=n.BYTES+1,i=2*n.BYTES+1;function l(O){return kt(O,s)}function c(O){return Cl(O,s)}const{ProjectivePoint:u,normPrivateKeyToScalar:f,weierstrassEquation:p,isWithinCurveOrder:h}=Lw({...t,toBytes(O,F,j){const z=F.toAffine(),Z=n.toBytes(z.x),K=ma;return go("isCompressed",j),j?K(Uint8Array.from([F.hasEvenY()?2:3]),Z):K(Uint8Array.from([4]),Z,n.toBytes(z.y))},fromBytes(O){const F=O.length,j=O[0],z=O.subarray(1);if(F===a&&(j===2||j===3)){const Z=ys(z);if(!_c(Z,nt,n.ORDER))throw new Error("Point is not on curve");const K=p(Z);let A;try{A=n.sqrt(K)}catch(ye){const ce=ye instanceof Error?": "+ye.message:"";throw new Error("Point is not on curve"+ce)}const P=(A&nt)===nt;return(j&1)===1!==P&&(A=n.neg(A)),{x:Z,y:A}}else if(F===i&&j===4){const Z=n.fromBytes(z.subarray(0,n.BYTES)),K=n.fromBytes(z.subarray(n.BYTES,2*n.BYTES));return{x:Z,y:K}}else{const Z=a,K=i;throw new Error("invalid Point, expected length of "+Z+", or uncompressed "+K+", got "+F)}}});function g(O){const F=s>>nt;return O>F}function b(O){return g(O)?l(-O):O}const T=(O,F,j)=>ys(O.slice(F,j));class ${constructor(F,j,z){nr("r",F,nt,s),nr("s",j,nt,s),this.r=F,this.s=j,z!=null&&(this.recovery=z),Object.freeze(this)}static fromCompact(F){const j=r;return F=Wt("compactSignature",F,j*2),new $(T(F,0,j),T(F,j,2*j))}static fromDER(F){const{r:j,s:z}=Pn.toSig(Wt("DER",F));return new $(j,z)}assertValidity(){}addRecoveryBit(F){return new $(this.r,this.s,F)}recoverPublicKey(F){const{r:j,s:z,recovery:Z}=this,K=I(Wt("msgHash",F));if(Z==null||![0,1,2,3].includes(Z))throw new Error("recovery id invalid");const A=Z===2||Z===3?j+t.n:j;if(A>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const P=Z&1?"03":"02",V=u.fromHex(P+Oi(A,n.BYTES)),ye=c(A),ce=l(-K*ye),be=l(z*ye),ke=u.BASE.multiplyAndAddUnsafe(V,ce,be);if(!ke)throw new Error("point at infinify");return ke.assertValidity(),ke}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new $(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return ha(this.toDERHex())}toDERHex(){return Pn.hexFromSig(this)}toCompactRawBytes(){return ha(this.toCompactHex())}toCompactHex(){const F=r;return Oi(this.r,F)+Oi(this.s,F)}}const w={isValidPrivateKey(O){try{return f(O),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const O=dh(t.n);return Bw(t.randomBytes(O),t.n)},precompute(O=8,F=u.BASE){return F._setWindowSize(O),F.multiply(BigInt(3)),F}};function y(O,F=!0){return u.fromPrivateKey(O).toRawBytes(F)}function m(O){if(typeof O=="bigint")return!1;if(O instanceof u)return!0;const j=Wt("key",O).length,z=n.BYTES,Z=z+1,K=2*z+1;if(!(t.allowedPrivateKeyLengths||r===Z))return j===Z||j===K}function v(O,F,j=!0){if(m(O)===!0)throw new Error("first arg must be private key");if(m(F)===!1)throw new Error("second arg must be public key");return u.fromHex(F).multiply(f(O)).toRawBytes(j)}const _=t.bits2int||function(O){if(O.length>8192)throw new Error("input is too large");const F=ys(O),j=O.length*8-o;return j>0?F>>BigInt(j):F},I=t.bits2int_modN||function(O){return l(_(O))},B=Ga(o);function C(O){return nr("num < 2^"+o,O,Nn,B),Io(O,r)}function k(O,F,j=x){if(["recovered","canonical"].some(tt=>tt in j))throw new Error("sign() legacy options not supported");const{hash:z,randomBytes:Z}=t;let{lowS:K,prehash:A,extraEntropy:P}=j;K==null&&(K=!0),O=Wt("msgHash",O),xd(j),A&&(O=Wt("prehashed msgHash",z(O)));const V=I(O),ye=f(F),ce=[C(ye),C(V)];if(P!=null&&P!==!1){const tt=P===!0?Z(n.BYTES):P;ce.push(Wt("extraEntropy",tt))}const be=ma(...ce),ke=V;function Me(tt){const gt=_(tt);if(!h(gt))return;const Fs=c(gt),E=u.BASE.multiply(gt).toAffine(),N=l(E.x);if(N===Nn)return;const W=l(Fs*l(ke+N*ye));if(W===Nn)return;let Y=(E.x===N?0:2)|Number(E.y&nt),q=W;return K&&g(W)&&(q=b(W),Y^=1),new $(N,q,Y)}return{seed:be,k2sig:Me}}const x={lowS:t.lowS,prehash:!1},M={lowS:t.lowS,prehash:!1};function D(O,F,j=x){const{seed:z,k2sig:Z}=k(O,F,j),K=t;return z6(K.hash.outputLen,K.nByteLength,K.hmac)(z,Z)}u.BASE._setWindowSize(8);function S(O,F,j,z=M){var Y;const Z=O;F=Wt("msgHash",F),j=Wt("publicKey",j);const{lowS:K,prehash:A,format:P}=z;if(xd(z),"strict"in z)throw new Error("options.strict was renamed to lowS");if(P!==void 0&&P!=="compact"&&P!=="der")throw new Error("format must be compact or der");const V=typeof Z=="string"||So(Z),ye=!V&&!P&&typeof Z=="object"&&Z!==null&&typeof Z.r=="bigint"&&typeof Z.s=="bigint";if(!V&&!ye)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let ce,be;try{if(ye&&(ce=new $(Z.r,Z.s)),V){try{P!=="compact"&&(ce=$.fromDER(Z))}catch(q){if(!(q instanceof Pn.Err))throw q}!ce&&P!=="der"&&(ce=$.fromCompact(Z))}be=u.fromHex(j)}catch{return!1}if(!ce||K&&ce.hasHighS())return!1;A&&(F=t.hash(F));const{r:ke,s:Me}=ce,tt=I(F),gt=c(Me),Fs=l(tt*gt),E=l(ke*gt),N=(Y=u.BASE.multiplyAndAddUnsafe(be,Fs,E))==null?void 0:Y.toAffine();return N?l(N.x)===ke:!1}return{CURVE:t,getPublicKey:y,getSharedSecret:v,sign:D,verify:S,ProjectivePoint:u,Signature:$,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function zw(e){return{hash:e,hmac:(t,...n)=>sh(e,t,ry(...n)),randomBytes:oy}}function jw(e,t){const n=s=>Dw({...e,...zw(s)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mh=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),$d=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ww=BigInt(0),Vw=BigInt(1),El=BigInt(2),kd=(e,t)=>(e+t/El)/t;function Hw(e){const t=mh,n=BigInt(3),s=BigInt(6),r=BigInt(11),o=BigInt(22),a=BigInt(23),i=BigInt(44),l=BigInt(88),c=e*e*e%t,u=c*c*e%t,f=zt(u,n,t)*u%t,p=zt(f,n,t)*u%t,h=zt(p,El,t)*c%t,g=zt(h,r,t)*h%t,b=zt(g,o,t)*g%t,T=zt(b,i,t)*b%t,$=zt(T,l,t)*T%t,w=zt($,i,t)*b%t,y=zt(w,n,t)*u%t,m=zt(y,a,t)*g%t,v=zt(m,s,t)*c%t,_=zt(v,El,t);if(!Al.eql(Al.sqr(_),e))throw new Error("Cannot find square root");return _}const Al=Wc(mh,void 0,void 0,{sqrt:Hw}),ri=jw({a:Ww,b:BigInt(7),Fp:Al,n:$d,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=$d,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),s=-Vw*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),r=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,a=BigInt("0x100000000000000000000000000000000"),i=kd(o*e,t),l=kd(-s*e,t);let c=kt(e-i*n-l*r,t),u=kt(-i*s-l*o,t);const f=c>a,p=u>a;if(f&&(c=t-c),p&&(u=t-u),c>a||u>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:c,k2neg:p,k2:u}}}},G0),Gw=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:ri},Symbol.toStringTag,{value:"Module"}));function bh(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new Fi({signature:e});if(typeof e.s>"u")throw new Fi({signature:e});if(n&&typeof e.yParity>"u")throw new Fi({signature:e});if(e.r<0n||e.r>md)throw new Xw({value:e.r});if(e.s<0n||e.s>md)throw new e2({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new Hc({value:e.yParity})}function qw(e){return gh(cn(e))}function gh(e){if(e.length!==130&&e.length!==132)throw new Qw({signature:e});const t=BigInt(wn(e,0,32)),n=BigInt(wn(e,32,64)),s=(()=>{const r=+`0x${e.slice(130)}`;if(!Number.isNaN(r))try{return Vc(r)}catch{throw new Hc({value:r})}})();return typeof s>"u"?{r:t,s:n}:{r:t,s:n,yParity:s}}function Kw(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return Zw(e)}function Zw(e){const t=typeof e=="string"?gh(e):e instanceof Uint8Array?qw(e):typeof e.r=="string"?Jw(e):e.v?Yw(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return bh(t),t}function Yw(e){return{r:e.r,s:e.s,yParity:Vc(e.v)}}function Jw(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let s=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof s!="number"&&(s=Vc(n)),typeof s!="number")throw new Hc({value:e.yParity});return s})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function Vc(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new t2({value:e})}class Qw extends Te{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Rt(fv(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Fi extends Te{constructor({signature:t}){super(`Signature \`${up(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class Xw extends Te{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class e2 extends Te{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Hc extends Te{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class t2 extends Te{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function n2(e,t={}){return typeof e.chainId=="string"?s2(e):{...e,...t.signature}}function s2(e){const{address:t,chainId:n,nonce:s}=e,r=Kw(e);return{address:t,chainId:Number(n),nonce:BigInt(s),...r}}const r2="0x8010801080108010801080108010801080108010801080108010801080108010",o2=Xp("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function yh(e){if(typeof e=="string"){if(wn(e,-32)!==r2)throw new l2(e)}else bh(e.authorization)}function a2(e){yh(e);const t=mp(wn(e,-64,-32)),n=wn(e,-t-64,-64),s=wn(e,0,-t-64),[r,o,a]=yw(o2,n);return{authorization:n2({address:r.delegation,chainId:Number(r.chainId),nonce:r.nonce,yParity:r.yParity,r:r.r,s:r.s}),signature:s,...a&&a!=="0x"?{data:a,to:o}:{}}}function i2(e){try{return yh(e),!0}catch{return!1}}let l2=class extends Te{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};class c2 extends H{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function Tt(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new c2({value:e});let[n,s="0"]=e.split(".");const r=n.startsWith("-");if(r&&(n=n.slice(1)),s=s.replace(/(0+)$/,""),t===0)Math.round(+`.${s}`)===1&&(n=`${BigInt(n)+1n}`),s="";else if(s.length>t){const[o,a,i]=[s.slice(0,t-1),s.slice(t-1,t),s.slice(t)],l=Math.round(+`${a}.${i}`);l>9?s=`${BigInt(o)+BigInt(1)}0`.padStart(o.length+1,"0"):s=`${o}${l}`,s.length>t&&(s=s.slice(1),n=`${BigInt(n)+1n}`),s=s.slice(0,t)}else s=s.padEnd(t,"0");return BigInt(`${r?"-":""}${n}${s}`)}function rt(e,t="wei"){return Tt(e,B0[t])}function u2(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function d2(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Kt(e.nonce):void 0,storageProof:e.storageProof?u2(e.storageProof):void 0}}async function f2(e,{address:t,blockNumber:n,blockTag:s,storageKeys:r}){const o=s??"latest",a=n!==void 0?ne(n):void 0,i=await e.request({method:"eth_getProof",params:[t,r,a||o]});return d2(i)}async function p2(e,{address:t,blockNumber:n,blockTag:s="latest",slot:r}){const o=n!==void 0?ne(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,r,o||s]})}async function Gc(e,{blockHash:t,blockNumber:n,blockTag:s,hash:r,index:o}){var u,f,p;const a=s||"latest",i=n!==void 0?ne(n):void 0;let l=null;if(r?l=await e.request({method:"eth_getTransactionByHash",params:[r]},{dedupe:!0}):t?l=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,ne(o)]},{dedupe:!0}):l=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[i||a,ne(o)]},{dedupe:!!i}),!l)throw new S0({blockHash:t,blockNumber:n,blockTag:a,hash:r,index:o});return(((p=(f=(u=e.chain)==null?void 0:u.formatters)==null?void 0:f.transaction)==null?void 0:p.format)||W0)(l)}async function h2(e,{hash:t,transactionReceipt:n}){const[s,r]=await Promise.all([pe(e,Mo,"getBlockNumber")({}),t?pe(e,Gc,"getTransaction")({hash:t}):void 0]),o=(n==null?void 0:n.blockNumber)||(r==null?void 0:r.blockNumber);return o?s-o+1n:0n}async function ea(e,{hash:t}){var r,o,a;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new I0({hash:t});return(((a=(o=(r=e.chain)==null?void 0:r.formatters)==null?void 0:o.transactionReceipt)==null?void 0:a.format)||Fv)(n)}async function m2(e,t){var w;const{account:n,authorizationList:s,allowFailure:r=!0,blockNumber:o,blockOverrides:a,blockTag:i,stateOverride:l}=t,c=t.contracts,{batchSize:u=t.batchSize??1024,deployless:f=t.deployless??!1}=typeof((w=e.batch)==null?void 0:w.multicall)=="object"?e.batch.multicall:{},p=(()=>{if(t.multicallAddress)return t.multicallAddress;if(f)return null;if(e.chain)return $r({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let g=0,b=0;for(let y=0;y<c.length;y++){const{abi:m,address:v,args:_,functionName:I}=c[y];try{const B=$t({abi:m,args:_,functionName:I});b+=(B.length-2)/2,u>0&&b>u&&h[g].length>0&&(g++,b=(B.length-2)/2,h[g]=[]),h[g]=[...h[g],{allowFailure:!0,callData:B,target:v}]}catch(B){const C=_s(B,{abi:m,address:v,args:_,docsPath:"/docs/contract/multicall",functionName:I,sender:n});if(!r)throw C;h[g]=[...h[g],{allowFailure:!0,callData:"0x",target:v}]}}const T=await Promise.allSettled(h.map(y=>pe(e,un,"readContract")({...p===null?{code:Ac}:{address:p},abi:ba,account:n,args:[y],authorizationList:s,blockNumber:o,blockOverrides:a,blockTag:i,functionName:"aggregate3",stateOverride:l}))),$=[];for(let y=0;y<T.length;y++){const m=T[y];if(m.status==="rejected"){if(!r)throw m.reason;for(let _=0;_<h[y].length;_++)$.push({status:"failure",error:m.reason,result:void 0});continue}const v=m.value;for(let _=0;_<v.length;_++){const{returnData:I,success:B}=v[_],{callData:C}=h[y][_],{abi:k,address:x,functionName:M,args:D}=c[$.length];try{if(C==="0x")throw new ko;if(!B)throw new za({data:I});const S=Os({abi:k,args:D,data:I,functionName:M});$.push(r?{result:S,status:"success"}:S)}catch(S){const O=_s(S,{abi:k,address:x,args:D,docsPath:"/docs/contract/multicall",functionName:M});if(!r)throw O;$.push({error:O,result:void 0,status:"failure"})}}}if($.length!==c.length)throw new H("multicall results mismatch");return $}async function Pl(e,t){const{blockNumber:n,blockTag:s=e.experimental_blockTag??"latest",blocks:r,returnFullTransactions:o,traceTransfers:a,validation:i}=t;try{const l=[];for(const p of r){const h=p.blockOverrides?yp(p.blockOverrides):void 0,g=p.calls.map(T=>{const $=T,w=$.account?Ke($.account):void 0,y=$.abi?$t($):$.data,m={...$,data:$.dataSuffix?Yt([y||"0x",$.dataSuffix]):y,from:$.from??(w==null?void 0:w.address)};return Ms(m),wr(m)}),b=p.stateOverrides?pc(p.stateOverrides):void 0;l.push({blockOverrides:h,calls:g,stateOverrides:b})}const u=(typeof n=="bigint"?ne(n):void 0)||s;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:l,returnFullTransactions:o,traceTransfers:a,validation:i},u]})).map((p,h)=>({...V0(p),calls:p.calls.map((g,b)=>{var k,x;const{abi:T,args:$,functionName:w,to:y}=r[h].calls[b],m=((k=g.error)==null?void 0:k.data)??g.returnData,v=BigInt(g.gasUsed),_=(x=g.logs)==null?void 0:x.map(M=>jn(M)),I=g.status==="0x1"?"success":"failure",B=T&&I==="success"&&m!=="0x"?Os({abi:T,data:m,functionName:w}):null,C=(()=>{var D;if(I==="success")return;let M;if(((D=g.error)==null?void 0:D.data)==="0x"?M=new ko:g.error&&(M=new za(g.error)),!!M)return _s(M,{abi:T??[],address:y??"0x",args:$,functionName:w??"<unknown>"})})();return{data:m,gasUsed:v,logs:_,status:I,...I==="success"?{result:B}:{error:C}}})}))}catch(l){const c=l,u=ja(c,{});throw u instanceof Po?c:u}}function Bl(e){let t=!0,n="",s=0,r="",o=!1;for(let a=0;a<e.length;a++){const i=e[a];if(["(",")",","].includes(i)&&(t=!0),i==="("&&s++,i===")"&&s--,!!t){if(s===0){if(i===" "&&["event","function","error",""].includes(r))r="";else if(r+=i,i===")"){o=!0;break}continue}if(i===" "){e[a-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}r+=i,n+=i}}if(!o)throw new Te("Unable to normalize signature.");return r}function Sl(e,t){const n=typeof e,s=t.type;switch(s){case"address":return $l(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return s==="tuple"&&"components"in t?Object.values(t.components).every((r,o)=>Sl(Object.values(e)[o],r)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(s)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(s)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(s)?Array.isArray(e)&&e.every(r=>Sl(r,{...t,type:s.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function vh(e,t,n){for(const s in e){const r=e[s],o=t[s];if(r.type==="tuple"&&o.type==="tuple"&&"components"in r&&"components"in o)return vh(r.components,o.components,n[s]);const a=[r.type,o.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?$l(n[s],{strict:!1}):a.includes("address")&&a.includes("bytes")?$l(n[s],{strict:!1}):!1)return a}}function wh(e,t={}){const{prepare:n=!0}=t,s=Array.isArray(e)||typeof e=="string"?Pu(e):e;return{...s,...n?{hash:qs(s)}:{}}}function b2(e,t,n){const{args:s=[],prepare:r=!0}=n??{},o=pv(t,{strict:!1}),a=e.filter(c=>o?c.type==="function"||c.type==="error"?xh(c)===wn(t,0,4):c.type==="event"?qs(c)===t:!1:"name"in c&&c.name===t);if(a.length===0)throw new Il({name:t});if(a.length===1)return{...a[0],...r?{hash:qs(a[0])}:{}};let i;for(const c of a){if(!("inputs"in c))continue;if(!s||s.length===0){if(!c.inputs||c.inputs.length===0)return{...c,...r?{hash:qs(c)}:{}};continue}if(!c.inputs||c.inputs.length===0||c.inputs.length!==s.length)continue;if(s.every((f,p)=>{const h="inputs"in c&&c.inputs[p];return h?Sl(f,h):!1})){if(i&&"inputs"in i&&i.inputs){const f=vh(c.inputs,i.inputs,s);if(f)throw new y2({abiItem:c,type:f[0]},{abiItem:i,type:f[1]})}i=c}}const l=(()=>{if(i)return i;const[c,...u]=a;return{...c,overloads:u}})();if(!l)throw new Il({name:t});return{...l,...r?{hash:qs(l)}:{}}}function xh(e){return wn(qs(e),0,4)}function g2(e){const t=typeof e=="string"?e:pa(e);return Bl(t)}function qs(e){return typeof e!="string"&&"hash"in e&&e.hash?e.hash:Yp(Ec(g2(e)))}class y2 extends Te{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${Bl(pa(t.abiItem))}\`, and`,`\`${n.type}\` in \`${Bl(pa(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Il extends Te{constructor({name:t,data:n,type:s="item"}){const r=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${s}${r} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function v2(e,t){var r;const{bytecode:n,args:s}=t;return ln(n,(r=e.inputs)!=null&&r.length&&(s!=null&&s.length)?zc(e.inputs,s):"0x")}function w2(e){return wh(e)}function x2(e,...t){const{overloads:n}=e,s=n?$2([e,...n],e.name,{args:t[0]}):e,r=k2(s),o=t.length>0?zc(s.inputs,t[0]):void 0;return o?ln(r,o):r}function zs(e,t={}){return wh(e,t)}function $2(e,t,n){const s=b2(e,t,n);if(s.type!=="function")throw new Il({name:t,type:"function"});return s}function k2(e){return xh(e)}const T2="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",hn="0x0000000000000000000000000000000000000000",C2="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function _2(e,t){const{blockNumber:n,blockTag:s,calls:r,stateOverrides:o,traceAssetChanges:a,traceTransfers:i,validation:l}=t,c=t.account?Ke(t.account):void 0;if(a&&!c)throw new H("`account` is required when `traceAssetChanges` is true");const u=c?v2(w2("constructor(bytes, bytes)"),{bytecode:$p,args:[C2,x2(zs("function getBalance(address)"),[c.address])]}):void 0,f=a?await Promise.all(t.calls.map(async z=>{if(!z.data&&!z.abi)return;const{accessList:Z}=await Up(e,{account:c.address,...z,data:z.abi?$t(z):z.data});return Z.map(({address:K,storageKeys:A})=>A.length>0?K:null)})).then(z=>z.flat().filter(Boolean)):[],p=await Pl(e,{blockNumber:n,blockTag:s,blocks:[...a?[{calls:[{data:u}],stateOverrides:o},{calls:f.map((z,Z)=>({abi:[zs("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:z,from:hn,nonce:Z})),stateOverrides:[{address:hn,nonce:0}]}]:[],{calls:[...r,{}].map(z=>({...z,from:c==null?void 0:c.address})),stateOverrides:o},...a?[{calls:[{data:u}]},{calls:f.map((z,Z)=>({abi:[zs("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:z,from:hn,nonce:Z})),stateOverrides:[{address:hn,nonce:0}]},{calls:f.map((z,Z)=>({to:z,abi:[zs("function decimals() returns (uint256)")],functionName:"decimals",from:hn,nonce:Z})),stateOverrides:[{address:hn,nonce:0}]},{calls:f.map((z,Z)=>({to:z,abi:[zs("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:hn,nonce:Z})),stateOverrides:[{address:hn,nonce:0}]},{calls:f.map((z,Z)=>({to:z,abi:[zs("function symbol() returns (string)")],functionName:"symbol",from:hn,nonce:Z})),stateOverrides:[{address:hn,nonce:0}]}]:[]],traceTransfers:i,validation:l}),h=a?p[2]:p[0],[g,b,,T,$,w,y,m]=a?p:[],{calls:v,..._}=h,I=v.slice(0,-1)??[],B=(g==null?void 0:g.calls)??[],C=(b==null?void 0:b.calls)??[],k=[...B,...C].map(z=>z.status==="success"?Ot(z.data):null),x=(T==null?void 0:T.calls)??[],M=($==null?void 0:$.calls)??[],D=[...x,...M].map(z=>z.status==="success"?Ot(z.data):null),S=((w==null?void 0:w.calls)??[]).map(z=>z.status==="success"?z.result:null),O=((m==null?void 0:m.calls)??[]).map(z=>z.status==="success"?z.result:null),F=((y==null?void 0:y.calls)??[]).map(z=>z.status==="success"?z.result:null),j=[];for(const[z,Z]of D.entries()){const K=k[z];if(typeof Z!="bigint"||typeof K!="bigint")continue;const A=S[z-1],P=O[z-1],V=F[z-1],ye=z===0?{address:T2,decimals:18,symbol:"ETH"}:{address:f[z-1],decimals:V||A?Number(A??1):void 0,symbol:P??void 0};j.some(ce=>ce.token.address===ye.address)||j.push({token:ye,value:{pre:K,post:Z,diff:Z-K}})}return{assetChanges:j,block:_,results:I}}const $h="0x6492649264926492649264926492649264926492649264926492649264926492";function E2(e){if(wn(e,-32)!==$h)throw new B2(e)}function A2(e){const{data:t,signature:n,to:s}=e;return ln(zc(Xp("address, bytes, bytes"),[s,t,n]),$h)}function P2(e){try{return E2(e),!0}catch{return!1}}class B2 extends Te{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function kh({r:e,s:t,to:n="hex",v:s,yParity:r}){const o=(()=>{if(r===0||r===1)return r;if(s&&(s===27n||s===28n||s>=35n))return s%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),a=`0x${new ri.Signature(Ot(e),Ot(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?a:an(a)}async function oi(e,t){var i,l,c,u,f,p;const{address:n,hash:s,erc6492VerifierAddress:r=t.universalSignatureVerifierAddress??((c=(l=(i=e.chain)==null?void 0:i.contracts)==null?void 0:l.erc6492Verifier)==null?void 0:c.address),multicallAddress:o=t.multicallAddress??((p=(f=(u=e.chain)==null?void 0:u.contracts)==null?void 0:f.multicall3)==null?void 0:p.address)}=t,a=(()=>{const h=t.signature;return on(h)?h:typeof h=="object"&&"r"in h&&"s"in h?kh(h):Je(h)})();try{return i2(a)?await S2(e,{...t,multicallAddress:o,signature:a}):await I2(e,{...t,verifierAddress:r,signature:a})}catch(h){try{if(Bo(De(n),await F0({hash:s,signature:a})))return!0}catch{}if(h instanceof Ss)return!1;throw h}}async function S2(e,t){var T;const{address:n,blockNumber:s,blockTag:r,hash:o,multicallAddress:a}=t,{authorization:i,data:l,signature:c,to:u}=a2(t.signature);if(await xl(e,{address:n,blockNumber:s,blockTag:r})===Jt(["0xef0100",i.address]))return await N2(e,{address:n,blockNumber:s,blockTag:r,hash:o,signature:c});const p={address:i.address,chainId:Number(i.chainId),nonce:Number(i.nonce),r:ne(i.r,{size:32}),s:ne(i.s,{size:32}),yParity:i.yParity};if(!await P5({address:n,authorization:p}))throw new Ss;const g=await pe(e,un,"readContract")({...a?{address:a}:{code:Ac},authorizationList:[p],abi:ba,blockNumber:s,blockTag:"pending",functionName:"aggregate3",args:[[...l?[{allowFailure:!0,target:u??n,callData:l}]:[],{allowFailure:!0,target:n,callData:$t({abi:xp,functionName:"isValidSignature",args:[o,c]})}]]}),b=(T=g[g.length-1])==null?void 0:T.returnData;if(b!=null&&b.startsWith("0x1626ba7e"))return!0;throw new Ss}async function I2(e,t){const{address:n,factory:s,factoryData:r,hash:o,signature:a,verifierAddress:i,...l}=t,c=await(async()=>!s&&!r||P2(a)?a:A2({data:r,signature:a,to:s}))(),u=i?{to:i,data:$t({abi:ld,functionName:"isValidSig",args:[n,o,c]}),...l}:{data:Ya({abi:ld,args:[n,o,c],bytecode:wv}),...l},{data:f}=await pe(e,Ja,"call")(u).catch(p=>{throw p instanceof N0?new Ss:p});if(Ug(f??"0x0"))return!0;throw new Ss}async function N2(e,t){const{address:n,blockNumber:s,blockTag:r,hash:o,signature:a}=t;if((await pe(e,un,"readContract")({address:n,abi:xp,args:[o,a],blockNumber:s,blockTag:r,functionName:"isValidSignature"}).catch(l=>{throw l instanceof M0?new Ss:l})).startsWith("0x1626ba7e"))return!0;throw new Ss}class Ss extends Error{}async function M2(e,{address:t,message:n,factory:s,factoryData:r,signature:o,...a}){const i=Fc(n);return oi(e,{address:t,factory:s,factoryData:r,hash:i,signature:o,...a})}async function O2(e,t){const{address:n,factory:s,factoryData:r,signature:o,message:a,primaryType:i,types:l,domain:c,...u}=t,f=Hp({message:a,primaryType:i,types:l,domain:c});return oi(e,{address:n,factory:s,factoryData:r,hash:f,signature:o,...u})}function Th(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:s,onError:r,poll:o,pollingInterval:a=e.pollingInterval}){const i=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let l;return i?(()=>{const f=et(["watchBlockNumber",e.uid,t,n,a]);return Wn(f,{onBlockNumber:s,onError:r},p=>kr(async()=>{var h;try{const g=await pe(e,Mo,"getBlockNumber")({cacheTime:0});if(l!==void 0){if(g===l)return;if(g-l>1&&n)for(let b=l+1n;b<g;b++)p.onBlockNumber(b,l),l=b}(l===void 0||g>l)&&(p.onBlockNumber(g,l),l=g)}catch(g){(h=p.onError)==null||h.call(p,g)}},{emitOnBegin:t,interval:a}))})():(()=>{const f=et(["watchBlockNumber",e.uid,t,n]);return Wn(f,{onBlockNumber:s,onError:r},p=>{let h=!0,g=()=>h=!1;return(async()=>{try{const b=(()=>{if(e.transport.type==="fallback"){const $=e.transport.transports.find(w=>w.config.type==="webSocket"||w.config.type==="ipc");return $?$.value:e.transport}return e.transport})(),{unsubscribe:T}=await b.subscribe({params:["newHeads"],onData($){var y;if(!h)return;const w=Ot((y=$.result)==null?void 0:y.number);p.onBlockNumber(w,l),l=w},onError($){var w;(w=p.onError)==null||w.call(p,$)}});g=T,h||g()}catch(b){r==null||r(b)}})(),()=>g()})})()}async function R2(e,t){const{checkReplacement:n=!0,confirmations:s=1,hash:r,onReplaced:o,retryCount:a=6,retryDelay:i=({count:v})=>~~(1<<v)*200,timeout:l=18e4}=t,c=et(["waitForTransactionReceipt",e.uid,r]),u=(()=>{var v;return t.pollingInterval?t.pollingInterval:(v=e.chain)!=null&&v.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let f,p,h,g=!1,b,T;const{promise:$,resolve:w,reject:y}=Pc(),m=l?setTimeout(()=>{T==null||T(),b==null||b(),y(new t6({hash:r}))},l):void 0;return b=Wn(c,{onReplaced:o,resolve:w,reject:y},async v=>{if(h=await pe(e,ea,"getTransactionReceipt")({hash:r}).catch(()=>{}),h&&s<=1){clearTimeout(m),v.resolve(h),b==null||b();return}T=pe(e,Th,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:u,async onBlockNumber(_){const I=C=>{clearTimeout(m),T==null||T(),C(),b==null||b()};let B=_;if(!g)try{if(h){if(s>1&&(!h.blockNumber||B-h.blockNumber+1n<s))return;I(()=>v.resolve(h));return}if(n&&!f&&(g=!0,await ya(async()=>{f=await pe(e,Gc,"getTransaction")({hash:r}),f.blockNumber&&(B=f.blockNumber)},{delay:i,retryCount:a}),g=!1),h=await pe(e,ea,"getTransactionReceipt")({hash:r}),s>1&&(!h.blockNumber||B-h.blockNumber+1n<s))return;I(()=>v.resolve(h))}catch(C){if(C instanceof S0||C instanceof I0){if(!f){g=!1;return}try{p=f,g=!0;const k=await ya(()=>pe(e,yn,"getBlock")({blockNumber:B,includeTransactions:!0}),{delay:i,retryCount:a,shouldRetry:({error:D})=>D instanceof z0});g=!1;const x=k.transactions.find(({from:D,nonce:S})=>D===p.from&&S===p.nonce);if(!x||(h=await pe(e,ea,"getTransactionReceipt")({hash:x.hash}),s>1&&(!h.blockNumber||B-h.blockNumber+1n<s)))return;let M="replaced";x.to===p.to&&x.value===p.value&&x.input===p.input?M="repriced":x.from===x.to&&x.value===0n&&(M="cancelled"),I(()=>{var D;(D=v.onReplaced)==null||D.call(v,{reason:M,replacedTransaction:p,transaction:x,transactionReceipt:h}),v.resolve(h)})}catch(k){I(()=>v.reject(k))}}else I(()=>v.reject(C))}}})}),$}function F2(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:s=!1,onBlock:r,onError:o,includeTransactions:a,poll:i,pollingInterval:l=e.pollingInterval}){const c=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),u=a??!1;let f;return c?(()=>{const g=et(["watchBlocks",e.uid,t,n,s,u,l]);return Wn(g,{onBlock:r,onError:o},b=>kr(async()=>{var T;try{const $=await pe(e,yn,"getBlock")({blockTag:t,includeTransactions:u});if($.number!==null&&(f==null?void 0:f.number)!=null){if($.number===f.number)return;if($.number-f.number>1&&n)for(let w=(f==null?void 0:f.number)+1n;w<$.number;w++){const y=await pe(e,yn,"getBlock")({blockNumber:w,includeTransactions:u});b.onBlock(y,f),f=y}}((f==null?void 0:f.number)==null||t==="pending"&&($==null?void 0:$.number)==null||$.number!==null&&$.number>f.number)&&(b.onBlock($,f),f=$)}catch($){(T=b.onError)==null||T.call(b,$)}},{emitOnBegin:s,interval:l}))})():(()=>{let g=!0,b=!0,T=()=>g=!1;return(async()=>{try{s&&pe(e,yn,"getBlock")({blockTag:t,includeTransactions:u}).then(y=>{g&&b&&(r(y,void 0),b=!1)}).catch(o);const $=(()=>{if(e.transport.type==="fallback"){const y=e.transport.transports.find(m=>m.config.type==="webSocket"||m.config.type==="ipc");return y?y.value:e.transport}return e.transport})(),{unsubscribe:w}=await $.subscribe({params:["newHeads"],async onData(y){var v;if(!g)return;const m=await pe(e,yn,"getBlock")({blockNumber:(v=y.result)==null?void 0:v.number,includeTransactions:u}).catch(()=>{});g&&(r(m,f),b=!1,f=m)},onError(y){o==null||o(y)}});T=w,g||T()}catch($){o==null||o($)}})(),()=>T()})()}function L2(e,{address:t,args:n,batch:s=!0,event:r,events:o,fromBlock:a,onError:i,onLogs:l,poll:c,pollingInterval:u=e.pollingInterval,strict:f}){const p=typeof c<"u"?c:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),h=f??!1;return p?(()=>{const T=et(["watchEvent",t,n,s,e.uid,r,u,a]);return Wn(T,{onLogs:l,onError:i},$=>{let w;a!==void 0&&(w=a-1n);let y,m=!1;const v=kr(async()=>{var _;if(!m){try{y=await pe(e,Dp,"createEventFilter")({address:t,args:n,event:r,events:o,strict:h,fromBlock:a})}catch{}m=!0;return}try{let I;if(y)I=await pe(e,Qa,"getFilterChanges")({filter:y});else{const B=await pe(e,Mo,"getBlockNumber")({});w&&w!==B?I=await pe(e,kc,"getLogs")({address:t,args:n,event:r,events:o,fromBlock:w+1n,toBlock:B}):I=[],w=B}if(I.length===0)return;if(s)$.onLogs(I);else for(const B of I)$.onLogs([B])}catch(I){y&&I instanceof Cs&&(m=!1),(_=$.onError)==null||_.call($,I)}},{emitOnBegin:!0,interval:u});return async()=>{y&&await pe(e,Xa,"uninstallFilter")({filter:y}),v()}})})():(()=>{let T=!0,$=()=>T=!1;return(async()=>{try{const w=(()=>{if(e.transport.type==="fallback"){const _=e.transport.transports.find(I=>I.config.type==="webSocket"||I.config.type==="ipc");return _?_.value:e.transport}return e.transport})(),y=o??(r?[r]:void 0);let m=[];y&&(m=[y.flatMap(I=>_o({abi:[I],eventName:I.name,args:n}))],r&&(m=m[0]));const{unsubscribe:v}=await w.subscribe({params:["logs",{address:t,topics:m}],onData(_){var B;if(!T)return;const I=_.result;try{const{eventName:C,args:k}=xc({abi:y??[],data:I.data,topics:I.topics,strict:h}),x=jn(I,{args:k,eventName:C});l([x])}catch(C){let k,x;if(C instanceof Zr||C instanceof Ra){if(f)return;k=C.abiItem.name,x=(B=C.abiItem.inputs)==null?void 0:B.some(D=>!("name"in D&&D.name))}const M=jn(I,{args:x?[]:{},eventName:k});l([M])}},onError(_){i==null||i(_)}});$=v,T||$()}catch(w){i==null||i(w)}})(),()=>$()})()}function U2(e,{batch:t=!0,onError:n,onTransactions:s,poll:r,pollingInterval:o=e.pollingInterval}){return(typeof r<"u"?r:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const c=et(["watchPendingTransactions",e.uid,t,o]);return Wn(c,{onTransactions:s,onError:n},u=>{let f;const p=kr(async()=>{var h;try{if(!f)try{f=await pe(e,zp,"createPendingTransactionFilter")({});return}catch(b){throw p(),b}const g=await pe(e,Qa,"getFilterChanges")({filter:f});if(g.length===0)return;if(t)u.onTransactions(g);else for(const b of g)u.onTransactions([b])}catch(g){(h=u.onError)==null||h.call(u,g)}},{emitOnBegin:!0,interval:o});return async()=>{f&&await pe(e,Xa,"uninstallFilter")({filter:f}),p()}})})():(()=>{let c=!0,u=()=>c=!1;return(async()=>{try{const{unsubscribe:f}=await e.transport.subscribe({params:["newPendingTransactions"],onData(p){if(!c)return;const h=p.result;s([h])},onError(p){n==null||n(p)}});u=f,c||u()}catch(f){n==null||n(f)}})(),()=>u()})()}function D2(e){var f,p,h;const{scheme:t,statement:n,...s}=((f=e.match(z2))==null?void 0:f.groups)??{},{chainId:r,expirationTime:o,issuedAt:a,notBefore:i,requestId:l,...c}=((p=e.match(j2))==null?void 0:p.groups)??{},u=(h=e.split("Resources:")[1])==null?void 0:h.split(`
- `).slice(1);return{...s,...c,...r?{chainId:Number(r)}:{},...o?{expirationTime:new Date(o)}:{},...a?{issuedAt:new Date(a)}:{},...i?{notBefore:new Date(i)}:{},...l?{requestId:l}:{},...u?{resources:u}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const z2=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,j2=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function W2(e){const{address:t,domain:n,message:s,nonce:r,scheme:o,time:a=new Date}=e;if(n&&s.domain!==n||r&&s.nonce!==r||o&&s.scheme!==o||s.expirationTime&&a>=s.expirationTime||s.notBefore&&a<s.notBefore)return!1;try{if(!s.address||!Qe(s.address,{strict:!1})||t&&!Bo(s.address,t))return!1}catch{return!1}return!0}async function V2(e,t){const{address:n,domain:s,message:r,nonce:o,scheme:a,signature:i,time:l=new Date,...c}=t,u=D2(r);if(!u.address||!W2({address:n,domain:s,message:u,nonce:o,scheme:a,time:l}))return!1;const p=Fc(r);return oi(e,{address:u.address,hash:p,signature:i,...c})}function H2(e){return{call:t=>Ja(e,t),createAccessList:t=>Up(e,t),createBlockFilter:()=>c5(e),createContractEventFilter:t=>_0(e,t),createEventFilter:t=>Dp(e,t),createPendingTransactionFilter:()=>zp(e),estimateContractGas:t=>R6(e,t),estimateGas:t=>wc(e,t),getBalance:t=>tp(e,t),getBlobBaseFee:()=>u5(e),getBlock:t=>yn(e,t),getBlockNumber:t=>Mo(e,t),getBlockTransactionCount:t=>d5(e,t),getBytecode:t=>xl(e,t),getChainId:()=>xr(e),getCode:t=>xl(e,t),getContractEvents:t=>np(e,t),getEip712Domain:t=>p5(e,t),getEnsAddress:t=>qv(e,t),getEnsAvatar:t=>a5(e,t),getEnsName:t=>i5(e,t),getEnsResolver:t=>l5(e,t),getEnsText:t=>Lp(e,t),getFeeHistory:t=>b5(e,t),estimateFeesPerGas:t=>$6(e,t),getFilterChanges:t=>Qa(e,t),getFilterLogs:t=>g5(e,t),getGasPrice:()=>mc(e),getLogs:t=>kc(e,t),getProof:t=>f2(e,t),estimateMaxPriorityFeePerGas:t=>x6(e,t),getStorageAt:t=>p2(e,t),getTransaction:t=>Gc(e,t),getTransactionConfirmations:t=>h2(e,t),getTransactionCount:t=>bc(e,t),getTransactionReceipt:t=>ea(e,t),multicall:t=>m2(e,t),prepareTransactionRequest:t=>Ha(e,t),readContract:t=>un(e,t),sendRawTransaction:t=>Bc(e,t),simulate:t=>Pl(e,t),simulateBlocks:t=>Pl(e,t),simulateCalls:t=>_2(e,t),simulateContract:t=>Ev(e,t),verifyHash:t=>oi(e,t),verifyMessage:t=>M2(e,t),verifySiweMessage:t=>V2(e,t),verifyTypedData:t=>O2(e,t),uninstallFilter:t=>Xa(e,t),waitForTransactionReceipt:t=>R2(e,t),watchBlocks:t=>F2(e,t),watchBlockNumber:t=>Th(e,t),watchContractEvent:t=>Mv(e,t),watchEvent:t=>L2(e,t),watchPendingTransactions:t=>U2(e,t)}}function Xn(e){const{key:t="public",name:n="Public Client"}=e;return Mp({...e,key:t,name:n,type:"publicClient"}).extend(H2)}async function G2(e,{chain:t}){const{id:n,name:s,nativeCurrency:r,rpcUrls:o,blockExplorers:a}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:ne(n),chainName:s,nativeCurrency:r,rpcUrls:o.default.http,blockExplorerUrls:a?Object.values(a).map(({url:i})=>i):void 0}]},{dedupe:!0,retryCount:0})}function q2(e,t){const{abi:n,args:s,bytecode:r,...o}=t,a=Ya({abi:n,args:s,bytecode:r});return ei(e,{...o,...o.authorizationList?{to:null}:{},data:a})}async function K2(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(s=>To(s))}async function Z2(e,t={}){const{account:n=e.account,chainId:s}=t,r=n?Ke(n):void 0,o=s?[r==null?void 0:r.address,[ne(s)]]:[r==null?void 0:r.address],a=await e.request({method:"wallet_getCapabilities",params:o}),i={};for(const[l,c]of Object.entries(a)){i[Number(l)]={};for(let[u,f]of Object.entries(c))u==="addSubAccount"&&(u="unstable_addSubAccount"),i[Number(l)][u]=f}return typeof s=="number"?i[s]:i}async function Y2(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function Ch(e,t){var l;const{account:n=e.account,chainId:s,nonce:r}=t;if(!n)throw new Rs({docsPath:"/docs/eip7702/prepareAuthorization"});const o=Ke(n),a=(()=>{if(t.executor)return t.executor==="self"?t.executor:Ke(t.executor)})(),i={address:t.contractAddress??t.address,chainId:s,nonce:r};return typeof i.chainId>"u"&&(i.chainId=((l=e.chain)==null?void 0:l.id)??await pe(e,xr,"getChainId")({})),typeof i.nonce>"u"&&(i.nonce=await pe(e,bc,"getTransactionCount")({address:o.address,blockTag:"pending"}),(a==="self"||a!=null&&a.address&&Bo(a.address,o.address))&&(i.nonce+=1)),i}async function J2(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>De(n))}async function Q2(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function X2(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function ex(e,t){const{account:n=e.account}=t;if(!n)throw new Rs({docsPath:"/docs/eip7702/signAuthorization"});const s=Ke(n);if(!s.signAuthorization)throw new Xo({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:s.type});const r=await Ch(e,t);return s.signAuthorization(r)}async function tx(e,{account:t=e.account,message:n}){if(!t)throw new Rs({docsPath:"/docs/actions/wallet/signMessage"});const s=Ke(t);if(s.signMessage)return s.signMessage({message:n});const r=typeof n=="string"?xs(n):n.raw instanceof Uint8Array?Zt(n.raw):n.raw;return e.request({method:"personal_sign",params:[r,s.address]},{retryCount:0})}async function nx(e,t){var c,u,f,p;const{account:n=e.account,chain:s=e.chain,...r}=t;if(!n)throw new Rs({docsPath:"/docs/actions/wallet/signTransaction"});const o=Ke(n);Ms({account:o,...t});const a=await pe(e,xr,"getChainId")({});s!==null&&Ep({currentChainId:a,chain:s});const i=(s==null?void 0:s.formatters)||((c=e.chain)==null?void 0:c.formatters),l=((u=i==null?void 0:i.transactionRequest)==null?void 0:u.format)||wr;return o.signTransaction?o.signTransaction({...r,chainId:a},{serializer:(p=(f=e.chain)==null?void 0:f.serializers)==null?void 0:p.transaction}):await e.request({method:"eth_signTransaction",params:[{...l(r),chainId:ne(a),from:o.address}]},{retryCount:0})}async function sx(e,t){const{account:n=e.account,domain:s,message:r,primaryType:o}=t;if(!n)throw new Rs({docsPath:"/docs/actions/wallet/signTypedData"});const a=Ke(n),i={EIP712Domain:Vp({domain:s}),...t.types};if(Wp({domain:s,message:r,primaryType:o,types:i}),a.signTypedData)return a.signTypedData({domain:s,message:r,primaryType:o,types:i});const l=z5({domain:s,message:r,primaryType:o,types:i});return e.request({method:"eth_signTypedData_v4",params:[a.address,l]},{retryCount:0})}async function rx(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:ne(t)}]},{retryCount:0})}async function ox(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}function ax(e){return{addChain:t=>G2(e,t),deployContract:t=>q2(e,t),getAddresses:()=>K2(e),getCallsStatus:t=>Ip(e,t),getCapabilities:t=>Z2(e,t),getChainId:()=>xr(e),getPermissions:()=>Y2(e),prepareAuthorization:t=>Ch(e,t),prepareTransactionRequest:t=>Ha(e,t),requestAddresses:()=>J2(e),requestPermissions:t=>Q2(e,t),sendCalls:t=>Lv(e,t),sendRawTransaction:t=>Bc(e,t),sendTransaction:t=>ei(e,t),showCallsStatus:t=>X2(e,t),signAuthorization:t=>ex(e,t),signMessage:t=>tx(e,t),signTransaction:t=>nx(e,t),signTypedData:t=>sx(e,t),switchChain:t=>rx(e,t),waitForCallsStatus:t=>Uv(e,t),watchAsset:t=>ox(e,t),writeContract:t=>Ov(e,t)}}function tn(e){const{key:t="wallet",name:n="Wallet Client",transport:s}=e;return Mp({...e,key:t,name:n,transport:s,type:"walletClient"}).extend(ax)}function _h({key:e,methods:t,name:n,request:s,retryCount:r=3,retryDelay:o=150,timeout:a,type:i},l){const c=Np();return{config:{key:e,methods:t,name:n,request:s,retryCount:r,retryDelay:o,timeout:a,type:i},request:S5(s,{methods:t,retryCount:r,retryDelay:o,uid:c}),value:l}}function Ko(e,t={}){const{key:n="fallback",name:s="Fallback",rank:r=!1,shouldThrow:o=ix,retryCount:a,retryDelay:i}=t;return({chain:l,pollingInterval:c=4e3,timeout:u,...f})=>{let p=e,h=()=>{};const g=_h({key:n,name:s,async request({method:b,params:T}){let $;const w=async(y=0)=>{const m=p[y]({...f,chain:l,retryCount:0,timeout:u});try{const v=await m.request({method:b,params:T});return h({method:b,params:T,response:v,transport:m,status:"success"}),v}catch(v){if(h({error:v,method:b,params:T,transport:m,status:"error"}),o(v)||y===p.length-1||($??($=p.slice(y+1).some(_=>{const{include:I,exclude:B}=_({chain:l}).config.methods||{};return I?I.includes(b):B?!B.includes(b):!0})),!$))throw v;return w(y+1)}};return w()},retryCount:a,retryDelay:i,type:"fallback"},{onResponse:b=>h=b,transports:p.map(b=>b({chain:l,retryCount:0}))});if(r){const b=typeof r=="object"?r:{};lx({chain:l,interval:b.interval??c,onTransports:T=>p=T,ping:b.ping,sampleCount:b.sampleCount,timeout:b.timeout,transports:p,weights:b.weights})}return g}}function ix(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===ur.code||e.code===gs.code||ds.nodeMessage.test(e.message)||e.code===5e3))}function lx({chain:e,interval:t=4e3,onTransports:n,ping:s,sampleCount:r=10,timeout:o=1e3,transports:a,weights:i={}}){const{stability:l=.7,latency:c=.3}=i,u=[],f=async()=>{const p=await Promise.all(a.map(async b=>{const T=b({chain:e,retryCount:0,timeout:o}),$=Date.now();let w,y;try{await(s?s({transport:T}):T.request({method:"net_listening"})),y=1}catch{y=0}finally{w=Date.now()}return{latency:w-$,success:y}}));u.push(p),u.length>r&&u.shift();const h=Math.max(...u.map(b=>Math.max(...b.map(({latency:T})=>T)))),g=a.map((b,T)=>{const $=u.map(_=>_[T].latency),y=1-$.reduce((_,I)=>_+I,0)/$.length/h,m=u.map(_=>_[T].success),v=m.reduce((_,I)=>_+I,0)/m.length;return v===0?[0,T]:[c*y+l*v,T]}).sort((b,T)=>T[0]-b[0]);n(g.map(([,b])=>a[b])),await ga(t),f()};f()}class cx extends H{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Ze(e,t={}){const{batch:n,fetchFn:s,fetchOptions:r,key:o="http",methods:a,name:i="HTTP JSON-RPC",onFetchRequest:l,onFetchResponse:c,retryDelay:u,raw:f}=t;return({chain:p,retryCount:h,timeout:g})=>{const{batchSize:b=1e3,wait:T=0}=typeof n=="object"?n:{},$=t.retryCount??h,w=g??t.timeout??1e4,y=e||(p==null?void 0:p.rpcUrls.default.http[0]);if(!y)throw new cx;const m=O5(y,{fetchFn:s,fetchOptions:r,onRequest:l,onResponse:c,timeout:w});return _h({key:o,methods:a,name:i,async request({method:v,params:_}){const I={method:v,params:_},{schedule:B}=Cp({id:y,wait:T,shouldSplitBatch(M){return M.length>b},fn:M=>m.request({body:M}),sort:(M,D)=>M.id-D.id}),C=async M=>n?B(M):[await m.request({body:M})],[{error:k,result:x}]=await C(I);if(f)return{error:k,result:x};if(k)throw new dc({body:I,error:k,url:y});return x},retryCount:$,retryDelay:u,timeout:w,type:"http"},{fetchOptions:r,url:y})}}const Zo=[{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address[]",name:"recipients",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],name:"batchTransfer",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address[]",name:"recipients",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],name:"batchTransferNative",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address[]",name:"recipients",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],name:"batchTransferToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"getTokenType",outputs:[{internalType:"uint8",name:"tokenType",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"isERC20Token",outputs:[{internalType:"bool",name:"isERC20",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"account",type:"address"}],name:"getTokenBalance",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];function ux(e){if(typeof e=="string"){if(!Qe(e,{strict:!1}))throw new bt({address:e});return{address:e,type:"json-rpc"}}if(!Qe(e.address,{strict:!1}))throw new bt({address:e.address});return{address:e.address,nonceManager:e.nonceManager,sign:e.sign,signAuthorization:e.signAuthorization,signMessage:e.signMessage,signTransaction:e.signTransaction,signTypedData:e.signTypedData,source:"custom",type:"local"}}let Li=!1;async function Ro({hash:e,privateKey:t,to:n="object"}){const{r:s,s:r,recovery:o}=ri.sign(e.slice(2),t.slice(2),{lowS:!0,extraEntropy:on(Li,{strict:!1})?an(Li):Li}),a={r:ne(s,{size:32}),s:ne(r,{size:32}),v:o?28n:27n,yParity:o};return n==="bytes"||n==="hex"?kh({...a,to:n}):a}async function dx(e){const{chainId:t,nonce:n,privateKey:s,to:r="object"}=e,o=e.contractAddress??e.address,a=await Ro({hash:D0({address:o,chainId:t,nonce:n}),privateKey:s,to:r});return r==="object"?{address:o,chainId:t,nonce:n,...a}:a}async function fx({message:e,privateKey:t}){return await Ro({hash:Fc(e),privateKey:t,to:"hex"})}async function px(e){const{privateKey:t,transaction:n,serializer:s=$5}=e,r=n.type==="eip4844"?{...n,sidecars:!1}:n,o=await Ro({hash:Ye(s(r)),privateKey:t});return s(n,o)}async function hx(e){const{privateKey:t,...n}=e;return await Ro({hash:Hp(n),privateKey:t,to:"hex"})}function dt(e,t={}){const{nonceManager:n}=t,s=Zt(ri.getPublicKey(e.slice(2),!1)),r=O0(s);return{...ux({address:r,nonceManager:n,async sign({hash:a}){return Ro({hash:a,privateKey:e,to:"hex"})},async signAuthorization(a){return dx({...a,privateKey:e})},async signMessage({message:a}){return fx({message:a,privateKey:e})},async signTransaction(a,{serializer:i}={}){return px({privateKey:e,transaction:a,serializer:i})},async signTypedData(a){return hx({...a,privateKey:e})}}),publicKey:s,source:"privateKey"}}const hr=Rc({id:56,name:"BNB Smart Chain",blockTime:750,nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),rr=Rc({id:97,name:"BNB Smart Chain Testnet",nativeCurrency:{decimals:18,name:"BNB",symbol:"tBNB"},rpcUrls:{default:{http:["https://data-seed-prebsc-1-s1.bnbchain.org:8545"]}},blockExplorers:{default:{name:"BscScan",url:"https://testnet.bscscan.com",apiUrl:"https://api-testnet.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:17422483}},testnet:!0}),Eh=Rc({id:66,name:"OKC",nativeCurrency:{decimals:18,name:"OKT",symbol:"OKT"},rpcUrls:{default:{http:["https://exchainrpc.okex.org"]}},blockExplorers:{default:{name:"oklink",url:"https://www.oklink.com/okc"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:10364792}}}),Le=[{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],cs=class cs{constructor(){St(this,"wallets",new Map);this.detectWallets()}static getInstance(){return cs.instance||(cs.instance=new cs),cs.instance}detectWallets(){var t,n,s,r;try{(t=window.ethereum)!=null&&t.isMetaMask&&this.wallets.set("metamask",{name:"MetaMask",provider:window.ethereum,isConnected:!1});try{window.okxwallet&&this.wallets.set("okx",{name:"OKX Wallet",provider:window.okxwallet,isConnected:!1})}catch(o){console.warn("OKX:",o)}}catch(o){console.warn(":",o)}if((n=window.ethereum)!=null&&n.isCoinbaseWallet&&this.wallets.set("coinbase",{name:"Coinbase Wallet",provider:window.ethereum,isConnected:!1}),(s=window.ethereum)!=null&&s.isTrust&&this.wallets.set("trust",{name:"Trust Wallet",provider:window.ethereum,isConnected:!1}),(r=window.ethereum)!=null&&r.providers){const o=window.ethereum.providers,a=o.find(u=>u.isMetaMask);a&&!this.wallets.has("metamask")&&this.wallets.set("metamask",{name:"MetaMask",provider:a,isConnected:!1});const i=o.find(u=>u.isOkxWallet);i&&!this.wallets.has("okx")&&this.wallets.set("okx",{name:"OKX Wallet",provider:i,isConnected:!1});const l=o.find(u=>u.isCoinbaseWallet);l&&!this.wallets.has("coinbase")&&this.wallets.set("coinbase",{name:"Coinbase Wallet",provider:l,isConnected:!1});const c=o.find(u=>u.isTrust);c&&!this.wallets.has("trust")&&this.wallets.set("trust",{name:"Trust Wallet",provider:c,isConnected:!1})}}getAvailableWallets(){return Array.from(this.wallets.values())}getWalletById(t){return this.wallets.get(t)}async connectWallet(t){var s,r,o,a;const n=this.wallets.get(t);if(!n)throw new Error(` ${t} `);try{if(!n.provider||typeof n.provider.request!="function")throw new Error(` ${n.name} `);const i=await n.provider.request({method:"eth_accounts"});if(i&&i.length>0)return n.isConnected=!0,{address:i[0],walletType:t};const l=await n.provider.request({method:"eth_requestAccounts"});if(l&&l.length>0)return n.isConnected=!0,{address:l[0],walletType:t};throw new Error("")}catch(i){throw console.error(` ${n.name} :`,i),(s=i.message)!=null&&s.includes("message channel closed")||(r=i.message)!=null&&r.includes("chrome-extension")?new Error(`
1. 
2. 
3. `):i.code===4001?new Error(""):i.code===-32002?new Error(""):(o=i.message)!=null&&o.includes("User rejected")?new Error(""):(a=i.message)!=null&&a.includes("not found")?new Error(` ${n.name} `):new Error(`: ${i.message||""}`)}}async disconnectWallet(t){const n=this.wallets.get(t);n&&(n.isConnected=!1)}isWalletAvailable(t){return this.wallets.has(t)}hasWalletConflict(){return this.wallets.size>1}getWalletConflictInfo(){return Array.from(this.wallets.keys())}};St(cs,"instance");let Nl=cs;const Ml={56:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",97:"0xae13d989daC2f0dEbFf460aC112a837C89BAa7cd"},Ah={56:"0x55d398326f99059fF775485246999027B3197955",97:"0x4Be45C88db35383F713ABC1adFA816200e0B8B56",66:"0x382bb369d343125bfb2117af9c149795c6c65c50"},mx={56:"0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d",97:"0x64544969ed7EBf5f083679233325356EbE738930"},bx={56:18,97:18,66:18},Td={56:"0x0000000000000000000000000000000000000000",97:"0xa859587fb766a44198dc7f4eb92ea9a056f842fa",66:"0x0000000000000000000000000000000000000000"},gx=/^(0x)?[0-9a-fA-F]{64}$/;function Ks(e){const t=(e==null?void 0:e.message)||(e==null?void 0:e.toString())||"",n=t.toLowerCase();if(n.includes("insufficient funds")||n.includes("insufficient balance"))return"Gas";if(n.includes("exceeds balance")||n.includes("transfer amount exceeds balance"))return"";if(n.includes("erc20: transfer amount"))return"";if(n.includes("gas too low")||n.includes("intrinsic gas too low"))return"Gas";if(n.includes("out of gas"))return"Gas";if(n.includes("nonce too low")||n.includes("nonce has already been used")||n.includes("nonce provided"))return"Nonce";if(n.includes("replacement transaction underpriced"))return"NonceGas";if(n.includes("timeout")||n.includes("timed out"))return"";if(n.includes("network")||n.includes("connection"))return"RPC";if(n.includes("rejected")||n.includes("denied"))return"";if(n.includes("reverted")||n.includes("execution reverted")){const o=t.match(/reason="([^"]+)"/);return o?`: ${o[1]}`:""}if(n.includes("insufficient_output_amount")||n.includes("slippage"))return"";if(n.includes("allowance")||n.includes("erc20: insufficient allowance"))return"";if(n.includes("invalid address"))return"";if(n.includes("returned no data")||n.includes("not a contract")||n.includes("contractfunctionzerodataerror"))return"";const s=t.replace(/^Error:\s*/i,""),r=80;return s.length>r?s.substring(0,r)+"...":s}function yx(e){const t=e.trim();return!t||!gx.test(t)?null:`0x${(t.startsWith("0x")?t.slice(2):t).toLowerCase()}`}function Ui(e){return{...e,walletType:e.walletType??"normal",remark:e.remark??"",createdAt:e.createdAt??new Date().toISOString()}}function Cd(e){return Ah[e]||null}async function is(e,t){try{const n=await e.readContract({address:t,abi:Le,functionName:"decimals",args:[]});return Number(n)}catch(n){return console.warn("Failed to fetch token decimals, fallback to 18:",n),18}}async function _d(e,t,n,s){var r,o,a,i;try{const l=await t.getBalance({address:e.address});e.nativeBalance=$e(l)}catch(l){console.error(`Failed to fetch native balance for ${e.address}:`,l),e.nativeBalance="Error"}if(!n){e.tokenBalance="-";return}try{const l=await t.getBytecode({address:n});if(!l||l==="0x"){console.warn(`USDT contract not found at ${n} on chain ${(r=t.chain)==null?void 0:r.id}`),e.tokenBalance="-";return}const c=await t.readContract({address:n,abi:Le,functionName:"balanceOf",args:[e.address]});e.tokenBalance=we(c,s)}catch(l){(o=l==null?void 0:l.message)!=null&&o.includes("returned no data")||(a=l==null?void 0:l.message)!=null&&a.includes("not a contract")||(i=l==null?void 0:l.message)!=null&&i.includes("ContractFunctionZeroDataError")?(console.warn(`Failed to fetch USDT balance for ${e.address}: Contract may not exist or function unavailable`),e.tokenBalance="-"):(console.error(`Failed to fetch USDT balance for ${e.address}:`,l),e.tokenBalance="-")}}const Gn=Na("wallet",{state:()=>({connectedAddress:"",connectedWalletType:"",localWallets:[],walletDetector:Nl.getInstance(),currentChainId:97,selectedWalletAddresses:[],walletBatches:[],targetToken:null,poolQueryState:{currentPrice:null,marketCap:null,priceDisplay:"",isUpdating:!1,lastUpdateTime:"",isRoutedPrice:!1,quoteTokenSymbol:"",selectedQuoteToken:"",tokenAddress:"",tokenSymbol:"",tokenName:"",tokenDecimals:18}}),getters:{selectedWallets(){return this.localWallets.filter(e=>this.selectedWalletAddresses.includes(e.address))},selectedCount(){return this.selectedWalletAddresses.length},isAllSelected(){return this.localWallets.length>0&&this.selectedWalletAddresses.length===this.localWallets.length},hasSelection(){return this.selectedWalletAddresses.length>0}},actions:{async init(){const e=localStorage.getItem("local-wallets");if(!e)return;try{const n=JSON.parse(e);Array.isArray(n)&&(this.localWallets=n.map(s=>Ui(s)),this.persist())}catch(n){console.error("Failed to parse local wallets:",n)}const t=localStorage.getItem("wallet-batches");if(t)try{this.walletBatches=JSON.parse(t)}catch(n){console.error("Failed to parse wallet batches:",n)}},persist(){localStorage.setItem("local-wallets",JSON.stringify(this.localWallets))},persistBatches(){localStorage.setItem("wallet-batches",JSON.stringify(this.walletBatches))},async generateWalletBatch(e,t,n="normal"){const s=`batch_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,r=[];for(let a=0;a<e;a++){const i=crypto.getRandomValues(new Uint8Array(32)),l=`0x${Array.from(i).map(u=>u.toString(16).padStart(2,"0")).join("")}`,c=dt(l);r.push({address:c.address,privateKey:l})}const o={id:s,remark:t||` ${new Date().toLocaleString()}`,createdAt:new Date().toISOString(),wallets:r,walletType:n};return this.walletBatches.push(o),this.persistBatches(),this.exportBatchToFile(o),o},async createBatchFromPrivateKeys(e,t,n="normal"){const s=`batch_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,r=[],o=/^(0x)?[0-9a-fA-F]{64}$/;for(const i of e)if(o.test(i))try{const l=i.startsWith("0x")?i:`0x${i}`,c=dt(l);r.some(f=>f.address.toLowerCase()===c.address.toLowerCase())||r.push({address:c.address,privateKey:l})}catch{console.warn(":",i.slice(0,10)+"...")}if(r.length===0)throw new Error("");const a={id:s,remark:t||` ${new Date().toLocaleString()}`,createdAt:new Date().toISOString(),wallets:r,walletType:n};return this.walletBatches.push(a),this.persistBatches(),a},exportBatchToFile(e){const t=new Date().toISOString().replace(/[:.]/g,"-"),n=`,,
`,s=e.wallets.map((l,c)=>`${c+1},"${l.address}","${l.privateKey}"`),r=n+s.join(`
`),o=new Blob([r],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(o),i=document.createElement("a");i.href=a,i.download=`wallet-batch-${e.remark.replace(/[^a-zA-Z0-9\u4e00-\u9fa5]/g,"_")}-${t}.csv`,document.body.appendChild(i),i.click(),document.body.removeChild(i),setTimeout(()=>URL.revokeObjectURL(a),1e3)},updateBatchRemark(e,t){const n=this.walletBatches.find(s=>s.id===e);n&&(n.remark=t,this.persistBatches())},deleteBatch(e){this.walletBatches=this.walletBatches.filter(t=>t.id!==e),this.persistBatches()},getBatchAddresses(e){const t=this.walletBatches.find(n=>n.id===e);return t?t.wallets.map(n=>n.address):[]},getBatchPrivateKeys(e){const t=this.walletBatches.find(n=>n.id===e);return t?t.wallets.map(n=>n.privateKey):[]},async refreshBatchBalances(e){var i;const t=this.walletBatches.find(l=>l.id===e);if(!t)return;const n=this.getPublicClient(),s=((i=this.targetToken)==null?void 0:i.decimals)||18;console.log(`: ${t.wallets.length} `);const r=await Promise.all(t.wallets.map(async l=>{try{const c=await n.getBalance({address:l.address});let u=BigInt(0);return this.targetToken&&(u=await n.readContract({address:this.targetToken.address,abi:Le,functionName:"balanceOf",args:[l.address]})),{native:c,token:u}}catch(c){return console.error(`Failed to fetch balance for ${l.address}:`,c),{native:BigInt(0),token:BigInt(0)}}})),o=r.reduce((l,c)=>l+c.native,BigInt(0)),a=r.reduce((l,c)=>l+c.token,BigInt(0));return t.totalNativeBalance=$e(o),t.totalTokenBalance=this.targetToken?we(a,s):void 0,this.persistBatches(),console.log(`: ${t.totalNativeBalance} BNB`),{totalNativeBalance:t.totalNativeBalance,totalTokenBalance:t.totalTokenBalance}},importWalletsFromBatch(e,t="normal"){const n=this.walletBatches.find(a=>a.id===e);if(!n)return{added:0,duplicates:0};const s=new Set(this.localWallets.map(a=>a.address.toLowerCase()));let r=0,o=0;for(const a of n.wallets){if(s.has(a.address.toLowerCase())){o++;continue}this.localWallets.push({address:a.address,encrypted:a.privateKey,walletType:t,remark:n.remark,createdAt:n.createdAt}),s.add(a.address.toLowerCase()),r++}return r>0&&this.persist(),{added:r,duplicates:o}},getBatchPrivateKeyMap(e){const t=this.walletBatches.find(s=>s.id===e);if(!t)return{};const n={};for(const s of t.wallets)n[s.address.toLowerCase()]=s.privateKey;return n},getBatchWalletType(e){const t=this.walletBatches.find(n=>n.id===e);return(t==null?void 0:t.walletType)||null},getWalletTypeByAddress(e){const t=this.localWallets.find(n=>n.address.toLowerCase()===e.toLowerCase());if(t!=null&&t.walletType)return t.walletType;for(const n of this.walletBatches)if(n.wallets.find(r=>r.address.toLowerCase()===e.toLowerCase()))return n.walletType;return null},selectWallet(e){this.selectedWalletAddresses.includes(e)||this.selectedWalletAddresses.push(e)},deselectWallet(e){const t=this.selectedWalletAddresses.indexOf(e);t>-1&&this.selectedWalletAddresses.splice(t,1)},toggleWalletSelection(e){this.selectedWalletAddresses.includes(e)?this.deselectWallet(e):this.selectWallet(e)},selectAll(){this.selectedWalletAddresses=this.localWallets.map(e=>e.address)},deselectAll(){this.selectedWalletAddresses=[]},invertSelection(){const e=new Set(this.selectedWalletAddresses);this.selectedWalletAddresses=this.localWallets.filter(t=>!e.has(t.address)).map(t=>t.address)},selectRange(e,t){e<1&&(e=1),t>this.localWallets.length&&(t=this.localWallets.length),e>t&&([e,t]=[t,e]);const n=this.localWallets.slice(e-1,t).map(r=>r.address),s=new Set(this.selectedWalletAddresses);for(const r of n)s.add(r);this.selectedWalletAddresses=Array.from(s)},selectRangeOnly(e,t){e<1&&(e=1),t>this.localWallets.length&&(t=this.localWallets.length),e>t&&([e,t]=[t,e]),this.selectedWalletAddresses=this.localWallets.slice(e-1,t).map(n=>n.address)},removeSelectedWallets(){this.localWallets=this.localWallets.filter(e=>!this.selectedWalletAddresses.includes(e.address)),this.selectedWalletAddresses=[],this.persist()},setTargetToken(e){this.targetToken=e},clearTargetToken(){this.targetToken=null,this.clearPoolQueryState()},updatePoolQueryState(e){Object.assign(this.poolQueryState,e)},clearPoolQueryState(){this.poolQueryState={currentPrice:null,marketCap:null,priceDisplay:"",isUpdating:!1,lastUpdateTime:"",isRoutedPrice:!1,quoteTokenSymbol:"",selectedQuoteToken:"",tokenAddress:"",tokenSymbol:"",tokenName:"",tokenDecimals:18}},async refreshTargetTokenBalance(){if(!this.targetToken)return;const e=this.getPublicClient(),t=this.targetToken.address,n=this.targetToken.decimals;for(const s of this.localWallets)try{const r=await e.readContract({address:t,abi:Le,functionName:"balanceOf",args:[s.address]});s.tokenBalance=we(r,n)}catch(r){console.error(`Failed to fetch target token balance for ${s.address}:`,r),s.tokenBalance="-"}this.persist()},async connectWallet(e){try{if(!this.walletDetector.isWalletAvailable(e)){alert(` ${e==="metamask"?"MetaMask":"OKX Wallet"} `);return}const t=await this.walletDetector.connectWallet(e);this.connectedAddress=t.address,this.connectedWalletType=t.walletType,console.log(":",t)}catch(t){console.error(":",t),alert(t.message||"")}},async connectInjected(){await this.connectWallet("metamask")},async disconnectWallet(){this.connectedWalletType&&await this.walletDetector.disconnectWallet(this.connectedWalletType),this.connectedAddress="",this.connectedWalletType="",console.log("")},async generateLocalWallets(e,t){const n=(t==null?void 0:t.walletType)||"normal",s=(t==null?void 0:t.remark)||"";for(let r=0;r<e;r++){const o=crypto.getRandomValues(new Uint8Array(32)),a=`0x${Array.from(o).map(c=>c.toString(16).padStart(2,"0")).join("")}`,i=dt(a);dt(a).address.toLowerCase()!==i.address.toLowerCase()&&console.error(""),this.localWallets.push({address:i.address,encrypted:a,walletType:n,remark:s,createdAt:new Date().toISOString()})}this.persist()},importWalletsFromPrivateKeys(e,t){const n=(t.remark||"").trim(),s=new Set(this.localWallets.map(u=>u.address.toLowerCase())),r=new Set,o=new Date().toISOString();let a=0,i=0,l=0;const c=[];for(const u of e){const f=yx(u);if(!f){l+=1;continue}let p;try{p=dt(f)}catch(b){console.error("Invalid private key skipped:",b),l+=1;continue}const h=p.address,g=h.toLowerCase();if(s.has(g)||r.has(g)){i+=1;continue}c.push({address:h,encrypted:f,walletType:t.walletType,remark:n,createdAt:o}),r.add(g),s.add(g),a+=1}return c.length>0&&(this.localWallets.push(...c),this.persist()),{added:a,duplicates:i,invalid:l}},updateWalletRemark(e,t){const n=this.localWallets.find(s=>s.address===e);n&&(n.remark=t.trim(),this.persist())},updateSelectedWalletsRemark(e){const t=e.trim();for(const n of this.selectedWalletAddresses){const s=this.localWallets.find(r=>r.address===n);s&&(s.remark=t)}this.persist()},removeLocalWallet(e){this.localWallets=this.localWallets.filter(t=>t.address!==e),this.persist()},clearLocalWallets(){this.localWallets=[],this.persist()},async fixWalletData(){console.log("===  ===");const e=[];for(let t=0;t<this.localWallets.length;t++){const n=this.localWallets[t];if(console.log(`
 ${t+1}: ${n.address}`),n.encrypted)try{const s=dt(n.encrypted);console.log(`  : ${s.address}`),s.address.toLowerCase()!==n.address.toLowerCase()?(console.warn(" "),e.push({address:s.address,encrypted:n.encrypted,nativeBalance:n.nativeBalance,tokenBalance:n.tokenBalance,walletType:n.walletType,remark:n.remark,createdAt:n.createdAt})):(console.log(" "),e.push(Ui(n)))}catch(s){console.error(`  ${t+1}:`,s)}else console.warn(`  ${t+1} `)}this.localWallets=e.map(t=>Ui(t)),this.persist(),console.log(`
 ${e.length} `)},async exportPrivateKeys(){if(this.localWallets.length===0){alert("");return}try{console.log(` ${this.localWallets.length} ...`);const e=`,,,
`,t=this.localWallets.map((i,l)=>`${l+1},"${i.address}","${i.encrypted||""}","${i.remark||""}"`),n=e+t.join(`
`),s=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(s),o=new Date().toISOString().replace(/[:.]/g,"-"),a=document.createElement("a");a.href=r,a.download=`wallets-private-keys-${o}.csv`,document.body.appendChild(a),a.click(),document.body.removeChild(a),setTimeout(()=>{URL.revokeObjectURL(r)},1e3),alert(` ${this.localWallets.length} 

 `)}catch(e){throw console.error(":",e),new Error("")}},getClient(e){return tn({chain:rr,transport:Ko([Ze(e??"https://bsc-testnet.publicnode.com")])})},getChainConfig(){switch(this.getCurrentChainId()){case 56:return hr;case 97:return rr;case 66:return Eh;default:return rr}},getCurrentChainId(){return this.currentChainId||97},setCurrentChainId(e){this.currentChainId=e,console.log("ID:",e)},getPublicClient(e){const t=this.getChainConfig(),n=sn(),s=e||n.effectiveRpcUrl||t.rpcUrls.default.http[0];return console.log("RPC:",s),Xn({chain:t,transport:Ko([Ze(s)])})},getWalletClient(){if(!this.connectedAddress)return null;const e=this.getChainConfig(),t=window.ethereum;if(!t)throw new Error("provider");return tn({chain:e,transport:Ko([Ze(e.rpcUrls.default.http[0])]),account:this.connectedAddress,...t&&{transport:Ko([Ze(e.rpcUrls.default.http[0])])}})},async refreshAllBalances(){const e=this.getPublicClient(),t=Cd(this.currentChainId),n=t?await is(e,t):18,s=this.localWallets,r=50,o=Math.ceil(s.length/r);console.log(`: ${s.length} , ${o} `);for(let a=0;a<o;a++){const i=a*r,l=Math.min(i+r,s.length),c=s.slice(i,l);await Promise.all(c.map(u=>_d(u,e,t,n).catch(f=>console.error(` ${u.address}:`,f)))),console.log(` ${l}/${s.length} `)}this.persist(),console.log("")},async refreshWalletBalance(e){const t=this.localWallets.find(o=>o.address===e);if(!t)return;const n=this.getPublicClient(),s=Cd(this.currentChainId),r=s?await is(n,s):18;await _d(t,n,s,r),this.persist()},async refreshTokenBalance(e){const t=this.getPublicClient(),n=await is(t,e),s=this.localWallets,r=50,o=Math.ceil(s.length/r);console.log(`: ${s.length} , ${o} `);for(let a=0;a<o;a++){const i=a*r,l=Math.min(i+r,s.length),c=s.slice(i,l);await Promise.all(c.map(async u=>{try{const f=await t.readContract({address:e,abi:Le,functionName:"balanceOf",args:[u.address]});u.tokenBalance=we(f,n)}catch(f){console.error(`Failed to fetch token balance for ${u.address}:`,f),u.tokenBalance="Error"}})),console.log(` ${l}/${s.length} `)}this.persist(),console.log("")},async batchTransferNativeWithContract(e){if(console.log(` ${e} `),!this.connectedAddress)throw new Error("");if(this.localWallets.length===0)throw new Error("");try{const t=window.ethereum;if(!t)throw new Error("provider");const n=Td[this.currentChainId];if(!n||n==="0x0000000000000000000000000000000000000000")throw new Error("");const r=this.getChainConfig().nativeCurrency.symbol,o=this.localWallets.map(m=>m.address),a=this.localWallets.map(()=>rt(e.toString())),i=rt((e*this.localWallets.length).toString());console.log(`: ${n}`),console.log(`: ${o.length}`),console.log(`: ${$e(i)} ${r}`),console.log(`: ${$e(a[0])} ${r}`);const l=91e3,c=4e4,u=l+o.length*c,p=u*1/1e9;if(console.log("Gas:"),console.log(`- Gas: ${l}`),console.log(`- Gas: ${c}`),console.log(`- Gas: ${u}`),console.log(`- Gas: ${p.toFixed(6)} BNB`),!confirm(`

: ${n}
: ${this.localWallets.length} 
: ${e} ${r}
: ${e*this.localWallets.length} ${r}
Gas: ~${p.toFixed(6)} BNB

`))throw new Error("");let g;try{console.log("Gas..."),g=await t.request({method:"eth_estimateGas",params:[{from:this.connectedAddress,to:n,value:`0x${i.toString(16)}`,data:this.encodeBatchTransferData("0x0000000000000000000000000000000000000000",o,a)}]}),console.log("Gas:",g),g="0x"+(BigInt(g)*BigInt(150)/BigInt(100)).toString(16),console.log("Gas:",g)}catch(m){console.warn("Gas:",m),g="0x"+(91e3+o.length*4e4).toString(16)}let b;try{b=await t.request({method:"eth_gasPrice"}),console.log("Gas:",b)}catch(m){console.warn("Gas:",m),b="0x3b9aca00"}const T=2e5;parseInt(g,16)<T&&(g="0x"+T.toString(16),console.log(`Gas: ${g}`)),console.log(`Gas: ${g} (${parseInt(g,16)})`);const w=await t.request({method:"eth_sendTransaction",params:[{from:this.connectedAddress,to:n,value:`0x${i.toString(16)}`,data:this.encodeBatchTransferData("0x0000000000000000000000000000000000000000",o,a),gas:g,gasPrice:b}]});console.log(":",w);const y=this.localWallets.map(m=>({wallet:m.address,hash:w,success:!0}));return console.log(":",y),y}catch(t){throw console.error(":",t),new Error(`: ${t.message||""}`)}},encodeBatchTransferData(e,t,n){try{return $t({abi:Zo,functionName:"batchTransfer",args:[e,t,n]})}catch(s){console.error("ABI:",s);const r="0xa9059cbb",o=this.encodeSmartBatchTransferParams(e,t,n);return r+o.slice(2)}},encodeBatchTransferNativeData(e,t){try{return $t({abi:Zo,functionName:"batchTransferNative",args:[e,t]})}catch(n){console.error("ABI:",n);const s="0xa9059cbb",r=this.encodeBatchTransferParams(e,t);return s+r.slice(2)}},keccak256(e){return{"batchTransfer(address,address[],uint256[])":"a9059cbb","batchTransferNative(address[],uint256[])":"a9059cbb","batchTransferToken(address,address[],uint256[])":"a9059cbb","getTokenType(address)":"a9059cbb","isERC20Token(address)":"a9059cbb","getTokenBalance(address,address)":"a9059cbb","getBalance()":"a9059cbb"}[e]||"a9059cbb"},encodeSmartBatchTransferParams(e,t,n){let s="0x";s+=e.slice(2).padStart(64,"0");const r=96;s+=r.toString(16).padStart(64,"0");const o=r+32+t.length*32;s+=o.toString(16).padStart(64,"0"),s+=t.length.toString(16).padStart(64,"0");for(const a of t)s+=a.slice(2).padStart(64,"0");s+=n.length.toString(16).padStart(64,"0");for(const a of n)s+=a.toString(16).padStart(64,"0");return s},encodeBatchTransferParams(e,t){let n="0x";n+=e.length.toString(16).padStart(64,"0");for(const s of e)n+=s.slice(2).padStart(64,"0");for(const s of t)n+=s.toString(16).padStart(64,"0");return n},async batchTransferNative(e){var a,i,l;if(console.log(` ${e} `),!this.connectedAddress)throw new Error("");if(this.localWallets.length===0)throw new Error("");const t=window.ethereum;if(!t)throw new Error("provider");let n=!1;try{console.log("...");const c=await this.batchTransferNativeWithContract(e);return console.log(""),console.log(":",c),n=!0,c}catch(c){console.log(":",c),console.log(":",c),n=!1}if(n){console.log("");return}const s=this.getPublicClient(),r=rt((e*this.localWallets.length).toString()),o=await s.getBalance({address:this.connectedAddress});if(console.log(`: ${$e(o)} BNB`),console.log(`: ${$e(r)} BNB`),o<r)throw new Error(`: ${$e(o)} BNB: ${$e(r)} BNB`);try{console.log("...");const u=this.getChainConfig().nativeCurrency.symbol;if(!confirm(`

: ${this.localWallets.length} 
: ${e} ${u}
: ${e*this.localWallets.length} ${u}


 ${this.localWallets.length} `))throw new Error("");const p=[];try{console.log("...");const h=this.localWallets.map(T=>({from:this.connectedAddress,to:T.address,value:`0x${rt(e.toString()).toString(16)}`,gas:"0x5208"})),g=await t.request({method:"eth_sendBatchTransaction",params:h});return console.log(":",g),this.localWallets.map(T=>({wallet:T.address,hash:g,success:!0}))}catch{if(console.log(""),console.log(""),!confirm(`


 
  ${this.localWallets.length} 
  2 

`))throw new Error("");for(let b=0;b<this.localWallets.length;b++){const T=this.localWallets[b];try{console.log(` ${b+1}/${this.localWallets.length}: ${T.address}`);const $=await t.request({method:"eth_sendTransaction",params:[{from:this.connectedAddress,to:T.address,value:`0x${rt(e.toString()).toString(16)}`,gas:"0x5208"}]});console.log(`: ${$}`),p.push({wallet:T.address,hash:$,success:!0}),b<this.localWallets.length-1&&(console.log(" 2 ..."),await new Promise(w=>setTimeout(w,2e3)))}catch($){console.error(` ${T.address} :`,$);let w="";$.code===4001?w="":$.code===-32002?w="":(a=$.message)!=null&&a.includes("insufficient funds")?w="":(i=$.message)!=null&&i.includes("gas")?w="Gas":(l=$.message)!=null&&l.includes("network")?w="":$.message&&(w=$.message),p.push({wallet:T.address,error:w,success:!1})}}}return console.log(""),p}catch(c){throw console.error(":",c),new Error(`: ${c.message||""}`)}},async batchTransferNativeFallback(e){var s,r,o;console.log("");const t=window.ethereum,n=[];for(let a=0;a<this.localWallets.length;a++){const i=this.localWallets[a];try{console.log(` ${a+1}/${this.localWallets.length}: ${i.address}`);const l=await t.request({method:"eth_sendTransaction",params:[{from:this.connectedAddress,to:i.address,value:`0x${rt(e.toString()).toString(16)}`,gas:"0x5208"}]});console.log(`: ${l}`),n.push({wallet:i.address,hash:l,success:!0}),a<this.localWallets.length-1&&await new Promise(c=>setTimeout(c,1e3))}catch(l){console.error(` ${i.address} :`,l);let c="";l.code===4001?c="":l.code===-32002?c="":(s=l.message)!=null&&s.includes("insufficient funds")?c="":(r=l.message)!=null&&r.includes("gas")?c="Gas":(o=l.message)!=null&&o.includes("network")?c="":l.message&&(c=l.message),n.push({wallet:i.address,error:c,success:!1})}}return n},async batchTransferToken(e,t){if(console.log(`ERC20 ${t} `),!this.connectedAddress)throw new Error("");if(this.localWallets.length===0)throw new Error("");const n=window.ethereum;if(!n)throw new Error("provider");const s=[];for(let r=0;r<this.localWallets.length;r++){const o=this.localWallets[r];try{console.log(` ${r+1}/${this.localWallets.length}: ${o.address}`);const a=await n.request({method:"eth_sendTransaction",params:[{from:this.connectedAddress,to:e,data:this.encodeTransferData(o.address,t),gas:"0x7530"}]});console.log(`: ${a}`),s.push({wallet:o.address,hash:a,success:!0}),r<this.localWallets.length-1&&await new Promise(i=>setTimeout(i,2e3))}catch(a){console.error(` ${o.address} :`,a),s.push({wallet:o.address,error:a.message||String(a),success:!1})}}return console.log(":",s),s},encodeTransferData(e,t){const n="0xa9059cbb",s=e.slice(2).padStart(64,"0"),r=rt(t.toString()).toString(16).padStart(64,"0");return n+s+r},getUsdtContractAddress(){return USDT_CONTRACTS[this.currentChainId]||null},getUsdtDecimals(){return bx[this.currentChainId]||18},async distributeFromSource(e,t,n,s="native"){console.log(`: ${s}: ${t.length} `);const r=this.localWallets.find(y=>y.address===e);if(!r)throw new Error("");if(!r.encrypted)throw new Error("");if(t.length===0)throw new Error("");const o=[],a=[];for(const y of t)!y||!/^0x[0-9a-fA-F]{40}$/.test(y.trim())?o.push(y):a.push(y.trim());if(a.length===0)throw new Error("");const i=this.getChainConfig(),l=this.getPublicClient(),c=i.nativeCurrency.symbol;let u=c,f=18,p=null;if(s==="usdt"){if(p=this.getUsdtContractAddress(),!p)throw new Error(" USDT ");u="USDT";try{f=await is(l,p),console.log(`USDT : ${f}`)}catch(y){console.warn(" USDT  18:",y),f=this.getUsdtDecimals()}}const h=n*a.length;if(!confirm(`

: ${e.slice(0,10)}...${e.slice(-8)}
: ${a.length} ${o.length>0?` ${o.length} `:""}
: ${s==="usdt"?"USDT":c}
: ${n} ${u}
: ${h} ${u}

`))throw new Error("");const b=[],T=await l.getGasPrice(),$=dt(r.encrypted),w=tn({account:$,chain:i,transport:Ze(i.rpcUrls.default.http[0])});for(let y=0;y<a.length;y++){const m=a[y];try{console.log(` ${y+1}/${a.length}: ${e} -> ${m}`);let v;if(s==="usdt"&&p){const _=Tt(n.toString(),f),I=await l.readContract({address:p,abi:Le,functionName:"balanceOf",args:[e]}),B=we(I,f),C=we(_,f);if(console.log(`: ${e}`),console.log(`USDT : ${p}`),console.log(`USDT : ${f}`),console.log(` USDT : ${I.toString()}`),console.log(` USDT : ${B}`),console.log(`: ${_.toString()}`),console.log(`: ${C}`),I<_)throw new Error(`USDT : ${B}, : ${C}`);const k=await l.getBalance({address:e}),x=T*BigInt(65e3);if(console.log(` ${c} : ${$e(k)},  Gas : ${$e(x)}`),k<x)throw new Error(`${c}  Gas : ${$e(k)}, : ${$e(x)}`);v=await w.writeContract({address:p,abi:Le,functionName:"transfer",args:[m,_],gas:BigInt(65e3),gasPrice:T})}else v=await w.sendTransaction({to:m,value:rt(n.toString()),gas:BigInt(21e3),gasPrice:T});console.log(`: ${v}`),b.push({source:e,target:m,hash:v,amount:n.toString(),tokenType:s,success:!0}),y<a.length-1&&await new Promise(_=>setTimeout(_,1500))}catch(v){console.error(` ${m} :`,v),b.push({source:e,target:m,error:v.message||String(v),tokenType:s,success:!1})}}return console.log(":",b),b},async batchTransferToSelected(e){if(console.log(` ${e} `),!this.connectedAddress)throw new Error("");const t=this.selectedWallets;if(t.length===0)throw new Error("");const n=window.ethereum;if(!n)throw new Error("provider");const r=this.getChainConfig().nativeCurrency.symbol;if(rt((e*t.length).toString()),!confirm(`

: ${t.length} 
: ${e} ${r}
: ${e*t.length} ${r}

`))throw new Error("");const a=[];for(let i=0;i<t.length;i++){const l=t[i];try{console.log(` ${i+1}/${t.length}: ${l.address}`);const c=await n.request({method:"eth_sendTransaction",params:[{from:this.connectedAddress,to:l.address,value:`0x${rt(e.toString()).toString(16)}`,gas:"0x5208"}]});console.log(`: ${c}`),a.push({wallet:l.address,hash:c,success:!0}),i<t.length-1&&await new Promise(u=>setTimeout(u,1500))}catch(c){console.error(` ${l.address} :`,c),a.push({wallet:l.address,error:c.message||String(c),success:!1})}}return console.log(":",a),a},async collectFromSelected(e,t,n="native"){console.log(` ${e} ${t} ${n}`);const s=this.selectedWallets;if(s.length===0)throw new Error("");if(!e||!e.startsWith("0x")||e.length!==42)throw new Error("");const r=this.getChainConfig(),o=r.nativeCurrency.symbol,a=this.getPublicClient();let i=o,l=18,c=null;if(n==="usdt"){const g=this.getUsdtContractAddress();if(!g)throw new Error(" USDT ");c=g,l=await is(a,c),i="USDT"}const u=t*s.length;if(!confirm(`

: ${s.length} 
: ${e}
: ${t} ${i}
: ${u} ${i}

`))throw new Error("");const p=[],h=await a.getGasPrice();for(let g=0;g<s.length;g++){const b=s[g];try{if(console.log(` ${g+1}/${s.length}: ${b.address}`),!b.encrypted){console.warn(` ${b.address} `),p.push({wallet:b.address,error:"",success:!1});continue}const T=dt(b.encrypted),$=tn({account:T,chain:r,transport:Ze(r.rpcUrls.default.http[0])});let w,y;if(n==="usdt"&&c){y=Tt(t.toString(),l);const m=await a.readContract({address:c,abi:Le,functionName:"balanceOf",args:[b.address]});if(console.log(` ${b.address} USDT : ${we(m,l)}`),m<y){console.warn(` ${b.address} USDT `),p.push({wallet:b.address,error:`USDT : ${we(m,l)}`,success:!1});continue}const v=await a.getBalance({address:b.address}),_=h*BigInt(65e3);if(v<_){console.warn(` ${b.address} ${o}  Gas`),p.push({wallet:b.address,error:`${o}  Gas`,success:!1});continue}w=await $.writeContract({address:c,abi:Le,functionName:"transfer",args:[e,y],gas:BigInt(65e3),gasPrice:h})}else{y=rt(t.toString());const m=BigInt(21e3),v=h*m,_=await a.getBalance({address:b.address});if(console.log(` ${b.address} ${o} : ${$e(_)}, Gas: ${$e(v)}`),_<y+v){console.warn(` ${b.address} ${o} `),p.push({wallet:b.address,error:`${o} : ${$e(_)}: ${$e(y+v)}`,success:!1});continue}w=await $.sendTransaction({to:e,value:y,gas:m,gasPrice:h})}console.log(`: ${w}`),p.push({wallet:b.address,hash:w,amount:t.toString(),tokenType:n,success:!0}),g<s.length-1&&await new Promise(m=>setTimeout(m,1500))}catch(T){console.error(` ${b.address} :`,T),p.push({wallet:b.address,error:T.message||String(T),success:!1})}}return console.log(":",p),p},async manyToManyTransfer(e,t,n="sequential",s,r="native"){console.log(`: ${e.length} : ${r}`);let o;if(s&&s.length>0?o=this.localWallets.filter(m=>s.includes(m.address)):o=this.selectedWallets,o.length===0)throw new Error("");if(e.length===0)throw new Error("");const a=[],i=[];for(const m of e)!m||!/^0x[0-9a-fA-F]{40}$/.test(m.trim())?a.push(m):i.push(m.trim());if(i.length===0)throw new Error("0x4240");a.length>0&&console.warn(` ${a.length} `);const l=o.filter(m=>m.encrypted);if(l.length===0)throw new Error("");l.length<o.length&&console.warn(`${o.length-l.length} `),o=l;const c=this.getChainConfig(),u=c.nativeCurrency.symbol,f=this.getPublicClient();let p=u,h=18,g=null;if(r==="usdt"){const m=this.getUsdtContractAddress();if(!m)throw new Error(" USDT ");g=m,h=await is(f,g),p="USDT"}const b=t*i.length;if(!confirm(`

: ${o.length} 
: ${i.length} ${a.length>0?` ${a.length} `:""}
: ${p}
: ${t} ${p}
: ${b} ${p}
: ${n==="sequential"?"":""}

`))throw new Error("");const $=[],w=await f.getGasPrice();let y=[];if(n==="sequential"){let m=0;for(const v of i)y.push({source:o[m%o.length],target:v,amount:r==="usdt"?Tt(t.toString(),h):rt(t.toString())}),m++}else for(const m of i){const v=o[Math.floor(Math.random()*o.length)];y.push({source:v,target:m,amount:r==="usdt"?Tt(t.toString(),h):rt(t.toString())})}for(let m=0;m<y.length;m++){const v=y[m];try{if(console.log(` ${m+1}/${y.length}: ${v.source.address} -> ${v.target}`),!v.source.encrypted){console.warn(` ${v.source.address} `),$.push({source:v.source.address,target:v.target,error:"",tokenType:r,success:!1});continue}const _=dt(v.source.encrypted),I=tn({account:_,chain:c,transport:Ze(c.rpcUrls.default.http[0])});let B;if(r==="usdt"&&g){const C=await f.readContract({address:g,abi:Le,functionName:"balanceOf",args:[v.source.address]});if(C<v.amount){console.warn(` ${v.source.address} USDT `),$.push({source:v.source.address,target:v.target,error:`USDT : ${we(C,h)}`,tokenType:r,success:!1});continue}const k=await f.getBalance({address:v.source.address}),x=w*BigInt(65e3);if(k<x){console.warn(` ${v.source.address} ${u}  Gas`),$.push({source:v.source.address,target:v.target,error:`${u}  Gas`,tokenType:r,success:!1});continue}B=await I.writeContract({address:g,abi:Le,functionName:"transfer",args:[v.target,v.amount],gas:BigInt(65e3),gasPrice:w})}else{const C=BigInt(21e3),k=w*C,x=await f.getBalance({address:v.source.address});if(x<v.amount+k){console.warn(` ${v.source.address} ${u} `),$.push({source:v.source.address,target:v.target,error:`${u} : ${$e(x)}: ${$e(v.amount+k)}`,tokenType:r,success:!1});continue}B=await I.sendTransaction({to:v.target,value:v.amount,gas:C,gasPrice:w})}console.log(`: ${B}`),$.push({source:v.source.address,target:v.target,hash:B,amount:r==="usdt"?we(v.amount,h):$e(v.amount),tokenType:r,success:!0}),m<y.length-1&&await new Promise(C=>setTimeout(C,1500))}catch(_){console.error(`: ${v.source.address} -> ${v.target}`,_),$.push({source:v.source.address,target:v.target,error:Ks(_),tokenType:r,success:!1})}}return console.log(":",$),$},async collectToken(e,t){console.log(`ERC20 ${t}`);const n=this.selectedWallets.length>0?this.selectedWallets:this.localWallets;if(n.length===0)throw new Error("");if(!t||!t.startsWith("0x")||t.length!==42)throw new Error("");const s=this.getChainConfig(),r=this.getPublicClient(),o=await is(r,e);if(!confirm(` ERC20 

: ${e}
: ${n.length} 
: ${t}

`))throw new Error("");const i=[],l=await r.getGasPrice();for(let c=0;c<n.length;c++){const u=n[c];try{if(console.log(` ${c+1}/${n.length}: ${u.address}`),!u.encrypted){console.warn(` ${u.address} `),i.push({wallet:u.address,error:"",success:!1});continue}const f=await r.readContract({address:e,abi:Le,functionName:"balanceOf",args:[u.address]});if(f<=BigInt(0)){console.warn(` ${u.address}  0`),i.push({wallet:u.address,error:" 0",success:!1});continue}console.log(`: ${we(f,o)}`);const p=dt(u.encrypted),g=await tn({account:p,chain:s,transport:Ze(s.rpcUrls.default.http[0])}).writeContract({address:e,abi:Le,functionName:"transfer",args:[t,f],gasPrice:l});console.log(`: ${g}`),i.push({wallet:u.address,hash:g,amount:we(f,o),success:!0}),c<n.length-1&&await new Promise(b=>setTimeout(b,1500))}catch(f){console.error(` ${u.address} :`,f),i.push({wallet:u.address,error:f.message||String(f),success:!1})}}return console.log(":",i),i},async batchTransferByAddresses(e,t,n,s,r,o){console.log(`: ${r}: ${s}: ${o==null?void 0:o.transferAllBalance}`);const a=[],i=this.getChainConfig(),l=this.getPublicClient(),c=await l.getGasPrice();let u=[];if(r==="oneToMany"){if(e.length!==1)throw new Error("1");const f=e[0];for(const p of t)u.push({sourceAddr:f,targetAddr:p})}else if(r==="manyToOne"){if(t.length!==1)throw new Error("1");const f=t[0];for(const p of e)u.push({sourceAddr:p,targetAddr:f})}else if(r==="manyToMany"){if(e.length!==t.length)throw new Error("");for(let f=0;f<e.length;f++)u.push({sourceAddr:e[f],targetAddr:t[f]})}for(let f=0;f<u.length;f++){const{sourceAddr:p,targetAddr:h}=u[f];try{let g;if(o!=null&&o.privateKeyMap&&o.privateKeyMap[p.toLowerCase()])g=o.privateKeyMap[p.toLowerCase()];else{const m=this.localWallets.find(v=>v.address.toLowerCase()===p.toLowerCase());g=m==null?void 0:m.encrypted}if(!g){a.push({source:p,target:h,error:"",success:!1});continue}console.log(` ${f+1}/${u.length}: ${p} -> ${h}`);const b=dt(g),T=tn({account:b,chain:i,transport:Ze(i.rpcUrls.default.http[0])});let $,w=n;if(s==="token"&&this.targetToken){const m=this.targetToken.address,v=this.targetToken.decimals;if(o!=null&&o.transferAllBalance){const _=await l.readContract({address:m,abi:Le,functionName:"balanceOf",args:[p]});if(w=Number(we(_,v)),w<=0){a.push({source:p,target:h,error:"0",success:!1});continue}$=await T.writeContract({address:m,abi:Le,functionName:"transfer",args:[h,_],gas:BigInt(65e3),gasPrice:c})}else{const _=await l.readContract({address:m,abi:Le,functionName:"balanceOf",args:[p]}),I=Tt(n.toString(),v);if(_<I){a.push({source:p,target:h,error:`: ${we(_,v)}, : ${n}`,success:!1});continue}$=await T.writeContract({address:m,abi:Le,functionName:"transfer",args:[h,I],gas:BigInt(65e3),gasPrice:c})}}else if(o!=null&&o.transferAllBalance){const m=await l.getBalance({address:p}),v=BigInt(21e3),_=c*v,I=m-_;if(I<=BigInt(0)){a.push({source:p,target:h,error:` gas : ${$e(m)} BNBGas: ${$e(_)} BNB`,success:!1});continue}w=Number($e(I)),console.log(`: ${$e(m)} BNB, Gas: ${$e(_)} BNB, : ${w} BNB`),$=await T.sendTransaction({to:h,value:I,gas:v,gasPrice:c})}else{const m=await l.getBalance({address:p}),v=BigInt(21e3),_=c*v,I=rt(n.toString());if(m<I+_){a.push({source:p,target:h,error:`: ${$e(m)} BNB: ${$e(I+_)} BNB`,success:!1});continue}$=await T.sendTransaction({to:h,value:I,gas:v,gasPrice:c})}console.log(`: ${$}`),(await l.waitForTransactionReceipt({hash:$,timeout:6e4})).status==="success"?(console.log(`: ${$}, : ${w}`),a.push({source:p,target:h,hash:$,success:!0,amount:w})):(console.error(`(): ${$}`),a.push({source:p,target:h,hash:$,error:"",success:!1})),f<u.length-1&&await new Promise(m=>setTimeout(m,1500))}catch(g){console.error(`: ${p} -> ${h}`,g),a.push({source:p,target:h,error:Ks(g),success:!1})}}return console.log(":",a),a},async testContractConnection(){try{const e=Td[this.currentChainId];if(!e||e==="0x0000000000000000000000000000000000000000")throw new Error("");console.log(`: ${e}`);const t=this.getPublicClient(),n=await t.readContract({address:e,abi:Zo,functionName:"getBalance",args:[]});console.log(":",$e(n));const s=await t.readContract({address:e,abi:Zo,functionName:"getTokenType",args:["0x0000000000000000000000000000000000000000"]});return console.log(":",s),{success:!0,contractAddress:e,balance:$e(n),tokenType:Number(s),message:""}}catch(e){return console.error(":",e),{success:!1,error:e.message||"",message:""}}}}}),js=[{inputs:[{internalType:"address",name:"tokenA",type:"address"},{internalType:"address",name:"tokenB",type:"address"}],name:"getPair",outputs:[{internalType:"address",name:"pair",type:"address"}],stateMutability:"view",type:"function"}],gn=[{inputs:[],name:"getReserves",outputs:[{internalType:"uint112",name:"_reserve0",type:"uint112"},{internalType:"uint112",name:"_reserve1",type:"uint112"},{internalType:"uint32",name:"_blockTimestampLast",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"token0",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token1",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],en=[{type:"function",name:"getAmountsOut",stateMutability:"view",inputs:[{name:"amountIn",type:"uint256"},{name:"path",type:"address[]"}],outputs:[{name:"amounts",type:"uint256[]"}]},{type:"function",name:"getAmountsIn",stateMutability:"view",inputs:[{name:"amountOut",type:"uint256"},{name:"path",type:"address[]"}],outputs:[{name:"amounts",type:"uint256[]"}]},{type:"function",name:"WETH",stateMutability:"view",inputs:[],outputs:[{name:"",type:"address"}]},{type:"function",name:"swapExactETHForTokens",stateMutability:"payable",inputs:[{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],outputs:[{name:"amounts",type:"uint256[]"}]},{type:"function",name:"swapExactETHForTokensSupportingFeeOnTransferTokens",stateMutability:"payable",inputs:[{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],outputs:[]},{type:"function",name:"swapExactTokensForETH",stateMutability:"nonpayable",inputs:[{name:"amountIn",type:"uint256"},{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],outputs:[{name:"amounts",type:"uint256[]"}]},{type:"function",name:"swapExactTokensForETHSupportingFeeOnTransferTokens",stateMutability:"nonpayable",inputs:[{name:"amountIn",type:"uint256"},{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],outputs:[]},{type:"function",name:"swapExactTokensForTokens",stateMutability:"nonpayable",inputs:[{name:"amountIn",type:"uint256"},{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],outputs:[{name:"amounts",type:"uint256[]"}]},{type:"function",name:"swapExactTokensForTokensSupportingFeeOnTransferTokens",stateMutability:"nonpayable",inputs:[{name:"amountIn",type:"uint256"},{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],outputs:[]}];class Ir{constructor(t,n,s,r,o){St(this,"client");St(this,"factoryAddress");St(this,"routerAddress");St(this,"baseTokens");St(this,"chainId");this.client=Xn({transport:Ze(t)}),this.factoryAddress=De(n),this.routerAddress=r?De(r):"",this.baseTokens=s.map(a=>De(a)),this.chainId=o||56}async findTokenPair(t,n){if(console.log(` ${t} ...`),n&&this.routerAddress){console.log(" Router ...");const s=await this.getPriceViaRouter(t,n);if(s)return s;console.log("Router ...")}if(n)try{console.log(` ${n} ...`);const s=De(t),r=De(n);let o=await this.client.readContract({address:this.factoryAddress,abi:js,functionName:"getPair",args:[s,r]}).catch(()=>null);if((!o||o==="0x0000000000000000000000000000000000000000")&&(o=await this.client.readContract({address:this.factoryAddress,abi:js,functionName:"getPair",args:[r,s]}).catch(()=>null)),o&&o!=="0x0000000000000000000000000000000000000000"){console.log(`: ${o}`);const i=await this.getPairInfo(o,t,n);if(i)return i}console.log("...");const a=await this.findRoutedPrice(t,n);if(a)return a}catch(s){console.warn(` ${n} :`,s)}for(const s of this.baseTokens)try{console.log(` ${s} ...`);const r=De(t),o=De(s),a=await this.client.readContract({address:this.factoryAddress,abi:js,functionName:"getPair",args:[r,o]});if(a&&a!=="0x0000000000000000000000000000000000000000"){console.log(`: ${a}`);const i=await this.getPairInfo(a,t,s);if(i)return i}}catch(r){console.warn(` ${s} :`,r);continue}return console.log(""),null}async findRoutedPrice(t,n){const s=De(t),r=De(n);for(const o of this.baseTokens){const a=De(o);if(a.toLowerCase()!==r.toLowerCase())try{console.log(`: Token -> ${a} -> ${r}`);const i=await this.client.readContract({address:this.factoryAddress,abi:js,functionName:"getPair",args:[s,a]}).catch(()=>null);if(!i||i==="0x0000000000000000000000000000000000000000")continue;const l=await this.client.readContract({address:this.factoryAddress,abi:js,functionName:"getPair",args:[a,r]}).catch(()=>null);if(!l||l==="0x0000000000000000000000000000000000000000")continue;console.log(`: ${i} -> ${l}`);const c=await this.getPairInfo(i,t,o),u=await this.getPairInfo(l,o,n);if(c&&u){const f=c.price*u.price;return console.log(`: ${c.price} (Token/${o.slice(0,6)})  ${u.price} (${o.slice(0,6)}/${n.slice(0,6)}) = ${f}`),{pairAddress:i,token0:c.token0,token1:c.token1,reserve0:c.reserve0,reserve1:c.reserve1,price:f,baseToken:r,isRouted:!0,routePath:[s,a,r],intermediatePrice:u.price}}}catch(i){console.warn(` ${o} :`,i);continue}}return console.log(""),null}async getPairInfo(t,n,s){try{const r=await this.client.readContract({address:t,abi:gn,functionName:"getReserves"}),o=await this.client.readContract({address:t,abi:gn,functionName:"token0"}),a=await this.client.readContract({address:t,abi:gn,functionName:"token1"}),i=De(n),l=De(s),c=await this.getTokenDecimals(i),u=await this.getTokenDecimals(l),f=De(o),p=De(a);let h=0;return f.toLowerCase()===i.toLowerCase()?h=Number(we(r[1],u))/Number(we(r[0],c)):h=Number(we(r[0],u))/Number(we(r[1],c)),{pairAddress:t,token0:f,token1:p,reserve0:r[0],reserve1:r[1],price:h,baseToken:l}}catch(r){return console.error(":",r),null}}async getTokenDecimals(t){try{const n=await this.client.readContract({address:t,abi:Le,functionName:"decimals"});return Number(n)}catch(n){return console.warn(` ${t} 18:`,n),18}}async getPriceViaRouter(t,n){if(!this.routerAddress)return console.log(" Router  Router "),null;const s=De(t),r=De(n),o=Ml[this.chainId];if(!o)return console.log(` chainId ${this.chainId}  WBNB `),null;const a=De(o);try{const i=await this.getTokenDecimals(s),l=await this.getTokenDecimals(r),c=Tt("1",i),u=[[s,a,r],[s,r]];let f=0,p=null,h=!1;for(const g of u)try{console.log(`: ${g.map(w=>w.slice(0,10)).join(" -> ")}`);const b=await this.client.readContract({address:this.routerAddress,abi:en,functionName:"getAmountsOut",args:[c,g]}),T=b[b.length-1],$=Number(we(T,l));console.log(`: ${$}`),$>f&&(f=$,p=g,h=g.length>2)}catch{console.log(`: ${g.map(T=>T.slice(0,10)).join(" -> ")}`);continue}if(p&&f>0){console.log(`: ${p.map(y=>y.slice(0,10)).join(" -> ")}, : ${f}`);let g=BigInt(0),b=BigInt(0),T=this.routerAddress,$=s,w=r;try{const y=await this.client.readContract({address:this.factoryAddress,abi:js,functionName:"getPair",args:[s,r]}).catch(()=>null);if(y&&y!=="0x0000000000000000000000000000000000000000"){T=y;const m=await this.client.readContract({address:y,abi:gn,functionName:"getReserves"}).catch(()=>null);if(m){const v=await this.client.readContract({address:y,abi:gn,functionName:"token0"}).catch(()=>null);v&&($=v,w=v.toLowerCase()===s.toLowerCase()?r:s,g=m[0],b=m[1],console.log(`: reserve0=${g}, reserve1=${b}`))}}}catch{console.log("")}return{pairAddress:T,token0:$,token1:w,reserve0:g,reserve1:b,price:f,baseToken:r,isRouted:h,routePath:h?p:void 0}}}catch(i){console.error("Router :",i)}return null}calculateSwapAmount(t,n,s){const{reserve0:r,reserve1:o,token0:a,token1:i}=t;if(s){const l=Number(o)/Number(r),c=n/l,u=Number(o)*(c-1);return BigInt(Math.floor(u))}else{const c=Number(o)/Number(r)/n,u=Number(r)*(c-1);return BigInt(Math.floor(u))}}}const vx={class:"row g-3"},wx={class:"col-12 col-md-4"},xx=["value"],$x={class:"col-12 col-md-4"},kx={class:"form-label small d-flex justify-content-between align-items-center"},Tx={key:0,class:"input-group input-group-sm"},Cx=["disabled"],_x=["value"],Ex={class:"col-12 col-md-4"},Ax=["value"],Px={class:"col-12 col-md-6"},Bx=["value"],Sx={class:"col-12 col-md-6"},Ix={class:"col-12"},Nx={class:"d-flex gap-2 flex-wrap"},Mx=["disabled"],Ox={key:0,class:"col-12"},Rx={class:"card border-success"},Fx={class:"card-body py-2"},Lx={class:"d-flex justify-content-between align-items-center"},Ux={class:"small text-muted"},Dx={class:"h5 mb-0 text-success font-monospace"},zx={key:0,class:"mt-1"},jx={class:"text-primary fw-bold"},Wx={class:"mt-1"},Vx={class:"text-muted"},Hx={key:0,class:"badge bg-info ms-2"},Gx={class:"d-flex gap-2"},qx=["disabled"],Kx={key:1,class:"col-12"},Zx={class:"alert alert-success py-2 mb-0 small d-flex justify-content-between align-items-center"},Yx={class:"ms-2 text-muted"},Jx={key:2,class:"col-12"},Qx={class:"alert alert-warning alert-dismissible fade show py-2 mb-0 small",role:"alert"},Ph=lt({__name:"LiquidityPoolQuery",setup(e){const t=sn(),n=fa(),s=Gn(),{chains:r,rpcUrl:o}=it(t),{localWallets:a,targetToken:i,poolQueryState:l}=it(s),{currentDex:c,currentDexName:u,currentFactoryAddress:f,currentRouterAddress:p,currentBaseTokens:h,selectedDexId:g,allDexConfigs:b}=it(n),T=se(t.selectedChainId),$=se(o.value),w=se(g.value),y=de({get:()=>l.value.currentPrice,set:G=>s.updatePoolQueryState({currentPrice:G})}),m=de({get:()=>l.value.marketCap,set:G=>s.updatePoolQueryState({marketCap:G})}),v=de({get:()=>l.value.priceDisplay,set:G=>s.updatePoolQueryState({priceDisplay:G})}),_=de({get:()=>l.value.isUpdating,set:G=>s.updatePoolQueryState({isUpdating:G})}),I=de({get:()=>l.value.lastUpdateTime,set:G=>s.updatePoolQueryState({lastUpdateTime:G})}),B=de({get:()=>l.value.isRoutedPrice,set:G=>s.updatePoolQueryState({isRoutedPrice:G})}),C=de({get:()=>l.value.quoteTokenSymbol,set:G=>s.updatePoolQueryState({quoteTokenSymbol:G})}),k=de({get:()=>l.value.selectedQuoteToken,set:G=>s.updatePoolQueryState({selectedQuoteToken:G})}),x=de({get:()=>l.value.tokenAddress,set:G=>s.updatePoolQueryState({tokenAddress:G})}),M=de({get:()=>l.value.tokenSymbol,set:G=>s.updatePoolQueryState({tokenSymbol:G})}),D=de({get:()=>l.value.tokenName,set:G=>s.updatePoolQueryState({tokenName:G})}),S=de({get:()=>l.value.tokenDecimals,set:G=>s.updatePoolQueryState({tokenDecimals:G})}),O=se(!1),F=se(""),j=se([]),z=se(null),Z=se(!1),K=se(""),A=se(!1),P=se(null),V=de(()=>{const G=r.value.find(X=>X.id===T.value);return(G==null?void 0:G.rpcOptions)||[]});function ye(G){try{return new URL(G).hostname}catch{return G}}function ce(G){return G===0?"0":G>=1?G.toFixed(8).replace(/\.?0+$/,""):G.toFixed(30).replace(/(\.\d*?[1-9])0+$/,"$1").replace(/\.0+$/,"")}function be(G){return G>=1e3?G.toFixed(2):G>=1?G.toFixed(4):G.toFixed(6)}function ke(){Ue(),y.value=null,m.value=null}const Me=[{name:"PancakeSwap V2",factory:"0xcA143Ce32Fe78f1f7019d7d551a6402fC5350c73",initCodeHash:"0x00fb7f630766e6a796048ea87d01acd3068e8ff67d078148a3fa3f4a84f69bd5"},{name:"PancakeSwap V2 (alt)",factory:"0xcA143Ce0Fe65960E6Aa4D42C8D3cE161c2B6604f",initCodeHash:"0x00fb7f630766e6a796048ea87d01acd3068e8ff67d078148a3fa3f4a84f69bd5"},{name:"BiSwap",factory:"0x858E3312ed3A876947EA49d572A7C42DE08af7EE",initCodeHash:"0xfea293c909d87cd4153593f077b76bb7e94340200f4ee84211ae8e4f9bd7ffdf"},{name:"ApeSwap",factory:"0x0841BD0B734E4F5853f0dD8d7Ea041c241fb0Da6",initCodeHash:"0xf4ccce374816856d11f00e4069e7cada164065686fbef53c6167a63ec2fd8c5b"},{name:"BabySwap",factory:"0x86407bEa2078ea5f5EB5A52B2caA963bC1F889Da",initCodeHash:"0x48c8bec5512d397a5d512fbb7d83d515e7b6d91e9838730e97ab59429f581697"},{name:"MDEX",factory:"0x3CD1C46068dAEa5Ebb0d3f55F6915B10648062B8",initCodeHash:"0x0d994d996174b05cfc7bed897dc1b20b4c458fc8d64fe98bc78b3c64a6b4d093"}];function tt(G,X,ae,Ne){const ze=De(G),He=De(X),Ge=De(ae),[Qt,Xt]=He.toLowerCase()<Ge.toLowerCase()?[He,Ge]:[Ge,He],Dt=Ye(fd(["address","address"],[Qt,Xt])),qn=Ye(fd(["bytes1","address","bytes32","bytes32"],["0xff",ze,Dt,Ne]));return De("0x"+qn.slice(-40))}async function gt(G,X,ae){for(const Ne of Me){const ze=tt(Ne.factory,X,ae,Ne.initCodeHash);try{const He=await G.readContract({address:ze,abi:gn,functionName:"getReserves"});if(He&&(He[0]>0n||He[1]>0n))return console.log(` [${Ne.name}]: ${ze}`),{pairAddress:ze,dexName:Ne.name}}catch{}}return console.log(" DEX "),null}function Fs(){if(!x.value||!M.value){alert("");return}s.setTargetToken({address:x.value,symbol:M.value,name:D.value||M.value,decimals:S.value}),alert(` ${M.value} `)}function E(){s.clearTargetToken()}const N=de(()=>{var G,X,ae;return((X=(G=s.targetToken)==null?void 0:G.address)==null?void 0:X.toLowerCase())===((ae=x.value)==null?void 0:ae.toLowerCase())}),W=new Map,Y=se(0),q={"0x8516fc284aeeaa0374e66037bd2309349ff728ea":{name:"BUSD Token",symbol:"BUSD"},"0x4be45c88db35383f713abc1adfa816200e0b8b56":{name:"Tether USD",symbol:"USDT"}},Q=de(()=>{const G=T.value,X=n.chainDexMappings.find(ae=>ae.chainId===G);if(X){const ae=b.value.find(Ne=>Ne.id===X.dexId);return ae?[ae]:[]}return b.value}),ie=de(()=>(Y.value,(h.value||[]).map(X=>{const ae=W.get(X.toLowerCase());return ae?{address:X,display:`${ae.symbol} (${ae.name})`}:{address:X,display:`${te(X)} (...)`}}))),oe=de(()=>k.value&&x.value&&!O.value);function re(){return T.value===97?rr:T.value===56?hr:T.value===66?Eh:hr}function te(G){return G?`${G.slice(0,6)}...${G.slice(-4)}`:""}async function he(G,X){const ae=G.toLowerCase();if(W.has(ae))return W.get(ae);try{const[Ne,ze]=await Promise.allSettled([X.readContract({address:G,abi:Le,functionName:"name"}),X.readContract({address:G,abi:Le,functionName:"symbol"})]),He=Ne.status==="fulfilled"?Ne.value:"",Ge=ze.status==="fulfilled"?ze.value:"";if(!He&&!Ge){const Dt={name:"Unknown Token",symbol:te(G).toUpperCase()};return W.set(ae,Dt),Y.value++,Dt}let Qt={name:He||"Unknown Token",symbol:Ge||te(G).toUpperCase()};const Xt=q[ae];return Xt&&(Qt={name:Xt.name,symbol:Xt.symbol}),W.set(ae,Qt),Y.value++,Qt}catch{const ze={name:"Unknown Token",symbol:te(G).toUpperCase()};return W.set(ae,ze),Y.value++,ze}}async function le(){const G=h.value||[];if(G.length===0)return;const X=r.value.find(Ne=>Ne.id===T.value);if(!X)return;const ae=Xn({chain:re(),transport:Ze(X.rpc)});await Promise.allSettled(G.map(Ne=>{const ze=Ne.toLowerCase();return W.has(ze)?Promise.resolve(W.get(ze)):he(Ne,ae)})),Y.value++}async function me(){Ue(),t.selectedChainId=T.value,s.setCurrentChainId(T.value);const G=r.value.find(X=>X.id===T.value);G&&(G.rpcOptions&&G.rpcOptions.length>0?($.value=G.rpcOptions[0].url,t.rpcUrl=G.rpcOptions[0].url):($.value=G.rpc,t.rpcUrl=G.rpc)),n.setDexByChainId(T.value),w.value=g.value,x.value="",y.value=null,m.value=null,F.value="",W.clear(),Y.value++,await le(),h.value&&h.value.length>0?k.value=h.value[0]:k.value=""}function ve(){t.rpcUrl=$.value,P.value=null,console.log("RPC:",$.value)}function Ee(){K.value&&(t.rpcUrl=K.value,$.value=K.value,P.value=null,console.log("RPC:",K.value))}async function Ie(){var G;if(K.value){A.value=!0,P.value=null;try{const ae=await Xn({transport:Ze(K.value)}).getBlockNumber();P.value={success:!0,message:`: ${ae}`},t.rpcUrl=K.value,$.value=K.value}catch(X){P.value={success:!1,message:`: ${((G=X.message)==null?void 0:G.slice(0,50))||""}`}}finally{A.value=!1}}}async function Be(){Ue(),n.setDex(w.value),y.value=null,m.value=null,F.value="",await le(),h.value&&h.value.length>0?k.value=h.value[0]:k.value=""}function ct(){Ue(),y.value=null,m.value=null,F.value=""}function ut(){Ue(),y.value=null,m.value=null,F.value=""}async function Ut(){if(oe.value){Ue(),O.value=!0,F.value="";try{const G=r.value.find(Ge=>Ge.id===T.value);if(!G)throw new Error("");const X=Xn({chain:re(),transport:Ze($.value||G.rpc)}),ae=await he(x.value,X),Ne=await he(k.value,X);ae?(M.value=ae.symbol,D.value=ae.name):(M.value="TOKEN",D.value="Unknown Token");try{const Ge=await X.readContract({address:x.value,abi:Le,functionName:"decimals"});S.value=Number(Ge)}catch{S.value=18}Ne?C.value=Ne.symbol:C.value="QUOTE";const ze=new Ir($.value||G.rpc,f.value,h.value,p.value,T.value),He=await ze.findTokenPair(x.value,k.value);if(!He)throw new Error("");He.isRouted&&He.routePath?(B.value=!0,j.value=He.routePath):(B.value=!1,j.value=[]);try{let Ge=BigInt(0),Qt=He.token0.toLowerCase();if(He.reserve0===BigInt(0)&&He.reserve1===BigInt(0)){console.log("pairInfo  0...");const fn=await gt(X,x.value,k.value);if(fn){console.log(":",fn.pairAddress,":",fn.dexName);const Cr=await X.readContract({address:fn.pairAddress,abi:gn,functionName:"getReserves"});console.log("reserve0:",Cr[0].toString()),console.log("reserve1:",Cr[1].toString());const Lo=await X.readContract({address:fn.pairAddress,abi:gn,functionName:"token0"});console.log("token0:",Lo),Qt=Lo.toLowerCase();const Nh=k.value.toLowerCase();Qt===Nh?(Ge=Cr[0],console.log("quoteReserve = reserve0:",Ge.toString())):(Ge=Cr[1],console.log("quoteReserve = reserve1:",Ge.toString()))}else console.log("")}else{const fn=k.value.toLowerCase();Qt===fn?Ge=He.reserve0:Ge=He.reserve1}const Dt=10n**BigInt(18),qn=Number(Ge)/Number(Dt);m.value=qn,console.log(" BNB :",qn,C.value)}catch(Ge){console.error(":",Ge),m.value=null}Bt(He.price),kn(ze,x.value)}catch(G){F.value=G.message||"",y.value=null,v.value=""}finally{O.value=!1}}}function Bt(G){y.value=G,v.value=`${C.value}/${M.value}`,I.value=new Date().toLocaleTimeString()}function kn(G,X){Ue(),_.value=!0,F.value="",Tr(G,X),z.value=window.setInterval(async()=>{const ae=r.value.find(ze=>ze.id===T.value);if(!ae){Ue();return}const Ne=new Ir($.value||ae.rpc,f.value,h.value,p.value,T.value);await Tr(Ne,X)},3e3)}async function Tr(G,X){try{const ae=await G.findTokenPair(X,k.value);if(!ae){F.value="...";return}ae.isRouted&&ae.routePath?(B.value=!0,j.value=ae.routePath):(B.value=!1,j.value=[]);try{let Ne=BigInt(0),ze=ae.token0.toLowerCase();if(ae.reserve0===BigInt(0)&&ae.reserve1===BigInt(0)){const Xt=r.value.find(Dt=>Dt.id===T.value);if(Xt){const Dt=Xn({chain:re(),transport:Ze($.value||Xt.rpc)}),qn=await gt(Dt,X,k.value);if(qn){const fn=await Dt.readContract({address:qn.pairAddress,abi:gn,functionName:"getReserves"});ze=(await Dt.readContract({address:qn.pairAddress,abi:gn,functionName:"token0"})).toLowerCase();const Lo=k.value.toLowerCase();ze===Lo?Ne=fn[0]:Ne=fn[1]}}}else{const Xt=k.value.toLowerCase();ze===Xt?Ne=ae.reserve0:Ne=ae.reserve1}const Ge=10n**BigInt(18),Qt=Number(Ne)/Number(Ge);m.value=Qt}catch{}Bt(ae.price),F.value=""}catch(ae){F.value=`: ${ae.message||""}`}}function Ue(){z.value!==null&&(clearInterval(z.value),z.value=null),_.value=!1}return _t([T,w,k,()=>x.value],()=>{Ue()}),Zl(()=>{Ue()}),gr(async()=>{if(T.value=t.selectedChainId,$.value=o.value,w.value=g.value,s.setCurrentChainId(t.selectedChainId),await new Promise(G=>setTimeout(G,100)),await le(),!k.value&&h.value&&h.value.length>0&&(k.value=h.value[0]),y.value!==null&&x.value&&!_.value){const G=r.value.find(X=>X.id===T.value);if(G){const X=new Ir($.value||G.rpc,f.value,h.value,p.value,T.value);kn(X,x.value)}}}),df(async()=>{if(y.value!==null&&x.value&&!_.value){const G=r.value.find(X=>X.id===T.value);if(G){const X=new Ir($.value||G.rpc,f.value,h.value,p.value,T.value);kn(X,x.value)}}}),_t(h,async(G,X)=>{G&&G.length>0&&G!==X&&await le()},{immediate:!1}),_t(w,async()=>{await new Promise(G=>setTimeout(G,100)),await le()}),(G,X)=>(R(),U("div",null,[X[21]||(X[21]=d("div",{class:"d-flex justify-content-between align-items-center mb-3"},[d("h2",{class:"h6 mb-0"},"")],-1)),d("div",vx,[d("div",wx,[X[8]||(X[8]=d("label",{class:"form-label small"},"",-1)),ue(d("select",{class:"form-select form-select-sm","onUpdate:modelValue":X[0]||(X[0]=ae=>T.value=ae),onChange:me},[(R(!0),U(Pe,null,je(ee(r),ae=>(R(),U("option",{key:ae.id,value:ae.id},L(ae.name),9,xx))),128))],544),[[st,T.value]])]),d("div",$x,[d("label",kx,[X[9]||(X[9]=d("span",null,"RPC",-1)),d("button",{class:"btn btn-link btn-sm p-0 text-decoration-none",onClick:X[1]||(X[1]=ae=>Z.value=!Z.value)},L(Z.value?"":""),1)]),Z.value?(R(),U("div",Tx,[ue(d("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":X[2]||(X[2]=ae=>K.value=ae),placeholder:"https://...",onChange:Ee},null,544),[[Ce,K.value]]),d("button",{class:"btn btn-outline-secondary",type:"button",onClick:Ie,disabled:!K.value||A.value},[d("i",{class:_e(["bi me-1",A.value?"bi-hourglass-split":"bi-lightning"])},null,2),J(" "+L(A.value?"":""),1)],8,Cx)])):ue((R(),U("select",{key:1,class:"form-select form-select-sm","onUpdate:modelValue":X[3]||(X[3]=ae=>$.value=ae),onChange:ve},[(R(!0),U(Pe,null,je(V.value,ae=>(R(),U("option",{key:ae.url,value:ae.url},L(ae.name)+" ("+L(ye(ae.url))+") ",9,_x))),128))],544)),[[st,$.value]]),P.value?(R(),U("div",{key:2,class:_e(["small mt-1",P.value.success?"text-success":"text-danger"])},L(P.value.message),3)):fe("",!0)]),d("div",Ex,[X[10]||(X[10]=d("label",{class:"form-label small"},"",-1)),ue(d("select",{class:"form-select form-select-sm","onUpdate:modelValue":X[4]||(X[4]=ae=>w.value=ae),onChange:Be},[(R(!0),U(Pe,null,je(Q.value,ae=>(R(),U("option",{key:ae.id,value:ae.id},L(ae.name),9,Ax))),128))],544),[[st,w.value]])]),d("div",Px,[X[12]||(X[12]=d("label",{class:"form-label small"},"",-1)),ue(d("select",{class:"form-select form-select-sm","onUpdate:modelValue":X[5]||(X[5]=ae=>k.value=ae),onChange:ct},[X[11]||(X[11]=d("option",{value:""},"",-1)),(R(!0),U(Pe,null,je(ie.value,ae=>(R(),U("option",{key:ae.address,value:ae.address},L(ae.display),9,Bx))),128))],544),[[st,k.value]])]),d("div",Sx,[X[13]||(X[13]=d("label",{class:"form-label small"},"",-1)),ue(d("input",{class:"form-control form-control-sm","onUpdate:modelValue":X[6]||(X[6]=ae=>x.value=ae),placeholder:"0x...",onInput:ut},null,544),[[Ce,x.value]])]),d("div",Ix,[d("div",Nx,[d("button",{class:"btn btn-primary btn-sm",onClick:Ut,disabled:!oe.value||O.value},[X[14]||(X[14]=d("i",{class:"bi bi-search me-1"},null,-1)),J(" "+L(O.value?"...":""),1)],8,Mx)])]),y.value!==null?(R(),U("div",Ox,[d("div",Rx,[d("div",Fx,[d("div",Lx,[d("div",null,[d("div",Ux," ("+L(v.value)+")",1),d("div",Dx,L(y.value!==null?ce(y.value):"-"),1),m.value!==null?(R(),U("div",zx,[X[15]||(X[15]=d("span",{class:"small text-muted"},": ",-1)),d("span",jx,L(be(m.value))+" "+L(C.value),1)])):fe("",!0),d("div",Wx,[d("small",Vx,L(I.value),1),B.value?(R(),U("span",Hx,"")):fe("",!0)])]),d("div",Gx,[_.value?(R(),U("button",{key:0,class:"btn btn-outline-danger btn-sm",onClick:ke},[...X[16]||(X[16]=[d("i",{class:"bi bi-stop-circle me-1"},null,-1),J(" ",-1)])])):fe("",!0),d("button",{class:_e(["btn btn-sm",N.value?"btn-success":"btn-outline-primary"]),onClick:Fs,disabled:!M.value},[d("i",{class:_e(["bi me-1",N.value?"bi-check-circle":"bi-crosshair"])},null,2),J(" "+L(N.value?"":""),1)],10,qx)])])])])])):fe("",!0),ee(i)?(R(),U("div",Kx,[d("div",Zx,[d("span",null,[X[17]||(X[17]=d("i",{class:"bi bi-crosshair me-1"},null,-1)),X[18]||(X[18]=J(" : ",-1)),d("strong",null,L(ee(i).symbol),1),J(" ("+L(ee(i).name)+") ",1),d("code",Yx,L(te(ee(i).address)),1)]),d("button",{class:"btn btn-outline-danger btn-sm",onClick:E},[...X[19]||(X[19]=[d("i",{class:"bi bi-x-lg me-1"},null,-1),J(" ",-1)])])])])):fe("",!0),F.value?(R(),U("div",Jx,[d("div",Qx,[X[20]||(X[20]=d("i",{class:"bi bi-exclamation-triangle me-1"},null,-1)),J(" "+L(F.value)+" ",1),d("button",{type:"button",class:"btn-close",style:{padding:"0.5rem"},onClick:X[7]||(X[7]=ae=>F.value=""),"aria-label":"Close"})])])):fe("",!0)])]))}}),Xx={class:"d-flex justify-content-between align-items-center"},e8={class:"text-muted small"},t8={class:"row g-2 mt-2"},n8={class:"col-12 col-md-4"},s8={class:"col-6 col-md-2"},r8={class:"col-6 col-md-3"},o8={class:"col-12 col-md-3 d-grid"},a8=["disabled"],i8={class:"row g-2 mt-2"},l8={class:"col-12"},c8={class:"form-check form-check-inline"},u8={key:0,class:"mt-3 pt-3 border-top"},d8={class:"row g-2 align-items-end"},f8={class:"col-12 col-md-5"},p8=["value"],h8={class:"col-6 col-md-3"},m8={class:"col-6 col-md-4 d-grid"},b8=["disabled"],g8={key:0},y8={key:1},v8={key:1,class:"alert alert-info small mt-2"},w8={key:2,class:"small text-muted mt-1"},x8=lt({__name:"WalletImportPanel",setup(e){const t=Gn(),n=sn(),{walletBatches:s}=it(t),r=se(null),o=se("normal"),a=se(""),i=se(!0),l=se(null),c=se(!1),u=se(""),f=se("normal"),p=se(!1),h=de(()=>{const y=n.chains.find(m=>m.id===n.selectedChainId);return y?`${y.name} (${y.governanceToken})`:""});function g(y){var v;const m=y.target;r.value=((v=m.files)==null?void 0:v[0])??null,l.value=null}function b(y){const m=y.split(/\r?\n/).map(I=>I.trim()).filter(Boolean),v=[],_=/^(0x)?[0-9a-fA-F]{64}$/;for(const I of m){const B=I.split(",").map(C=>C.trim().replace(/^["']|["']$/g,""));for(const C of B)C.toLowerCase().includes("private")||C.toLowerCase().includes("key")||C.toLowerCase().includes("address")||C.toLowerCase()==="id"||C.toLowerCase()==="index"||_.test(C)&&v.push(C)}return v}function T(y){const m=y.split(/\r?\n/).map(_=>_.trim()).filter(Boolean),v=/^(0x)?[0-9a-fA-F]{64}$/;return m.filter(_=>v.test(_))}async function $(){if(!r.value){alert("");return}const y=await r.value.text(),m=r.value.name.toLowerCase();let v;if(m.endsWith(".csv")?v=b(y):v=T(y),v.length===0){alert("");return}if(l.value=t.importWalletsFromPrivateKeys(v,{walletType:o.value,remark:a.value}),i.value&&l.value.added>0)try{await t.createBatchFromPrivateKeys(v,a.value||"",o.value)}catch(_){console.error(":",_)}if(l.value.added>0){c.value=!0;try{await t.refreshAllBalances()}finally{c.value=!1}}}async function w(){if(!u.value){alert("");return}p.value=!0;try{const y=t.importWalletsFromBatch(u.value,f.value);l.value=y,y.added>0?(await t.refreshAllBalances(),alert(` ${y.added} ${y.duplicates>0?`${y.duplicates} `:""}`)):y.duplicates>0&&alert(`${y.duplicates} `)}catch(y){alert(y.message||"")}finally{p.value=!1}}return(y,m)=>(R(),U("div",null,[d("div",Xx,[m[5]||(m[5]=d("h2",{class:"h6 mb-0"},"",-1)),d("span",e8,""+L(h.value),1)]),d("div",t8,[d("div",n8,[d("input",{class:"form-control form-control-sm",type:"file",accept:".txt,.csv",onChange:g},null,32)]),d("div",s8,[ue(d("select",{class:"form-select form-select-sm","onUpdate:modelValue":m[0]||(m[0]=v=>o.value=v)},[...m[6]||(m[6]=[d("option",{value:"main"},"",-1),d("option",{value:"normal"},"",-1)])],512),[[st,o.value]])]),d("div",r8,[ue(d("input",{class:"form-control form-control-sm","onUpdate:modelValue":m[1]||(m[1]=v=>a.value=v),placeholder:""},null,512),[[Ce,a.value]])]),d("div",o8,[d("button",{class:"btn btn-primary btn-sm",onClick:$,disabled:!r.value||c.value},L(c.value?"...":""),9,a8)])]),d("div",i8,[d("div",l8,[d("div",c8,[ue(d("input",{type:"checkbox",class:"form-check-input",id:"createBatchCheck","onUpdate:modelValue":m[2]||(m[2]=v=>i.value=v)},null,512),[[er,i.value]]),m[7]||(m[7]=d("label",{class:"form-check-label small",for:"createBatchCheck"},"  ",-1))])])]),m[13]||(m[13]=d("div",{class:"small text-muted mt-2"},"  .txt  .csv 64CSV ",-1)),ee(s).length>0?(R(),U("div",u8,[m[12]||(m[12]=d("div",{class:"d-flex justify-content-between align-items-center mb-2"},[d("span",{class:"small fw-bold"},"")],-1)),d("div",d8,[d("div",f8,[ue(d("select",{class:"form-select form-select-sm","onUpdate:modelValue":m[3]||(m[3]=v=>u.value=v)},[m[8]||(m[8]=d("option",{value:""},"--  --",-1)),(R(!0),U(Pe,null,je(ee(s),v=>(R(),U("option",{key:v.id,value:v.id},L(v.remark)+" ("+L(v.wallets.length)+" ) ",9,p8))),128))],512),[[st,u.value]])]),d("div",h8,[ue(d("select",{class:"form-select form-select-sm","onUpdate:modelValue":m[4]||(m[4]=v=>f.value=v)},[...m[9]||(m[9]=[d("option",{value:"main"},"",-1),d("option",{value:"normal"},"",-1)])],512),[[st,f.value]])]),d("div",m8,[d("button",{class:"btn btn-outline-primary btn-sm",onClick:w,disabled:!u.value||p.value},[p.value?(R(),U("span",g8,[...m[10]||(m[10]=[d("span",{class:"spinner-border spinner-border-sm me-1"},null,-1),J("... ",-1)])])):(R(),U("span",y8,[...m[11]||(m[11]=[d("i",{class:"bi bi-box-arrow-in-down me-1"},null,-1),J(" ",-1)])]))],8,b8)])])])):fe("",!0),l.value?(R(),U("div",v8,"  "+L(l.value.added)+" "+L(l.value.duplicates)+L(l.value.invalid!==void 0?` ${l.value.invalid}`:"")+" ",1)):fe("",!0),c.value?(R(),U("div",w8,"...")):fe("",!0)]))}}),$8={class:"wallet-batch-panel"},k8={class:"mb-3"},T8={class:"d-flex justify-content-between align-items-center mb-2"},C8={class:"badge bg-secondary"},_8={class:"row g-2 align-items-end"},E8={class:"col-auto"},A8={class:"col-auto"},P8={class:"col"},B8={class:"col-auto"},S8=["disabled"],I8={key:0},N8={key:1},M8={key:0,class:"batch-list"},O8={class:"card-body py-2 px-3"},R8={class:"d-flex justify-content-between align-items-center mb-2"},F8={class:"batch-info"},L8={class:"fw-bold"},U8={class:"badge bg-info ms-1"},D8={class:"text-muted small ms-2"},z8={key:0},j8={key:0,class:"badge bg-warning text-dark me-1"},W8={key:1,class:"badge bg-success"},V8={class:"d-flex flex-wrap gap-1"},H8=["onClick"],G8=["onClick"],q8=["onClick"],K8=["onClick","disabled"],Z8={key:0},Y8={key:1,class:"bi bi-wallet2 me-1"},J8=["onClick"],Q8=["onClick"],X8={key:0,class:"mt-2 pt-2 border-top"},e$={class:"d-flex justify-content-between align-items-center mb-2"},t$=["onClick"],n$={class:"wallet-list-scroll"},s$={class:"table table-sm table-striped mb-0"},r$={class:"text-muted"},o$={class:"font-monospace small"},a$={key:1,class:"text-center text-muted py-3"},i$={class:"modal-dialog modal-lg"},l$={class:"modal-content"},c$={class:"modal-header bg-warning"},u$={class:"modal-title"},d$={class:"modal-body"},f$={class:"table-responsive",style:{"max-height":"400px","overflow-y":"auto"}},p$={class:"table table-sm table-striped"},h$={class:"text-muted"},m$={class:"font-monospace small"},b$={class:"font-monospace small text-danger"},g$={class:"modal-footer"},y$={key:3,class:"modal-backdrop show"},v$=lt({__name:"WalletBatchPanel",setup(e){const t=Gn(),n=sn(),{walletBatches:s,targetToken:r}=it(t),{currentGovernanceToken:o}=it(n),a=se(void 0),i=se(""),l=se("normal"),c=se(!1),u=se(null),f=se(null),p=se(!1),h=se(null);async function g(){if(!a.value||a.value<1){alert("");return}c.value=!0;try{await t.generateWalletBatch(a.value,i.value,l.value),alert(` ${a.value} ${l.value==="main"?"":""}`),i.value=""}catch(k){alert(k.message||"")}finally{c.value=!1}}function b(k){u.value=u.value===k?null:k}function T(k){const x=prompt("",k.remark);x!==null&&x!==k.remark&&t.updateBatchRemark(k.id,x)}function $(k){h.value=k,p.value=!0}async function w(k){var x;f.value=k.id;try{const M=await t.refreshBatchBalances(k.id);if(M){const D=C(M.totalNativeBalance),S=M.totalTokenBalance?C(M.totalTokenBalance):null;alert(`

${o.value} : ${D}${S?`
${((x=r.value)==null?void 0:x.symbol)||""} : ${S}`:""}

: ${k.wallets.length} `)}}catch(M){alert(M.message||"")}finally{f.value=null}}function y(k){t.exportBatchToFile(k)}function m(k){confirm(` "${k.remark}" 

`)&&t.deleteBatch(k.id)}function v(k){const x=k.wallets.map(M=>M.address).join(`
`);navigator.clipboard.writeText(x).then(()=>{alert("")})}function _(){if(!h.value)return;const k=h.value.wallets.map(x=>x.privateKey).join(`
`);navigator.clipboard.writeText(k).then(()=>{alert("")})}function I(k){return new Date(k).toLocaleString()}function B(k){return`${k.slice(0,10)}...${k.slice(-8)}`}function C(k){if(!k)return"0";const x=parseFloat(k);return isNaN(x)?"0":x>=1e3?x.toFixed(2):x>=1?x.toFixed(4):x>=1e-4?x.toFixed(6):x.toExponential(2)}return(k,x)=>{var M,D;return R(),U("div",$8,[d("div",k8,[d("div",T8,[x[6]||(x[6]=d("h6",{class:"mb-0"},[d("i",{class:"bi bi-collection me-1"}),J("")],-1)),d("span",C8,L(ee(s).length)+" ",1)]),d("div",_8,[d("div",E8,[x[7]||(x[7]=d("label",{class:"form-label small mb-1"},"",-1)),ue(d("input",{type:"number",class:"form-control form-control-sm","onUpdate:modelValue":x[0]||(x[0]=S=>a.value=S),min:"1",max:"1000",placeholder:"",style:{width:"80px"}},null,512),[[Ce,a.value,void 0,{number:!0}]])]),d("div",A8,[x[9]||(x[9]=d("label",{class:"form-label small mb-1"},"",-1)),ue(d("select",{class:"form-select form-select-sm","onUpdate:modelValue":x[1]||(x[1]=S=>l.value=S)},[...x[8]||(x[8]=[d("option",{value:"main"},"",-1),d("option",{value:"normal"},"",-1)])],512),[[st,l.value]])]),d("div",P8,[x[10]||(x[10]=d("label",{class:"form-label small mb-1"},"",-1)),ue(d("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":x[2]||(x[2]=S=>i.value=S),placeholder:""},null,512),[[Ce,i.value]])]),d("div",B8,[d("button",{class:"btn btn-primary btn-sm",onClick:g,disabled:c.value||!a.value||a.value<1},[c.value?(R(),U("span",I8,[...x[11]||(x[11]=[d("span",{class:"spinner-border spinner-border-sm me-1"},null,-1),J("... ",-1)])])):(R(),U("span",N8,[...x[12]||(x[12]=[d("i",{class:"bi bi-plus-circle me-1"},null,-1),J(" ",-1)])]))],8,S8)])]),x[13]||(x[13]=d("div",{class:"form-text small text-muted mt-1"},"  ",-1))]),ee(s).length>0?(R(),U("div",M8,[(R(!0),U(Pe,null,je(ee(s),S=>(R(),U("div",{key:S.id,class:_e(["card mb-2 batch-card",{"border-primary":u.value===S.id}])},[d("div",O8,[d("div",R8,[d("div",F8,[d("span",L8,L(S.remark),1),d("span",{class:_e(["badge ms-2",S.walletType==="main"?"bg-danger":"bg-secondary"])},L(S.walletType==="main"?"":""),3),d("span",U8,L(S.wallets.length)+" ",1),d("span",D8,L(I(S.createdAt)),1)]),S.totalNativeBalance||S.totalTokenBalance?(R(),U("div",z8,[S.totalNativeBalance?(R(),U("span",j8,L(C(S.totalNativeBalance))+" "+L(ee(o)),1)):fe("",!0),S.totalTokenBalance&&ee(r)?(R(),U("span",W8,L(C(S.totalTokenBalance))+" "+L(ee(r).symbol),1)):fe("",!0)])):fe("",!0)]),d("div",V8,[d("button",{class:"btn btn-outline-secondary btn-sm",onClick:O=>T(S),title:""},[...x[14]||(x[14]=[d("i",{class:"bi bi-pencil me-1"},null,-1),J(" ",-1)])],8,H8),d("button",{class:"btn btn-outline-info btn-sm",onClick:O=>b(S.id),title:""},[...x[15]||(x[15]=[d("i",{class:"bi bi-eye me-1"},null,-1),J(" ",-1)])],8,G8),d("button",{class:"btn btn-outline-warning btn-sm",onClick:O=>$(S),title:""},[...x[16]||(x[16]=[d("i",{class:"bi bi-key me-1"},null,-1),J(" ",-1)])],8,q8),d("button",{class:"btn btn-outline-primary btn-sm",onClick:O=>w(S),disabled:f.value===S.id,title:""},[f.value===S.id?(R(),U("span",Z8,[...x[17]||(x[17]=[d("span",{class:"spinner-border spinner-border-sm me-1"},null,-1)])])):(R(),U("i",Y8)),x[18]||(x[18]=J(" ",-1))],8,K8),d("button",{class:"btn btn-outline-success btn-sm",onClick:O=>y(S),title:""},[...x[19]||(x[19]=[d("i",{class:"bi bi-download me-1"},null,-1),J(" ",-1)])],8,J8),d("button",{class:"btn btn-outline-danger btn-sm",onClick:O=>m(S),title:""},[...x[20]||(x[20]=[d("i",{class:"bi bi-trash me-1"},null,-1),J(" ",-1)])],8,Q8)]),u.value===S.id?(R(),U("div",X8,[d("div",e$,[x[22]||(x[22]=d("span",{class:"small text-muted"},"",-1)),d("button",{class:"btn btn-outline-primary btn-sm",onClick:O=>v(S)},[...x[21]||(x[21]=[d("i",{class:"bi bi-clipboard me-1"},null,-1),J(" ",-1)])],8,t$)]),d("div",n$,[d("table",s$,[x[23]||(x[23]=d("thead",{class:"table-light"},[d("tr",null,[d("th",{style:{width:"40px"}},"#"),d("th",null,"")])],-1)),d("tbody",null,[(R(!0),U(Pe,null,je(S.wallets,(O,F)=>(R(),U("tr",{key:O.address},[d("td",r$,L(F+1),1),d("td",o$,L(O.address),1)]))),128))])])])])):fe("",!0)])],2))),128))])):(R(),U("div",a$,[...x[24]||(x[24]=[d("i",{class:"bi bi-inbox fs-4"},null,-1),d("p",{class:"mb-0 mt-1 small"},"",-1)])])),p.value?(R(),U("div",{key:2,class:"modal show d-block",tabindex:"-1",onClick:x[5]||(x[5]=ar(S=>p.value=!1,["self"]))},[d("div",i$,[d("div",l$,[d("div",c$,[d("h5",u$,[x[25]||(x[25]=d("i",{class:"bi bi-exclamation-triangle me-2"},null,-1)),J(" - "+L((M=h.value)==null?void 0:M.remark),1)]),d("button",{type:"button",class:"btn-close",onClick:x[3]||(x[3]=S=>p.value=!1)})]),d("div",d$,[x[27]||(x[27]=d("div",{class:"alert alert-danger small"},[d("i",{class:"bi bi-shield-exclamation me-1"}),d("strong",null,""),J(" ")],-1)),d("div",f$,[d("table",p$,[x[26]||(x[26]=d("thead",{class:"table-light sticky-top"},[d("tr",null,[d("th",{style:{width:"40px"}},"#"),d("th",null,""),d("th",null,"")])],-1)),d("tbody",null,[(R(!0),U(Pe,null,je((D=h.value)==null?void 0:D.wallets,(S,O)=>(R(),U("tr",{key:S.address},[d("td",h$,L(O+1),1),d("td",m$,L(B(S.address)),1),d("td",b$,L(S.privateKey),1)]))),128))])])])]),d("div",g$,[d("button",{class:"btn btn-outline-primary btn-sm",onClick:_},[...x[28]||(x[28]=[d("i",{class:"bi bi-clipboard me-1"},null,-1),J(" ",-1)])]),d("button",{type:"button",class:"btn btn-secondary btn-sm",onClick:x[4]||(x[4]=S=>p.value=!1)},"")])])])])):fe("",!0),p.value?(R(),U("div",y$)):fe("",!0)])}}}),w$=Ft(v$,[["__scopeId","data-v-16757362"]]),x$={class:"wallet-table-container"},$$={class:"d-flex justify-content-between align-items-center mb-2 flex-wrap gap-2"},k$={class:"d-flex align-items-center gap-2"},T$={key:0,class:"badge bg-primary"},C$={key:1,class:"badge bg-warning text-dark"},_$={key:2,class:"badge bg-success"},E$={class:"d-flex gap-2 flex-wrap"},A$=["disabled"],P$={class:"input-group input-group-sm",style:{width:"auto"}},B$=["disabled"],S$={class:"d-flex justify-content-between align-items-center mb-2 flex-wrap gap-2"},I$={class:"d-flex gap-2 flex-wrap"},N$=["disabled"],M$=["disabled"],O$=["disabled"],R$=["disabled"],F$={class:"d-flex gap-2 flex-wrap"},L$=["disabled"],U$={class:"modal fade",id:"importBatchModal",tabindex:"-1","aria-hidden":"true"},D$={class:"modal-dialog"},z$={class:"modal-content"},j$={class:"modal-body"},W$={class:"mb-3"},V$=["value"],H$={class:"mb-3"},G$={key:0,class:"alert alert-warning small mb-0"},q$={class:"modal-footer"},K$=["disabled"],Z$={key:0},Y$={key:1},J$={class:"table-responsive"},Q$={class:"table table-sm align-middle table-hover"},X$={class:"table-light"},e3={style:{width:"40px"}},t3=["checked","indeterminate"],n3=["checked","onChange"],s3={class:"small text-muted"},r3={class:"text-break",style:{"min-width":"220px"}},o3=["title"],a3={class:"text-break small",style:{"min-width":"140px"}},i3=["title"],l3={key:0},c3={key:1,class:"text-muted"},u3={key:0},d3={key:1,class:"text-muted"},f3={key:0,class:"text-center text-muted py-4"},p3=lt({__name:"WalletTable",setup(e){const t=Gn(),n=sn(),{localWallets:s,selectedWalletAddresses:r,selectedCount:o,isAllSelected:a,targetToken:i,walletBatches:l}=it(t),{currentGovernanceToken:c}=it(n),u=se(!1),f=se(""),p=se(""),h=se("normal"),g=se(!1);let b=null;const T=de(()=>{const D=s.value.filter(F=>r.value.includes(F.address));let S=0,O=0;for(const F of D)F.nativeBalance&&F.nativeBalance!=="-"&&F.nativeBalance!=="Error"&&(S+=parseFloat(F.nativeBalance)||0),F.tokenBalance&&F.tokenBalance!=="-"&&F.tokenBalance!=="Error"&&(O+=parseFloat(F.tokenBalance)||0);return{totalNative:S.toFixed(6),totalToken:O.toFixed(6)}});function $(D){return r.value.includes(D)}function w(D){t.toggleWalletSelection(D)}function y(){a.value?t.deselectAll():t.selectAll()}function m(){t.invertSelection()}function v(){if(!f.value)return;const D=f.value.match(/^(\d+)\s*[-~]\s*(\d+)$/);if(D){const S=parseInt(D[1]),O=parseInt(D[2]);t.selectRangeOnly(S,O),f.value=""}else alert(' "1-20"  "1~20" ')}function _(){var z;if(o.value===0)return;const D=t.selectedWallets,S=((z=D[0])==null?void 0:z.remark)||"",F=D.every(Z=>Z.remark===S)?S:"",j=prompt(` ${o.value} 

`,F);j!==null&&(t.updateSelectedWalletsRemark(j),alert(` ${o.value} `))}function I(){o.value!==0&&confirm(` ${o.value} `)&&t.removeSelectedWallets()}async function B(){if(!u.value){u.value=!0;try{await t.refreshAllBalances(),i.value&&await t.refreshTargetTokenBalance()}finally{u.value=!1}}}function C(){confirm("")&&t.clearLocalWallets()}function k(){const D=document.getElementById("importBatchModal");if(D){if(!b){const S=window.bootstrap;b=new S.Modal(D)}p.value="",h.value="normal",b.show()}}async function x(){if(!p.value){alert("");return}g.value=!0;try{const D=t.importWalletsFromBatch(p.value,h.value);D.added>0?(await t.refreshAllBalances(),b&&b.hide(),alert(` ${D.added} ${D.duplicates>0?`${D.duplicates} `:""}`)):D.duplicates>0&&alert(`${D.duplicates} `)}catch(D){alert(D.message||"")}finally{g.value=!1}}async function M(){if(!s.value||s.value.length===0){alert("");return}try{await t.exportPrivateKeys()}catch(D){alert(": "+D.message)}}return(D,S)=>(R(),U("div",x$,[d("div",$$,[d("div",k$,[S[3]||(S[3]=d("h6",{class:"mb-0"},"",-1)),ee(o)>0?(R(),U("span",T$,"  "+L(ee(o))+" / "+L(ee(s).length),1)):fe("",!0),ee(o)>0?(R(),U("span",C$,L(T.value.totalNative)+" "+L(ee(c)),1)):fe("",!0),ee(o)>0&&ee(i)?(R(),U("span",_$,L(T.value.totalToken)+" "+L(ee(i).symbol),1)):fe("",!0)]),d("div",E$,[d("button",{class:"btn btn-outline-secondary btn-sm",onClick:y},[d("i",{class:_e(["bi",ee(a)?"bi-check-square":"bi-square"])},null,2),J(" "+L(ee(a)?"":""),1)]),d("button",{class:"btn btn-outline-secondary btn-sm",onClick:m,disabled:ee(s).length===0},[...S[4]||(S[4]=[d("i",{class:"bi bi-arrow-repeat"},null,-1),J("  ",-1)])],8,A$),d("div",P$,[ue(d("input",{type:"text",class:"form-control",placeholder:" : 1-20","onUpdate:modelValue":S[0]||(S[0]=O=>f.value=O),style:{width:"90px"},onKeyup:ob(v,["enter"])},null,544),[[Ce,f.value]]),d("button",{class:"btn btn-outline-secondary",onClick:v,disabled:!f.value},"  ",8,B$)])])]),d("div",S$,[d("div",I$,[d("button",{class:"btn btn-outline-secondary btn-sm",onClick:k,disabled:ee(l).length===0},[...S[5]||(S[5]=[d("i",{class:"bi bi-box-arrow-in-down me-1"},null,-1),J(" ",-1)])],8,N$),d("button",{class:"btn btn-outline-primary btn-sm",onClick:B,disabled:u.value},[S[6]||(S[6]=d("i",{class:"bi bi-arrow-clockwise me-1"},null,-1)),J(L(u.value?"":""),1)],8,M$),d("button",{class:"btn btn-outline-secondary btn-sm",onClick:_,disabled:ee(o)===0},[S[7]||(S[7]=d("i",{class:"bi bi-pencil me-1"},null,-1)),J(" ("+L(ee(o))+") ",1)],8,O$),d("button",{class:"btn btn-outline-danger btn-sm",onClick:I,disabled:ee(o)===0},[S[8]||(S[8]=d("i",{class:"bi bi-trash me-1"},null,-1)),J(" ("+L(ee(o))+") ",1)],8,R$),d("button",{class:"btn btn-outline-danger btn-sm",onClick:C},[...S[9]||(S[9]=[d("i",{class:"bi bi-trash-fill me-1"},null,-1),J(" ",-1)])])]),d("div",F$,[d("button",{class:"btn btn-outline-info btn-sm",onClick:M,disabled:!ee(s)||ee(s).length===0},[...S[10]||(S[10]=[d("i",{class:"bi bi-download me-1"},null,-1),J(" ",-1)])],8,L$)])]),d("div",U$,[d("div",D$,[d("div",z$,[S[18]||(S[18]=d("div",{class:"modal-header"},[d("h5",{class:"modal-title"},[d("i",{class:"bi bi-box-arrow-in-down me-2"}),J("")]),d("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),d("div",j$,[d("div",W$,[S[12]||(S[12]=d("label",{class:"form-label"},"",-1)),ue(d("select",{class:"form-select","onUpdate:modelValue":S[1]||(S[1]=O=>p.value=O)},[S[11]||(S[11]=d("option",{value:""},"--  --",-1)),(R(!0),U(Pe,null,je(ee(l),O=>(R(),U("option",{key:O.id,value:O.id},L(O.remark)+" ("+L(O.wallets.length)+" ) ",9,V$))),128))],512),[[st,p.value]])]),d("div",H$,[S[14]||(S[14]=d("label",{class:"form-label"},"",-1)),ue(d("select",{class:"form-select","onUpdate:modelValue":S[2]||(S[2]=O=>h.value=O)},[...S[13]||(S[13]=[d("option",{value:"normal"},"",-1),d("option",{value:"main"},"",-1)])],512),[[st,h.value]])]),ee(l).length===0?(R(),U("div",G$,[...S[15]||(S[15]=[d("i",{class:"bi bi-exclamation-triangle me-1"},null,-1),J(' "" ',-1)])])):fe("",!0)]),d("div",q$,[S[17]||(S[17]=d("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"",-1)),d("button",{type:"button",class:"btn btn-primary",onClick:x,disabled:!p.value||g.value},[g.value?(R(),U("span",Z$,[...S[16]||(S[16]=[d("span",{class:"spinner-border spinner-border-sm me-1"},null,-1),J("... ",-1)])])):(R(),U("span",Y$,""))],8,K$)])])])]),d("div",J$,[d("table",Q$,[d("thead",X$,[d("tr",null,[d("th",e3,[d("input",{type:"checkbox",class:"form-check-input",checked:ee(a)&&ee(s).length>0,indeterminate:ee(o)>0&&!ee(a),onChange:y},null,40,t3)]),S[19]||(S[19]=d("th",{style:{width:"50px"}},"#",-1)),S[20]||(S[20]=d("th",null,"",-1)),S[21]||(S[21]=d("th",null,"",-1)),S[22]||(S[22]=d("th",null,"",-1)),S[23]||(S[23]=d("th",null,"",-1)),S[24]||(S[24]=d("th",null,"",-1)),d("th",null,L(ee(c))+" ",1),d("th",null,L(ee(i)?ee(i).symbol:"")+" ",1)])]),d("tbody",null,[(R(!0),U(Pe,null,je(ee(s),(O,F)=>(R(),U("tr",{key:O.address,class:_e({"table-primary":$(O.address)})},[d("td",null,[d("input",{type:"checkbox",class:"form-check-input",checked:$(O.address),onChange:j=>w(O.address)},null,40,n3)]),d("td",null,L(F+1),1),d("td",null,[d("span",{class:_e(["badge",O.walletType==="main"?"bg-primary":"bg-secondary"])},L(O.walletType==="main"?"":""),3)]),d("td",null,[d("span",null,L(O.remark||"-"),1)]),d("td",s3,L(O.createdAt?new Date(O.createdAt).toLocaleString():"-"),1),d("td",r3,[d("span",{class:"font-monospace",title:O.address},L(O.address),9,o3)]),d("td",a3,[d("span",{class:"font-monospace text-muted",title:O.encrypted},L(O.encrypted?O.encrypted.slice(0,14)+"...":"-"),9,i3)]),d("td",null,[O.nativeBalance!==void 0?(R(),U("span",l3,L(O.nativeBalance),1)):(R(),U("span",c3,"-"))]),d("td",null,[ee(i)&&O.tokenBalance!==void 0?(R(),U("span",u3,L(O.tokenBalance),1)):(R(),U("span",d3,"-"))])],2))),128))])]),ee(s).length===0?(R(),U("div",f3,[...S[25]||(S[25]=[d("i",{class:"bi bi-wallet2 fs-1"},null,-1),d("p",{class:"mt-2"},"",-1)])])):fe("",!0)])]))}}),h3=Ft(p3,[["__scopeId","data-v-b59a17db"]]);function m3(e){switch(e){case 97:return rr;case 56:return hr;default:return hr}}const Ed=new Map;async function b3(e,t){const n=t.toLowerCase(),s=await e.getTransactionCount({address:t,blockTag:"pending"}),r=Ed.get(n)||0,o=Math.max(s,r);return Ed.set(n,o+1),o}class g3{constructor(t,n,s){St(this,"chainId");St(this,"rpcUrl");St(this,"routerAddress");St(this,"publicClient");St(this,"chainConfig");this.chainId=t,this.rpcUrl=n,this.routerAddress=s,this.chainConfig=m3(t),this.publicClient=Xn({chain:this.chainConfig,transport:Ze(n)})}getWBNBAddress(){return Ml[this.chainId]||Ml[56]}getUSDTAddress(){return Ah[this.chainId]||null}getUSDCAddress(){return mx[this.chainId]||null}getSpendTokenAddress(t){return t==="USDT"?this.getUSDTAddress():t==="USDC"?this.getUSDCAddress():null}async getLatestNonce(t){try{return await b3(this.publicClient,t)}catch(n){return console.warn(" nonce :",n),0}}async checkAndApprove(t,n,s,r,o){try{const a=await this.publicClient.readContract({address:n,abi:Le,functionName:"allowance",args:[s,r]});if(console.log(`: ${$e(a)}, : ${$e(o)}`),a<o){console.log("...");const i=await this.getLatestNonce(s),l=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),c=await t.writeContract({address:n,abi:Le,functionName:"approve",args:[r,l],nonce:i});console.log(`: ${c}, nonce: ${i}`),await this.publicClient.waitForTransactionReceipt({hash:c}),console.log("")}return!0}catch(a){throw console.error(":",a),new Error(`: ${a.message}`)}}async getTokenDecimals(t){try{return await this.publicClient.readContract({address:t,abi:Le,functionName:"decimals"})}catch{return 18}}async getTokenBalance(t,n){return await this.publicClient.readContract({address:t,abi:Le,functionName:"balanceOf",args:[n]})}async getNativeBalance(t){return await this.publicClient.getBalance({address:t})}calculateMinAmountOut(t,n){const s=BigInt(Math.floor((100-n)*100));return t*s/BigInt(1e4)}async buyWithNative(t){try{const{privateKey:n,walletAddress:s,tokenAddress:r,amount:o,slippage:a,gasPrice:i,gasLimit:l,deadline:c=1200,balancePercent:u=100}=t,f=dt(n),p=tn({account:f,chain:this.chainConfig,transport:Ze(this.rpcUrl)}),g=[this.getWBNBAddress(),r],b=BigInt(Math.floor(Date.now()/1e3)+c),T=await this.getTokenDecimals(r),$=await this.getNativeBalance(s);let w;if(u<100){const k=rt("0.005"),x=$>k?$-k:BigInt(0);w=x*BigInt(u)/BigInt(100),console.log(` ${u}% : ${$e(x)} BNB, : ${$e(w)} BNB`)}else{const k=o.toFixed(18).replace(/\.?0+$/,"");w=rt(k),console.log(` ${k} BNB  ${r}`)}if($<w)throw new Error(`BNB: ${$e($)}, : ${$e(w)}`);if(w===BigInt(0))throw new Error("0");const y=await this.publicClient.readContract({address:this.routerAddress,abi:en,functionName:"getAmountsOut",args:[w,g]}),m=y[y.length-1],v=this.calculateMinAmountOut(m,a);console.log(`: ${we(m,T)}, : ${we(v,T)}`);const _={address:this.routerAddress,abi:en,functionName:"swapExactETHForTokensSupportingFeeOnTransferTokens",args:[v,g,s,b],value:w},I=await this.getLatestNonce(s);i&&(_.gasPrice=Tt(i.toString(),9)),l&&(_.gas=BigInt(l)),_.nonce=I;const B=await p.writeContract(_);return console.log(`: ${B}`),(await this.publicClient.waitForTransactionReceipt({hash:B})).status==="success"?{success:!0,txHash:B,amountIn:o.toString(),amountOut:we(m,T)}:{success:!1,txHash:B,error:""}}catch(n){return console.error(":",n),{success:!1,error:Ks(n)}}}async buyWithToken(t){try{const{privateKey:n,walletAddress:s,tokenAddress:r,spendToken:o,amount:a,slippage:i,gasPrice:l,gasLimit:c,deadline:u=1200,balancePercent:f=100}=t,p=this.getSpendTokenAddress(o);if(!p)return{success:!1,error:`: ${o}`};const h=dt(n),g=tn({account:h,chain:this.chainConfig,transport:Ze(this.rpcUrl)}),b=await this.getTokenDecimals(p),T=await this.getTokenDecimals(r),$=BigInt(Math.floor(Date.now()/1e3)+u),w=await this.getTokenBalance(p,s);let y;if(f<100)y=w*BigInt(f)/BigInt(100),console.log(` ${f}% : ${we(w,b)} ${o}, : ${we(y,b)} ${o}`);else{const M=a.toFixed(18).replace(/\.?0+$/,"");y=Tt(M,b),console.log(` ${M} ${o}  ${r}`)}if(w<y)return{success:!1,error:`${o} : ${we(w,b)}, : ${we(y,b)}`};if(y===BigInt(0))return{success:!1,error:"0"};const m=[p,r];await this.checkAndApprove(g,p,s,this.routerAddress,y);const v=await this.publicClient.readContract({address:this.routerAddress,abi:en,functionName:"getAmountsOut",args:[y,m]}),_=v[v.length-1],I=this.calculateMinAmountOut(_,i);console.log(`: ${we(_,T)}, : ${we(I,T)}`);const B={address:this.routerAddress,abi:en,functionName:"swapExactTokensForTokensSupportingFeeOnTransferTokens",args:[y,I,m,s,$]},C=await this.getLatestNonce(s);l&&(B.gasPrice=Tt(l.toString(),9)),c&&(B.gas=BigInt(c)),B.nonce=C;const k=await g.writeContract(B);return console.log(`: ${k}, nonce: ${C}`),(await this.publicClient.waitForTransactionReceipt({hash:k})).status==="success"?{success:!0,txHash:k,amountIn:a.toString(),amountOut:we(_,T)}:{success:!1,txHash:k,error:""}}catch(n){return console.error(":",n),{success:!1,error:Ks(n)}}}async sellForToken(t){try{const{privateKey:n,walletAddress:s,tokenAddress:r,spendToken:o,amount:a,amountType:i,slippage:l,gasPrice:c,gasLimit:u,deadline:f=1200,balancePercent:p=100}=t,h=this.getSpendTokenAddress(o);if(!h)return{success:!1,error:`: ${o}`};const g=dt(n),b=tn({account:g,chain:this.chainConfig,transport:Ze(this.rpcUrl)}),T=await this.getTokenDecimals(r),$=await this.getTokenBalance(r,s);let w;if(p>0&&p<=100)w=$*BigInt(p)/BigInt(100),console.log(` ${p}% : ${we($,T)}, : ${we(w,T)}`);else{const D=a.toFixed(18).replace(/\.?0+$/,"");w=Tt(D,T),console.log(` ${r}  ${o}: ${D}`)}if($<w)return{success:!1,error:`: ${we($,T)}, : ${we(w,T)}`};if(w===BigInt(0))return{success:!1,error:"0"};const y=BigInt(Math.floor(Date.now()/1e3)+f),m=[r,h];await this.checkAndApprove(b,r,s,this.routerAddress,w);const v=await this.getTokenDecimals(h),_=await this.publicClient.readContract({address:this.routerAddress,abi:en,functionName:"getAmountsOut",args:[w,m]}),I=_[_.length-1],B=this.calculateMinAmountOut(I,l);console.log(`: ${we(I,v)} ${o}, : ${we(B,v)} ${o}`);const C={address:this.routerAddress,abi:en,functionName:"swapExactTokensForTokensSupportingFeeOnTransferTokens",args:[w,B,m,s,y]},k=await this.getLatestNonce(s);c&&(C.gasPrice=Tt(c.toString(),9)),u&&(C.gas=BigInt(u)),C.nonce=k;const x=await b.writeContract(C);return console.log(`: ${x}, nonce: ${k}`),(await this.publicClient.waitForTransactionReceipt({hash:x})).status==="success"?{success:!0,txHash:x,amountIn:we(w,T),amountOut:we(I,v)}:{success:!1,txHash:x,error:""}}catch(n){return console.error(":",n),{success:!1,error:Ks(n)}}}async sellForNative(t){try{const{privateKey:n,walletAddress:s,tokenAddress:r,amount:o,slippage:a,gasPrice:i,gasLimit:l,deadline:c=1200,balancePercent:u,targetBnbAmount:f}=t,p=dt(n),h=tn({account:p,chain:this.chainConfig,transport:Ze(this.rpcUrl)}),g=this.getWBNBAddress(),b=[r,g],T=BigInt(Math.floor(Date.now()/1e3)+c),$=await this.getTokenDecimals(r),w=await this.getTokenBalance(r,s);let y;if(u&&u>0&&u<=100)y=w*BigInt(u)/BigInt(100),console.log(` ${u}% : ${we(w,$)}, : ${we(y,$)}`);else if(f&&f>0){const x=f.toFixed(18).replace(/\.?0+$/,""),M=rt(x);try{y=(await this.publicClient.readContract({address:this.routerAddress,abi:en,functionName:"getAmountsIn",args:[M,b]}))[0],console.log(` ${x} BNB: ${we(y,$)} Token`)}catch{console.log("getAmountsIn ");const S=await this.publicClient.readContract({address:this.routerAddress,abi:en,functionName:"getAmountsOut",args:[w,b]}),O=S[S.length-1],F=Number(M)/Number(O);y=BigInt(Math.floor(Number(w)*Math.min(F*1.05,1))),console.log(` ${we(y,$)} Token`)}y>w&&(console.log(""),y=w)}else{const x=o.toFixed(18).replace(/\.?0+$/,"");y=Tt(x,$),console.log(` ${r}: ${x}`)}if(w<y)throw new Error(`: ${we(w,$)}, : ${we(y,$)}`);if(y===BigInt(0))throw new Error("0");console.log(`: ${we(y,$)}`),await this.checkAndApprove(h,r,s,this.routerAddress,y);const m=await this.publicClient.readContract({address:this.routerAddress,abi:en,functionName:"getAmountsOut",args:[y,b]}),v=m[m.length-1],_=this.calculateMinAmountOut(v,a);console.log(`: ${$e(v)} BNB, : ${$e(_)} BNB`);const I={address:this.routerAddress,abi:en,functionName:"swapExactTokensForETHSupportingFeeOnTransferTokens",args:[y,_,b,s,T]},B=await this.getLatestNonce(s);i&&(I.gasPrice=Tt(i.toString(),9)),l&&(I.gas=BigInt(l)),I.nonce=B;const C=await h.writeContract(I);return console.log(`: ${C}, nonce: ${B}`),(await this.publicClient.waitForTransactionReceipt({hash:C})).status==="success"?{success:!0,txHash:C,amountIn:we(y,$),amountOut:$e(v)}:{success:!1,txHash:C,error:""}}catch(n){return console.error(":",n),{success:!1,error:Ks(n)}}}async executeTrade(t){const{mode:n,spendToken:s}=t;return n==="pump"?s==="BNB"||s==="tBNB"?this.buyWithNative(t):s==="USDT"||s==="USDC"?this.buyWithToken(t):{success:!1,error:`: ${s}`}:s==="BNB"||s==="tBNB"?this.sellForNative(t):s==="USDT"||s==="USDC"?this.sellForToken(t):{success:!1,error:`: ${s}`}}}function Bh(e,t,n){return new g3(e,t,n)}const y3={class:"card mb-3 border-warning"},v3={class:"card-header bg-warning text-dark d-flex justify-content-between align-items-center"},w3={class:"card-body"},x3={class:"d-flex align-items-center"},$3={key:0},k3={class:"text-muted"},T3={key:1},C3={class:"mb-3"},_3={class:"btn-group w-100",role:"group"},E3={key:0,class:"mb-3"},A3={class:"input-group"},P3={key:1,class:"mb-3"},B3={class:"row g-2"},S3={class:"col"},I3={class:"input-group"},N3={class:"col"},M3={class:"input-group"},O3={class:"mb-3"},R3={class:"row g-2"},F3={class:"col"},L3={class:"input-group input-group-sm"},U3={class:"col"},D3={class:"input-group input-group-sm"},z3={class:"form-text"},j3={class:"alert alert-info mb-3"},W3={class:"d-flex justify-content-between align-items-center"},V3=["disabled"],H3={class:"d-grid gap-2"},G3=["disabled"],q3={key:0},K3={key:1},Z3={key:2,class:"mt-3"},Y3={class:"d-flex justify-content-between align-items-center mb-2"},J3={class:"small mb-0"},Q3={class:"badge bg-secondary ms-1"},X3={class:"badge bg-success ms-1"},e4={key:0,class:"badge bg-danger ms-1"},t4={class:"results-list border rounded",style:{"max-height":"200px","overflow-y":"auto"}},n4={class:"table table-sm table-striped mb-0"},s4={class:"small text-muted"},r4={class:"small"},o4={class:"text-primary"},a4={class:"small"},i4={class:"badge bg-info"},l4={class:"small"},c4=["href"],u4=["title"],d4={key:2,class:"text-muted"},f4=lt({__name:"BatchSellPanel",emits:["close"],setup(e,{emit:t}){const n=Gn(),s=fa(),r=sn(),{targetToken:o,selectedCount:a,selectedWalletAddresses:i}=it(n),l=se("fixed"),c=se(100),u=se(10),f=se(100),p=se(!1),h=se(!1),g=se([]),b=se(10),T=se(500);de(()=>{if(a.value===0)return"0";const C=(Math.ceil(a.value/b.value)-1)*T.value,k=Math.ceil(C/1e3);if(k<60)return`${k}`;const x=Math.floor(k/60),M=k%60;return`${x}${M}`});const $=de(()=>!o.value||a.value===0?!1:l.value==="fixed"?c.value>0&&c.value<=100:u.value>0&&f.value>0&&u.value<f.value&&f.value<=100);async function w(){if(o.value){h.value=!0;try{await n.refreshTargetTokenBalance()}finally{h.value=!1}}}function y(B){const C=n.localWallets.find(k=>k.address.toLowerCase()===B.toLowerCase());return(C==null?void 0:C.encrypted)||null}async function m(){if(!$.value)return;const B=s.currentRouterAddress;if(!B||B==="0x0000000000000000000000000000000000000000"){alert("DEXRouter");return}p.value=!0,g.value=[];try{const C=i.value,k=o.value.address,x=r.selectedChainId,M=r.effectiveRpcUrl,D=Bh(x,M,B),S=[];for(let j=0;j<C.length;j+=b.value)S.push(C.slice(j,j+b.value));console.log(` ${C.length}  ${S.length}  ${b.value} `);for(let j=0;j<S.length;j++){const z=S[j];console.log(` ${j+1}/${S.length}  ${z.length} `);const Z=z.map(async(A,P)=>{await new Promise(ce=>setTimeout(ce,P*50));let V;l.value==="fixed"?V=c.value:V=Math.random()*(f.value-u.value)+u.value;const ye=y(A);if(!ye)return{wallet:A,percent:V,success:!1,error:""};try{console.log(` ${A.slice(0,10)}...  ${V.toFixed(1)}%`);const ce=await D.executeTrade({chainId:x,rpcUrl:M,routerAddress:B,privateKey:ye,walletAddress:A,tokenAddress:k,spendToken:r.currentGovernanceToken,amount:0,amountType:"quantity",mode:"dump",slippage:30,balancePercent:V});return ce.success?(console.log(` ${A.slice(0,10)}... : ${ce.txHash}`),{wallet:A,percent:V,success:!0,hash:ce.txHash,amountIn:ce.amountIn,amountOut:ce.amountOut,error:null}):(console.error(` ${A.slice(0,10)}... :`,ce.error),{wallet:A,percent:V,success:!1,error:ce.error||""})}catch(ce){return console.error(` ${A.slice(0,10)}... :`,ce),{wallet:A,percent:V,success:!1,error:ce.message||""}}}),K=await Promise.all(Z);g.value.push(...K),j<S.length-1&&T.value>0&&(console.log(` ${T.value}ms ...`),await new Promise(A=>setTimeout(A,T.value)))}const O=g.value.filter(j=>j.success).length,F=g.value.filter(j=>!j.success).length;alert(F===0?` ${O} `:` ${O}  ${F} `),await n.refreshTargetTokenBalance()}catch(C){console.error(":",C),alert(`: ${C.message||""}`)}finally{p.value=!1}}function v(B){return B?`${B.slice(0,6)}...${B.slice(-4)}`:"-"}function _(B){const C=n.currentChainId;return({56:"https://bscscan.com/tx/",97:"https://testnet.bscscan.com/tx/",66:"https://www.oklink.com/okc/tx/"}[C]||"https://bscscan.com/tx/")+B}function I(B){return B?B.length>25?B.slice(0,25)+"...":B:""}return(B,C)=>(R(),U("div",y3,[d("div",v3,[C[9]||(C[9]=d("span",null,[d("i",{class:"bi bi-cart-dash me-1"}),J("")],-1)),d("button",{type:"button",class:"btn-close",onClick:C[0]||(C[0]=k=>B.$emit("close"))})]),d("div",w3,[d("div",{class:_e(["alert mb-3",ee(o)?"alert-success":"alert-warning"])},[d("div",x3,[d("i",{class:_e(["bi me-2",ee(o)?"bi-check-circle-fill":"bi-exclamation-triangle-fill"])},null,2),ee(o)?(R(),U("div",$3,[C[10]||(C[10]=d("strong",null,"",-1)),J(L(ee(o).symbol)+" ("+L(ee(o).name)+") ",1),C[11]||(C[11]=d("br",null,null,-1)),d("small",k3,L(ee(o).address),1)])):(R(),U("div",T3,[...C[12]||(C[12]=[d("strong",null,"",-1),d("br",null,null,-1),d("small",null,"",-1)])]))])],2),d("div",C3,[C[15]||(C[15]=d("label",{class:"form-label"},"",-1)),d("div",_3,[ue(d("input",{type:"radio",class:"btn-check",name:"sellMode",id:"sellModeFixed",value:"fixed","onUpdate:modelValue":C[1]||(C[1]=k=>l.value=k)},null,512),[[Dr,l.value]]),C[13]||(C[13]=d("label",{class:"btn btn-outline-primary",for:"sellModeFixed"},[d("i",{class:"bi bi-percent me-1"}),J(" ")],-1)),ue(d("input",{type:"radio",class:"btn-check",name:"sellMode",id:"sellModeRange",value:"range","onUpdate:modelValue":C[2]||(C[2]=k=>l.value=k)},null,512),[[Dr,l.value]]),C[14]||(C[14]=d("label",{class:"btn btn-outline-primary",for:"sellModeRange"},[d("i",{class:"bi bi-shuffle me-1"}),J(" ")],-1))])]),l.value==="fixed"?(R(),U("div",E3,[C[17]||(C[17]=d("label",{class:"form-label"},"",-1)),d("div",A3,[ue(d("input",{type:"number",class:"form-control","onUpdate:modelValue":C[3]||(C[3]=k=>c.value=k),min:"1",max:"100",placeholder:"50"},null,512),[[Ce,c.value,void 0,{number:!0}]]),C[16]||(C[16]=d("span",{class:"input-group-text"},"%",-1))]),C[18]||(C[18]=d("div",{class:"form-text"},"",-1))])):fe("",!0),l.value==="range"?(R(),U("div",P3,[C[22]||(C[22]=d("label",{class:"form-label"},"",-1)),d("div",B3,[d("div",S3,[d("div",I3,[ue(d("input",{type:"number",class:"form-control","onUpdate:modelValue":C[4]||(C[4]=k=>u.value=k),min:"1",max:"99",placeholder:"10"},null,512),[[Ce,u.value,void 0,{number:!0}]]),C[19]||(C[19]=d("span",{class:"input-group-text"},"%",-1))])]),C[21]||(C[21]=d("div",{class:"col-auto d-flex align-items-center"},[d("span",{class:"text-muted"},"~")],-1)),d("div",N3,[d("div",M3,[ue(d("input",{type:"number",class:"form-control","onUpdate:modelValue":C[5]||(C[5]=k=>f.value=k),min:"2",max:"100",placeholder:"100"},null,512),[[Ce,f.value,void 0,{number:!0}]]),C[20]||(C[20]=d("span",{class:"input-group-text"},"%",-1))])])]),C[23]||(C[23]=d("div",{class:"form-text"},"",-1))])):fe("",!0),d("div",O3,[C[28]||(C[28]=d("label",{class:"form-label"},"",-1)),d("div",R3,[d("div",F3,[d("div",L3,[C[24]||(C[24]=d("span",{class:"input-group-text"},"",-1)),ue(d("input",{type:"number",class:"form-control","onUpdate:modelValue":C[6]||(C[6]=k=>b.value=k),min:"1",max:"50",placeholder:"5"},null,512),[[Ce,b.value,void 0,{number:!0}]])])]),d("div",U3,[d("div",D3,[C[25]||(C[25]=d("span",{class:"input-group-text"},"",-1)),ue(d("input",{type:"number",class:"form-control","onUpdate:modelValue":C[7]||(C[7]=k=>T.value=k),min:"0",max:"10000",step:"100",placeholder:"500"},null,512),[[Ce,T.value,void 0,{number:!0}]]),C[26]||(C[26]=d("span",{class:"input-group-text"},"ms",-1))])])]),d("div",z3,[J("  "+L(b.value)+"  "+L(T.value)+"ms ",1),C[27]||(C[27]=d("br",null,null,-1))])]),d("div",j3,[d("div",W3,[d("span",null,[C[29]||(C[29]=d("i",{class:"bi bi-wallet2 me-1"},null,-1)),C[30]||(C[30]=J(" ",-1)),d("strong",null,L(ee(a)),1),C[31]||(C[31]=J("  ",-1))]),d("button",{class:"btn btn-sm btn-outline-info",onClick:w,disabled:!ee(o)||h.value},[d("i",{class:_e(["bi bi-arrow-clockwise me-1",{spin:h.value}])},null,2),J(" "+L(h.value?"":""),1)],8,V3)])]),d("div",H3,[d("button",{class:"btn btn-warning btn-lg",onClick:m,disabled:!$.value||p.value},[p.value?(R(),U("span",q3,[...C[32]||(C[32]=[d("span",{class:"spinner-border spinner-border-sm me-1",role:"status"},null,-1),J(" ... ",-1)])])):(R(),U("span",K3,[...C[33]||(C[33]=[d("i",{class:"bi bi-cart-dash me-1"},null,-1),J("  ",-1)])]))],8,G3)]),g.value.length>0?(R(),U("div",Z3,[d("div",Y3,[d("h6",J3,[C[34]||(C[34]=d("i",{class:"bi bi-list-check me-1"},null,-1)),C[35]||(C[35]=J(" ",-1)),d("span",Q3,L(g.value.length),1),d("span",X3,L(g.value.filter(k=>k.success).length)+" ",1),g.value.filter(k=>!k.success).length>0?(R(),U("span",e4,L(g.value.filter(k=>!k.success).length)+"  ",1)):fe("",!0)]),d("button",{class:"btn btn-outline-secondary btn-sm",onClick:C[8]||(C[8]=k=>g.value=[])},[...C[36]||(C[36]=[d("i",{class:"bi bi-x-lg"},null,-1),J("  ",-1)])])]),d("div",t4,[d("table",n4,[C[39]||(C[39]=d("thead",{class:"table-light sticky-top"},[d("tr",null,[d("th",null,"#"),d("th",null,""),d("th",null,""),d("th",null,""),d("th",null,"")])],-1)),d("tbody",null,[(R(!0),U(Pe,null,je(g.value,(k,x)=>{var M;return R(),U("tr",{key:x,class:_e(k.success?"":"table-danger")},[d("td",s4,L(x+1),1),d("td",null,[d("i",{class:_e(["bi",k.success?"bi-check-circle-fill text-success":"bi-x-circle-fill text-danger"])},null,2)]),d("td",r4,[d("code",o4,L(v(k.wallet)),1)]),d("td",a4,[d("span",i4,L((M=k.percent)==null?void 0:M.toFixed(1))+"%",1)]),d("td",l4,[k.hash?(R(),U("a",{key:0,href:_(k.hash),target:"_blank",class:"text-decoration-none"},[C[37]||(C[37]=d("i",{class:"bi bi-box-arrow-up-right me-1"},null,-1)),J(L(v(k.hash)),1)],8,c4)):k.error?(R(),U("span",{key:1,class:"text-danger",title:k.error},[C[38]||(C[38]=d("i",{class:"bi bi-exclamation-triangle me-1"},null,-1)),J(L(I(k.error)),1)],8,u4)):(R(),U("span",d4,"-"))])],2)}),128))])])])])):fe("",!0)])]))}}),p4=Ft(f4,[["__scopeId","data-v-8b205665"]]),h4={class:"container-fluid py-3"},m4={class:"row g-3"},b4={class:"col-12"},g4={class:"card shadow-sm"},y4={class:"card-body"},v4={class:"col-12"},w4={class:"card shadow-sm"},x4={class:"card-body"},$4={class:"col-12"},k4={class:"card shadow-sm"},T4={class:"card-body"},C4={class:"col-12"},_4={class:"card shadow-sm"},E4={class:"card-body"},A4={class:"d-flex justify-content-between align-items-center"},P4={class:"col-12"},B4={class:"card shadow-sm"},S4={class:"card-body wallet-table-wrapper"},I4=lt({name:"WalletManagePanel",__name:"WalletManagePanel",setup(e){const t=se(!1);return(n,s)=>(R(),U("div",h4,[s[5]||(s[5]=d("h1",{class:"h4 mb-3"},"",-1)),d("div",m4,[d("div",b4,[d("div",g4,[d("div",y4,[Xe(Ph)])])]),d("div",v4,[d("div",w4,[d("div",x4,[s[2]||(s[2]=d("h2",{class:"h6"},"",-1)),Xe(x8)])])]),d("div",$4,[d("div",k4,[d("div",T4,[Xe(w$)])])]),d("div",C4,[d("div",_4,[d("div",E4,[d("div",A4,[s[4]||(s[4]=d("h2",{class:"h6 mb-0"},"",-1)),d("button",{class:"btn btn-outline-warning btn-sm",onClick:s[0]||(s[0]=r=>t.value=!t.value)},[s[3]||(s[3]=d("i",{class:"bi bi-cart-dash me-1"},null,-1)),J(" "+L(t.value?"":""),1)])]),t.value?(R(),ms(p4,{key:0,class:"mt-3",onClose:s[1]||(s[1]=r=>t.value=!1)})):fe("",!0)])])]),d("div",P4,[d("div",B4,[d("div",S4,[Xe(h3)])])])])]))}}),Ad=Ft(I4,[["__scopeId","data-v-b2f244bb"]]),N4={class:"batch-transfer-panel p-4"},M4={class:"d-flex justify-content-between align-items-center mb-4"},O4={class:"d-flex align-items-center gap-2"},R4={class:"badge bg-secondary"},F4={key:0,class:"badge bg-success"},L4={class:"card mb-4"},U4={class:"card-body"},D4={class:"btn-group w-100",role:"group"},z4={class:"alert alert-info small mt-3 mb-0"},j4={key:0},W4={key:1},V4={key:2},H4={class:"row g-4 mb-4"},G4={class:"col-12 col-lg-6"},q4={class:"card h-100"},K4={class:"card-header bg-light d-flex justify-content-between align-items-center"},Z4={class:"fw-bold"},Y4={class:"badge bg-primary ms-2"},J4={class:"d-flex gap-2"},Q4={class:"btn btn-outline-primary btn-sm"},X4={class:"card-body"},e9={key:0,class:"mb-3"},t9=["value"],n9={key:1,class:"invalid-feedback"},s9={class:"col-12 col-lg-6"},r9={class:"card h-100"},o9={class:"card-header bg-light d-flex justify-content-between align-items-center"},a9={class:"fw-bold"},i9={class:"badge bg-info ms-2"},l9={class:"d-flex gap-2"},c9={class:"btn btn-outline-primary btn-sm"},u9={class:"card-body"},d9={key:0,class:"mb-3"},f9=["value"],p9={key:1,class:"invalid-feedback"},h9={class:"card mb-4"},m9={class:"card-body"},b9={class:"row g-3 align-items-end"},g9={class:"col-12 col-md-3"},y9={class:"input-group"},v9=["disabled"],w9={class:"input-group-text"},x9={class:"col-12 col-md-3"},$9={value:"native"},k9=["disabled"],T9={key:0,class:"col-12 col-md-3"},C9={class:"form-check mt-4"},_9={class:"col-12 col-md-3"},E9=["disabled"],A9={key:0},P9={key:1},B9={key:0,class:"card"},S9={class:"card-header bg-light d-flex justify-content-between align-items-center"},I9={class:"fw-bold"},N9={class:"badge bg-secondary ms-2"},M9={class:"badge bg-success ms-1"},O9={key:0,class:"badge bg-danger ms-1"},R9={class:"card-body p-0"},F9={class:"table-responsive",style:{"max-height":"400px","overflow-y":"auto"}},L9={class:"table table-sm table-striped mb-0"},U9={class:"text-muted"},D9={class:"text-primary"},z9={class:"text-info"},j9={key:0,class:"text-success fw-bold"},W9={key:1,class:"text-muted"},V9=["href"],H9=["title"],G9={key:2,class:"text-muted"},q9=lt({__name:"BatchTransferPanel",setup(e){const t=/^(0x)?[0-9a-fA-F]{64}$/,n=Gn(),s=sn(),{targetToken:r,walletBatches:o}=it(n),{currentGovernanceToken:a}=it(s),i=se(!1),l=se([]),c=se("oneToMany"),u=se(""),f=se(""),p=se(.01),h=se("native"),g=se(!1),b=se(""),T=se("");_t(c,A=>{A==="manyToMany"||A==="manyToOne"?g.value=!0:g.value=!1}),_t(b,A=>{if(A){const P=o.value.find(V=>V.id===A);P&&(u.value=P.wallets.map(V=>V.address).join(`
`))}}),_t(T,A=>{if(A){const P=o.value.find(V=>V.id===A);P&&(f.value=P.wallets.map(V=>V.address).join(`
`))}});const $=de(()=>{const A={};if(b.value){const P=o.value.find(V=>V.id===b.value);if(P)for(const V of P.wallets)A[V.address.toLowerCase()]=V.privateKey}return A});function w(A){return A.trim()?A.split(/[\n,;]/).map(P=>P.trim()).filter(P=>P.length>0):[]}function y(A){const P=[],V={};if(!A.trim())return{addresses:P,privateKeyMap:V};const ye=A.split(/[\n,;]/).map(ce=>ce.trim()).filter(Boolean);for(const ce of ye)if(t.test(ce))try{const be=ce.startsWith("0x")?ce:`0x${ce}`,ke=dt(be);P.push(ke.address),V[ke.address.toLowerCase()]=be}catch{console.warn(":",ce.slice(0,10)+"...")}else/^0x[0-9a-fA-F]{40}$/.test(ce)&&P.push(ce);return{addresses:P,privateKeyMap:V}}async function m(A){var ye;const P=A.target,V=(ye=P.files)==null?void 0:ye[0];if(V){try{const be=(await V.text()).split(/\r?\n/).map(ke=>ke.trim()).filter(Boolean);u.value.trim()?u.value+=`
`+be.join(`
`):u.value=be.join(`
`)}catch{alert("")}P.value=""}}async function v(A){var ye;const P=A.target,V=(ye=P.files)==null?void 0:ye[0];if(V){try{const be=(await V.text()).split(/\r?\n/).map(ke=>ke.trim()).filter(Boolean);f.value.trim()?f.value+=`
`+be.join(`
`):f.value=be.join(`
`)}catch{alert("")}P.value=""}}const _=de(()=>c.value==="manyToMany"||c.value==="manyToOne"?y(u.value).addresses:w(u.value)),I=de(()=>w(f.value)),B=de(()=>c.value==="manyToMany"||c.value==="manyToOne"?y(u.value).privateKeyMap:{}),C=de(()=>_.value.length),k=de(()=>I.value.length),x=de(()=>{const A=_.value;if(A.length===0)return"";if(c.value==="manyToMany"||c.value==="manyToOne"){const ye=u.value.split(/[\n,;]/).map(be=>be.trim()).filter(Boolean);for(const be of ye){const ke=/^0x[0-9a-fA-F]{40}$/.test(be),Me=t.test(be);if(!ke&&!Me)return""}const ce=A.filter(be=>{if($.value[be.toLowerCase()]||B.value[be.toLowerCase()])return!0;const ke=n.localWallets.find(Me=>Me.address.toLowerCase()===be.toLowerCase());return ke==null?void 0:ke.encrypted});return ce.length<A.length?`${A.length-ce.length} `:""}const P=A.filter(ye=>!O(ye));if(P.length>0)return`${P.length} `;const V=A.filter(ye=>{if($.value[ye.toLowerCase()])return!0;const ce=n.localWallets.find(be=>be.address.toLowerCase()===ye.toLowerCase());return ce==null?void 0:ce.encrypted});return V.length<A.length?`${A.length-V.length} `:c.value==="oneToMany"&&A.length>1?"":""}),M=de(()=>{const A=I.value;if(A.length===0)return"";const P=A.filter(V=>!O(V));return P.length>0?`${P.length} `:c.value==="manyToOne"&&A.length>1?"":c.value==="manyToMany"&&C.value!==A.length?`: ${C.value}, : ${A.length}`:""}),D=de(()=>!(C.value===0||k.value===0||!g.value&&(!p.value||p.value<=0)||x.value||M.value||h.value==="token"&&!r.value));async function S(){var P,V;if(!D.value)return;const A=j();if(A){alert(A);return}i.value=!0,l.value=[];try{const ye={...$.value,...B.value},ce=await n.batchTransferByAddresses(_.value,I.value,g.value?0:p.value,h.value,c.value,{privateKeyMap:ye,transferAllBalance:g.value});l.value=ce;const be=ce.filter(Me=>Me.success).length,ke=ce.filter(Me=>!Me.success).length;if(ke===0)alert(` ${be} `);else if(be===0){const Me=((P=ce.find(tt=>tt.error))==null?void 0:P.error)||"";alert(` ${ke} 

: ${Me}`)}else{const Me=((V=ce.find(tt=>tt.error))==null?void 0:V.error)||"";alert(`

: ${be} 
: ${ke} 

: ${Me}`)}}catch(ye){alert(ye.message||"")}finally{i.value=!1}}function O(A){if(!A)return!1;const P=A.trim();return/^0x[0-9a-fA-F]{40}$/.test(P)}function F(A){return n.getWalletTypeByAddress(A)==="main"}function j(){if(c.value==="oneToMany"){const A=_.value[0];if(A&&!F(A))return""}else if(c.value==="manyToOne"){const A=I.value[0];if(A&&!F(A))return""}return null}function z(A){return A?`${A.slice(0,6)}...${A.slice(-4)}`:""}function Z(A){const P=n.currentChainId;return({56:"https://bscscan.com/tx/",97:"https://testnet.bscscan.com/tx/",66:"https://www.oklink.com/okc/tx/"}[P]||"https://bscscan.com/tx/")+A}function K(A){return A?A.length>30?A.slice(0,30)+"...":A:""}return(A,P)=>(R(),U("div",N4,[d("div",M4,[P[13]||(P[13]=d("div",null,[d("h5",{class:"mb-1"},[d("i",{class:"bi bi-send me-2"}),J("")]),d("small",{class:"text-muted"},"")],-1)),d("div",O4,[d("span",R4,L(ee(a)),1),ee(r)?(R(),U("span",F4,": "+L(ee(r).symbol),1)):fe("",!0)])]),d("div",L4,[P[18]||(P[18]=d("div",{class:"card-header bg-light"},[d("span",{class:"fw-bold"},[d("i",{class:"bi bi-diagram-3 me-2"}),J("")])],-1)),d("div",U4,[d("div",D4,[ue(d("input",{type:"radio",class:"btn-check",name:"transferMode",id:"modeOneToMany",value:"oneToMany","onUpdate:modelValue":P[0]||(P[0]=V=>c.value=V)},null,512),[[Dr,c.value]]),P[14]||(P[14]=d("label",{class:"btn btn-outline-primary",for:"modeOneToMany"},[d("i",{class:"bi bi-arrow-down-circle me-1"}),J(" ")],-1)),ue(d("input",{type:"radio",class:"btn-check",name:"transferMode",id:"modeManyToOne",value:"manyToOne","onUpdate:modelValue":P[1]||(P[1]=V=>c.value=V)},null,512),[[Dr,c.value]]),P[15]||(P[15]=d("label",{class:"btn btn-outline-primary",for:"modeManyToOne"},[d("i",{class:"bi bi-arrow-up-circle me-1"}),J(" ")],-1)),ue(d("input",{type:"radio",class:"btn-check",name:"transferMode",id:"modeManyToMany",value:"manyToMany","onUpdate:modelValue":P[2]||(P[2]=V=>c.value=V)},null,512),[[Dr,c.value]]),P[16]||(P[16]=d("label",{class:"btn btn-outline-primary",for:"modeManyToMany"},[d("i",{class:"bi bi-arrow-left-right me-1"}),J(" ")],-1))]),d("div",z4,[P[17]||(P[17]=d("i",{class:"bi bi-info-circle me-1"},null,-1)),c.value==="oneToMany"?(R(),U("span",j4,"1")):c.value==="manyToOne"?(R(),U("span",W4,"")):(R(),U("span",V4,""))])])]),d("div",H4,[d("div",G4,[d("div",q4,[d("div",K4,[d("span",Z4,[P[19]||(P[19]=d("i",{class:"bi bi-wallet2 me-2"},null,-1)),P[20]||(P[20]=J(" ",-1)),d("span",Y4,L(C.value)+" ",1)]),d("div",J4,[d("label",Q4,[P[21]||(P[21]=d("i",{class:"bi bi-file-earmark-arrow-up me-1"},null,-1)),P[22]||(P[22]=J("TXT ",-1)),d("input",{type:"file",accept:".txt",class:"d-none",onChange:m},null,32)]),d("button",{class:"btn btn-outline-danger btn-sm",onClick:P[3]||(P[3]=V=>{u.value="",b.value=""})},[...P[23]||(P[23]=[d("i",{class:"bi bi-trash"},null,-1)])])])]),d("div",X4,[ee(o).length>0?(R(),U("div",e9,[P[25]||(P[25]=d("label",{class:"form-label small text-muted"},"",-1)),ue(d("select",{class:"form-select form-select-sm","onUpdate:modelValue":P[4]||(P[4]=V=>b.value=V)},[P[24]||(P[24]=d("option",{value:""},"--  --",-1)),(R(!0),U(Pe,null,je(ee(o),V=>(R(),U("option",{key:V.id,value:V.id},L(V.remark)+" ("+L(V.wallets.length)+" ) ",9,t9))),128))],512),[[st,b.value]])])):fe("",!0),ue(d("textarea",{class:_e(["form-control",{"is-invalid":x.value}]),"onUpdate:modelValue":P[5]||(P[5]=V=>u.value=V),rows:"10",placeholder:`
0x1234...
0x5678...`},null,2),[[Ce,u.value]]),x.value?(R(),U("div",n9,L(x.value),1)):fe("",!0)])])]),d("div",s9,[d("div",r9,[d("div",o9,[d("span",a9,[P[26]||(P[26]=d("i",{class:"bi bi-wallet-fill me-2"},null,-1)),P[27]||(P[27]=J(" ",-1)),d("span",i9,L(k.value)+" ",1)]),d("div",l9,[d("label",c9,[P[28]||(P[28]=d("i",{class:"bi bi-file-earmark-arrow-up me-1"},null,-1)),P[29]||(P[29]=J("TXT ",-1)),d("input",{type:"file",accept:".txt",class:"d-none",onChange:v},null,32)]),d("button",{class:"btn btn-outline-danger btn-sm",onClick:P[6]||(P[6]=V=>{f.value="",T.value=""})},[...P[30]||(P[30]=[d("i",{class:"bi bi-trash"},null,-1)])])])]),d("div",u9,[ee(o).length>0?(R(),U("div",d9,[P[32]||(P[32]=d("label",{class:"form-label small text-muted"},"",-1)),ue(d("select",{class:"form-select form-select-sm","onUpdate:modelValue":P[7]||(P[7]=V=>T.value=V)},[P[31]||(P[31]=d("option",{value:""},"--  --",-1)),(R(!0),U(Pe,null,je(ee(o),V=>(R(),U("option",{key:V.id,value:V.id},L(V.remark)+" ("+L(V.wallets.length)+" ) ",9,f9))),128))],512),[[st,T.value]])])):fe("",!0),ue(d("textarea",{class:_e(["form-control",{"is-invalid":M.value}]),"onUpdate:modelValue":P[8]||(P[8]=V=>f.value=V),rows:"10",placeholder:`
0xabcd...
0xefgh...`},null,2),[[Ce,f.value]]),M.value?(R(),U("div",p9,L(M.value),1)):fe("",!0)])])])]),d("div",h9,[P[38]||(P[38]=d("div",{class:"card-header bg-light"},[d("span",{class:"fw-bold"},[d("i",{class:"bi bi-gear me-2"}),J("")])],-1)),d("div",m9,[d("div",b9,[d("div",g9,[P[33]||(P[33]=d("label",{class:"form-label"},"",-1)),d("div",y9,[ue(d("input",{type:"number",class:"form-control","onUpdate:modelValue":P[9]||(P[9]=V=>p.value=V),placeholder:"0.01",step:"0.001",min:"0",disabled:g.value},null,8,v9),[[Ce,p.value,void 0,{number:!0}]]),d("span",w9,L(h.value==="token"&&ee(r)?ee(r).symbol:ee(a)),1)])]),d("div",x9,[P[34]||(P[34]=d("label",{class:"form-label"},"",-1)),ue(d("select",{class:"form-select","onUpdate:modelValue":P[10]||(P[10]=V=>h.value=V)},[d("option",$9,L(ee(a)),1),d("option",{value:"token",disabled:!ee(r)},L(ee(r)?ee(r).symbol:""),9,k9)],512),[[st,h.value]])]),c.value==="manyToMany"||c.value==="manyToOne"?(R(),U("div",T9,[d("div",C9,[ue(d("input",{type:"checkbox",class:"form-check-input",id:"transferAllBalance","onUpdate:modelValue":P[11]||(P[11]=V=>g.value=V)},null,512),[[er,g.value]]),P[35]||(P[35]=d("label",{class:"form-check-label",for:"transferAllBalance"},[J("  "),d("small",{class:"text-muted d-block"},"(gas)")],-1))])])):fe("",!0),d("div",_9,[d("button",{class:"btn btn-primary w-100",onClick:S,disabled:!D.value||i.value},[i.value?(R(),U("span",A9,[...P[36]||(P[36]=[d("span",{class:"spinner-border spinner-border-sm me-1"},null,-1),J("... ",-1)])])):(R(),U("span",P9,[P[37]||(P[37]=d("i",{class:"bi bi-send me-1"},null,-1)),J(" ("+L(C.value)+"  "+L(k.value)+") ",1)]))],8,E9)])])])]),l.value.length>0?(R(),U("div",B9,[d("div",S9,[d("span",I9,[P[39]||(P[39]=d("i",{class:"bi bi-list-check me-2"},null,-1)),P[40]||(P[40]=J(" ",-1)),d("span",N9,L(l.value.length),1),d("span",M9,L(l.value.filter(V=>V.success).length)+" ",1),l.value.filter(V=>!V.success).length>0?(R(),U("span",O9,L(l.value.filter(V=>!V.success).length)+"  ",1)):fe("",!0)]),d("button",{class:"btn btn-outline-secondary btn-sm",onClick:P[12]||(P[12]=V=>l.value=[])},[...P[41]||(P[41]=[d("i",{class:"bi bi-x-lg me-1"},null,-1),J(" ",-1)])])]),d("div",R9,[d("div",F9,[d("table",L9,[P[45]||(P[45]=d("thead",{class:"table-light sticky-top"},[d("tr",null,[d("th",{style:{width:"50px"}},"#"),d("th",{style:{width:"60px"}},""),d("th",null,"From"),d("th",{style:{width:"40px"}}),d("th",null,"To"),d("th",null,""),d("th",null,"")])],-1)),d("tbody",null,[(R(!0),U(Pe,null,je(l.value,(V,ye)=>(R(),U("tr",{key:ye,class:_e(V.success?"":"table-danger")},[d("td",U9,L(ye+1),1),d("td",null,[d("i",{class:_e(["bi",V.success?"bi-check-circle-fill text-success":"bi-x-circle-fill text-danger"])},null,2)]),d("td",null,[d("code",D9,L(z(V.source||"-")),1)]),P[44]||(P[44]=d("td",{class:"text-center"},[d("i",{class:"bi bi-arrow-right text-muted"})],-1)),d("td",null,[d("code",z9,L(z(V.target||"-")),1)]),d("td",null,[V.amount!==void 0?(R(),U("span",j9,L(p.value)+" "+L(h.value==="token"&&ee(r)?ee(r).symbol:ee(a)),1)):(R(),U("span",W9,"-"))]),d("td",null,[V.hash?(R(),U("a",{key:0,href:Z(V.hash),target:"_blank",class:"text-decoration-none"},[P[42]||(P[42]=d("i",{class:"bi bi-box-arrow-up-right me-1"},null,-1)),J(L(z(V.hash)),1)],8,V9)):V.error?(R(),U("span",{key:1,class:"text-danger",title:V.error},[P[43]||(P[43]=d("i",{class:"bi bi-exclamation-triangle me-1"},null,-1)),J(L(K(V.error)),1)],8,H9)):(R(),U("span",G9,"-"))])],2))),128))])])])])])):fe("",!0)]))}}),K9=Ft(q9,[["__scopeId","data-v-6fa2f028"]]),Fo=Na("task",()=>{const e=se([]),t=se(null),n=de(()=>e.value.filter(k=>k.status==="running")),s=de(()=>e.value.filter(k=>k.status==="paused")),r=de(()=>e.value.length),o=de(()=>t.value&&e.value.find(k=>k.id===t.value)||null);function a(){return`task_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function i(){return`log_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function l(k,x,M,D,S){const O=e.value.find(F=>F.id===k);O&&(O.logs.push({id:i(),timestamp:Date.now(),type:x,message:M,walletAddress:D,txHash:S}),O.logs.length>500&&(O.logs=O.logs.slice(-500)))}function c(k,x,M,D){const S={id:a(),name:k,status:"stopped",mode:x,config:M,walletAddresses:D,logs:[],stats:{executedCount:0,spentAmount:0,elapsedTime:0},currentWalletIndex:0};return e.value.push(S),t.value||(t.value=S.id),l(S.id,"info",` "${k}" : ${x==="pump"?"":""}: ${D.length}`),S}function u(k,x,M){const{stopType:D,stopValue:S}=k.config,{executedCount:O,spentAmount:F,startTime:j,elapsedTime:z}=k.stats;switch(D){case"count":return O>=S;case"amount":return F>=S;case"time":return z>=S;case"price":return x===void 0?!1:k.mode==="pump"?x>=S:x<=S;case"marketcap":return M===void 0?!1:k.mode==="pump"?M>=S:M<=S;default:return!1}}function f(k,x){const M=k.localWallets.find(D=>D.address.toLowerCase()===x.toLowerCase());if(M!=null&&M.encrypted)return M.encrypted;for(const D of k.walletBatches){const S=D.wallets.find(O=>O.address.toLowerCase()===x.toLowerCase());if(S!=null&&S.privateKey)return S.privateKey}return null}async function p(k,x){const M=Gn(),D=sn(),S=fa(),O=f(M,x);if(!O)return l(k.id,"error",` ${x.slice(0,10)}... `,x),!1;try{const F=D.selectedChainId,j=D.effectiveRpcUrl,z=S.currentRouterAddress;if(!z||z==="0x0000000000000000000000000000000000000000")return l(k.id,"error","DEXRouter",x),!1;const Z=k.config.amountMin||0,K=k.config.amountMax||Z,A=Z+Math.random()*(K-Z),P=Number(A.toFixed(18)),V=Me=>Me===0?"0":Me.toFixed(18).replace(/\.?0+$/,"");l(k.id,"info",`${k.mode==="pump"?"":""}...`,x),l(k.id,"info",`: ${V(P)} BNB (: ${V(Z)}~${V(K)})`,x);const ye=Bh(F,j,z),ce=k.mode==="dump"&&k.config.sellAll,be={chainId:F,rpcUrl:j,routerAddress:z,privateKey:O,walletAddress:x,tokenAddress:k.config.tokenContract,spendToken:"BNB",amount:P,amountType:"amount",mode:k.mode,slippage:30,gasPrice:k.config.gasPrice,gasLimit:k.config.gasLimit,balancePercent:ce?100:void 0,targetBnbAmount:k.mode==="dump"&&!ce?P:void 0},ke=await ye.executeTrade(be);if(ke.success){k.stats.executedCount++,k.stats.spentAmount+=P;const Me=k.mode==="pump"?"":"",tt=ke.amountOut?`${Me}: ${ke.amountIn}, : ${ke.amountOut}`:`${Me}: ${P} BNB`;return l(k.id,"success",tt,x,ke.txHash),!0}else return l(k.id,"error",`: ${ke.error}`,x,ke.txHash),!1}catch(F){return l(k.id,"error",`: ${F.message}`,x),!1}}async function h(k){try{const x=sn(),M=fa(),D=x.selectedChainId,S=x.effectiveRpcUrl,O=M.currentFactoryAddress,F=M.currentBaseTokens;if(!O||!F||F.length===0)return;const j=F[0];if(!j)return;const Z=await new Ir(S,O,F).findTokenPair(k.config.tokenContract,j);if(!Z)return;const A=Xn({chain:D===97?rr:hr,transport:Ze(S)}),V=Z.token0.toLowerCase()===j.toLowerCase()?Z.reserve0:Z.reserve1;return Number($e(V))}catch(x){console.error(":",x);return}}async function g(k){if(k.status!=="running")return;if(k.config.stopType==="marketcap"){const j=await h(k);if(j!==void 0){const z=k.mode==="pump"?"(>=)":"(<=)";if(l(k.id,"info",`: ${j.toFixed(4)} BNB, : ${k.config.stopValue} BNB [${z}]`),u(k,void 0,j)){w(k.id,"");return}}}const x=k.walletAddresses,M=k.config.threadCount||1;if(x.length===0){l(k.id,"warning","");return}const D=[];for(let j=0;j<M;j++){const z=(k.currentWalletIndex+j)%x.length;D.push(x[z])}k.currentWalletIndex=(k.currentWalletIndex+M)%x.length,(k.currentWalletIndex<M||k.currentWalletIndex===0)&&k.stats.executedCount>0&&l(k.id,"info","---  ---"),l(k.id,"info",` ${D.length}  (: ${M})`);const O=D.map((j,z)=>{const Z=z*100;return new Promise(K=>{setTimeout(async()=>{await p(k,j),K()},Z)})});await Promise.allSettled(O);const F=await h(k);u(k,void 0,F)&&w(k.id,"")}function b(k){const x=e.value.find(S=>S.id===k);if(!x)return!1;if(x.walletAddresses.length===0)return l(x.id,"error",""),!1;x.status="running",x.stats.startTime=Date.now(),x.currentWalletIndex=0;const M=x.config.threadCount||1;l(x.id,"info",`: ${x.config.interval}: ${M}: ${x.walletAddresses.length}`),g(x);const D=x.config.interval*1e3;return x.intervalId=window.setInterval(()=>{x.status==="running"&&(x.stats.startTime&&(x.stats.elapsedTime=Math.floor((Date.now()-x.stats.startTime)/1e3)),g(x))},D),!0}function T(k){const x=e.value.find(M=>M.id===k);return!x||x.status!=="running"?!1:(x.status="paused",x.intervalId&&(clearInterval(x.intervalId),x.intervalId=void 0),l(x.id,"warning",""),!0)}function $(k){const x=e.value.find(M=>M.id===k);return!x||x.status!=="paused"?!1:b(k)}function w(k,x){const M=e.value.find(D=>D.id===k);return M?(M.status="stopped",M.intervalId&&(clearInterval(M.intervalId),M.intervalId=void 0),l(M.id,"info",`${x?`: ${x}`:""}`),!0):!1}function y(k){const x=e.value.findIndex(D=>D.id===k);return x===-1?!1:(e.value[x].status==="running"&&w(k),e.value.splice(x,1),t.value===k&&(t.value=e.value.length>0?e.value[0].id:null),!0)}function m(k,x){const M=e.value.find(D=>D.id===k);return M?M.status==="running"?(console.error(""),!1):(x.name!==void 0&&(M.name=x.name),x.config&&(M.config={...M.config,...x.config}),x.walletAddresses!==void 0&&(M.walletAddresses=x.walletAddresses),l(k,"info",""),!0):!1}function v(k){t.value=k}function _(k){const x=e.value.find(M=>M.id===k);x&&(x.logs=[],l(x.id,"info",""))}function I(){e.value.forEach(k=>{k.intervalId&&clearInterval(k.intervalId)}),e.value=[],t.value=null}function B(k){const{stopType:x,stopValue:M}=k.config;switch(x){case"count":return` ${M} `;case"amount":return` ${M} BNB`;case"time":return` ${M} `;case"price":return` ${M}`;case"marketcap":return` ${M} BNB`;default:return""}}function C(k){const{stopType:x,stopValue:M}=k.config,{executedCount:D,spentAmount:S,elapsedTime:O}=k.stats;switch(x){case"count":return Math.min(D/M*100,100);case"amount":return Math.min(S/M*100,100);case"time":return Math.min(O/M*100,100);case"price":return 0;case"marketcap":return 0;default:return 0}}return{tasks:e,activeLogTaskId:t,runningTasks:n,pausedTasks:s,taskCount:r,activeLogTask:o,createTask:c,startTask:b,pauseTask:T,resumeTask:$,stopTask:w,deleteTask:y,updateTask:m,setActiveLogTask:v,clearTaskLogs:_,clearAllTasks:I,addLog:l,getStopConditionText:B,getTaskProgress:C,checkStopCondition:u}}),Z9={class:"d-flex justify-content-between align-items-center mb-2"},Y9={class:"d-flex align-items-center gap-2"},J9=["checked"],Q9={class:"small"},X9={class:"small text-muted mb-2"},ek={class:"d-flex flex-wrap gap-2"},tk={class:"mt-1"},nk={class:"me-2"},sk={key:0,class:"progress mb-2",style:{height:"4px"}},rk={class:"d-flex justify-content-between small text-muted mb-2"},ok={class:"d-flex gap-2 flex-wrap align-items-center"},ak={class:"d-flex gap-1"},ik={class:"d-flex gap-2"},lk=lt({__name:"TaskCard",props:{task:{},selected:{type:Boolean}},emits:["toggle-select","edit"],setup(e,{emit:t}){const n=e,s=t,r=Fo(),{activeLogTaskId:o}=it(r),a=de(()=>o.value===n.task.id),i=de(()=>{switch(n.task.status){case"running":return"border-success bg-success bg-opacity-10";case"paused":return"border-warning bg-warning bg-opacity-10";case"stopped":return"border-secondary";default:return""}}),l=de(()=>{switch(n.task.status){case"running":return"bg-success";case"paused":return"bg-warning";case"stopped":return"bg-secondary";default:return"bg-secondary"}}),c=de(()=>{switch(n.task.status){case"running":return"bi-play-circle-fill";case"paused":return"bi-pause-circle-fill";case"stopped":return"bi-stop-circle-fill";default:return"bi-circle"}}),u=de(()=>{switch(n.task.status){case"running":return"";case"paused":return"";case"stopped":return"";default:return""}}),f=de(()=>n.task.mode==="pump"?"bg-success":"bg-danger"),p=de(()=>r.getStopConditionText(n.task)),h=de(()=>r.getTaskProgress(n.task));function g(v){if(v<60)return`${v}s`;if(v<3600)return`${Math.floor(v/60)}m ${v%60}s`;const _=Math.floor(v/3600),I=Math.floor(v%3600/60);return`${_}h ${I}m`}function b(){n.task.status==="paused"?r.resumeTask(n.task.id):r.startTask(n.task.id)}function T(){r.pauseTask(n.task.id)}function $(){confirm(` "${n.task.name}" `)&&r.stopTask(n.task.id)}function w(){confirm(` "${n.task.name}" 

`)&&r.deleteTask(n.task.id)}function y(){r.setActiveLogTask(n.task.id)}function m(){s("edit",n.task)}return(v,_)=>(R(),U("div",{class:_e(["task-card border rounded p-2 mb-2",[i.value,{"border-info border-2":v.selected}]])},[d("div",Z9,[d("div",Y9,[d("input",{type:"checkbox",class:"form-check-input",checked:v.selected,onChange:_[0]||(_[0]=I=>v.$emit("toggle-select"))},null,40,J9),d("span",{class:_e(["badge",f.value])},L(v.task.mode==="pump"?"":""),3),d("strong",Q9,L(v.task.name),1)]),d("span",{class:_e(["badge",l.value])},[d("i",{class:_e(["bi me-1",c.value])},null,2),J(" "+L(u.value),1)],2)]),d("div",X9,[d("div",ek,[d("span",null,[_[1]||(_[1]=d("i",{class:"bi bi-wallet2 me-1"},null,-1)),J(L(v.task.walletAddresses.length)+" ",1)]),d("span",null,[_[2]||(_[2]=d("i",{class:"bi bi-layers me-1"},null,-1)),J(L(v.task.config.threadCount||1)+" ",1)]),d("span",null,[_[3]||(_[3]=d("i",{class:"bi bi-clock me-1"},null,-1)),J(L(v.task.config.interval)+"s",1)])]),d("div",tk,[d("span",nk,[_[4]||(_[4]=d("i",{class:"bi bi-stop-circle me-1"},null,-1)),J(L(p.value),1)])])]),v.task.config.stopType!=="price"?(R(),U("div",sk,[d("div",{class:_e(["progress-bar",v.task.status==="running"?"progress-bar-striped progress-bar-animated":""]),style:ka({width:h.value+"%"})},null,6)])):fe("",!0),d("div",rk,[d("span",null,": "+L(v.task.stats.executedCount)+" ",1),d("span",null,": "+L(v.task.stats.spentAmount.toFixed(4))+" BNB",1),d("span",null,": "+L(g(v.task.stats.elapsedTime)),1)]),d("div",ok,[d("div",ak,[v.task.status==="stopped"||v.task.status==="paused"?(R(),U("button",{key:0,class:"btn btn-success btn-sm",onClick:b},[_[5]||(_[5]=d("i",{class:"bi bi-play-fill me-1"},null,-1)),J(" "+L(v.task.status==="paused"?"":""),1)])):fe("",!0),v.task.status==="running"?(R(),U("button",{key:1,class:"btn btn-warning btn-sm",onClick:T},[..._[6]||(_[6]=[d("i",{class:"bi bi-pause-fill me-1"},null,-1),J(" ",-1)])])):fe("",!0),v.task.status==="running"||v.task.status==="paused"?(R(),U("button",{key:2,class:"btn btn-danger btn-sm",onClick:$,title:""},[..._[7]||(_[7]=[d("i",{class:"bi bi-stop-fill me-1"},null,-1),J(" ",-1)])])):fe("",!0)]),_[11]||(_[11]=d("div",{class:"flex-grow-1"},null,-1)),d("div",ik,[d("button",{class:_e(["btn btn-outline-secondary btn-sm",{active:a.value}]),onClick:y,title:""},[..._[8]||(_[8]=[d("i",{class:"bi bi-journal-text me-1"},null,-1),J(" ",-1)])],2),v.task.status==="paused"||v.task.status==="stopped"?(R(),U("button",{key:0,class:"btn btn-outline-primary btn-sm",onClick:m,title:""},[..._[9]||(_[9]=[d("i",{class:"bi bi-pencil me-1"},null,-1),J(" ",-1)])])):fe("",!0),v.task.status==="stopped"?(R(),U("button",{key:1,class:"btn btn-outline-danger btn-sm",onClick:w,title:""},[..._[10]||(_[10]=[d("i",{class:"bi bi-trash me-1"},null,-1),J(" ",-1)])])):fe("",!0)])])],2))}}),ck=Ft(lk,[["__scopeId","data-v-10ca16b4"]]),uk={class:"task-config-form"},dk={class:"row g-2 mb-3"},fk={class:"col-6"},pk={class:"col-6"},hk={class:"mb-3"},mk={class:"form-label small"},bk={key:0,class:"badge bg-success ms-1"},gk=["value","disabled","placeholder"],yk={key:0,class:"form-text small text-success"},vk={key:1,class:"form-text small text-warning"},wk={class:"mb-3"},xk={class:"form-label small"},$k={class:"text-muted"},kk={class:"row g-2"},Tk={class:"col-6"},Ck={class:"input-group input-group-sm"},_k=["disabled"],Ek={class:"col-6"},Ak={class:"input-group input-group-sm"},Pk=["disabled"],Bk={class:"form-text small"},Sk={key:0,class:"mb-3"},Ik={class:"form-check"},Nk={class:"row g-2 mb-3"},Mk={class:"col-5"},Ok={class:"col-7"},Rk={class:"form-label small"},Fk={class:"input-group input-group-sm"},Lk=["placeholder"],Uk={class:"input-group-text"},Dk={class:"row g-2 mb-3"},zk={class:"col-6"},jk={class:"input-group input-group-sm"},Wk={class:"col-6"},Vk={class:"input-group input-group-sm"},Hk={class:"form-text small mb-3"},Gk={class:"row g-2 mb-3"},qk={class:"col-6"},Kk={class:"input-group input-group-sm"},Zk={class:"col-6"},Yk={class:"mb-3"},Jk={class:"form-label small"},Qk={class:"badge bg-primary ms-1"},Xk={class:"mb-2"},eT={class:"form-check form-check-inline"},tT={class:"form-check-label small",for:"useLocalWallets"},nT={class:"form-check form-check-inline"},sT={key:0,class:"mb-2"},rT=["value"],oT={key:1,class:"alert alert-warning small py-2 mb-0"},aT={key:2,class:"small text-muted"},iT={key:0,class:"mb-1"},lT={key:0},cT={key:1},uT={key:0},dT={class:"d-grid"},fT=["disabled"],pT=lt({__name:"TaskConfigForm",setup(e){const t=Fo(),n=Gn(),s=sn(),{currentGovernanceToken:r}=it(s),{selectedWalletAddresses:o,selectedCount:a,targetToken:i,walletBatches:l}=it(n),c=se(""),u=se("pump"),f=se(""),p=se(.01),h=se(.05),g=se("count"),b=se(10),T=se(5),$=se(1),w=se(void 0),y=se(void 0),m=se(!0),v=se(!0),_=se(!1),I=se([]);_t(i,K=>{K&&(f.value=K.address)},{immediate:!0}),_t(()=>t.taskCount,K=>{c.value||(c.value=`${K+1}`)},{immediate:!0});const B=de(()=>o.value.slice(0,3)),C=de(()=>l.value.filter(K=>I.value.includes(K.id))),k=de(()=>C.value.slice(0,2)),x=de(()=>C.value.reduce((K,A)=>K+A.wallets.length,0)),M=de(()=>{let K=0;return v.value&&(K+=a.value),_.value&&(K+=x.value),K}),D=de(()=>{const K=new Set;return v.value&&o.value.forEach(A=>K.add(A.toLowerCase())),_.value&&C.value.forEach(A=>{A.wallets.forEach(P=>K.add(P.address.toLowerCase()))}),Array.from(K)}),S=de(()=>{const K=u.value==="dump"&&m.value||p.value>=0&&h.value>=p.value;return c.value&&f.value&&K&&b.value>0&&T.value>0&&M.value>0}),O=de(()=>{switch(g.value){case"count":return"";case"amount":return"";case"time":return"";case"price":return"";case"marketcap":return"";default:return""}}),F=de(()=>{switch(g.value){case"count":return"10";case"amount":return"1";case"time":return"60";case"price":return"0.001";case"marketcap":return"100";default:return""}}),j=de(()=>{switch(g.value){case"count":return"";case"amount":return r.value;case"time":return"";case"price":return r.value;case"marketcap":return r.value;default:return""}});function z(K){return K?`${K.slice(0,6)}...${K.slice(-4)}`:""}function Z(){if(!S.value)return;const K={tokenContract:f.value,targetPrice:g.value==="price"?b.value:0,targetMarketCap:g.value==="marketcap"?b.value:void 0,amountMin:p.value,amountMax:h.value,stopType:g.value,stopValue:b.value,interval:T.value,threadCount:$.value,gasPrice:w.value,gasLimit:y.value,sellAll:m.value},A=t.createTask(c.value,u.value,K,[...D.value]);c.value=`${t.taskCount+1}`,I.value=[],alert(` "${A.name}" 

: ${D.value.length}
""`)}return(K,A)=>(R(),U("div",uk,[A[43]||(A[43]=d("h6",{class:"fw-semibold mb-3"},[d("i",{class:"bi bi-plus-circle me-1"}),J(" ")],-1)),d("form",{onSubmit:ar(Z,["prevent"])},[d("div",dk,[d("div",fk,[A[15]||(A[15]=d("label",{class:"form-label small"},"",-1)),ue(d("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":A[0]||(A[0]=P=>c.value=P),placeholder:"1"},null,512),[[Ce,c.value]])]),d("div",pk,[A[17]||(A[17]=d("label",{class:"form-label small"},"",-1)),ue(d("select",{class:"form-select form-select-sm","onUpdate:modelValue":A[1]||(A[1]=P=>u.value=P)},[...A[16]||(A[16]=[d("option",{value:"pump"},"",-1),d("option",{value:"dump"},"",-1)])],512),[[st,u.value]])])]),d("div",hk,[d("label",mk,[A[18]||(A[18]=J("  ",-1)),ee(i)?(R(),U("span",bk,"")):fe("",!0)]),d("input",{type:"text",class:"form-control form-control-sm",value:f.value,onInput:A[2]||(A[2]=P=>f.value=P.target.value),disabled:!!ee(i),placeholder:ee(i)?"":""},null,40,gk),ee(i)?(R(),U("div",yk,[A[19]||(A[19]=d("i",{class:"bi bi-check-circle me-1"},null,-1)),J(L(ee(i).symbol)+" ("+L(ee(i).name)+") ",1)])):(R(),U("div",vk,[...A[20]||(A[20]=[d("i",{class:"bi bi-exclamation-triangle me-1"},null,-1),J(" ",-1)])]))]),d("div",wk,[d("label",xk,[J(L(u.value==="pump"?"":"")+" ",1),d("span",$k,"("+L(ee(r))+")",1)]),d("div",kk,[d("div",Tk,[d("div",Ck,[A[21]||(A[21]=d("span",{class:"input-group-text"},"",-1)),ue(d("input",{type:"number",class:"form-control","onUpdate:modelValue":A[3]||(A[3]=P=>p.value=P),step:"any",placeholder:"0.01",disabled:u.value==="dump"&&m.value},null,8,_k),[[Ce,p.value,void 0,{number:!0}]])])]),d("div",Ek,[d("div",Ak,[A[22]||(A[22]=d("span",{class:"input-group-text"},"",-1)),ue(d("input",{type:"number",class:"form-control","onUpdate:modelValue":A[4]||(A[4]=P=>h.value=P),step:"any",placeholder:"0.05",disabled:u.value==="dump"&&m.value},null,8,Pk),[[Ce,h.value,void 0,{number:!0}]])])])]),d("div",Bk,[A[23]||(A[23]=d("i",{class:"bi bi-info-circle me-1"},null,-1)),J(" "+L(u.value==="pump"?` ${p.value||0} ~ ${h.value||0} ${ee(r)} `:` ${p.value||0} ~ ${h.value||0} ${ee(r)} `),1)])]),u.value==="dump"?(R(),U("div",Sk,[d("div",Ik,[ue(d("input",{class:"form-check-input",type:"checkbox",id:"sellAllCheck","onUpdate:modelValue":A[5]||(A[5]=P=>m.value=P)},null,512),[[er,m.value]]),A[24]||(A[24]=d("label",{class:"form-check-label small",for:"sellAllCheck"},[d("i",{class:"bi bi-lightning-charge me-1"}),J(" ")],-1))]),A[25]||(A[25]=d("div",{class:"form-text small text-muted"}," 100% ",-1))])):fe("",!0),d("div",Nk,[d("div",Mk,[A[27]||(A[27]=d("label",{class:"form-label small"},"",-1)),ue(d("select",{class:"form-select form-select-sm","onUpdate:modelValue":A[6]||(A[6]=P=>g.value=P)},[...A[26]||(A[26]=[Mf('<option value="count" data-v-9ec38970></option><option value="amount" data-v-9ec38970></option><option value="time" data-v-9ec38970>()</option><option value="price" data-v-9ec38970></option><option value="marketcap" data-v-9ec38970></option>',5)])],512),[[st,g.value]])]),d("div",Ok,[d("label",Rk,L(O.value),1),d("div",Fk,[ue(d("input",{type:"number",class:"form-control","onUpdate:modelValue":A[7]||(A[7]=P=>b.value=P),placeholder:F.value,step:"any"},null,8,Lk),[[Ce,b.value,void 0,{number:!0}]]),d("span",Uk,L(j.value),1)])])]),d("div",Dk,[d("div",zk,[A[29]||(A[29]=d("label",{class:"form-label small"},"",-1)),d("div",jk,[ue(d("input",{type:"number",class:"form-control","onUpdate:modelValue":A[8]||(A[8]=P=>T.value=P),min:"1",placeholder:"5"},null,512),[[Ce,T.value,void 0,{number:!0}]]),A[28]||(A[28]=d("span",{class:"input-group-text"},"",-1))])]),d("div",Wk,[A[31]||(A[31]=d("label",{class:"form-label small"},"",-1)),d("div",Vk,[ue(d("input",{type:"number",class:"form-control","onUpdate:modelValue":A[9]||(A[9]=P=>$.value=P),min:"1",placeholder:"1"},null,512),[[Ce,$.value,void 0,{number:!0}]]),A[30]||(A[30]=d("span",{class:"input-group-text"},"",-1))])])]),d("div",Hk,[A[32]||(A[32]=d("i",{class:"bi bi-info-circle me-1"},null,-1)),J("  "+L(T.value||5)+"  "+L($.value||1)+"  ",1)]),d("div",Gk,[d("div",qk,[A[34]||(A[34]=d("label",{class:"form-label small"},"Gas Price ()",-1)),d("div",Kk,[ue(d("input",{type:"number",class:"form-control","onUpdate:modelValue":A[10]||(A[10]=P=>w.value=P),placeholder:""},null,512),[[Ce,w.value,void 0,{number:!0}]]),A[33]||(A[33]=d("span",{class:"input-group-text"},"Gwei",-1))])]),d("div",Zk,[A[35]||(A[35]=d("label",{class:"form-label small"},"Gas Limit ()",-1)),ue(d("input",{type:"number",class:"form-control form-control-sm","onUpdate:modelValue":A[11]||(A[11]=P=>y.value=P),placeholder:""},null,512),[[Ce,y.value,void 0,{number:!0}]])])]),d("div",Yk,[d("label",Jk,[A[36]||(A[36]=J("  ",-1)),d("span",Qk,L(M.value)+" ",1)]),d("div",Xk,[d("div",eT,[ue(d("input",{class:"form-check-input",type:"checkbox",id:"useLocalWallets","onUpdate:modelValue":A[12]||(A[12]=P=>v.value=P)},null,512),[[er,v.value]]),d("label",tT,"  ("+L(ee(a))+") ",1)]),d("div",nT,[ue(d("input",{class:"form-check-input",type:"checkbox",id:"useBatchWallets","onUpdate:modelValue":A[13]||(A[13]=P=>_.value=P)},null,512),[[er,_.value]]),A[37]||(A[37]=d("label",{class:"form-check-label small",for:"useBatchWallets"},"  ",-1))])]),_.value?(R(),U("div",sT,[ue(d("select",{class:"form-select form-select-sm","onUpdate:modelValue":A[14]||(A[14]=P=>I.value=P),multiple:"",style:{height:"80px"}},[(R(!0),U(Pe,null,je(ee(l),P=>(R(),U("option",{key:P.id,value:P.id},L(P.remark)+" ("+L(P.wallets.length)+" - "+L(P.walletType==="main"?"":"")+") ",9,rT))),128))],512),[[st,I.value]]),A[38]||(A[38]=d("div",{class:"form-text small"},"Ctrl",-1))])):fe("",!0),M.value===0?(R(),U("div",oT,[...A[39]||(A[39]=[d("i",{class:"bi bi-exclamation-triangle me-1"},null,-1),J("  ",-1)])])):(R(),U("div",aT,[v.value&&ee(a)>0?(R(),U("div",iT,[A[40]||(A[40]=d("span",{class:"badge bg-secondary me-1"},"",-1)),(R(!0),U(Pe,null,je(B.value,(P,V)=>(R(),U("span",{key:P,class:"me-1"},L(z(P)),1))),128)),ee(a)>3?(R(),U("span",lT,"...  "+L(ee(a))+" ",1)):fe("",!0)])):fe("",!0),_.value&&x.value>0?(R(),U("div",cT,[A[41]||(A[41]=d("span",{class:"badge bg-info me-1"},"",-1)),(R(!0),U(Pe,null,je(k.value,P=>(R(),U("span",{key:P.id,class:"me-1"},L(P.remark)+"("+L(P.wallets.length)+") ",1))),128)),I.value.length>2?(R(),U("span",uT,"...  "+L(x.value)+" ",1)):fe("",!0)])):fe("",!0)]))]),d("div",dT,[d("button",{type:"submit",class:"btn btn-primary btn-sm",disabled:!S.value},[...A[42]||(A[42]=[d("i",{class:"bi bi-plus-lg me-1"},null,-1),J(" ",-1)])],8,fT)])],32)]))}}),hT=Ft(pT,[["__scopeId","data-v-9ec38970"]]),mT={class:"modal fade show d-block",tabindex:"-1"},bT={class:"modal-dialog modal-lg modal-dialog-scrollable"},gT={class:"modal-content"},yT={class:"modal-body"},vT={class:"mb-3"},wT={class:"row"},xT={class:"col-12 mb-3"},$T={class:"row"},kT={class:"col-md-6 mb-3"},TT={class:"col-md-6 mb-3"},CT={class:"row"},_T={class:"col-md-6 mb-3"},ET={class:"col-md-6 mb-3"},AT={class:"row"},PT={class:"col-md-6 mb-3"},BT={class:"col-md-6 mb-3"},ST={class:"row"},IT={class:"col-md-6 mb-3"},NT={class:"col-md-6 mb-3"},MT={key:0,class:"mb-3"},OT={class:"form-check"},RT={class:"mb-3"},FT={class:"form-label"},LT={class:"badge bg-secondary ms-1"},UT=lt({__name:"TaskEditModal",props:{task:{}},emits:["close"],setup(e,{emit:t}){const n=e,s=t,r=Fo(),o=se({name:"",tokenContract:"",amountMin:.01,amountMax:.05,stopType:"count",stopValue:10,interval:5,threadCount:1,gasPrice:void 0,gasLimit:void 0,sellAll:!0,walletAddressesText:""}),a=de(()=>o.value.walletAddressesText.split(`
`).map(u=>u.trim()).filter(u=>/^0x[0-9a-fA-F]{40}$/.test(u)).length);gr(()=>{const c=n.task;o.value={name:c.name,tokenContract:c.config.tokenContract,amountMin:c.config.amountMin,amountMax:c.config.amountMax,stopType:c.config.stopType,stopValue:c.config.stopValue,interval:c.config.interval,threadCount:c.config.threadCount||1,gasPrice:c.config.gasPrice,gasLimit:c.config.gasLimit,sellAll:c.config.sellAll??!0,walletAddressesText:c.walletAddresses.join(`
`)}});function i(){s("close")}function l(){const c=o.value.walletAddressesText.split(`
`).map(p=>p.trim()).filter(p=>/^0x[0-9a-fA-F]{40}$/.test(p)),u={name:o.value.name,config:{tokenContract:o.value.tokenContract,amountMin:o.value.amountMin,amountMax:o.value.amountMax,stopType:o.value.stopType,stopValue:o.value.stopValue,interval:o.value.interval,threadCount:o.value.threadCount,gasPrice:o.value.gasPrice||void 0,gasLimit:o.value.gasLimit||void 0,sellAll:o.value.sellAll},walletAddresses:c};r.updateTask(n.task.id,u)?(alert(""),s("close")):alert("")}return(c,u)=>(R(),U(Pe,null,[d("div",{class:"modal-backdrop fade show",onClick:ar(i,["self"])}),d("div",mT,[d("div",bT,[d("div",gT,[d("div",{class:"modal-header"},[u[12]||(u[12]=d("h5",{class:"modal-title"},[d("i",{class:"bi bi-pencil-square me-2"}),J(" ")],-1)),d("button",{type:"button",class:"btn-close",onClick:i})]),d("div",yT,[d("form",{onSubmit:ar(l,["prevent"])},[d("div",vT,[u[13]||(u[13]=d("label",{class:"form-label"},"",-1)),ue(d("input",{type:"text",class:"form-control","onUpdate:modelValue":u[0]||(u[0]=f=>o.value.name=f),placeholder:""},null,512),[[Ce,o.value.name]])]),d("div",wT,[d("div",xT,[u[14]||(u[14]=d("label",{class:"form-label"},"",-1)),ue(d("input",{type:"text",class:"form-control font-monospace","onUpdate:modelValue":u[1]||(u[1]=f=>o.value.tokenContract=f),placeholder:"0x..."},null,512),[[Ce,o.value.tokenContract]])])]),d("div",$T,[d("div",kT,[u[15]||(u[15]=d("label",{class:"form-label"}," (BNB)",-1)),ue(d("input",{type:"number",class:"form-control","onUpdate:modelValue":u[2]||(u[2]=f=>o.value.amountMin=f),min:"0",step:"any"},null,512),[[Ce,o.value.amountMin,void 0,{number:!0}]])]),d("div",TT,[u[16]||(u[16]=d("label",{class:"form-label"}," (BNB)",-1)),ue(d("input",{type:"number",class:"form-control","onUpdate:modelValue":u[3]||(u[3]=f=>o.value.amountMax=f),min:"0",step:"any"},null,512),[[Ce,o.value.amountMax,void 0,{number:!0}]])])]),d("div",CT,[d("div",_T,[u[18]||(u[18]=d("label",{class:"form-label"},"",-1)),ue(d("select",{class:"form-select","onUpdate:modelValue":u[4]||(u[4]=f=>o.value.stopType=f)},[...u[17]||(u[17]=[Mf('<option value="count" data-v-f3357255></option><option value="amount" data-v-f3357255></option><option value="time" data-v-f3357255>()</option><option value="price" data-v-f3357255></option><option value="marketcap" data-v-f3357255>(BNB)</option>',5)])],512),[[st,o.value.stopType]])]),d("div",ET,[u[19]||(u[19]=d("label",{class:"form-label"},"",-1)),ue(d("input",{type:"number",class:"form-control","onUpdate:modelValue":u[5]||(u[5]=f=>o.value.stopValue=f),min:"0",step:"any"},null,512),[[Ce,o.value.stopValue,void 0,{number:!0}]])])]),d("div",AT,[d("div",PT,[u[20]||(u[20]=d("label",{class:"form-label"},"()",-1)),ue(d("input",{type:"number",class:"form-control","onUpdate:modelValue":u[6]||(u[6]=f=>o.value.interval=f),min:"1",step:"1"},null,512),[[Ce,o.value.interval,void 0,{number:!0}]])]),d("div",BT,[u[21]||(u[21]=d("label",{class:"form-label"},"",-1)),ue(d("input",{type:"number",class:"form-control","onUpdate:modelValue":u[7]||(u[7]=f=>o.value.threadCount=f),min:"1",step:"1"},null,512),[[Ce,o.value.threadCount,void 0,{number:!0}]]),u[22]||(u[22]=d("div",{class:"form-text"},"",-1))])]),d("div",ST,[d("div",IT,[u[23]||(u[23]=d("label",{class:"form-label"},"Gas Price (Gwei)",-1)),ue(d("input",{type:"number",class:"form-control","onUpdate:modelValue":u[8]||(u[8]=f=>o.value.gasPrice=f),min:"0",step:"0.1",placeholder:""},null,512),[[Ce,o.value.gasPrice,void 0,{number:!0}]])]),d("div",NT,[u[24]||(u[24]=d("label",{class:"form-label"},"Gas Limit",-1)),ue(d("input",{type:"number",class:"form-control","onUpdate:modelValue":u[9]||(u[9]=f=>o.value.gasLimit=f),min:"21000",step:"1000",placeholder:""},null,512),[[Ce,o.value.gasLimit,void 0,{number:!0}]])])]),n.task.mode==="dump"?(R(),U("div",MT,[d("div",OT,[ue(d("input",{class:"form-check-input",type:"checkbox",id:"editSellAllCheck","onUpdate:modelValue":u[10]||(u[10]=f=>o.value.sellAll=f)},null,512),[[er,o.value.sellAll]]),u[25]||(u[25]=d("label",{class:"form-check-label",for:"editSellAllCheck"},[d("i",{class:"bi bi-lightning-charge me-1"}),J(" ")],-1))]),u[26]||(u[26]=d("div",{class:"form-text"},"100%",-1))])):fe("",!0),d("div",RT,[d("label",FT,[u[27]||(u[27]=J("  ",-1)),d("span",LT,L(a.value)+" ",1)]),ue(d("textarea",{class:"form-control font-monospace","onUpdate:modelValue":u[11]||(u[11]=f=>o.value.walletAddressesText=f),rows:"5",placeholder:`
0x1234...
0x5678...`},null,512),[[Ce,o.value.walletAddressesText]]),u[28]||(u[28]=d("div",{class:"form-text"},"",-1))])],32)]),d("div",{class:"modal-footer"},[d("button",{type:"button",class:"btn btn-secondary",onClick:i},"  "),d("button",{type:"button",class:"btn btn-primary",onClick:l},[...u[29]||(u[29]=[d("i",{class:"bi bi-check-lg me-1"},null,-1),J(" ",-1)])])])])])])],64))}}),DT=Ft(UT,[["__scopeId","data-v-f3357255"]]),zT={class:"task-list"},jT={class:"row g-3"},WT={class:"col-lg-4"},VT={class:"sticky-top",style:{top:"1rem"}},HT={class:"col-lg-8"},GT={key:0},qT={class:"d-flex justify-content-between align-items-center mb-2"},KT={class:"fw-semibold mb-0"},ZT={class:"badge bg-primary ms-1"},YT={key:0,class:"badge bg-success ms-1"},JT={key:1,class:"badge bg-info ms-1"},QT={class:"d-flex justify-content-between align-items-center mb-2 flex-wrap gap-2"},XT={class:"d-flex gap-2"},eC=["disabled"],tC={class:"d-flex gap-2"},nC=["disabled"],sC=["disabled"],rC={class:"task-cards-container"},oC={key:1,class:"text-center text-muted py-5"},aC=lt({__name:"TaskList",setup(e){const t=Fo(),{tasks:n,runningTasks:s}=it(t),r=se([]),o=se(null),a=de(()=>s.value.length),i=de(()=>n.value.filter(w=>w.status==="stopped")),l=de(()=>n.value.length>0&&r.value.length===n.value.length),c=de(()=>n.value.filter(w=>r.value.includes(w.id)&&(w.status==="stopped"||w.status==="paused")).length),u=de(()=>n.value.filter(w=>r.value.includes(w.id)&&(w.status==="running"||w.status==="paused")).length);function f(w){const y=r.value.indexOf(w);y>-1?r.value.splice(y,1):r.value.push(w)}function p(){l.value?r.value=[]:r.value=n.value.map(w=>w.id)}function h(){r.value=i.value.map(w=>w.id)}function g(){const w=n.value.filter(y=>r.value.includes(y.id)&&(y.status==="stopped"||y.status==="paused"));if(w.length!==0&&confirm(` ${w.length} `))for(const y of w)y.status==="paused"?t.resumeTask(y.id):t.startTask(y.id)}function b(){const w=n.value.filter(y=>r.value.includes(y.id)&&(y.status==="running"||y.status==="paused"));if(w.length!==0&&confirm(` ${w.length} `))for(const y of w)t.stopTask(y.id)}function T(w){o.value=w}function $(){o.value=null}return(w,y)=>(R(),U("div",zT,[d("div",jT,[d("div",WT,[d("div",VT,[Xe(hT)])]),d("div",HT,[ee(n).length>0?(R(),U("div",GT,[d("div",qT,[d("h6",KT,[y[0]||(y[0]=d("i",{class:"bi bi-list-task me-1"},null,-1)),y[1]||(y[1]=J(" ",-1)),d("span",ZT,L(ee(n).length),1),a.value>0?(R(),U("span",YT,L(a.value)+" ",1)):fe("",!0),r.value.length>0?(R(),U("span",JT," "+L(r.value.length),1)):fe("",!0)])]),d("div",QT,[d("div",XT,[d("button",{class:"btn btn-outline-secondary btn-sm",onClick:p},[d("i",{class:_e(["bi",l.value?"bi-check-square":"bi-square"])},null,2),J(" "+L(l.value?"":""),1)]),d("button",{class:"btn btn-outline-secondary btn-sm",onClick:h,disabled:i.value.length===0},[...y[2]||(y[2]=[d("i",{class:"bi bi-stop-circle me-1"},null,-1),J(" ",-1)])],8,eC)]),d("div",tC,[d("button",{class:"btn btn-success btn-sm",onClick:g,disabled:c.value===0},[y[3]||(y[3]=d("i",{class:"bi bi-play-fill me-1"},null,-1)),J(" ("+L(c.value)+") ",1)],8,nC),d("button",{class:"btn btn-danger btn-sm",onClick:b,disabled:u.value===0},[y[4]||(y[4]=d("i",{class:"bi bi-stop-fill me-1"},null,-1)),J(" ("+L(u.value)+") ",1)],8,sC)])]),d("div",rC,[(R(!0),U(Pe,null,je(ee(n),m=>(R(),ms(ck,{key:m.id,task:m,selected:r.value.includes(m.id),onToggleSelect:v=>f(m.id),onEdit:T},null,8,["task","selected","onToggleSelect"]))),128))])])):(R(),U("div",oC,[...y[5]||(y[5]=[d("i",{class:"bi bi-inbox fs-1 d-block mb-2"},null,-1),d("p",{class:"mb-0"},"",-1)])]))])]),o.value?(R(),ms(DT,{key:0,task:o.value,onClose:$},null,8,["task"])):fe("",!0)]))}}),iC=Ft(aC,[["__scopeId","data-v-26af25ab"]]),lC={class:"task-log-panel"},cC={class:"d-flex justify-content-between align-items-center mb-2"},uC={key:0,class:"btn-group btn-group-sm"},dC=["onClick","title"],fC={key:0,class:"mb-2 d-flex justify-content-between align-items-center"},pC={class:"small text-muted"},hC={key:0,class:"text-center text-muted py-4"},mC={key:1,class:"log-entries"},bC={class:"log-time text-muted me-2"},gC={class:"log-icon me-1"},yC={key:0,class:"log-wallet me-1"},vC={class:"text-primary"},wC={class:"log-message"},xC=["href"],$C=lt({__name:"TaskLogPanel",setup(e){const t=Fo(),n=sn(),{tasks:s,activeLogTaskId:r,activeLogTask:o}=it(t),{selectedChainId:a}=it(n),i=se(null);_t(()=>{var w;return(w=o.value)==null?void 0:w.logs.length},()=>{_a(()=>{i.value&&(i.value.scrollTop=i.value.scrollHeight)})});function l(w){t.setActiveLogTask(w)}function c(){r.value&&t.clearTaskLogs(r.value)}function u(w){switch(w.status){case"running":return"bg-success";case"paused":return"bg-warning";case"stopped":return"bg-secondary";default:return"bg-secondary"}}function f(w){switch(w.status){case"running":return"";case"paused":return"";case"stopped":return"";default:return""}}function p(w){return w.mode==="pump"?"bg-success":"bg-danger"}function h(w){switch(w){case"success":return"text-success";case"error":return"text-danger";case"warning":return"text-warning";default:return""}}function g(w){switch(w){case"success":return"";case"error":return"";case"warning":return"";default:return""}}function b(w){return new Date(w).toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}function T(w){return w?`${w.slice(0,6)}...${w.slice(-4)}`:""}function $(w){return({56:"https://bscscan.com/tx/",97:"https://testnet.bscscan.com/tx/",66:"https://www.oklink.com/okc/tx/"}[a.value]||"https://bscscan.com/tx/")+w}return(w,y)=>(R(),U("div",lC,[d("div",cC,[y[0]||(y[0]=d("h6",{class:"fw-semibold mb-0"},[d("i",{class:"bi bi-journal-text me-1"}),J(" ")],-1)),ee(s).length>0?(R(),U("div",uC,[(R(!0),U(Pe,null,je(ee(s),m=>(R(),U("button",{key:m.id,class:_e(["btn btn-outline-secondary",{active:ee(r)===m.id}]),onClick:v=>l(m.id),title:m.name},[d("span",{class:_e(["badge me-1",u(m)])},L(f(m)),3),J(" "+L(m.name.length>6?m.name.slice(0,6)+"...":m.name),1)],10,dC))),128))])):fe("",!0)]),ee(o)?(R(),U("div",fC,[d("span",pC,[d("span",{class:_e(["badge",p(ee(o))])},L(ee(o).mode==="pump"?"":""),3),J(" "+L(ee(o).name)+" - "+L(ee(o).logs.length)+"  ",1)]),d("button",{class:"btn btn-outline-secondary btn-sm",onClick:c,title:""},[...y[1]||(y[1]=[d("i",{class:"bi bi-trash"},null,-1)])])])):fe("",!0),d("div",{class:"log-container border rounded p-2",ref_key:"logContainer",ref:i},[!ee(o)||ee(o).logs.length===0?(R(),U("div",hC,[y[2]||(y[2]=d("i",{class:"bi bi-inbox fs-3 d-block mb-2"},null,-1)),d("small",null,L(ee(o)?"":""),1)])):(R(),U("div",mC,[(R(!0),U(Pe,null,je(ee(o).logs,m=>(R(),U("div",{key:m.id,class:_e(["log-entry small py-1 border-bottom",h(m.type)])},[d("span",bC,L(b(m.timestamp)),1),d("span",gC,L(g(m.type)),1),m.walletAddress?(R(),U("span",yC,[d("code",vC,L(T(m.walletAddress)),1)])):fe("",!0),d("span",wC,L(m.message),1),m.txHash?(R(),U("a",{key:1,href:$(m.txHash),target:"_blank",class:"ms-1 text-decoration-none",title:""},[...y[3]||(y[3]=[d("i",{class:"bi bi-box-arrow-up-right"},null,-1)])],8,xC)):fe("",!0)],2))),128))]))],512)]))}}),kC=Ft($C,[["__scopeId","data-v-54ae1df3"]]),TC={class:"container-fluid py-3"},CC={class:"row g-3 mb-3"},_C={class:"col-12"},EC={class:"card shadow-sm"},AC={class:"card-body"},PC={class:"row g-3 mb-3"},BC={class:"col-12"},SC={class:"card shadow-sm"},IC={class:"card-body"},NC={class:"row g-3"},MC={class:"col-12"},OC={class:"card shadow-sm"},RC={class:"card-body"},FC=lt({name:"TaskManagePanel",__name:"TaskManagePanel",setup(e){return(t,n)=>(R(),U("div",TC,[n[0]||(n[0]=d("h1",{class:"h4 mb-3"},"",-1)),d("div",CC,[d("div",_C,[d("div",EC,[d("div",AC,[Xe(Ph)])])])]),d("div",PC,[d("div",BC,[d("div",SC,[d("div",IC,[Xe(iC)])])])]),d("div",NC,[d("div",MC,[d("div",OC,[d("div",RC,[Xe(kC)])])])])]))}}),LC={class:"container-fluid py-3"},UC={class:"d-flex align-items-center justify-content-between mb-3"},DC=["disabled"],zC={class:"row g-3"},jC={class:"col-lg-4"},WC={class:"card shadow-sm"},VC={class:"card-body"},HC=["value"],GC={key:0,class:"alert alert-danger py-2 mb-0"},qC=["disabled"],KC={class:"col-lg-8"},ZC={class:"card shadow-sm"},YC={class:"card-body"},JC={key:0,class:"text-muted"},QC={key:1},XC={key:0,class:"alert alert-danger py-2"},e_={key:1,class:"text-muted"},t_={key:2,class:"table-responsive"},n_={class:"table table-sm align-middle"},s_=lt({__name:"UserManagement",setup(e){const t=se([]),n=se([]),s=se(!1),r=se(""),o=se(""),a=wo({username:"",password:"",email:"",roleName:"trader"}),i=de(()=>n.value.filter(f=>f.name!=="super_admin")),l=async()=>{var f,p;s.value=!0,r.value="";try{const h=await jr("/api/roles");n.value=((f=h.data)==null?void 0:f.roles)||[];const g=i.value;g.length&&!g.find(T=>T.name===a.roleName)&&(a.roleName=g[0].name);const b=await jr("/api/users");t.value=((p=b.data)==null?void 0:p.users)||[]}catch(h){r.value=(h==null?void 0:h.message)||""}finally{s.value=!1}},c=async()=>{o.value="",s.value=!0;try{await jr("/api/users",{method:"POST",body:JSON.stringify({username:a.username,password:a.password,email:a.email||void 0,roleName:a.roleName})}),a.username="",a.password="",a.email="",await l()}catch(f){o.value=(f==null?void 0:f.message)||""}finally{s.value=!1}},u=f=>{if(!f)return"-";const p=new Date(f);return Number.isNaN(p.getTime())?f:p.toLocaleString()};return gr(l),(f,p)=>(R(),U("div",LC,[d("div",UC,[p[4]||(p[4]=d("div",null,[d("h2",{class:"h5 mb-1"},""),d("div",{class:"text-muted small"},"")],-1)),d("button",{class:"btn btn-outline-secondary btn-sm",onClick:l,disabled:s.value},"  ",8,DC)]),d("div",zC,[d("div",jC,[d("div",WC,[d("div",VC,[p[9]||(p[9]=d("h3",{class:"h6 mb-3"},"",-1)),d("form",{class:"d-grid gap-3",onSubmit:ar(c,["prevent"])},[d("div",null,[p[5]||(p[5]=d("label",{class:"form-label"},"",-1)),ue(d("input",{"onUpdate:modelValue":p[0]||(p[0]=h=>a.username=h),class:"form-control",placeholder:"",required:""},null,512),[[Ce,a.username]])]),d("div",null,[p[6]||(p[6]=d("label",{class:"form-label"},"",-1)),ue(d("input",{"onUpdate:modelValue":p[1]||(p[1]=h=>a.password=h),class:"form-control",type:"password",placeholder:"",required:""},null,512),[[Ce,a.password]])]),d("div",null,[p[7]||(p[7]=d("label",{class:"form-label"},"",-1)),ue(d("input",{"onUpdate:modelValue":p[2]||(p[2]=h=>a.email=h),class:"form-control",type:"email",placeholder:"example@domain.com"},null,512),[[Ce,a.email]])]),d("div",null,[p[8]||(p[8]=d("label",{class:"form-label"},"",-1)),ue(d("select",{"onUpdate:modelValue":p[3]||(p[3]=h=>a.roleName=h),class:"form-select",required:""},[(R(!0),U(Pe,null,je(i.value,h=>(R(),U("option",{key:h.name,value:h.name},L(h.displayName||h.name),9,HC))),128))],512),[[st,a.roleName]])]),o.value?(R(),U("div",GC,L(o.value),1)):fe("",!0),d("button",{class:"btn btn-primary",type:"submit",disabled:s.value},L(s.value?"...":""),9,qC)],32)])])]),d("div",KC,[d("div",ZC,[d("div",YC,[p[11]||(p[11]=d("h3",{class:"h6 mb-3"},"",-1)),s.value?(R(),U("div",JC,"...")):(R(),U("div",QC,[r.value?(R(),U("div",XC,L(r.value),1)):fe("",!0),!t.value.length&&!r.value?(R(),U("div",e_,"")):(R(),U("div",t_,[d("table",n_,[p[10]||(p[10]=d("thead",null,[d("tr",null,[d("th",null,""),d("th",null,""),d("th",null,""),d("th",null,""),d("th",null,"")])],-1)),d("tbody",null,[(R(!0),U(Pe,null,je(t.value,h=>{var g,b,T;return R(),U("tr",{key:h._id},[d("td",null,L(h.username),1),d("td",null,L(((g=h.role)==null?void 0:g.displayName)||((b=h.role)==null?void 0:b.name)||"-"),1),d("td",null,[d("span",{class:_e(["badge",h.isActive?"bg-success":"bg-secondary"])},L(h.isActive?"":""),3)]),d("td",null,L(((T=h.createdBy)==null?void 0:T.username)||"-"),1),d("td",null,L(u(h.createdAt)),1)])}),128))])])]))]))])])])])]))}}),r_={},o_={class:"container-fluid py-3"};function a_(e,t){return R(),U("div",o_,[...t[0]||(t[0]=[d("div",{class:"card shadow-sm"},[d("div",{class:"card-body"},[d("h2",{class:"h5 mb-2"},""),d("p",{class:"text-muted mb-0"},"  ")])],-1)])])}const i_=Ft(r_,[["render",a_]]),l_={key:1,class:"app-layout"},c_={class:"main-content"},u_={class:"d-flex align-items-center justify-content-between px-4 py-3 border-bottom bg-white"},d_={class:"fw-semibold"},f_={class:"text-muted small"},p_={class:"content-area"},h_=lt({__name:"App",setup(e){const t=yb,n=se("wallet"),s=se(!1),r=se(null),o=se(!1),a=se(!1),i=de(()=>vb),l=[{key:"wallet",label:"",icon:""},{key:"transfer",label:"",icon:""},{key:"task",label:"",icon:""},{key:"users",label:"",icon:""},{key:"analysis",label:"",icon:""}],c=de(()=>{const b=l.find(T=>T.key===n.value);return b?b.label:""}),u=de(()=>{switch(n.value){case"wallet":return Ad;case"transfer":return K9;case"task":return FC;case"users":return s_;case"analysis":return i_;default:return Ad}}),f=b=>{n.value=b},p=async()=>{{a.value=!0;return}},h=b=>{localStorage.setItem("amm_token",b.token),r.value=b.user,o.value=!0,a.value=!0},g=async()=>{try{await jr("/api/auth/logout",{method:"POST"})}catch{}localStorage.removeItem("amm_token"),r.value=null,o.value=!1};return gr(p),(b,T)=>ee(t)&&(!a.value||!o.value)?(R(),ms(_b,{key:0,onLoggedIn:h})):(R(),U("div",l_,[Xe(Mb,{items:l,"active-key":n.value,collapsed:s.value,onSelect:f,onToggleCollapse:T[0]||(T[0]=$=>s.value=!s.value)},null,8,["active-key","collapsed"]),d("main",c_,[d("header",u_,[d("div",null,[d("div",d_,L(c.value),1),d("div",f_,""+L(i.value),1)]),ee(t)?(R(),U("button",{key:0,class:"btn btn-outline-secondary btn-sm",onClick:g},"")):fe("",!0)]),d("section",p_,[(R(),ms(Mm,{include:"WalletManagePanel,BatchTransferPanel,TaskManagePanel"},[(R(),ms(Vm(u.value)))],1024))])])]))}}),Sh=lb(h_),Ih=db();Sh.use(Ih);const m_=Gn(Ih);m_.init();Sh.mount("#app");export{H as B,Wr as H,Wv as a,Yt as b,Ja as c,Hy as d,Is as e,on as f,uc as g,Bo as i,ti as l,et as s};
